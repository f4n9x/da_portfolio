(window.webpackJsonp=window.webpackJsonp||[]).push([[15,4,7,74],{1421:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"VoteButtonModal",(function(){return d})),n.d(t,"VoteButton",(function(){return u}));var a=n(3),i=n(0),o=n(1423),r=n(22),s=n(30),l=n(1687),c=n(1677),d=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleKeyDown=function(t){27==t.keyCode&&e.props.handleModalClose()},e.handleStopPropagation=function(e){e.stopPropagation()},e}return Object(a.__extends)(n,t),n.prototype.componentDidMount=function(){e(document.body).on("keydown",this.handleKeyDown)},n.prototype.componentWillUnmount=function(){e(document.body).off("keydown",this.handleKeyDown)},n.prototype.sortVotersByTier=function(e){return e.sort((function(e,t){var n=5===e.tierInt?-1:e.tierInt,a=5===t.tierInt?-1:t.tierInt;return n===a?e.displayName.toUpperCase()[0]<t.displayName.toUpperCase()[0]?-1:1:a-n})),e},n.prototype.render=function(){var e=this.props,t=e.totalVotes,n=e.medalVotes,o=t&&n?t+" Total Votes, "+n+" Non-Novice Votes":t?t+" Total Votes":"Votes";return i.createElement(c.a,{handleModalClose:this.props.handleModalClose,title:o},i.createElement("div",{className:"vote-button__voters-modal-inner"},this.props.voters.length>0?this.sortVotersByTier(this.props.voters).map((function(e,t){return i.createElement(l.a,Object(a.__assign)({key:e.userId},e))})):i.createElement("span",{className:"vote-button__voters-modal-no-content"},"No one has upvoted this yet!")))},n}(i.Component),u=function(t){function n(n){var a=t.call(this,n)||this;return a.processVote=function(t,n,i,o,r){a.setState(t,(function(){e.ajax({context:a,url:i,type:o,success:function(){a.setState({justVoted:!0,voteRequestInFlight:!1},(function(){return r&&r(t)}))},error:function(e,t,i){a.setState(n)}})}))},a.processTwoPartVote=function(t,n,i,o,r,s,l,c){a.setState(t,(function(){e.ajax({context:a,url:o,type:r,success:function(){e.ajax({context:a,url:s,type:l,success:function(){a.setState({voteRequestInFlight:!1},(function(){c&&c(t)}))},error:function(){a.setState(i)}})},error:function(e,t,i){a.setState(n)}})}))},a.onVoteUp=function(e){if(e.stopPropagation(),a.readyToVote(1)&&a.props.canUpvote){var t,n=a.state;if(a.state.hasAlreadyVotedDown){t={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!0,totalVotes:a.state.totalVotes+2,voteRequestInFlight:!0};var i={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!1,totalVotes:a.state.totalVotes+1,voteRequestInFlight:!1};a.processTwoPartVote(t,n,i,a.props.voteDownUrl,"DELETE",a.props.voteUpUrl,"POST",a.props.onVoteUpSuccess)}else{var r=null;a.state.voters&&(r=a.state.voters.slice(),a.state.hasAlreadyVotedUp?r.splice(o.findIndex(r,a.props.currentUserInfo),1):r=[a.props.currentUserInfo].concat(r)),t=a.state.hasAlreadyVotedUp?{hasAlreadyVotedUp:!1,totalVotes:a.state.totalVotes-1,voteRequestInFlight:!0,voters:r}:{hasAlreadyVotedUp:!0,totalVotes:a.state.totalVotes+1,voteRequestInFlight:!0,voters:r},a.processVote(t,n,a.props.voteUpUrl,a.state.hasAlreadyVotedUp?"DELETE":"POST",a.props.onVoteUpSuccess)}}},a.onVoteDown=function(e){if(e.stopPropagation(),a.readyToVote(-1)&&a.props.canDownvote){var t,n=a.state;if(a.state.hasAlreadyVotedUp){t={hasAlreadyVotedUp:!1,hasAlreadyVotedDown:!0,totalVotes:a.state.totalVotes-2,voteRequestInFlight:!0};var i={hasAlreadyVotedDown:!1,hasAlreadyVotedUp:!1,totalVotes:a.state.totalVotes-1,voteRequestInFlight:!1};a.processTwoPartVote(t,n,i,a.props.voteUpUrl,"DELETE",a.props.voteDownUrl,"POST",a.props.onVoteDownSuccess)}else t=a.state.hasAlreadyVotedDown?{hasAlreadyVotedDown:!1,totalVotes:a.state.totalVotes+1,voteRequestInFlight:!0}:{hasAlreadyVotedDown:!0,totalVotes:a.state.totalVotes-1,voteRequestInFlight:!0},a.processVote(t,n,a.props.voteDownUrl,a.state.hasAlreadyVotedDown?"DELETE":"POST",a.props.onVoteDownSuccess)}},a.handleVotersClick=function(t){t.preventDefault(),a.setState({showingVotersModal:!0}),e("body").css({"overflow-x":"hidden","overflow-y":"scroll"}),e("html").css("overflow","hidden")},a.handleVotersClose=function(){a.setState({showingVotersModal:!1}),e("body").css({overflow:"visible","margin-right":"0px"}),e("html").css("overflow","visible")},a.state={totalVotes:n.totalVotes,medalVotes:n.medalVotes,hasAlreadyVotedUp:n.hasAlreadyVotedUp,hasAlreadyVotedDown:n.hasAlreadyVotedDown,voteRequestInFlight:!1,showingVotersModal:!1,voters:a.props.voters},a}return Object(a.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({totalVotes:e.totalVotes,medalVotes:e.medalVotes,hasAlreadyVotedUp:e.hasAlreadyVotedUp,hasAlreadyVotedDown:e.hasAlreadyVotedDown,voters:e.voters})},n.prototype.readyToVote=function(e){if(this.state.voteRequestInFlight)return!1;if(!s.a.userId){var t=this.props.voteResumeUrl?this.props.voteResumeUrl+"&score="+e:document.location.pathname,n="/account/login?returnUrl="+encodeURIComponent(t)+"&message="+encodeURIComponent("You need to login to vote");return document.location.href=n,!1}return!0},n.prototype.render=function(){var e,t,n=this,a=null,o=this.props.alwaysShowVoters||this.props.showVoters&&this.state.voters&&this.state.voters.length>0;t=this.props.voteUpUrl?i.createElement("div",{key:"vb-upvote",className:r("vote-button__button vote-button__button--up vb-upvote",this.props.canUpvote?null:"vote-button__button--disabled"),onClick:this.props.canUpvote?this.onVoteUp:null,onMouseEnter:function(){return n.setState({isHoveringOnVoteUp:!0})},onMouseLeave:function(){return n.setState({isHoveringOnVoteUp:!1,justVoted:!1})}},this.props.compact?i.createElement("span",{className:"fa fa-angle-up"}):i.createElement("span",{className:"fa fa-caret-up"})):i.createElement("div",{className:"vote-button__button-placeholder",key:"vb-upvote-placeholder"}),e=this.props.voteDownUrl&&this.props.canDownvote?i.createElement("div",{key:"vb-downvote",className:r("vote-button__button--down vote-button__button vb-downvote",this.props.canDownvote?null:"vote-button__button--disabled"),onClick:this.props.canDownvote?this.onVoteDown:null,onMouseEnter:function(){return n.setState({isHoveringOnVoteDown:!0})},onMouseLeave:function(){return n.setState({isHoveringOnVoteDown:!1,justVoted:!1})}},this.props.compact?i.createElement("span",{className:"fa fa-angle-down"}):i.createElement("span",{className:"fa fa-caret-down"})):i.createElement("div",{className:"vote-button__button-placeholder",key:"vb-downvote-placeholder"}),o&&(a=this.props.totalVotes>0?i.createElement("div",{className:"vote-button__show-voters",key:"vb-voters-zero"},i.createElement("a",{href:"",onClick:this.handleVotersClick},"voters")):i.createElement("div",{className:"vote-button__zero-voters",key:"vb-voters"},"voters"));var s=null;return this.state.showingVotersModal&&(s=i.createElement(d,{voters:this.state.voters,totalVotes:this.state.totalVotes,medalVotes:this.state.medalVotes,handleModalClose:this.handleVotersClose})),i.createElement("div",{className:"vote-button__container "+(this.props.className||""),key:"vb-container"},i.createElement("div",{className:r("vote-button",{"vote-button--compact":this.props.compact,"vote-button--voted-up":this.state.hasAlreadyVotedUp,"vote-button--voted-down":this.state.hasAlreadyVotedDown,"vote-button--disabled":!this.props.canDownvote&&!this.props.canUpvote,"vote-button--enabled":this.props.canDownvote||this.props.canUpvote,"vote-button--has-downvote":!!this.props.voteDownUrl,"vote-button--is-hovering-on-vote-up":this.state.isHoveringOnVoteUp,"vote-button--is-hovering-on-vote-down":this.state.isHoveringOnVoteDown,"vote-button--just-voted":this.state.justVoted})},this.props.isPrivate?i.createElement("div",{className:"vote-button__button vote-button__lock",key:"vb-lock"},i.createElement("span",{className:"fa fa-lock"})):[t,i.createElement("div",{className:"vote-button__button vote-button__button--up vote-button__vote-count-container",key:"vb-up"},i.createElement("span",{className:"vote-button__vote-count",onClick:this.props.showVotersOnCountClick&&this.handleVotersClick||(this.state.hasAlreadyVotedDown?this.onVoteDown:this.onVoteUp),onMouseEnter:function(){return n.setState({isHoveringOnVoteUp:!0})},onMouseLeave:function(){return n.setState({isHoveringOnVoteUp:!1,justVoted:!1})}},this.state.totalVotes)),e]),a,s)},n}(i.Component)}.call(this,n(129))},1436:function(e,t){},1442:function(e,t,n){"use strict";n.r(t),function(e,a){n.d(t,"KernelsListing",(function(){return L}));var i,o,r,s,l,c=n(3),d=n(107),u=n(1468),m=n(1705),p=n(1),h=n.n(p),g=n(10),f=n(97),b=n(1647),v=n(577),y=n(1641),w=n(1833),E=n(1644),x=n(30),C=n(1646),k=n(1631),_=n(1419),S=n(1702),O=n(1967),T=n(1832),j=n(1834),I=n(1836),N=n(8),D=n(1829),$=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(c.__extends)(n,t),n.prototype.render=function(){var t=this,n=this.props,a=n.kernel,i=n.parentContainer,o=n.showScriptProjectName,r=n.profileUserId,s=n.onCategoryClick,l=n.onDeleteClick,c=n.showEditIconContainer,d=n.showEditIconPlaceholder,u=n.showDeleteIconContainer,m=n.showDeleteIconPlaceholder,p=n.location;return e.createElement(v.a,{href:a.scriptUrl,key:a.id,onClick:function(){t.props.onClick&&t.props.onClick("kernel-"+a.id,a.scriptUrl,t.props.index,a.isPrivate)}},e.createElement("span",null,e.createElement(C.b,{minWidth:0,maxWidth:C.a.mobileMax},e.createElement(T.b,{scriptData:a,parentContainer:i,showScriptProjectColumn:o,showEditIconContainer:!1,showEditIconPlaceholder:!1,showDeleteIconContainer:!1,showDeleteIconPlaceholder:!1,location:p})),e.createElement(C.b,{minWidth:C.a.tabletMin},e.createElement(T.a,{scriptData:a,parentContainer:i,showScriptProjectColumn:o,profileUserId:r,onCategoryClick:s,onDeleteClick:l,showEditIconContainer:c,showEditIconPlaceholder:d,showDeleteIconContainer:u,showDeleteIconPlaceholder:m,location:p}))))},n}(e.PureComponent),M=h.a.div.withConfig({displayName:"KernelsListing_PageWrapper",componentId:"sc-rijfj7"})(i||(i=Object(c.__makeTemplateObject)(["\n  ",";\n  display: flex;\n  flex-direction: column;\n  max-width: ",";\n  ","\n"],["\n  ",";\n  display: flex;\n  flex-direction: column;\n  max-width: ",";\n  ","\n"])),(function(e){return e.isStandalonePage&&d.p}),(function(e){return e.isStandalonePage&&!e.isKernelsMaterialListing&&e.theme.size.site.width.desktop}),(function(e){return e.isKernelsMaterialListing&&"align-items: center"})),U=h.a.div.withConfig({displayName:"KernelsListing_ContentHeaderContainer",componentId:"sc-2nznv8"})(o||(o=Object(c.__makeTemplateObject)(["\n  ",";\n"],["\n  ",";\n"])),d.q),P=h.a.div.withConfig({displayName:"KernelsListing_ListingWrapper",componentId:"sc-1bxmh0x"})(r||(r=Object(c.__makeTemplateObject)(["\n  margin: ",";\n  width: 100%;\n"],["\n  margin: ",";\n  width: 100%;\n"])),(function(e){return e.theme.layout.notebook.listingMargin})),F=h.a.div.withConfig({displayName:"KernelsListing_ModalContent",componentId:"sc-ho4hqc"})(s||(s=Object(c.__makeTemplateObject)(["\n  padding: ",";\n  position: relative;\n"],["\n  padding: ",";\n  position: relative;\n"])),g.g.PadXxl),R=h.a.a.withConfig({displayName:"KernelsListing_Link",componentId:"sc-1l2rrfa"})(l||(l=Object(c.__makeTemplateObject)(["\n  text-decoration: none;\n  color: ",";\n  :hover {\n    color: ",";\n  }\n"],["\n  text-decoration: none;\n  color: ",";\n  :hover {\n    color: ",";\n  }\n"])),g.b.TextLink,g.b.TextLinkHover),z=function(t){function n(e){var n=t.call(this,e)||this;return n.showKernelDeletionConfirmation=function(e){n.setState({isOpen:!0,kernelForDeletion:e.id,kernelTitle:e.title,kernelHasLinkedSubmission:e.hasLinkedSubmission})},n.hideKernelDeletionConfirmation=function(){n.setState({isOpen:!1,kernelForDeletion:null,kernelTitle:null,kernelHasLinkedSubmission:!1})},n.onDeletionConfirmation=function(){Object(f.c)("kernels","listing-clicked-delete-confirmation"),n.props.onDeletionCallback(n.state.kernelForDeletion),n.hideKernelDeletionConfirmation()},n.state={isOpen:!1,kernelForDeletion:null,kernelTitle:null,kernelHasLinkedSubmission:!1},n}return Object(c.__extends)(n,t),n.prototype.render=function(){return e.createElement(E.a,{title:"Confirm Deletion",confirmText:"Yes, delete",cancelText:"Cancel",isShown:this.state.isOpen,onCancel:this.hideKernelDeletionConfirmation,onConfirm:this.onDeletionConfirmation,isDangerousAction:!0},e.createElement("div",null,e.createElement("span",null,"You are about to delete the following Notebook:",e.createElement("br",null),"'",this.state.kernelTitle,"'",e.createElement("br",null),"This cannot be reversed. Are you sure?"),this.state.kernelHasLinkedSubmission&&e.createElement("div",{className:"kernels-listing__strong"},e.createElement("br",null),"WARNING!",e.createElement("br",null),"This Notebook was used to make a Competition Submission.",e.createElement("br",null),"If you delete this Notebook, it may invalidate the linked Submission(s).")))},n}(e.Component),L=function(t){function n(n){var i=t.call(this,n)||this;i.initForUserProfile=function(){i.initialFilters={userId:i.props.userId,sortBy:"voteCount"}},i.initForScriptsTab=function(){i.initialFilters={}},i.reportListingEvent=function(e,t){t||(t={}),t.location=i.getLocationType(),Object(f.c)("kernels",e,t)},i.openValidationModal=function(e){e.length>0&&e[0].dangerousHtmlMessage&&i.setState({validationMessage:e[0].dangerousHtmlMessage,validationModalOpen:!0})},i.showKernelDeletionConfirmation=function(e){i.deletionConfirmation.showKernelDeletionConfirmation(e)},i.deleteKernel=function(e){a.Requests.deleteKernel({kernelId:e}).then((function(t){return i.smartListContainer.removeListItemById(e)}))},i.getListTitle=function(){return i.state.scriptData&&!i.state.isLoadingMoreData&&i.state.scriptData[0]&&i.state.scriptData[0].totalScripts?i.state.scriptData[0].totalScripts.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" notebooks":" "},i.onNewKernelClick=function(){Object(f.c)("kernel","newKernelClick",{clickSource:"kernelsListingNewKernelButton"}),i.reportListingEvent("listing-clicked-new-notebook"),b.a.newKernelClicked(),i.newKernelModal.show()},i.renderKernel=function(t,n,a,o){var r="profile"===o.state.values.group,s="collaboration"===o.state.values.group;return e.createElement($,{index:n,kernel:t,parentContainer:o,showScriptProjectName:i.props.showScriptProjectName,profileUserId:i.props.userId||r&&x.a.userId,onCategoryClick:i.onCategoryClick,onClick:function(e,n,o,r){Object(f.c)("kernels","notebook-list-click",{datasetsTaskOnNotebookListing:N.featureFlags.datasetsTaskOnNotebookListing,info:t.taskSubmissionInfo}),i.reportListingEvent("listing-item-clicked"),a(e,n,o,r)},onDeleteClick:t.canCurrentUserDeleteKernel&&r?i.showKernelDeletionConfirmation:null,showEditIconContainer:(r||s)&&t.canCurrentUserEditKernel,showEditIconPlaceholder:r||s,showDeleteIconContainer:r&&t.canCurrentUserDeleteKernel,showDeleteIconPlaceholder:r,location:i.getLocationType()})},i.getSmartListValues=function(){var e=new RegExp("^/kernels/(forks|d|c)/(\\d+)").exec(i.props.sourceBaseUrl);if(e&&3==e.length)switch(e[1]){case"forks":i.state.filters.forkParentScriptId=parseInt(e[2]);break;case"d":i.state.filters.datasetId=parseInt(e[2]);break;case"c":i.state.filters.competitionId=parseInt(e[2])}return i.state.filters},i.onCategoryClick=function(e){i.reportListingEvent("listing-item-clicked-tag",{tag:e.displayName}),i.categoryFilter&&i.categoryFilter.addCategory(e)},i.renderCategoryFilter=function(t,n){var a=t?t.split(",").map((function(e){return parseInt(e,10)})):[];return e.createElement(w.a,{key:"category-filter",ref:function(e){return i.categoryFilter=e},categoryType:"notebook",value:a,onChange:function(e){n(e.join(","))}})},i.maybeRenderCallToAction=function(t,n){if(t.length>0||n.hasMoreData)return null;if("profile"!=n.values.group&&"upvoted"!=n.values.group&&"collaboration"!=n.values.group)return null;if(i.props.userId&&0!=i.props.userId&&i.props.userId!=x.a.userId)return null;if(!x.a.userId||0===x.a.userId)return e.createElement("div",{className:"kernels-listing__call-to-action"},e.createElement("div",{className:"kernels-listing__call-to-action-message"},"You're not currently signed in. Sign in to see","profile"===n.values.group?" your work":"collaboration"==n.values.group?" notebooks shared with you":" your favorites","."));var a=i.props.competitionId?"for this competition ":i.props.datasetVersionId?"for this dataset ":"";if("upvoted"===n.values.group||"collaboration"===n.values.group){var o="collaboration"===n.values.group?"You don't have any notebooks shared with you "+a+"yet.":"You don't have any favorites "+a+"yet. Upvote notebooks to see them here.";return e.createElement("div",{className:"kernels-listing__call-to-action"},e.createElement("div",{className:"kernels-listing__call-to-action-message"},o))}var r="You haven't created any notebooks "+a+"yet.";return e.createElement("div",{className:"kernels-listing__call-to-action"},e.createElement("div",{className:"kernels-listing__call-to-action-message"},r),e.createElement("span",null,e.createElement(y.a,{className:"kernels-listing__call-to-action-button",text:"Create New Notebook",onClick:i.props.newNotebookButtonAction||i.onNewKernelClick})))},i.maybeRenderGpuQuotaStats=function(){return i.isLoggedIn()?i.props.userId&&i.props.userId!==x.a.userId?null:e.createElement(j.a,{username:x.a.userName}):null},i.reportSelectionsChanged=function(e,t){if(console.log(t),void 0!==t.group)"everyone"===t.group?i.reportListingEvent("listing-clicked-tab-public"):"profile"===t.group?i.reportListingEvent("listing-clicked-tab-personal"):"collaboration"===t.group?i.reportListingEvent("listing-clicked-tab-shared"):"upvoted"===t.group&&i.reportListingEvent("listing-clicked-tab-favorites");else if(void 0!==t.search)i.reportListingEvent("listing-changed-search-text",{query:t.search});else if(void 0!==t.dataSourceType)i.reportListingEvent("listing-changed-filter-data",{type:t.dataSourceType});else if(void 0!==t.outputType)i.reportListingEvent("listing-changed-filter-output",{type:t.outputType});else if(void 0!==t.language)i.reportListingEvent("listing-changed-filter-language",{language:t.language});else if(void 0!==t.tagIds){var n=Array.isArray(t.tagIds)?t.tagIds.split(","):[];i.reportListingEvent("listing-changed-filter-tags",{tags:n})}else void 0!==t.sortBy&&i.reportListingEvent("listing-changed-sort",{sort:t.sortBy})},i.renderingOnKernelsTab=function(){return window.location.pathname&&"/kernels"==window.location.pathname},i.onCloseValidationModal=function(){i.setState({validationModalOpen:!1})},i.renderHeader=function(){if(!i.props.hideHeader){var t=e.createElement("div",null,"Explore and run machine learning code with Kaggle Notebooks! Find help in the"," ",e.createElement(R,{href:"/docs/notebooks",onClick:function(){return i.reportListingEvent("listing-clicked-documentation")}},"Documentation"),"."),n=e.createElement(u.a,{useKM:!0,leadingIcon:"add",onClick:i.onNewKernelClick},"New Notebook");return e.createElement(U,null,e.createElement(m.a,{title:"Notebooks",subtitle:t,meta:n,useKM:!0}))}};return i.props.userId?i.initForUserProfile():i.initForScriptsTab(),i.state={filters:Object(c.__assign)(Object(c.__assign)({},{sortBy:"hotness",language:"all",outputType:"all",userId:""}),i.initialFilters),scriptData:i.props.initialScriptsToShow||[],isLoadingMoreData:!1,hasMoreData:!0,onlyMyScripts:!1,selectionGroup:i.props.selectionGroup,availableLanguages:[{label:"All Languages",value:"all"}],availableOutputs:[{label:"All Output Types",value:"all"}],hasLoadedSomeData:!1,shouldShowMobileSortMenu:!1,validationModalOpen:!1},i}return Object(c.__extends)(n,t),n.prototype.componentDidMount=function(){Object(f.c)("kernels","notebook-list-show",{datasetsTaskOnNotebookListing:N.featureFlags.datasetsTaskOnNotebookListing,location:this.getLocationType()}),window.location.search.indexOf("modal=true")>0&&this.newKernelModal.show(),this.renderingOnKernelsTab()&&_.a.addListener(this.openValidationModal)},n.prototype.componentWillUnmount=function(){this.currentDataRequest&&this.currentDataRequest.abort(),this.renderingOnKernelsTab()&&_.a.removeListener(this.openValidationModal)},n.prototype.isLoggedIn=function(){return null!=x.a.userId},n.prototype.isViewingOwnProfile=function(){return this.isLoggedIn()&&this.props.userId===x.a.userId},n.prototype.isViewingOtherProfile=function(){return this.props.userId&&this.props.userId!==x.a.userId},n.prototype.getPossessiveDisplayName=function(){return this.isViewingOtherProfile()?this.props.displayName&&0!=this.props.displayName.length&&" "!==this.props.displayName?this.props.displayName+"'s ":"Their ":""},n.prototype.renderTabbedSmartListContainer=function(){var t=this,n=this.getPossessiveDisplayName(),a=this.isViewingOtherProfile()?"Them":"You",i=this.isViewingOtherProfile()?"Their ":"",o=[this.isViewingOwnProfile()?null:{label:n+"Public",value:"everyone"},this.isViewingOtherProfile()?null:{label:"Your Work",value:"profile"},{label:"Shared With "+a,value:"collaboration"},{label:i+"Favorites",value:"upvoted"}].filter((function(e){return!!e})),r=this.props.sortScoreDescending?"Descending":"Ascending",s=[{value:"hotness",label:"Hotness"},{value:"voteCount",label:"Most Votes"},{value:"commentCount",label:"Most Comments"},this.props.competitionId?{value:"score"+r,label:"Best Score"}:null,{value:"dateCreated",label:"Recently Created"},{value:"dateRun",label:"Recently Run"},{value:"relevance",label:"Relevance"}].filter((function(e){return!!e})),l=[{kind:"select",placeholder:"Outputs",parameter:"outputType",default:"all",options:[{value:"all",label:"Outputs"},{value:"Visualization",label:"Visualizations"},{value:"Data",label:"Data Files"},{value:"Visualization,Data",label:"Visualizations & Data Files"}]},{kind:"select",placeholder:"Languages",parameter:"language",default:"all",options:[{value:"all",label:"Languages"},{value:"Python",label:"Python"},{value:"R",label:"R"},{value:"SQLite",label:"SQLite"},{value:"Julia",label:"Julia"}],className:"kernels-listing__filter-languages"},{kind:"custom",default:"",parameter:"tagIds",renderer:this.renderCategoryFilter}];this.props.competitionId||this.props.datasetVersionId||l.unshift({kind:"select",placeholder:"Categories",parameter:"datasourceType",default:"all",options:[{value:"all",label:"Categories"},{value:"competitions",label:"Competitions"},{value:"datasets",label:"Datasets"}],className:"kernels-listing__filter-categories"}),this.isViewingOtherProfile()||l.push({kind:"select",placeholder:"Privacy",parameter:"privacy",default:"all",options:[{value:"all",label:"Privacy"},{value:"public",label:"Public"},{value:"private",label:"Private"}],className:"kernels-listing__filter-privacy",shouldRender:function(e){return"profile"===e||"collaboration"===e}});var d=this.props.filters?this.props.filters:{},u=d.group,m=d.sortBy,p=d.outputType,h=d.language,g=d.kernelType,f=d.datasourceType,b=d.search,v=Object(c.__assign)(Object(c.__assign)({},this.getSmartListValues()),{group:u||(this.isViewingOwnProfile()?"profile":"everyone"),sortBy:m||(this.isViewingOwnProfile()?"dateRun":this.isViewingOtherProfile()?"voteCount":"hotness"),outputType:p,language:h,kernelType:g,datasourceType:f,search:b}),w=[{group:"everyone",sortBy:this.isViewingOtherProfile()?"voteCount":"hotness"},{group:"profile",sortBy:"dateRun"},{group:"collaboration",sortBy:"dateRun"},{group:"upvoted",sortBy:"dateRun"}],E=this.props.initialScriptsToShow,x=null;return this.props.showNewKernelButton&&(x=e.createElement(y.a,{className:"kernels-listing__secondary-cta-button",text:"New Notebook",onClick:this.onNewKernelClick})),e.createElement("div",null,e.createElement(S.a,{ref:function(e){return t.smartListContainer=e},title:this.getListTitle(),pluralItemDescription:"notebooks",data:E,dataUrl:"/kernels.json",itemRenderer:this.renderKernel,mobileSortUpperBound:C.a.tabletMax,sortOptions:this.props.showFilters?s:null,groups:this.props.showFilters?o:null,groupDefaultSortBys:w,filtersOptions:this.props.showFilters?l:null,values:v,useAfterPagination:!0,layout:"tabbed",searchableGroups:["profile","collaboration","everyone"],searchIndex:"kernels",listFooterRenderer:this.maybeRenderCallToAction,alwaysShowSortOptions:this.props.showFilters,secondaryCta:x,onSelectionsChanged:this.reportSelectionsChanged}))},n.prototype.renderSimpleSmartListContainer=function(){var t=this,n=this.props.initialScriptsToShow,a=this.getSmartListValues();return e.createElement(S.a,{ref:function(e){return t.smartListContainer=e},title:this.getListTitle(),singularItemDescription:"notebook",pluralItemDescription:"notebooks",data:n,dataUrl:"/kernels.json",itemRenderer:this.renderKernel,mobileSortUpperBound:C.a.tabletMax,values:a,useAfterPagination:!0,initialPageSize:20,pageSize:20,expectedListSize:this.props.expectedKernelCount})},n.prototype.getLocationType=function(){return this.props.listingHeaderVisible?"notebooks":this.props.competitionId?"competitions":this.props.datasetId?"datasets":this.props.userId?"profile":this.props.showFilters?void 0:"forks"},n.prototype.render=function(){var t,n=this;return this.props.isHidden?null:e.createElement(p.ThemeProvider,{theme:p.navigationTheme},e.createElement(M,{showMargin:!this.props.hideHeader,isStandalonePage:null===(t=this.props.isStandalonePage)||void 0===t||t,isKernelsMaterialListing:N.featureFlags.kernelsMaterialListing},this.renderHeader(),!N.featureFlags.kernelsMaterialListing&&e.createElement(P,{className:"kernels-listing__wrapper"},!this.isViewingOtherProfile()&&!this.props.hideRecentKernels&&e.createElement(I.a,{competitionId:this.props.competitionId,datasetId:this.props.datasetId,forkParentScriptId:this.state.filters.forkParentScriptId}),!this.isViewingOtherProfile()&&!this.props.hideGpuQuotaStatistics&&this.maybeRenderGpuQuotaStats(),this.props.showFilters?this.renderTabbedSmartListContainer():this.renderSimpleSmartListContainer()),N.featureFlags.kernelsMaterialListing&&e.createElement(D.a,null),e.createElement(z,{ref:function(e){return n.deletionConfirmation=e},onDeletionCallback:this.deleteKernel}),e.createElement(O.a,{ref:function(e){return n.newKernelModal=e},competitionId:this.props.competitionId,datasetVersionId:this.props.datasetVersionId}),e.createElement(k.a,{modalIsShown:this.state.validationModalOpen,onClose:this.onCloseValidationModal},e.createElement(F,null,this.state.validationMessage,e.createElement(k.c,{onClose:this.onCloseValidationModal})))))},n}(e.Component)}.call(this,n(0),n(286))},1445:function(e,t){},1486:function(e,t,n){"use strict";n.r(t),function(e,a){n.d(t,"DatasetContainer",(function(){return y}));var i=n(3),o=n(8),r=n(2),s=n(97),l=n(30),c=n(1761),d=n(1419),u=n(2166),m=n(2157),p=n(2027),h=n(1894),g=n(370),f=e.Datasets,b="datasetTabState",v=10,y=function(e){function t(t){var n=e.call(this,t)||this;n.onDeleteDataset=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,t=this;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,f.delete({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug})];case 1:return e=n.sent(),d.a.clear(),"ok"==e.status?(d.a.success("Successfully deleted your dataset. This page will reload shortly."),this.setConfirmDeleteVisible(!1),setTimeout((function(){window.location.assign("/deleted-dataset/"+t.props.datasetId)}),1e3)):d.a.set(e.errors),[2]}}))}))},n.setConfirmDeleteVisible=function(e){n.setState({isConfirmDeleteVisible:e})},n.onShowHistoryModal=function(e){n.setState({showHistoryModal:e})},n.onChangeTaskCount=function(e){n.setState((function(t){return Object(i.__assign)(Object(i.__assign)({},t),{numberOfTasks:t.numberOfTasks+e})}))},n.onExportToSheets=function(e,t){n.headerRef&&n.headerRef.onSelectFileGoogleSheetsGeneric(e,t)},n.onMakeDatasetPublic=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return this.setConfirmPrivacyVisible(!1),[4,f.editPrivacy({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug},{isPrivate:!1})];case 1:return e=t.sent(),d.a.clear(),"ok"==e.status?(d.a.success("Your dataset is now public. This page will refresh automatically."),this.setState({isPrivate:!1}),setTimeout((function(){window.location.reload()}),1e3)):d.a.set(e.errors),[2]}}))}))},n.onToggleCollapseChecklist=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,t,n;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:e=this.props.datasetId,t=this.state.checklistCollapsed,a.label=1;case 1:return a.trys.push([1,3,,4]),n={datasetId:e,visibility:t?"expanded":"collapsed"},[4,o.datasetsClient.setDatasetChecklistVisibility(n)];case 2:return a.sent(),this.setState({checklistCollapsed:!t}),[3,4];case 3:return a.sent(),this.reportEvent("checklist-visibility-setting-fail",{datasetId:e}),[3,4];case 4:return[2]}}))}))},n.onLoadAllVersions=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,f.viewDatasetVersions({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug})];case 1:return e=t.sent(),this.setState({datasetVersions:e}),[2]}}))}))},n.onUpdateState=function(e){n.setState(e)},n.setConfirmPrivacyVisible=function(e){n.setState({isConfirmPrivacyVisible:e})},n.loadSuggestions=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,f.datasetSuggestionsJson({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug})];case 1:return e=t.sent(),this.setState({suggestions:e}),[2]}}))}))},n.onLoadHistory=function(e){return Object(i.__awaiter)(n,void 0,void 0,(function(){var t,n,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:if(null!=this.state.versionHistory&&this.state.versionHistory.items.length==e)return[2];i.label=1;case 1:return i.trys.push([1,3,,4]),t={datasetId:this.props.datasetId,count:e,hashLink:this.props.datasetHashLink},[4,o.datasetsClient.getDatasetHistory(t)];case 2:return n=i.sent(),this.setState({versionHistory:n}),[3,4];case 3:return a=i.sent(),l.a.isAdmin&&console.log("Error loading history: "+a),[3,4];case 4:return[2]}}))}))},n.onChangeTab=function(e,t){if(n.reportEvent("tab-"+e,{oldTab:n.state.currentTab,newTab:e,isCollaborator:n.props.isCollaborator,isOwner:n.props.creatorUserId==l.a.userId}),document.title=n.props.title+" | Kaggle","data"!=e||n.state.suggestions||n.state.isRemoved){if("activity"===e)n.switchToActivityTab();else if("tasks"===e){var a=new URLSearchParams(location.search);a.delete("taskId");var i=new URL(window.location.pathname,window.location.origin);i.search=a.toString(),Object(g.f)(i.toString())}}else n.loadSuggestions();n.setState({currentTab:e,showDownloadUpvoteHeader:!1,isNewTopic:!1,topicId:null,settingsSubTab:p.b.General,taskListKey:n.state.taskListKey+1},(function(){n.updateUrl(),t&&t()}))},n.switchToActivityTab=function(){var e=n.props.datasetId;"hasSummary"!==n.state.activityState.status&&(n.reportEvent("activity-summary-loading",{datasetId:e}),n.setState({activityState:{status:"loading"}},(function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var t,n;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,o.datasetsClient.getDatasetActivity({datasetId:e})];case 1:return t=a.sent(),n=this.mapActivityPageDtoToActivityState(t),this.setState({activityState:n}),this.reportEvent("activity-summary-load-success",{datasetId:e,status:t.status}),[3,3];case 2:return a.sent(),this.setState({activityState:{status:"error"}}),this.reportEvent("activity-summary-load-fail",{datasetId:e}),[3,3];case 3:return[2]}}))}))})))},n.onVote=function(){n.state.hasAlreadyVotedUp?setTimeout((function(){return n.setState({hasAlreadyVotedUp:!1,showDownloadUpvoteHeader:!1,voteCount:n.state.voteCount-1})})):setTimeout((function(){return n.setState({hasAlreadyVotedUp:!0,showDownloadUpvoteHeader:!1,voteCount:n.state.voteCount+1})}))},n.onDownload=function(){n.setState({showDownloadUpvoteHeader:!l.a.isAnonymous})},n.onTagsChanged=function(e,t){n.setState({categories:e,usabilityRating:t})},n.onNewVersionFinished=function(){window.location.reload()},n.onDescriptionChanged=function(e){n.setState({description:e,isDescriptionSaved:!1})},n.onDescriptionEditCancelled=function(){var e=n.state.description;n.lastSavedState.description&&(e=n.lastSavedState.description),n.setState({isEditingDescription:!1,description:e,isDescriptionSaved:!0})},n.onDescriptionEditToggled=function(){n.lastSavedState.description=n.state.description,n.state.isEditingDescription?n.setState({isEditingDescription:!1}):n.setState({isEditingDescription:!0})},n.onDescriptionSaved=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,f.editDescription({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug},{description:this.state.description})];case 1:return e=t.sent(),d.a.clear(),"ok"==e.status?(d.a.success("Successfully saved your dataset."),this.setState((function(t){return{isDescriptionSaved:!0,lastSavedDescription:t.description,usabilityRating:e.usabilityRating||t.usabilityRating}}))):d.a.set(e.errors),this.setState({isEditingDescription:!1}),[2]}}))}))},n.onSaveMetadata=function(e,t){var a=n.props.licenseGroups.map((function(e){return e.licenses})).reduce((function(e,t){return Object(i.__spread)(e,t)}),[]).filter((function(t){return t.id===e}))[0];n.setState((function(n){return{license:a,licenseId:e,usabilityRating:t||n.usabilityRating}}))},n.onSaveSettingsGeneral=function(e,t){return Object(i.__awaiter)(n,void 0,void 0,(function(){var n,a,o,r,s;return Object(i.__generator)(this,(function(l){switch(l.label){case 0:return[4,f.editGeneral({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug},e)];case 1:return n=l.sent(),d.a.clear(),"ok"==n.status?(d.a.success("Successfully saved your dataset."),a=this.state.data.settings,o=void 0,"databundleVersion"==this.props.data.type&&(r=this.props.data,o=r.databundleVersionType),null==a&&(a={}),null!=e.updateFrequency&&("remoteUrlFileSet"==o?(null==a.remoteUrlSettings&&(a.remoteUrlSettings={}),a.remoteUrlSettings.updateFrequency=e.updateFrequency):"remoteGitRepositoryFileSet"==o&&(null==a.remoteGithubSettings&&(a.remoteGithubSettings={}),a.remoteGithubSettings.updateFrequency=e.updateFrequency)),s=this.props.licenseGroups.reduce((function(e,t){return Object(i.__spread)(e,t.licenses)}),[]).filter((function(t){return t.id===e.licenseId}))[0],this.setState((function(t){return{license:s,licenseId:e.licenseId,overview:e.overview,owner:e.owner,title:e.title,data:Object(i.__assign)(Object(i.__assign)({},t.data),{settings:a}),usabilityRating:n.usabilityRating||t.usabilityRating}}),(function(){t&&t(n)}))):n.blocked?window.location.reload():d.a.set(n.errors),[2]}}))}))},n.onSaveSettingsPower=function(e,t){return Object(i.__awaiter)(n,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(a){switch(a.label){case 0:return[4,f.editPower({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug},e)];case 1:return n=a.sent(),d.a.clear(),"ok"==n.status?(d.a.success("Successfully saved your dataset."),this.setState(Object(i.__assign)({},e),(function(){t&&t(n)}))):d.a.set(n.errors),[2]}}))}))},n.onSaveSettingsImages=function(e){n.setState((function(t){return{cardImageUrl:e.cardImageUrl,coverImageUrl:e.coverImageUrl,thumbnailImageUrl:e.thumbnailImageUrl,originalImageUrl:e.originalImageUrl,usabilityRating:e.usabilityRating||t.usabilityRating}}))},n.onUpdateCollaborators=function(e){n.setState({collaborators:e,settingsSubTab:p.b.Sharing})},n.onUpdateHashLink=function(e){n.setState((function(t){var n=t.currentDatasetVersion,a=t.datasetHashLink,i=t.owner,o=void 0===e?null:e;if(null!==o||!window.location.pathname.includes(a))return{datasetHashLink:o,settingsSubTab:p.b.Sharing};window.location.assign("/"+i.slug+"/"+n.slug)}))},n.onChecklistNavigationClick=function(e){switch(e){case m.a.AddCollaborator:n.onChangeTab("settings"),n.setState({settingsSubTab:p.b.Sharing});break;case m.a.UpdateDataDescription:n.onChangeTab("data");break;case m.a.AddImage:n.onChangeTab("settings"),n.setState({settingsSubTab:p.b.Image});break;case m.a.AddSubtitle:n.onChangeTab("settings"),n.setState({settingsSubTab:p.b.General});break;case m.a.UpdateMetadataTab:n.onChangeTab("metadata")}},n.onNavigateToSettingsClick=function(e){n.onChangeTab("settings"),e&&n.setState({settingsSubTab:e})},n.onTopicSubmitted=function(e){n.setState({currentTab:"discussion",isNewTopic:!1,topicId:e},(function(){return n.updateUrl()}))},n.onTopicClicked=function(e){document.title=e.title+" | Kaggle",n.setState({currentTab:"discussion",isNewTopic:!1,topicId:e.id},(function(){return n.updateUrl()}))},n.setNewKernelModalRef=function(e){e&&(n.newKernelModalRef=e)},n.setHeaderRef=function(e){e&&(n.headerRef=e)},n.setDataTabRef=function(e){e&&(n.dataTabRef=e)},n.updateUrl=function(){var e=n.state.datasetVersionNumber!=n.state.lastVersionNumber,t="data"!=n.state.currentTab?"/"+n.state.currentTab:"",a=n.props.datasetUrl+(e?"/version/"+n.state.datasetVersionNumber:"")+t+(null!=n.state.topicId&&"discussion"==n.state.currentTab?"/"+n.state.topicId:n.state.isNewTopic&&"discussion"==n.state.currentTab?"/new":""),i={};i[b]={currentTab:n.state.currentTab},Object(g.c)(i,"",a)},n.onPopState=function(e){var t=window.history.state;t&&t[b]&&(t[b].path?window.location.href=t[b].path:(n.setState({currentTab:t[b].currentTab,taskListKey:"tasks"===t[b].currentTab?n.state.taskListKey+1:n.state.taskListKey}),e.preventNavigation()))},n.onCreateNewVersion=function(){n.props.canEdit&&n.onChangeTab("data",(function(){n.dataTabRef&&n.dataTabRef.onCreateVersion()}))},n.onRefreshVersion=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,t,n,a;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:e=c.d(),t={datasetId:this.props.datasetId,settings:{databundleWorkerEnvironment:e,actions:null,flags:null}},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o.datasetsClient.refreshRemoteDataset(t)];case 2:return"error"==(n=i.sent()).status?d.a.set([n.errorMessage]):window.location.reload(),[3,4];case 3:return(a=i.sent())instanceof o.CanonicalError&&(d.a.clear(),d.a.error(a.message)),[3,4];case 4:return[2]}}))}))},n.onUpdateUsabilityRating=function(e){n.setState({usabilityRating:e})},n.onShowPageMessage=function(e,t){d.a.clear(),t?d.a.success(e):d.a.error(e)},n.startPollingCreationStatus=function(){setTimeout(n.pollCurrentDatasetVersionStatus,2e3),n.publishTimer=window.setInterval(n.pollCurrentDatasetVersionStatus,1e4)},n.stopPollingCreationStatus=function(){clearInterval(n.publishTimer)},n.pollCurrentDatasetVersionStatus=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e,t,n,a,r,s,l=this;return Object(i.__generator)(this,(function(c){switch(c.label){case 0:if(e=this.props.data,t=this.state,n=t.publishStatus,a=t.publishStatusFailedPolls,!(r="databundleVersion"===e.type?this.state.pendingDatasetVersion.databundleVersionId:void 0))return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o.datasetsClient.getDatabundleVersionCreationStatus({databundleVersionId:r})];case 2:return"ready"==(s=c.sent()).status||"failed"==s.status?(this.stopPollingCreationStatus(),n&&n.publishStatus&&"reprocessing"==n.publishStatus.status?d.a.clear():(d.a.clear(),d.a.success("Your new dataset version is ready. This page will reload shortly.")),this.setState({publishStatus:null},(function(){l.onNewVersionFinished()}))):this.setState({publishStatus:Object(i.__assign)(Object(i.__assign)({},n),{publishStatus:{status:s.status,currentStatusPercentComplete:s.creationPercentComplete,creationPercentComplete:s.creationPercentComplete,creationStep:s.creationStep,creationStart:new Date(s.creationStart)}}),publishStatusFailedPolls:0}),[3,4];case 3:return c.sent(),a>v?this.stopPollingCreationStatus():this.setState({publishStatusFailedPolls:a+1}),[3,4];case 4:return[3,6];case 5:this.stopPollingCreationStatus(),c.label=6;case 6:return[2]}}))}))},n.reportEvent=function(e,t){void 0===t&&(t={});var a=n.props.datasetId,o=Object(i.__assign)({datasetId:a},t);Object(s.c)("datasets",e,o)},n.onCreateTopic=function(){n.setState({currentTab:"discussion",isNewTopic:!0,topicId:null},(function(){return n.updateUrl()}))},n.onCreateKernel=function(){n.reportEvent("analyze-data-old-choice"),Object(s.c)("kernels","newKernelClick",{clickSource:"datasetViewNewKernelButton"}),n.newKernelModalRef.show()},n.onCreateTask=function(){n.reportEvent("analyze-data-old-choice"),Object(s.c)("tasks","newTaskClick",{clickSource:"datasetViewNewTaskButton"}),n.setState({currentTab:"tasks"},(function(){return n.updateUrl()}))},n.mapActivityPageDtoToActivityState=function(e){var t=e.status;if("notRelevant"===t)return{status:t};if("noSummaryGenerated"===t)return{status:t,banner:e.banner};var n=e.summaryStats;return{status:t,summaryStats:{generatedDate:n.generatedDate,datasetStats:n.datasetStats,timeSeries:n.timeSeries,topContributors:n.topContributors,contributorLocations:n.contributorLocations,kernelStats:n.kernelStats,kernelMedals:n.kernelMedals,topKernels:n.topKernels,tags:n.tags,relatedDatasets:n.relatedDatasets,discussionStats:n.discussionStats,discussionMedals:n.discussionMedals,topDiscussions:n.topDiscussions}}};var a=null,r=null,u=null,y=null,w=null;t.isRemoved||(a=n.props.datasetVersions.find((function(e){return e.id==n.props.datasetVersionId})),r=n.props.datasetVersions.filter((function(e){return e.id>n.props.datasetVersionId&&!("ready"==e.status||"failed"==e.status)})),u=n.props.datasetVersions.map((function(e){return e.id})).reduce((function(e,t){return Math.max(e,t)}),0),y=n.props.datasetVersions.find((function(e){return e.id==u})),r&&r.length>0&&(w=r[r.length-1]));var E=n.props.currentTab,x=Object(h.a)(window.location.search),C="settings"===E?x.subtab===p.b.Image?p.b.Image:x.subtab===p.b.Sharing?p.b.Sharing:x.subtab===p.b.CodeConfig?p.b.CodeConfig:void 0:void 0,k=Object(i.__assign)(Object(i.__assign)({},n.props),{isEditingDescription:!1,isEditingVersions:!1,isDescriptionSaved:!0,lastSavedDescription:n.props.description,currentDatasetVersion:a,latestDatasetVersion:y,pendingDatasetVersion:w,contributorsIsLoading:!1,showDownloadUpvoteHeader:!1,isConfirmDeleteVisible:!1,isConfirmPrivacyVisible:!1,suggestions:null,versionHistory:null,showHistoryModal:!1,taskListKey:0,settingsSubTab:C,activityState:{status:"loading"},onChangeTab:n.onChangeTab,onToggleCollapseChecklist:n.onToggleCollapseChecklist,onDescriptionEditToggled:n.onDescriptionEditToggled,onDescriptionEditCancelled:n.onDescriptionEditCancelled,onDescriptionChanged:n.onDescriptionChanged,onDescriptionSaved:n.onDescriptionSaved,onSaveSettingsGeneral:n.onSaveSettingsGeneral,onSaveSettingsPower:n.onSaveSettingsPower,onSaveSettingsImages:n.onSaveSettingsImages,onNewVersionFinished:n.onNewVersionFinished,onTopicSubmitted:n.onTopicSubmitted,onTopicClicked:n.onTopicClicked,onTagsChanged:n.onTagsChanged,onVote:n.onVote,onDownload:n.onDownload,onCreateNewVersion:n.onCreateNewVersion,onRefreshVersion:n.onRefreshVersion,onDeleteDataset:n.onDeleteDataset,onMakeDatasetPublic:n.onMakeDatasetPublic,onUpdateState:n.onUpdateState,onLoadAllVersions:n.onLoadAllVersions,onLoadHistory:n.onLoadHistory,onChecklistNavigationClick:n.onChecklistNavigationClick,onShowHistoryModal:n.onShowHistoryModal,onChangeTaskCount:n.onChangeTaskCount,onExportToSheets:n.onExportToSheets,setNewKernelModalRef:n.setNewKernelModalRef,setHeaderRef:n.setHeaderRef,setDataTabRef:n.setDataTabRef,setConfirmDeleteVisible:n.setConfirmDeleteVisible,setConfirmPrivacyVisible:n.setConfirmPrivacyVisible});return n.state=k,n.lastSavedState=[],y&&"failed"==y.status&&(n.props.canEdit||l.a.isAdmin)&&(y.userMessage?d.a.error("Publishing of latest dataset version failed, users will see the previous version. Reason: "+y.userMessage+"."):d.a.error("Publishing of latest dataset version failed, users will see the previous version. Please create a new dataset version or contact support if the problem persists.")),w?n.startPollingCreationStatus():a&&"reprocessing"==a.status&&n.startPollingCreationStatus(),"data"!=E||n.state.suggestions||n.state.isRemoved||n.loadSuggestions(),n.onLoadHistory(10),n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){var e;Object(g.b)(this.onPopState),"activity"===this.props.currentTab&&this.switchToActivityTab();try{var t=Object(h.a)(location.search);if(t.campaign&&this.reportEvent("campaign-view",{uid:t.campaign,url:this.props.datasetUrl}),t.resource&&t.downloadHash){var n=window.location.pathname,a=new URL(n+"/"+t.resource,window.location.origin),o=new URLSearchParams;o.append("downloadHash",t.downloadHash),a.search=o.toString(),window.location.assign(a.toString()),Object(g.f)(new URL(n,window.location.origin).toString())}}catch(e){}var r=window.history.state||{};Object(g.e)(Object(i.__assign)(Object(i.__assign)({},r),((e={})[b]={currentTab:this.state.currentTab},e)),document.title)},t.prototype.componentWillUnmount=function(){Object(g.d)(this.onPopState)},t.prototype.render=function(){return a.createElement(u.a,Object(i.__assign)(Object(i.__assign)(Object(i.__assign)({},this.props),this.state),{onNavigateToSettingsClick:this.onNavigateToSettingsClick,onShowPageMessage:this.onShowPageMessage,onSaveMetadata:this.onSaveMetadata,onUpdateCollaborators:this.onUpdateCollaborators,onUpdateHashLink:this.onUpdateHashLink,onUpdateUsabilityRating:this.onUpdateUsabilityRating}))},t.prototype.getChildContext=function(){return{reportEvent:this.reportEvent,onCreateTopic:this.onCreateTopic,onCreateKernel:this.onCreateKernel,onCreateTask:this.onCreateTask}},t.childContextTypes={reportEvent:r.func,onCreateTopic:r.func,onCreateKernel:r.func,onCreateTask:r.func},t}(a.Component)}.call(this,n(286),n(0))},1631:function(e,t,n){"use strict";(function(e,a){n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h}));var i,o,r,s=n(3),l=n(1),c=n.n(l),d=n(10),u=c.a.div.withConfig({displayName:"Modal_ModalBackground",componentId:"sc-1jy59sc"})(i||(i=Object(s.__makeTemplateObject)(["\n  background-color: rgba(0, 0, 7, 0.4);\n  display: flex;\n  height: 100%;\n  left: 0;\n  overflow-y: scroll;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 1000;\n"],["\n  background-color: rgba(0, 0, 7, 0.4);\n  display: flex;\n  height: 100%;\n  left: 0;\n  overflow-y: scroll;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 1000;\n"]))),m=c.a.div.withConfig({displayName:"Modal_ModalContent",componentId:"sc-1ga175p"})(r||(r=Object(s.__makeTemplateObject)(["\n  background-color: #fff;\n  border-radius: ",";\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.03), 0 3px 9px rgba(0, 0, 0, 0.09);\n  display: inline-block;\n  margin: auto;\n\n  ","\n"],["\n  background-color: #fff;\n  border-radius: ",";\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.03), 0 3px 9px rgba(0, 0, 0, 0.09);\n  display: inline-block;\n  margin: auto;\n\n  ","\n"])),d.g.BorderRadius,d.f.mobile(o||(o=Object(s.__makeTemplateObject)(["\n        border-radius: 0;\n    "],["\n        border-radius: 0;\n    "])))),p=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(s.__extends)(n,t),n.prototype.render=function(){var t=this;return e.createElement("a",{className:"modal__close-button "+this.props.className,onClick:function(){return t.props.onClose()}},"×")},n}(e.Component),h=function(t){function n(e){var n=t.call(this,e)||this;return n.handleOpenClick=function(){n.props.onShow(),n.openModal()},n.handleCloseClick=function(){n.props.onClose(),n.props.doNotCloseSelf||n.closeModal()},n.openModal=function(){a("body").css({"overflow-x":"hidden","overflow-y":"scroll"}),a("html").css("overflow","hidden"),n.modalIsShown=!0},n.closeModal=function(){a("body").css({overflow:"visible"}),a("html").css("overflow","visible"),n.modalIsShown=!1},n.handleKeyDown=function(e){27==e.keyCode&&n.modalIsShown&&n.handleCloseClick()},n.handleStopPropagation=function(e){e.stopPropagation()},n.modalIsShown=e.modalIsShown,n}return Object(s.__extends)(n,t),n.prototype.componentDidMount=function(){a(document.body).on("keydown",this.handleKeyDown)},n.prototype.componentWillUnmount=function(){a(document.body).off("keydown",this.handleKeyDown)},n.prototype.UNSAFE_componentWillReceiveProps=function(e){e.modalIsShown!=this.modalIsShown&&(e.modalIsShown?this.openModal():this.closeModal())},n.prototype.render=function(){return this.props.modalIsShown?e.createElement("div",{className:"modal"},e.createElement("div",{className:this.props.buttonClassName,onClick:this.handleOpenClick}),e.createElement("div",{className:"modal__background "+this.props.className,onMouseDown:this.handleCloseClick},e.createElement("div",{className:"modal__content",style:Object(s.__assign)({display:"inline-block",margin:"auto"},this.props.modalContentStyle),onMouseDown:this.handleStopPropagation},this.props.modalContent||this.props.children))):null},n}(e.Component)}).call(this,n(0),n(129))},1632:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0);const i=a.createContext(!1)},1633:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1);const i=a.defaultTheme.material.color.brand.grey,o=a.defaultTheme.material.color.white,r=a.defaultTheme.material.color.mode.light,s=a.defaultTheme.material.color.brand.blue,l=a.defaultTheme.material.color.status,c={light:{background:o,backgroundAlt:i[50],backgroundTransparent:"rgba(255, 255, 255, 0.8)",blue:s[700],blueHover:s[500],blueSelected:s[800],border:i[100],borderAlt:i[200],borderFocus:i[500],caution:l.caution[900],error:l.error[900],success:l.success[900],text:r.text.low,textLow:i[500],textMedium:r.text.medium,textHigh:i[900],text100:a.defaultTheme.material.color.text[100],text70:a.defaultTheme.material.color.text[70],text40:a.defaultTheme.material.color.text[40],scrollbarThumb:i[300],shadow:i[200]},dark:{background:a.darkPalette.cellBackground,backgroundAlt:i[800],backgroundTransparent:"rgba(0, 0, 0, 0.8)",blue:s[500],blueHover:s[500],blueSelected:s[400],border:a.darkPalette.lightLines,borderAlt:a.darkPalette.darkLines,borderFocus:i[300],caution:l.caution[500],error:l.error[500],success:l.success[500],text:a.darkPalette.text[70],textLow:a.darkPalette.text[50],textMedium:a.darkPalette.text[70],textHigh:a.darkPalette.text[100],text100:a.darkPalette.text[100],text70:a.darkPalette.text[70],text40:a.darkPalette.text[50],scrollbarThumb:i[300],shadow:"#000000"}}},1634:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return g})),n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return E})),n.d(t,"a",(function(){return x}));var a=n(45);const i=(e,t,n)=>e<t?t:e>n?n:e,o=e=>{if(Math.random()<.01)return v;if(e>1)return y;if(e<=0)return b[0];{const t=Math.floor(e*b.length);return b[t]}},r=(e,t)=>{const n=a(e),o=a(),r=l(t),s=o.diff(n,"seconds");return i(s/r,0,1)},s=e=>{const t=l(e);return a.duration(t,"seconds").humanize()},l=e=>{return e?e>53687091200?10800:e>10737418240?3600:e>5368709120?1800:e>1073741824?900:e>524288e3?600:e>104857600?180:e>10485760?60:e>1048576?20:10:10},c=e=>u(new Date(e)),d=e=>m(new Date(e)),u=e=>e?a(e).format("DMMMYY"):"",m=e=>e?a(e).format("YYYY-MM-DD HH:mm:ss"):"",p=(e,t)=>null===e?"":e===1/0?"Inf":e===-1/0?"-Inf":t?h(e):g(e),h=e=>"number"!=typeof e?"":e>1e11?(e/1e9).toFixed(0)+"b":e>1e10?(e/1e9).toFixed(1)+"b":e>1e9?(e/1e9).toFixed(2)+"b":e>1e8?(e/1e6).toFixed(0)+"m":e>1e7?(e/1e6).toFixed(1)+"m":e>1e6?(e/1e6).toFixed(2)+"m":e>1e5?(e/1e3).toFixed(0)+"k":e>1e4?(e/1e3).toFixed(1)+"k":e.toFixed(0),g=e=>{if(null==e)return"";if(isNaN(e))return"NaN";const t=Math.abs(e);return t>1e11?`${f(e/1e9,0)}b`:t>1e10?`${f(e/1e9,1)}b`:t>1e9?`${f(e/1e9,2)}b`:t>1e8?`${f(e/1e6,0)}m`:t>1e7?`${f(e/1e6,1)}m`:t>1e6?`${f(e/1e6,2)}m`:t>1e5?`${f(e/1e3,0)}k`:t>1e4?`${f(e/1e3,1)}k`:t>1e3?`${f(e/1e3,2)}k`:f(e,t>100?0:t>10?1:2)},f=(e,t)=>Number.parseFloat(e.toFixed(t)).toString(),b=["Revving our hard drives...","Beaming data to servers...","Reticulating files...","Checking data types...","Tabulating tabular files...","Calculating metrics...","Bundling blob files...","Applying middle out compression...","Activating Kernels...","Transmogrifying data...","Re-reticulating files...","Applying final touches..."],v="Getting to the choppa...",y="Still working...",w=e=>{let t="."===e.substring(0,1)?e.substring(1):e;switch(t=t?t.toLowerCase():t,t){case"csv":case"tsv":case"xls":case"xlsx":return"table_chart";case"sqlite":return"storage";case"sqlitetable":return"table_chart";case"png":case"jpg":case"jpeg":case"gif":return"image";case"txt":case"json":case"ndjson":return"description";case"zip":case"7z":case"gz":case"tar":case"rar":case"bz2":return"drive_zip_outline";default:return"insert_drive_file"}},E=e=>e.substring(e.lastIndexOf(".")+1,e.length)||e,x=e=>{const t=n=>{n.clipboardData.setData("text/plain",e),n.preventDefault(),document.removeEventListener("copy",t)};document.addEventListener("copy",t),document.execCommand("copy")}},1637:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var a=n(0);const i=Object.assign(Object.assign({},{}),{select:()=>{},setTableQuery:()=>{}}),o={dataLoadingState:{type:"success"},reference:{type:"dataset",id:0,databundleVersionId:0,datasetVersionId:0},dataSources:[],expanded:{},previewCache:{},itemColumnCache:{},uxSettings:{maximized:!1,treeCollapsed:!1,tabularViewType:"detail"},userSettings:{userId:void 0,canEdit:!1}},r=Object.assign(Object.assign({},o),{dispatch:()=>{},dispatchAsync:()=>{}}),s=a.createContext(r),l=a.createContext(i)},1638:function(e,t,n){"use strict";n.d(t,"p",(function(){return a})),n.d(t,"l",(function(){return i})),n.d(t,"m",(function(){return o})),n.d(t,"n",(function(){return r})),n.d(t,"o",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"k",(function(){return g})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return b})),n.d(t,"h",(function(){return v}));const a=e=>"uploadContainer"===e.type,i=e=>"remoteUrlUploadContainer"===e.type,o=e=>"failed"===e.type,r=e=>"pending"===e.type,s=e=>"success"===e.type,l=e=>"githubContainer"===e.type,c=e=>"githubFile"===e.type,d=e=>"failed"===e.type,u=e=>"success"===e.type,m=e=>"pending"===e.type,p=e=>"invalid"===e.type,h=e=>"kernelOutputContainer"===e.type,g=e=>"loadingKernels"===e.type,f=e=>"listKernels"===e.type,b=e=>"loadingFiles"===e.type,v=e=>"listFiles"===e.type},1639:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return d}));var a=n(383),i=n(1),o=n.n(i);const r=o()(a.t)`
  padding: ${e=>e.theme.size.pad.l} ${e=>e.theme.size.pad.m};
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  flex-shrink: 0;
`,s=o.a.div`
  ${e=>e.theme.font.main.size.m};
  ${e=>e.theme.font.main.weight.light};
  color: ${e=>e.theme.colors.text.light};
  margin-top: -${e=>e.theme.size.pad.m}; /* HACK */
  padding: 0 ${e=>e.theme.size.pad.m} ${e=>e.theme.size.pad.l}
    ${e=>e.theme.size.pad.m};
`,l=o.a.div`
  box-sizing: border-box;
  display: flex;
  justify-content: center;
  width: 20px;
  padding: 0 ${e=>e.theme.size.pad.xs};
`,c=o()(l)`
  border: none;
  background: none;
  color: ${e=>e.theme.colors.kaggle.red};

  &:hover {
    cursor: pointer;
    color: ${e=>e.theme.colors.kaggle.redDarkest};
  }

  &:disabled {
    cursor: default;
    color: ${e=>e.theme.colors.text.light};
  }
`.withComponent("button"),d=(o()(l)`
  border: none;
  background: none;
  color: ${e=>e.theme.colors.kaggle.blueDark};

  &:hover {
    cursor: pointer;
    color: ${e=>e.theme.colors.kaggle.blue};
  }

  &:disabled {
    cursor: default;
    color: ${e=>e.theme.colors.text.light};
  }
`.withComponent("button"),(e,t,n)=>e?n:t)},1641:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),i=n(0),o=n(22),r=n(1468),s=function(e){function t(t){return e.call(this,t)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this;if(!this.props.text&&!this.props.children)throw new Error("Button requires children to be defined");return this.props.useKM?i.createElement(r.a,{useKM:!0,disabled:this.props.isDisabled,emphasis:this.props.emphasis,href:this.props.href,onClick:this.props.onClick,style:this.props.style,disableRapidash:this.props.disableRapidash||!1},this.props.children||this.props.text):i.createElement("a",{id:this.props.id,href:this.props.href,style:this.props.style,className:o("button__anchor-wrapper",this.props.containerClassNames?this.props.containerClassNames:null,this.props.isSmall?"button__anchor-wrapper--small":null),onClick:this.props.isDisabled||!this.props.onClick?null:function(t){e.props.onClick(t)},target:this.props.target,type:this.props.type,"data-disable-rapidash":!!this.props.disableRapidash&&this.props.disableRapidash},i.createElement("div",{className:o("button",this.props.toggleable?"button--toggleable":null,this.props.isSmall?"button--small":null,this.props.toggleable&&!this.props.toggled?"button--inactive":null,this.props.isDisabled?"button--disabled":null,this.props.className?this.props.className:null)},i.createElement("span",null,this.props.children||this.props.text)))},t}(i.Component)},1644:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(3),i=n(0),o=n(22),r=n(1635),s=n(1631),l=n(1653),c=n(1468),d=function(e){var t=e.confirmText||"Confirm",n=e.cancelText||"Cancel",a=e.isProcessing||!0===e.confirmDisabled;return i.createElement("div",{className:o("confirm__form",e.className)},e.title&&i.createElement("div",{className:"confirm__title"},e.title),e.subtitle&&i.createElement("div",{className:"confirm__subtitle"},e.subtitle),i.createElement("div",{className:"confirm__content"},e.children),i.createElement("div",{className:"confirm__buttons"},i.createElement(c.a,{useKM:!0,emphasis:"low",style:{marginRight:"8px"},disabled:e.isProcessing,"data-test-id":"confirm__cancel-button",onClick:!e.isProcessing&&e.onCancel},n),i.createElement(c.a,{useKM:!0,emphasis:"high",disabled:a,"data-test-id":"confirm__confirm-button",onClick:!a&&e.onConfirm},t),e.isProcessing&&i.createElement("div",{className:"confirm__is-processing"},i.createElement("span",{className:"fa fa-spin fa-circle-o-notch"}))))},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isShown,n=Object(a.__rest)(e,["isShown"]),o=n.isProcessing,r=n.onCancel;return i.createElement(s.a,{onClose:o?function(){}:r,onShow:function(){},modalIsShown:t},i.createElement(d,Object(a.__assign)({},n)))},t}(i.Component);var m=function(e){var t=e.children,n=Object(a.__rest)(e,["children"]);return i.createElement(l.a,Object(a.__assign)({},n),(function(e){return t((function(t,n){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){var o;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return o=function(e){return void 0!==e.title?e:{title:e}}(t),[4,e((function(e){return i.createElement(d,Object(a.__assign)({},o,{onCancel:function(){return e(!1)},onConfirm:function(){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return n?[4,n()]:[3,2];case 1:t.sent(),t.label=2;case 2:return e(!0),[2]}}))}))}}))}))];case 1:return[2,r.sent()||!1]}}))}))}))}))},p=function(e){var t=e.onClick,n=e.onVisible,o=e.confirm,s=void 0===o?{}:o,l=Object(a.__rest)(e,["onClick","onVisible","confirm"]),c=Object(a.__read)(i.useState(!!s.isShown),2),d=c[0],m=c[1],p=Object(a.__read)(i.useState(!!s.isProcessing),2),h=p[0],g=p[1],f=function(e){m(e),n&&n(e)},b=Object(a.__assign)(Object(a.__assign)({},s),{isShown:d,isProcessing:h,onCancel:function(){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return s.onCancel?[4,s.onCancel()]:[3,2];case 1:e.sent(),e.label=2;case 2:return f(!1),[2]}}))}))},onConfirm:function(){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return g(!0),t?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return s.onConfirm?[4,s.onConfirm()]:[3,4];case 3:e.sent(),e.label=4;case 4:return g(!1),f(!1),[2]}}))}))}});return i.createElement(i.Fragment,null,i.createElement(r.a,Object(a.__assign)({},l,{onClick:function(){return f(!0)}})),i.createElement(u,Object(a.__assign)({},b)))}},1645:function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"h",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));const a=(e,t)=>e.files.some(e=>e.state.type===t)||e.directories.some(e=>a(e,t)),i=e=>{const t=r(e),n=s(e);return 0===t?100:100*n/t},o=e=>e.files.length+e.directories.reduce((e,t)=>e+o(t),0),r=e=>e.files.reduce((e,t)=>t.size+e,0)+e.directories.reduce((e,t)=>e+r(t),0),s=e=>{return e.files.reduce((e,t)=>"uploading"===t.state.type?t.state.percentComplete*t.size/100+e:t.size+e,0)+e.directories.reduce((e,t)=>e+s(t),0)},l=(e,t)=>{const n={type:"uploadDirectory",name:"",files:e.files,directories:e.directories},a=t.reduce((e,t)=>{if(void 0===e)return;const n=e[e.length-1].directories.find(e=>e.name===t);return n?(e.push(n),e):void 0},[n]);if(Array.isArray(a))return a.slice(1)},c=(e,t)=>{const n={type:"existingDirectory",name:"",files:e.existingFiles,directories:e.existingDirectories},a=t.reduce((e,t)=>{if(void 0===e)return;const n=e[e.length-1].directories.find(e=>e.name===t);return n?(e.push(n),e):void 0},[n]);if(Array.isArray(a))return a.slice(1)},d=(e,t)=>{if("uploadDirectory"===t.type){const n=l(e,t.parts);return Array.isArray(n)?n.pop():void 0}if("existingDirectory"===t.type){const n=c(e,t.parts);return Array.isArray(n)?n.pop():void 0}},u=(e,t)=>{t(e),e.type,e.directories.forEach(e=>{u(e,t)})},m=(e,t)=>(e.type,e.files.filter(e=>t(e)).length+e.directories.reduce((e,n)=>e+m(n,t),0)),p=(e,t)=>{const{files:n,existingFiles:a,directories:i,existingDirectories:o}=e;return n.filter(e=>t(e)).length+a.filter(e=>t(e)).length+i.reduce((e,n)=>e+m(n,t),0)+o.reduce((e,n)=>e+m(n,t),0)}},1647:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(3),i=n(387),o=n(1683),r=n(30),s=n(8);function l(e){r.a.isAdmin||e()}function c(e){Object(o.a)()}var d=function(e,t){return l((function(){i.k("dataset",t)}))},u=function(e,t){return l((function(){i.k("script",t)}))},m=function(e,t){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){return s.educationClient.trackEducation({trackerType:e,trackerId:t.toString()}),[2]}))}))};t.a={viewDatasetList:function(){return l((function(){e.Analytics.recordDatasetsView({})}))},viewDataset:function(e,t){return l((function(){i.g("dataset-shown",t)}))},exploreMoreDatasetsClicked:function(e){return l((function(){i.g("explore-more-datasets-clicked")}))},downloadDataset:function(e){return l((function(){return c(e)}))},downloadDatasetFileOnDataTab:function(e){return l((function(){i.g("data-tab-download-file"),c(e)}))},downloadDatasetOnDataTab:function(e){return l((function(){i.g("data-tab-download-all-list"),c(e)}))},downloadDatasetCommon:c,upvotedDatasetOnHeader:d,upvotedDatasetOnDatasetList:function(e,t){return l((function(){i.k("dataset",t)}))},newDatasetVersionCreated:function(e){return l((function(){i.h(e?"convert-csv":null)}))},newKernelClicked:function(){return l((function(){i.j("new-kernel-clicked")}))},viewScript:function(e,t){return l((function(){i.j("script-shown",t)}))},upvoteScript:u,exploreMoreKernelsClicked:function(){return l((function(){i.j("explore-more-kernels-clicked")}))},upvoteForumPost:function(){return l((function(){i.k("forum-message")}))},downvoteForumPost:function(){return l((function(){i.i("forum-message")}))},upvoteForumTopic:function(){return l((function(){i.k("forum-topic")}))},downvoteForumTopic:function(){return l((function(){i.i("forum-topic")}))},upvoteForumTopicList:function(){return l((function(){i.k("topic-list")}))},downvoteForumTopicList:function(){return l((function(){i.i("topic-list")}))},clickedAvatarInNewsfeed:function(){return l((function(){i.f("newsfeed")}))},userSignup:function(){Object(o.a)(),i.e("new-account")},upvotedNewsfeedStoryHeader:function(){return l((function(){i.k("newsfeed")}))},clickedNewsfeedActionLink:function(e,t){return l((function(){i.a(e,t)}))},clickedNewsfeedUserLink:function(e,t){return l((function(){i.c(e,t)}))},datasetPreviewTabShown:function(e,t){return l((function(){i.g("data-preview-tab-shown",e)}))},clickedSuggestion:function(e,t){return l((function(){return i.b(e,t)}))},newKernelUsingThisDataClicked:function(){return l((function(){i.j("new-kernel-using-this-data-clicked")}))}}}).call(this,n(286))},1648:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(30);function i(e,t){e&&(e.indexOf("$$")>-1||e.indexOf("\\[")>-1||e.indexOf("\\(")>-1)&&("undefined"!=typeof MathJax&&MathJax?MathJax.Hub?MathJax.Hub.Queue(["Typeset",MathJax.Hub,t]):a.a.warn("Unable to find MathJax.Hub, aborting the LaTeX rendering process."):a.a.warn("LaTeX content was detected inside markdown, but MathJax is not loaded. Use @await Components.MathJaxAsync(Html)"))}},1649:function(e,t,n){"use strict";n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(0),i=n(1684);const o=e=>Math.round(100*e)+"%",r=e=>null===e?"[null]":0===e.length||/^\s+$/.test(e)?"[empty]":e,s=(e,t)=>{Object(a.useEffect)(()=>{const n=n=>{n.key===e&&t()};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[])},l=(e,t)=>{Object(a.useEffect)(()=>{const n=n=>{e.map(e=>e.current&&e.current.contains(n.target)).reduce((e,t)=>e||t)||t()};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[e])},c=e=>{switch(e.type){case"dataSource":case"databundle":case"databundleVersion":case"directory":return!1;case"file":switch(Object(i.d)(e.name)){case"xls":case"xlsx":case"sqlite":return!1;case"mat":case"doc":case"docx":case"exe":return!1;default:return!0}default:return!0}},d=(e,t)=>{var n,a;const{sourceUrl:i}=t;switch(e.type){case"file":if("dataset"===t.sourceType)return t.versionNumber?`${i}/download/${encodeURIComponent(e.path)}?datasetVersionNumber=${t.versionNumber}`:`${i}/download/${encodeURIComponent(e.path)}`;if("competition"===t.sourceType)return`${i}/download/${encodeURIComponent(e.path)}?datasetVersionNumber=${t.versionNumber}`;const o=e;return(null===(n=o.fileInfo)||void 0===n?void 0:n.downloadUrl)?o.fileInfo.downloadUrl:void 0;case"directory":const r=e;if(null===(a=null==r?void 0:r.compressionInfo)||void 0===a?void 0:a.filename){if("dataset"===t.sourceType)return t.versionNumber?`${i}/download-directory/${encodeURIComponent(e.path)}?datasetVersionNumber=${t.versionNumber}`:`${i}/download-directory/${encodeURIComponent(e.path)}`;if("competition"===t.sourceType)return`${i}/download-directory/${encodeURIComponent(e.path)}`}return;default:return}},u=(e,t)=>{window.open(e,t?"_blank":void 0)},m=e=>{window.location.assign(e)},p=(e,t)=>{var n,a,i,o,r,s,l,c,d;return"remoteUrlFileSet"===(null===(a=null===(n=null==t?void 0:t.databundleVersion)||void 0===n?void 0:n.databundleVersionInfo)||void 0===a?void 0:a.databundleVersionType)&&"file"===e.type?null===(i=e.remoteUrlInfo)||void 0===i?void 0:i.url:"remoteGitRepositoryFileSet"===(null===(r=null===(o=null==t?void 0:t.databundleVersion)||void 0===o?void 0:o.databundleVersionInfo)||void 0===r?void 0:r.databundleVersionType)&&(null===(s=null==t?void 0:t.databundle)||void 0===s?void 0:s.githubInfo)?`https://github.com/${t.databundle.githubInfo.ownerSlug}/${t.databundle.githubInfo.repositorySlug}`:"kernelOutputFileSet"===(null===(c=null===(l=null==t?void 0:t.databundleVersion)||void 0===l?void 0:l.databundleVersionInfo)||void 0===c?void 0:c.databundleVersionType)&&(null===(d=null==t?void 0:t.kernelOutputInfo)||void 0===d?void 0:d.url)?t.kernelOutputInfo.url:void 0}},1650:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(30),i=n(158);function o(e){return void 0===e&&(e={}),e instanceof Headers?(e.append(i.b,a.a.antiForgeryToken),e.append(i.c,a.a.antiForgeryToken)):(e[i.b]=a.a.antiForgeryToken,e[i.c]=a.a.antiForgeryToken),e}},1651:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a,i,o,r,s,l,c,d,u,m=n(3),p=n(0),h=n(14),g=n(10),f=n(1),b=n.n(f),v=n(1429),y=n(1654),w=n(1694),E=n(8),x=n(1424),C=x.helper.emojis,k=Object.entries(C).map((function(e){var t=Object(m.__read)(e,2),n=t[0];return{display:t[1].replace(/&zwj;/g,""),id:n}})),_=["+1","-1","fist_oncoming","fist_raised","fist_left","fist_right","hand","handshake","metal","muscle","ok_hand","open_hands","point_down","point_left","point_right","point_up","pray","raised_hands","v","vulcan_salute","wave","100","heavy_check_mark","x","tada","boom","fire","sparkles","eyes","notes","sunny","two_hearts","broken_heart","heart","black_heart","blue_heart","green_heart","purple_heart","yellow_heart","smile","smiley","smirk","anguished","astonished","blush","expressionless","face_with_head_bandage","face_with_thermometer","fearful","flushed","frowning","frowning_face","grimacing","grin","grinning","heart_eyes","hushed","joy","laughing","lying_face","mask","nerd_face","neutral_face","open_mouth","pensive","persevere","relieved","roll_eyes","sleeping","sleepy","slightly_frowning_face","slightly_smiling_face","smiling_imp","sob","stuck_out_tongue","stuck_out_tongue_winking_eye","sunglasses","sweat","sweat_smile","thinking","tired_face","triumph","unamused","weary","wink","worried","yum","zipper_mouth_face","cowboy_hat_face","cat","crying_cat_face","heart_eyes_cat","joy_cat","pouting_cat","scream_cat","smile_cat","smirk_cat","hear_no_evil","see_no_evil","speak_no_evil"].map((function(e){return{display:C[e]&&C[e].replace(/&zwj;/g,""),id:e}})),S=b.a.div.withConfig({displayName:"Markdown_Body",componentId:"sc-1juets6"})(a||(a=Object(m.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n"],["\n  display: flex;\n  flex-direction: column;\n"]))),O=b.a.div.withConfig({displayName:"Markdown_EditorContainer",componentId:"sc-1qzyfx0"})(i||(i=Object(m.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n"],["\n  display: flex;\n  flex-direction: column;\n"]))),T=b.a.div.withConfig({displayName:"Markdown_EditorBody",componentId:"sc-1t35y16"})(o||(o=Object(m.__makeTemplateObject)(["\n  background: ",";\n  min-height: 80px;\n\n  ",";\n  font-family: ",";\n  font-size: ",";\n  line-height: 1.67;\n  padding: "," "," 6px; /* PadL - 18px from react-mentions */\n\n  ",";\n\n  textarea::placeholder {\n    color: ",";\n  }\n"],["\n  background: ",";\n  min-height: 80px;\n\n  ",";\n  font-family: ",";\n  font-size: ",";\n  line-height: 1.67;\n  padding: "," "," 6px; /* PadL - 18px from react-mentions */\n\n  ",";\n\n  textarea::placeholder {\n    color: ",";\n  }\n"])),g.b.PureWhite,(function(e){return e.borderless?"":"\n    border: 1px solid "+g.b.ContentBorder+";\n    border-radius: "+g.g.BorderRadius+";\n  "}),g.d.FontFamilyInter,g.d.FontSizeM,g.g.PadL,g.g.PadL,(function(e){return void 0===e.maxHeight?"":"\n    overflow-y: scroll;\n    max-height: "+e.maxHeight+";\n    ::-webkit-scrollbar {\n      width: 8px;\n      height: 8px;\n    }\n    ::-webkit-scrollbar-track {\n      background: transparent;\n    }\n    ::-webkit-scrollbar-thumb {\n      background-color: #919294; // theme.material.color.brand.grey[500]\n    }\n  "}),g.b.TextLight),j=b.a.div.withConfig({displayName:"Markdown_MentionSuggestion",componentId:"sc-4ij8bb"})(r||(r=Object(m.__makeTemplateObject)(["\n  display: flex;\n"],["\n  display: flex;\n"]))),I=b.a.img.withConfig({displayName:"Markdown_MentionSuggestionImg",componentId:"sc-1dvk3v1"})(s||(s=Object(m.__makeTemplateObject)(["\n  border-radius: ",";\n  margin-right: ",";\n  max-height: 30px;\n  max-width: 30px;\n  width: 100%;\n"],["\n  border-radius: ",";\n  margin-right: ",";\n  max-height: 30px;\n  max-width: 30px;\n  width: 100%;\n"])),g.g.BorderRadius,g.g.PadS),N=b.a.span.withConfig({displayName:"Markdown_MentionSuggestionEmoji",componentId:"sc-1cxouz6"})(l||(l=Object(m.__makeTemplateObject)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),g.g.PadM),D=b.a.div.withConfig({displayName:"Markdown_MentionSuggestionInfo",componentId:"sc-hrpizy"})(c||(c=Object(m.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n"],["\n  display: flex;\n  flex-direction: column;\n"]))),$=b.a.div.withConfig({displayName:"Markdown_MentionSuggestionDisplay",componentId:"sc-1xkm12l"})(d||(d=Object(m.__makeTemplateObject)(["\n  display: flex;\n  font-size: ",";\n  font-weight: ",";\n  line-height: 1;\n  margin-bottom: ",";\n"],["\n  display: flex;\n  font-size: ",";\n  font-weight: ",";\n  line-height: 1;\n  margin-bottom: ",";\n"])),g.d.FontSizeM,g.d.FontWeightMedium,g.g.PadXs),M=b.a.div.withConfig({displayName:"Markdown_MentionSuggestionUsername",componentId:"sc-flrhuf"})(u||(u=Object(m.__makeTemplateObject)(["\n  color: ",";\n  display: flex;\n  font-size: ",";\n  line-height: 1;\n"],["\n  color: ",";\n  display: flex;\n  font-size: ",";\n  line-height: 1;\n"])),g.b.TextLight,g.d.FontSizeS),U=function(e){var t=e.handleBlur,n=e.handleChange,a=e.handleFocus,i=e.handleSelection,o=e.placeholder,r=e.value,s=e.getUsers,l=e.getEmojis;return p.createElement(v.b,{allowSpaceInQuery:!0,className:"react-mentions",markup:"__display__\x3c!--__type__--\x3e",onBlur:t,onChange:n,onFocus:a,onSelect:i,placeholder:o||"Compose using markdown...",value:r},p.createElement(v.a,{appendSpaceOnAdd:!0,trigger:"@",type:"user",data:s,renderSuggestion:function(e){return p.createElement(j,null,p.createElement(I,{alt:e.rawDisplay,src:e.thumbnail}),p.createElement(D,null,p.createElement($,null,e.rawDisplay),p.createElement(M,null,e.userName)))}}),p.createElement(v.a,{appendSpaceOnAdd:!0,trigger:":",type:"emoji",data:l,renderSuggestion:function(e){return p.createElement(j,null,p.createElement(N,null,e.display),p.createElement($,null,":",e.id,":"))}}))},P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.removeHtmlComments=function(e){return e?e.replace(/<!--(.+)-->/g,""):""},t.state={focused:!1,selection:{start:0,end:0},snapSelection:{start:0,end:0},undoStack:[],redoStack:[],showEmojiDropdown:!1,showHeaderDropdown:!1,showImageDropdown:!1,showLinkModal:!1,showLinkImageModal:!1,showUploadImageModal:!1,value:t.removeHtmlComments(t.props.value)},t.addKeybindings=function(e){if(e.ctrlKey||e.metaKey){var n=t.state,a=n.snapSelection,i=n.value.substring(a.start,a.end);switch(e.keyCode){case 13:return e.preventDefault(),void(t.props.onSubmit&&t.props.onSubmit());case 66:return e.preventDefault(),void t.handleInsert(i,"**","**");case 73:return e.preventDefault(),void t.handleInsert(i,"*","*");case 75:return e.preventDefault(),void t.handleInsert(i,"[","](url)");case 89:return e.preventDefault(),void t.handleRedo();case 90:return e.preventDefault(),void(e.shiftKey?t.handleRedo():t.handleUndo());default:return}}},t.snapToWord=function(e,t){var n=e,a=t.start,i=t.end;if(i-a>0)return t;for(;n[i]&&!/\s/.test(n[i]);)i++;for(;n[a]&&!/\s/.test(n[a])&&a>=0;)a--;return i>a&&a++,{start:a,end:i}},t.startTypingTimer=function(e){clearTimeout(t.typingTimer);t.typingTimer=setTimeout(e,100)},t.onChangeDebounce=function(e,n){clearTimeout(t.debounceTimer),t.debounceTimer=setTimeout(e,n)},t.onFocus=function(){t.setState({focused:!0}),t.props.onInputFocus&&t.props.onInputFocus()},t.addChangeToUndoStack=function(e){void 0===e&&(e=!0);var n=t.props.value||"",a=t.state,i=a.undoStack,o=a.value;e?t.startTypingTimer((function(){i.push({save:o,undo:i[i.length-1]?i[i.length-1].save:n}),t.setState({undoStack:i,redoStack:[]})})):(i.push({save:o,undo:i[i.length-1]?i[i.length-1].save:n}),t.setState({undoStack:i,redoStack:[]}))},t.getEmojis=function(e,n){var a=Object(m.__spread)(k);e?e&&e.length>0&&t.startTypingTimer((function(){a=a.filter((function(t){return t.id.startsWith(e)})).slice(0,10),n(a)})):n(a.slice(0,10))},t.onChangeIfControlled=function(e){var n=t.props,a=n.debounceInterval,i=n.onChange;i&&(a?t.onChangeDebounce((function(){return i(e)}),a):i(e))},t.handleChange=function(e,n){n=t.removeHtmlComments(n),t.setState({value:n},t.addChangeToUndoStack),t.onChangeIfControlled(n)},t.handleInsertImage=function(e){var n=t.state,a=n.value,i=n.selection,o=a.substr(0,i.start)+"![]("+e+")\n"+a.substr(i.end);t.setState({value:o},(function(){t.inputElementRef.focus(),t.addChangeToUndoStack(!1)})),t.onChangeIfControlled(o)},t.handleInsert=function(e,n,a,i){void 0===e&&(e=""),void 0===n&&(n=""),void 0===a&&(a=""),void 0===i&&(i=!1);var o=t.state,r=o.value,s=o.selection,l=o.snapSelection,c=i?s.start:l.start,d=i?s.end:l.end,u=r.substr(0,c)+n+e+a+r.substr(d);t.setState({value:u},(function(){t.inputElementRef.selectionStart=s.start+n.length,t.inputElementRef.selectionEnd=s.end+n.length,t.inputElementRef.focus(),t.addChangeToUndoStack(!1)})),t.onChangeIfControlled(u)},t.handleBlur=function(e){t.setState({focused:!1}),t.inputElementRef=e.target},t.handleToggleEmojiDropdown=function(){return t.setState({showEmojiDropdown:!t.state.showEmojiDropdown})},t.handleToggleHeaderDropdown=function(){return t.setState({showHeaderDropdown:!t.state.showHeaderDropdown})},t.handleToggleImageDropdown=function(){return t.setState({showImageDropdown:!t.state.showImageDropdown})},t.handleToggleLinkModal=function(){return t.setState({showLinkModal:!t.state.showLinkModal})},t.handleToggleLinkImageModal=function(){return t.setState({showLinkImageModal:!t.state.showLinkImageModal})},t.handleToggleUploadImageModal=function(){return t.setState({showUploadImageModal:!t.state.showUploadImageModal})},t.handleSelection=function(e){var n=t.snapToWord(e.target.value,{start:e.target.selectionStart,end:e.target.selectionEnd});t.setState({selection:{start:e.target.selectionStart,end:e.target.selectionEnd},snapSelection:{start:n.start,end:n.end}})},t.handleUndo=function(){var e=t.state,n=e.undoStack,a=e.redoStack;if(n.length>0){var i=n.pop(),o=i.undo;a.push(i),t.setState({undoStack:n,redoStack:a,value:o})}},t.handleRedo=function(){var e=t.state,n=e.undoStack,a=e.redoStack;if(a.length>0){var i=a.pop(),o=i.save;n.push(i),t.setState({undoStack:n,redoStack:a,value:o})}},t.getValue=function(){return t.state.value},t.getUsers=function(e,n){var a=t.props.topicId;(e||a)&&(e.split(/;|,| |\.|-/).length-1>3||t.startTypingTimer((function(){return Object(m.__awaiter)(t,void 0,void 0,(function(){var t,i;return Object(m.__generator)(this,(function(o){switch(o.label){case 0:return[4,E.usersClient.searchUsersSuggestions({query:e,topicId:a,pageSize:8})];case 1:return t=o.sent(),i=t.map((function(e){return{display:"@"+e.userName,rawDisplay:e.displayName,id:e.profileUrl,thumbnail:e.thumbnailUrl,profileUrl:e.profileUrl,userName:e.userName}})),n(i),[2]}}))}))})))},t.handlers={handleChange:t.handleChange,handleInsert:t.handleInsert,handleInsertImage:t.handleInsertImage,handleUndo:t.handleUndo,handleRedo:t.handleRedo,handleToggleEmojiDropdown:t.handleToggleEmojiDropdown,handleToggleHeaderDropdown:t.handleToggleHeaderDropdown,handleToggleImageDropdown:t.handleToggleImageDropdown,handleToggleLinkModal:t.handleToggleLinkModal,handleToggleLinkImageModal:t.handleToggleLinkImageModal,handleToggleUploadImageModal:t.handleToggleUploadImageModal},t}return Object(m.__extends)(t,e),t.prototype.componentDidMount=function(){var e=h.findDOMNode(this).querySelector("textarea");e&&(this.inputElementRef=e,e.addEventListener("keydown",this.addKeybindings,!1),this.props.grabFocus&&e.focus())},t.prototype.render=function(){var e=this.props,t=e.borderless,n=e.collapsed,a=e.hideToolbar,i=e.placeholder,o=e.preview,r=e.editorMaxHeight,s=this.state,l=s.focused,c=s.value;return p.createElement(S,null,o?p.createElement(y.a,{value:c}):p.createElement(O,null,n&&!l||a||p.createElement(w.a,Object(m.__assign)({},this.state,this.handlers,{emojis:_,useBottomBorder:t})),p.createElement(T,{borderless:t,maxHeight:r},p.createElement(U,{handleBlur:this.handleBlur,handleChange:this.handleChange,handleFocus:this.onFocus,handleSelection:this.handleSelection,placeholder:i,value:this.state.value,getUsers:this.getUsers,getEmojis:this.getEmojis}))))},t}(p.Component)},1652:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(1633);const i=(e,t=2)=>`\n  ::-webkit-scrollbar {\n    width: ${e.theme.material.spacing(t)};\n    height: ${e.theme.material.spacing(t)};\n  }\n  ::-webkit-scrollbar-track {\n    background: transparent;\n  }\n  ::-webkit-scrollbar-thumb {\n    background-color: ${a.a[e.theme.name].scrollbarThumb};\n  }\n`,o=(e,t)=>{return`max(${e||t?"100vh":"85vh"}, 742px)`}},1653:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(3),i=n(0),o=n(1631),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={modalContent:null},t.handleKeyDown=function(e){27==e.keyCode&&null!==t.state.modalContent&&t.resolveModal(null)},t.handleShow=function(e){t.setState({modalContent:e}),document.body.scrollHeight!=window.innerHeight&&(document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",document.querySelector("html").style.overflow="hidden")},t.handleHide=function(){t.setState({modalContent:null}),document.body.scrollHeight!=window.innerHeight&&(document.body.style.overflow="visible",document.querySelector("html").style.overflow="visible")},t.handleStopPropagation=function(e){return e.stopPropagation()},t.resolve=null,t.reject=null,t.setResolvers=function(e,n){t.resolve=e,t.reject=n},t.resolveModal=function(e){var n=t.reject,a=t.resolve;if(t.setResolvers(null,null),null===a){var i=new Error("Modal must not resolve during its render");if(null===n)throw i;n(i)}else t.handleHide(),a(e)},t.renderModal=function(e){var n=e((function(e){return t.resolveModal(e)}));return t.handleShow(n),new Promise(t.setResolvers)},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){document.body.addEventListener("keydown",this.handleKeyDown)},t.prototype.componentWillUnmount=function(){document.body.removeEventListener("keydown",this.handleKeyDown)},t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=Object(a.__rest)(t,["children"]),s=this.state.modalContent,l=n(this.renderModal);return i.createElement("div",Object(a.__assign)({},r),l,s&&i.createElement(o.b,{onMouseDown:function(){return e.resolveModal(null)}},i.createElement(o.d,{onMouseDown:this.handleStopPropagation},s)))},t}(i.Component)},1654:function(e,t,n){"use strict";var a=n(3),i=n(1648),o=n(1422),r=n(1424),s=n(0),l=n(147),c={allowedTags:o.defaults.allowedTags.concat(["h1","h2","img"]),allowedAttributes:{a:["href","name","target"],div:["class"],img:["src","alt","width","height","style"]},transformTags:{a:function(e,t){if(t.href&&t.href.startsWith("emoji::"))return{tagName:"span",attribs:{title:(n=t.href.split("::"))[n.length-1]}};if(t.href&&t.href.startsWith("user::")){var n,i=(n=t.href.split("::"))[n.length-1];return{tagName:e,attribs:Object(a.__assign)(Object(a.__assign)({},t),{href:i})}}return{tagName:e,attribs:t}}}},d={disableForced4SpacesIndentedSublists:!0,emoji:!0,excludeTrailingPunctuationFromURLs:!0,ghCompatibleHeaderId:!0,ghMentions:!0,ghMentionsLink:"https://www.kaggle.com/{u}",openLinksInNewWindow:!0,prefixHeaderId:!0,parseImgDimensions:!0,simpleLineBreaks:!0,simplifiedAutoLink:!0,smartIndentationFix:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,tasklists:!0};t.a=s.memo((function(e){var t=s.useRef(new r.Converter(d)),n=s.useRef(null);s.useEffect((function(){var t,o,r=n.current;if(r){Object(i.a)(e.value||"",n.current);var s=Array.from(r.querySelectorAll(".markdown-converter__text--rendered table"));try{for(var l=Object(a.__values)(s),c=l.next();!c.done;c=l.next()){var d=c.value;if(!d.parentElement||!d.parentElement.classList.contains("tableWrapper")){var u=document.createElement("div");u.classList.add("tableWrapper"),d.parentElement.insertBefore(u,d),u.appendChild(d)}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(o=l.return)&&o.call(l)}finally{if(t)throw t.error}}}}),["value"]);var u;return Object(l.j)(s.createElement("div",{className:"markdown-converter__text--rendered",ref:n}),(u=e.value.replace(/&gt;/g,">").replace(/&lt;/g,"<"),u=t.current.makeHtml(u),o(u,c)))}))},1658:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return r})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h}));var a=n(3),i=n(209),o=n(1680);function r(e){var t=e.loaded,n=void 0===t?0:t,a=e.total,i=void 0===a?0:a,o={addEventListener:function(){},removeEventListener:function(){},dispatchEvent:function(e){return!0}};return{loaded:n,total:i,lengthComputable:i>0,timeStamp:Date.now(),type:"SyntheticProgressEvent",preventDefault:function(){},stopPropagation:function(){},stopImmediatePropagation:function(){},bubbles:!1,cancelable:!1,cancelBubble:!1,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!0,srcElement:{},deepPath:function(){return[]},initEvent:{},currentTarget:o,target:o,composed:!1,NONE:1,AT_TARGET:1,BUBBLING_PHASE:1,CAPTURING_PHASE:1}}var s,l={id:"00000000-0000-0000-0000-000000000000",name:"Pending",source:"UNKNOWN",context:{entityId:-1,entityName:null,type:"generic"},progressProps:{description:"Pending",initiatedTimeStamp:Date.now(),progressEvent:r({loaded:0,total:0})},bypassed:!1,errorType:null,errors:null},c={solution:null,solutionMapping:null,submission:null,submissionMapping:null},d=function(t){return Object(a.__awaiter)(void 0,void 0,Promise,(function(){var n;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=e.Admin.getBackgroundTask,s&&(n=n.with(s)),[4,n({id:t})];case 1:return[2,a.sent()]}}))}))};function u(e,t,n,r){var s,l=this;void 0===t&&(t=null),void 0===n&&(n=d);var c=null,u=null,p=null,h=null;var g=function(e){i(e,"taskProgress must exist to report notifications on");var n=function(e){return!function(e){if(!e)return!0;if(e.bypassed)return!0;if(function(e){if(!e||!e.progressProps)return!1;var t=e.progressProps.progressEvent;return t&&!1===t.isLengthComputable||0===t.loaded&&0===t.total}(e))return!1;return function(e){return!!(e&&e.errors&&e.errors.length)}(e)||m(e)}(e)}(e);if(e.errorType&&e.errors&&e.errors.length)!function(e){var n=e.errors.map((function(e){return new o.a(e)}));h&&h(t?t(e.errorType,n):n)}(e);else if(n)u&&u(e);else{if(!m(e))throw new Error("unknown state of taskProgress: "+JSON.stringify(e));p&&p(e)}return n},f=function(e,t,o){void 0===o&&(o=2e3),window.clearTimeout(s),s=window.setTimeout((function(){(function(e){return Object(a.__awaiter)(l,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return i(e,"taskProgress must exist to poll progress"),[4,n(e.id)];case 1:return(t=a.sent())||!e.context?[3,3]:[4,r(e.context)];case 2:t=a.sent(),a.label=3;case 3:return[2,t]}}))}))})(e).then((function(e){g(e)?f(e,t):t(e)})).catch((function(e){if(!h)throw e;h([e])}))}),o)};return Object.defineProperty((function(t,n){return new Promise((function(o,r){(function(t,n,o){return Object(a.__awaiter)(l,void 0,void 0,(function(){var r,s,l;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:o||"function"!=typeof n||(o=n,n=void 0),o||(o=function(e){}),a.label=1;case 1:return a.trys.push([1,3,,4]),c&&c(),[4,e(t,n)];case 2:return r=a.sent(),i((s=r).id,"taskProgress should have an id"),g(s)?f(s,o):o(s),[2,s];case 3:throw l=a.sent(),h&&h([l]),l;case 4:return[2]}}))}))})(t,n,o).catch(r)}))}),"subscribe",{value:function(e,t,n,a,i){return c=e,u=t,p=n,h=a,function(e){return function(){c=null,u=null,p=null,h=null,e()}}(i)},enumerable:!0,configurable:!0})}function m(e){if(e.bypassed)return!0;var t=e&&e.progressProps?e.progressProps.progressEvent:null;return t&&0!==t.total&&t.total===t.loaded}function p(e){if(!e.progressEvent)return 0;var t=e.progressEvent,n=(t.lengthComputable,t.loaded),a=t.total,i=t.timeStamp-e.initiatedTimeStamp,o=(a-n)/(a?n/i:0),r=Math.round(o/1e3);return r===1/0||NaN===r?null:r}function h(e){var t=p(e);if(null==t)return"";if(1==t)return"1 sec left";if(t<60)return t+" secs left";var n=Math.floor(t/60);if(1==n)return"1 min left";if(n<60)return n+" mins left";var a=Math.floor(t/3600);return 1==a?"1 hour left":a+" hours left"}}).call(this,n(286))},1659:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),i=n(0),o=n(287),r=n(1656),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.formattedNumber=function(e){return Object(r.b)(e)},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props.count?this.props.count:0;return this.props.hideCount?i.createElement("span",null,o(this.props.word,e,!1)):this.props.formatNumber?i.createElement("span",null,Object(r.b)(e)+" "+o(this.props.word,e)):i.createElement("span",null,o(this.props.word,e,!0))},t}(i.Component)},1660:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),i=n.n(a),o=n(0),r=n(1685);const s=i.a.div`
  align-items: center;
  border-right: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  display: inline-flex;
  margin: ${e=>{const t=e.theme.material.spacing;return`${t(1)} ${t(3)} ${t(1)} 0`}};
  padding-right: ${e=>e.theme.material.spacing(3)};

  &:first-child {
    padding-left: 0;
  }

  &:last-child {
    border-right: 0;
  }
`,l=i()(r.a)`
  && {
    font-size: ${e=>e.theme.material.typography.body3.fontSize};
  }
`;function c({text:e,color:t,onClick:n,href:a}){return o.createElement(s,null,o.createElement(l,{color:t,bold:!0,href:a,onClick:n},e))}},1661:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a,i,o,r,s,l,c,d,u,m,p,h=n(3),g=n(1428),f=n(0),b=n(1688),v=n(1671),y=n(1658),w=n(1678),E=n(1662),x=n(1),C=n.n(x),k=n(10),_=n(575),S=C.a.div.withConfig({displayName:"FileUploader2_ProgressWithControlsView",componentId:"sc-1ueb785"})(a||(a=Object(h.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),O=C.a.div.withConfig({displayName:"FileUploader2_UploadControlsView",componentId:"sc-3fqvna"})(i||(i=Object(h.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  margin-left: 10px;\n"],["\n  flex: 0 0 auto;\n  margin-left: 10px;\n"]))),T=C.a.span.withConfig({displayName:"FileUploader2_UploadFileName",componentId:"sc-le4q2s"})(o||(o=Object(h.__makeTemplateObject)(["\n  font-weight: bold;\n  margin-left: 5px;\n  margin-right: 5px;\n  white-space: nowrap;\n"],["\n  font-weight: bold;\n  margin-left: 5px;\n  margin-right: 5px;\n  white-space: nowrap;\n"]))),j=C.a.div.withConfig({displayName:"FileUploader2_ProgressDescription",componentId:"sc-nqponv"})(r||(r=Object(h.__makeTemplateObject)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={progress:t.props.promise.progress},t.oldPromiseOnProgress=t.props.promise.onProgress,t.promiseOnProgress=function(e){t.setState({progress:e}),t.oldPromiseOnProgress&&t.oldPromiseOnProgress(e)},t.onPause=function(){var e=t.props.promise.pause();t.setState({uploadResumer:e})},t.onResume=function(){t.state.uploadResumer(),t.setState({uploadResumer:null})},t}return Object(h.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.promise.onProgress=this.promiseOnProgress},t.prototype.componentWillUnmount=function(){this.props.promise.onProgress=this.oldPromiseOnProgress},t.prototype.render=function(){var e=this.state.progress,t=e.hasStarted&&!e.isDone?y.d(e.progressProps):null;return e.hasSucceeded&&e.uploadedBlobInfo?f.createElement("div",null,f.createElement("span",{className:"fa fa-check"}),f.createElement(_.b,{tip:"MD5: "+e.uploadedBlobInfo.md5Hash},f.createElement(T,null,this.props.file.name)),f.createElement("span",null,"(",f.createElement(E.a,{value:this.props.file.size}),")")):f.createElement("div",null,f.createElement(j,null,f.createElement("span",null,e.description,":")," ",f.createElement(T,null,this.props.file.name),e.nextRetryDate&&f.createElement("span",null,"Will retry in ",f.createElement(w.a,{time:e.nextRetryDate}))),f.createElement(S,null,e.hasStarted&&f.createElement(v.a,Object(h.__assign)({},e.progressProps),f.createElement(v.b,Object(h.__assign)({},e.progressProps)),f.createElement(v.c,null,f.createElement(E.a,{value:e.totalBytesLoaded})," of"," ",f.createElement(E.a,{value:this.props.file.size}),t?", "+t:"")),f.createElement(O,null,e.isDone?f.createElement("span",{className:"fa fa-check"}):this.state.uploadResumer?f.createElement("span",{className:"fa fa-play",onClick:this.onResume}):e.isUploading?f.createElement("span",{className:"fa fa-pause",onClick:this.onPause}):f.createElement("i",{className:"fa fa-circle-o-notch","aria-hidden":"true"}))))},t}(f.Component),N=C.a.div.withConfig({displayName:"FileUploader2_FileDropContentsView",componentId:"sc-1qa377g"})(s||(s=Object(h.__makeTemplateObject)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"],["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),D=C.a.div.withConfig({displayName:"FileUploader2_FileUploader2View",componentId:"sc-6xpn5n"})(l||(l=Object(h.__makeTemplateObject)(["\n  width: 100%;\n  box-sizing: border-box;\n  font-weight: ",";\n  margin: 24px;\n\n  > .dropzone {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    /* HACK(cochamberlain): Dropzone is hard setting these as inline styles */\n    width: calc(100% - 48px) !important;\n    min-height: 140px;\n    border: dashed 2px #dedfe0 !important;\n    color: #6f7175;\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n"],["\n  width: 100%;\n  box-sizing: border-box;\n  font-weight: ",";\n  margin: 24px;\n\n  > .dropzone {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    /* HACK(cochamberlain): Dropzone is hard setting these as inline styles */\n    width: calc(100% - 48px) !important;\n    min-height: 140px;\n    border: dashed 2px #dedfe0 !important;\n    color: #6f7175;\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n"])),k.d.FontWeightMedium,k.b.TextLinkHover),$=C.a.div.withConfig({displayName:"FileUploader2_CompactFileUploader2View",componentId:"sc-13dptl5"})(c||(c=Object(h.__makeTemplateObject)(["\n  box-sizing: border-box;\n  cursor: pointer;\n  font-weight: ",";\n\n  > .dropzone {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    /* HACK(cochamberlain): Dropzone is hard setting these as inline styles */\n    width: 16px !important;\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n"],["\n  box-sizing: border-box;\n  cursor: pointer;\n  font-weight: ",";\n\n  > .dropzone {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    box-sizing: border-box;\n    /* HACK(cochamberlain): Dropzone is hard setting these as inline styles */\n    width: 16px !important;\n    cursor: pointer;\n    &:hover {\n      color: ",";\n    }\n  }\n"])),k.d.FontWeightMedium,k.b.TextLinkHover),M=C.a.ul.withConfig({displayName:"FileUploader2_FileUploadStatusList",componentId:"sc-qtfa04"})(d||(d=Object(h.__makeTemplateObject)(["\n  width: calc(100% - 48px);\n  margin-top: 20px;\n"],["\n  width: calc(100% - 48px);\n  margin-top: 20px;\n"]))),U=C.a.li.withConfig({displayName:"FileUploader2_FileUploadStatusListItem",componentId:"sc-j98n1o"})(u||(u=Object(h.__makeTemplateObject)(["\n  margin-bottom: 10px;\n"],["\n  margin-bottom: 10px;\n"]))),P=C.a.p.withConfig({displayName:"FileUploader2_FileDropMaxSizeNote",componentId:"sc-1fi12de"})(m||(m=Object(h.__makeTemplateObject)(["\n  text-align: center;\n"],["\n  text-align: center;\n"]))),F=C.a.p.withConfig({displayName:"FileUploader2_FileDropMaxSizeErrorMessage",componentId:"sc-1u36kop"})(p||(p=Object(h.__makeTemplateObject)(["\n  color: ",";\n  text-align: center;\n"],["\n  color: ",";\n  text-align: center;\n"])),k.b.KaggleRed),R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={uploads:[]},t.dropFiles=function(e,n){return Object(h.__awaiter)(t,void 0,void 0,(function(){var t,n,a,i,o,r,s,l,c,d,u,m;return Object(h.__generator)(this,(function(p){switch(p.label){case 0:if(t=this.props,n=t.bucket,a=t.onBlobUploaded,i=Object(h.__spread)(this.state.uploads),0==e.length)return[2];o=[];try{for(r=Object(h.__values)(e),s=r.next();!s.done;s=r.next())l=s.value,c=(this.props.uploadFile||b.a)(n,l),o.push(a?c.then((function(e){return a(e.token,e.name,e.size,e.mediaLink)})):c),d={file:l,promise:c},i.push(d)}catch(e){u={error:e}}finally{try{s&&!s.done&&(m=r.return)&&m.call(r)}finally{if(u)throw u.error}}return this.setState({uploads:i}),[4,Promise.all(o)];case 1:return p.sent(),this.props.onUploadsFinished&&this.props.onUploadsFinished(),[2]}}))}))},t.handleDragLeave=function(){return t.setState({isDraggingOverFileDrop:!1})},t.handleDragEnter=function(){return t.setState({isDraggingOverFileDrop:!0})},t}return Object(h.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.title,a=t.children,i=t.compact,o=this.state.uploads,r=i?$:D;return f.createElement(r,null,n&&f.createElement("h3",null,n),f.createElement(g.a,{onDrop:this.dropFiles,maxSize:this.props.maxSize,multiple:!this.props.singleUpload,onDragLeave:this.handleDragLeave,onDragEnter:this.handleDragEnter},(function(t){var n=t.getRootProps,o=t.getInputProps,r=t.rejectedFiles;return f.createElement("div",Object(h.__assign)({},n({className:"dropzone"})),f.createElement("input",Object(h.__assign)({},o())),f.createElement(N,{title:"Upload Files"},f.createElement("div",{className:"fa fa-upload"+(i?"":" file-uploader__upload-icon")}),!i&&a?f.createElement("div",null,a||e.props.uploadFilesMessage&&e.props.uploadFilesMessage||"Upload Files"):null,e.props.maxSize&&f.createElement(P,null,"Size limit: ",f.createElement(E.a,{value:e.props.maxSize})),e.props.maxSize&&r.length>0&&r[0].size>e.props.maxSize&&f.createElement(F,null,"One or more files have exceeded the size limit.")))})),!i&&o&&o.length>0&&f.createElement(M,null,o.map((function(e,t){return f.createElement(U,{key:t},f.createElement(I,Object(h.__assign)({},e)))}))))},t}(f.Component)},1662:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(1673),i=n(575);function o(t){var n=t.value,o=t.children,r=t.significantFigures,s=t.disableTip,l=t.separator,c={value:n,magnitude:t.magnitude||a.a.byte},d=Object(a.b)(c,r||2),u=o?o(d):e.createElement("span",null,d.value,void 0!==l?l:" ",d.magnitude.metricShort);return s?u:e.createElement(i.b,{tip:n.toLocaleString()+" bytes"},u)}}).call(this,n(0))},1664:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m}));var a=n(1416),i=n(1468),o=n(1),r=n.n(o),s=n(0);const l=r()(a.a)`
  margin-right: ${e=>e.theme.size.pad.s};
`,c=r.a.span`
  white-space: nowrap;
`;function d(e){const{isDisabled:t,onClick:n,className:a}=e;return s.createElement(i.a,{useKM:!0,emphasis:"medium",disabled:t,onClick:n,className:a},s.createElement(l,{icon:"cloud_upload",size:"inline"}),s.createElement(c,null,"Upload more files"))}function u(e){const{isDisabled:t,onClick:n,className:a}=e;return s.createElement(i.a,{useKM:!0,emphasis:"medium",disabled:t,onClick:n,className:a},s.createElement(l,{icon:"add",size:"inline"}),s.createElement(c,null,"Add remote file"))}function m(e){const{isDisabled:t,onClick:n,className:a}=e;return s.createElement(i.a,{useKM:!0,emphasis:"medium",disabled:t,onClick:n,className:a},s.createElement(c,null,"Back to search"))}},1665:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(3),i=n(0),o=n(22),r=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={isMouseOver:!1},n.showToolTip=function(){n.props.interactive&&clearTimeout(n.hideTimeout),n.setState({isMouseOver:!0})},n.hideToolTip=function(){if(n.props.interactive)return clearTimeout(n.hideTimeout),void(n.hideTimeout=window.setTimeout((function(){n.setState({isMouseOver:!1})}),t.INTERACTIVE_DELAY));n.setState({isMouseOver:!1})},n}return Object(a.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){e.isAlwaysShown!==this.props.isAlwaysShown&&this.setState({isMouseOver:!1})},t.prototype.componentWillUnmount=function(){this.props.interactive&&clearTimeout(this.hideTimeout)},t.prototype.makeClassName=function(e){var t,n,a="tooltip-multiline"+(e||"")+"--";return o("tooltip-multiline"+(e||""),((t={})[a+"left"]=this.props.alignLeft,t),((n={})[a+"interactive"]=this.props.interactive&&this.state.isMouseOver,n),this.props.className)},t.prototype.render=function(){var e=!0===this.props.isAlwaysShown||this.state.isMouseOver;return i.createElement("span",{className:this.makeClassName(),onMouseEnter:this.showToolTip,onMouseLeave:this.hideToolTip},i.createElement("span",{className:this.makeClassName("__before"),style:{opacity:e?1:0}}),this.props.children,i.createElement("span",{className:this.makeClassName("__after"),style:{opacity:e?1:0}},this.props.tipContent))},t.INTERACTIVE_DELAY=300,t}(i.Component)},1666:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return x}));var a,i,o,r,s,l,c=n(3),d=n(10),u=n(1),m=n.n(u),p=n(386),h=n(30),g=m.a.div.withConfig({displayName:"Dropdowns_DropdownBody",componentId:"sc-1llzs7g"})(a||(a=Object(c.__makeTemplateObject)(["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: 4px;\n  bottom: -",";\n  box-shadow: 0 0px 6px rgba(0, 0, 0, 0.06), 0 6px 12px rgba(0, 0, 0, 0.12);\n  color: ",";\n  list-style: none;\n  padding: ",";\n  position: absolute;\n  ",";\n  transform: translateY(100%);\n  z-index: ",";\n\n  /* CSS Triangle */\n  &:after {\n    border-color: transparent transparent ",' transparent;\n    border-style: solid;\n    border-width: 7px;\n    box-sizing: border-box;\n    content: "";\n    display: block;\n    margin-top: -6px;\n    position: absolute;\n    ',";\n    top: -8px;\n  }\n\n  /* CSS Triangle Border */\n  &:before {\n    border-color: transparent transparent ",'\n      transparent;\n    border-style: solid;\n    border-width: 8px;\n    box-sizing: border-box;\n    content: "";\n    display: block;\n    margin-top: -6px;\n    position: absolute;\n    ',";\n    top: -10px;\n  }\n"],["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: 4px;\n  bottom: -",";\n  box-shadow: 0 0px 6px rgba(0, 0, 0, 0.06), 0 6px 12px rgba(0, 0, 0, 0.12);\n  color: ",";\n  list-style: none;\n  padding: ",";\n  position: absolute;\n  ",";\n  transform: translateY(100%);\n  z-index: ",";\n\n  /* CSS Triangle */\n  &:after {\n    border-color: transparent transparent ",' transparent;\n    border-style: solid;\n    border-width: 7px;\n    box-sizing: border-box;\n    content: "";\n    display: block;\n    margin-top: -6px;\n    position: absolute;\n    ',";\n    top: -8px;\n  }\n\n  /* CSS Triangle Border */\n  &:before {\n    border-color: transparent transparent ",'\n      transparent;\n    border-style: solid;\n    border-width: 8px;\n    box-sizing: border-box;\n    content: "";\n    display: block;\n    margin-top: -6px;\n    position: absolute;\n    ',";\n    top: -10px;\n  }\n"])),d.b.PureWhite,d.b.ContentBorder,d.g.PadS,d.b.TextMedium,d.g.PadM,(function(e){return e.rightSide?"right: 0;":"left: 0"}),d.i.Z1001,d.b.PureWhite,(function(e){return e.rightSide?"right: 16px;":"left: 16px"}),d.b.ContentBorder,(function(e){return e.rightSide?"right: 16px;":"left: 16px"})),f=m()(g).withConfig({displayName:"Dropdowns_HeaderDropdownBody",componentId:"sc-q55zbl"})(i||(i=Object(c.__makeTemplateObject)(["\n  width: 150px;\n"],["\n  width: 150px;\n"]))),b=m()(g).withConfig({displayName:"Dropdowns_ImageDropdownBody",componentId:"sc-yyi4nn"})(o||(o=Object(c.__makeTemplateObject)(["\n  width: 250px;\n"],["\n  width: 250px;\n"]))),v=m.a.div.withConfig({displayName:"Dropdowns_DropdownItem",componentId:"sc-ah111"})(r||(r=Object(c.__makeTemplateObject)(["\n  display: flex;\n  font-size: ",";\n  padding-bottom: ",";\n\n  &:last-child {\n    padding-bottom: 0;\n  }\n\n  &:hover {\n    color: ",";\n  }\n"],["\n  display: flex;\n  font-size: ",";\n  padding-bottom: ",";\n\n  &:last-child {\n    padding-bottom: 0;\n  }\n\n  &:hover {\n    color: ",";\n  }\n"])),d.d.FontSizeM,d.g.PadS,d.b.TextLink),y=m()(v).withConfig({displayName:"Dropdowns_HeaderDropdownItem",componentId:"sc-d2rylz"})(s||(s=Object(c.__makeTemplateObject)(["\n  font-size: ",";\n  font-weight: ",";\n"],["\n  font-size: ",";\n  font-weight: ",";\n"])),(function(e){return e.fontSize}),d.d.FontWeightMedium),w=m()(p.b).withConfig({displayName:"Dropdowns_ImageDropdownIcon",componentId:"sc-1yvc0s2"})(l||(l=Object(c.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),d.b.TextLight,d.g.PadM),E=e.memo((function(t){var n=e.useRef(null);e.useEffect((function(){var e=function(e){var a=t.handleToggleHeaderDropdown;t.showHeaderDropdown&&!n.current.contains(e.target)&&a()},a=function(e){var n=t.handleToggleHeaderDropdown,a=t.showHeaderDropdown;27==e.keyCode&&a&&n()};return window.addEventListener("mousedown",e,!0),window.addEventListener("keydown",a,!0),function(){window.removeEventListener("mousedown",e,!0),window.removeEventListener("keydown",a,!0)}}),[]);var a=t.handleInsert,i=t.snapSelection,o=t.value.substring(i.start,i.end);return e.createElement("div",{ref:n},e.createElement(f,null,e.createElement(y,{fontSize:"26px",onClick:function(e){return a(o,"# ","")}},"Heading 1"),e.createElement(y,{fontSize:"24px",onClick:function(e){return a(o,"## ","")}},"Heading 2"),e.createElement(y,{fontSize:"22px",onClick:function(e){return a(o,"### ","")}},"Heading 3"),e.createElement(y,{fontSize:"20px",onClick:function(e){return a(o,"#### ","")}},"Heading 4"),e.createElement(y,{fontSize:"18px",onClick:function(e){return a(o,"##### ","")}},"Heading 5"),e.createElement(y,{fontSize:"16px",onClick:function(e){return a(o,"###### ","")}},"Heading 6")))})),x=e.memo((function(t){var n=e.useRef(null);e.useEffect((function(){var e=function(e){var a=t.handleToggleImageDropdown;t.showImageDropdown&&!n.current.contains(e.target)&&a()},a=function(e){var n=t.handleToggleImageDropdown,a=t.showImageDropdown;27==e.keyCode&&a&&n()};return window.addEventListener("mousedown",e,!0),window.addEventListener("keydown",a,!0),function(){window.removeEventListener("mousedown",e,!0),window.removeEventListener("keydown",a,!0)}}),[]);t.handleInsert;var a=t.handleToggleLinkImageModal,i=t.handleToggleUploadImageModal,o=t.snapSelection;t.value.substring(o.start,o.end);return e.createElement("div",{ref:n},e.createElement(b,null,h.a.mdeImageUploader?e.createElement(v,{onClick:function(e){return i()}},e.createElement(w,{name:"upload"})," Upload image from computer"):null,e.createElement(v,{onClick:function(e){return a()}},e.createElement(w,{name:"globe"})," Embed image from a URL")))}))}).call(this,n(0))},1667:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return h}));var a,i=n(3),o=n(0),r=n(22),s=n(1648),l=n(1422),c=n(147);!function(e){e[e.Html=0]="Html",e[e.Markdown=1]="Markdown"}(a||(a={}));var d=["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre","h1","h2","img"];function u(e){switch(e){case a.Html:return"text/html";case a.Markdown:default:return"text/markdown"}}function m(e){switch(e){case"":case"text/html":return a.Html;case"text/plain":case"text/markdown":case"text/x-markdown":return a.Markdown;default:return a.Html}}function p(e){return u(m(e))}var h=function(t){function n(n){var a=t.call(this,n)||this;return a.converter=new e.getSanitizingConverter,a}return Object(i.__extends)(n,t),n.prototype.createSanitizedMarkup=function(){var e=this.props,t=e.allowUnsanitizedHtml,n=e.content,i=e.mimeType,o=e.insertNofollow;if(!n)return"";var r="";return r=m(i)==a.Html?t?n:l(n,{allowedTags:d,allowedAttributes:{a:["href","name","target"],div:["style"],img:["src","alt","align","width","height","style"],"*":["class"]}}):this.converter.makeHtml(n),o&&(r=r.replace(/(<a .*?href=".*?".*?)(>)/g,'$1 rel="nofollow"$2')),r.replace(/\\(href|url)\s*({.*?})(\s*{.*?})?/g,"$2")},n.prototype.componentDidMount=function(){Object(s.a)(this.props.content,this.renderedDiv)},n.prototype.componentDidUpdate=function(){Object(s.a)(this.props.content,this.renderedDiv)},n.prototype.render=function(){var e=this,t=this.props.isCmsContent;return Object(c.j)(o.createElement("div",{className:r(t?"cms-page-content":"markdown-converter__text--rendered",this.props.contentClassName),ref:function(t){e.renderedDiv=t}}),this.createSanitizedMarkup())},n}(o.Component)}).call(this,n(288))},1668:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"o",(function(){return u})),n.d(t,"n",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"i",(function(){return f})),n.d(t,"l",(function(){return b})),n.d(t,"k",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"j",(function(){return w})),n.d(t,"m",(function(){return E}));var a=n(383),i=n(2010),o=n(1),r=n.n(o);const s=e=>e.theme.material.color.brand.grey[500],l=e=>e.theme.material.color.brand.grey[100],c=e=>e.theme.material.color.brand.grey[50],d=e=>e.theme.material.spacing(4),u=e=>e.theme.material.spacing(6),m=e=>e.theme.material.spacing(1),p=r.a.div`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  background-color: ${e=>e.theme.material.color.white};
`,h=r.a.li`
  box-sizing: border-box;
  list-style-type: none;
  background-color: ${e=>!0===e.selected?e.theme.material.color.brand.blue[50]:e.theme.material.color.white};
  border-top: 1px solid ${l};
  padding: ${d} ${u};
  display: flex;
  position: relative;
  justify-content: space-between;
  cursor: pointer;

  &:hover {
    background-color: ${c};
  }
`,g=r.a.div`
  flex: 1 1 0;
  min-width: 0;
`,f=(r.a.div`
  flex: 0 0 auto;
  min-width: 0;
  margin-left: ${u};
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    display: none;
  }
`,r.a.div`
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  margin-left: ${e=>e.theme.material.spacing(20)};
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    display: none;
  }
`),b=r.a.div`
  display: flex;
`,v=r()(a.t)`
  flex: 1 1 auto;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,y=r()(a.e)`
  color: ${s};
`,w=r()(a.u)`
  color: ${s};
  /* link needs to appear above link to list item */
  z-index: ${e=>e.theme.zindex.foreground};

  :visited {
    color: ${s};
  }
  :hover {
    color: ${e=>e.theme.material.color.anchor.hover};
  }
`,E=r()(i.a)`
  /* needs to appear above link to list item */
  z-index: ${e=>e.theme.zindex.foreground};
`},1669:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return E})),n.d(t,"a",(function(){return x}));var a=n(3),i=n(1),o=n.n(i),r=n(209),s=n(1433),l=n(10),c=n(575),d=o.a.div.withConfig({displayName:"FlexTable_FlexTableView",componentId:"sc-11kfhsf"})(C||(C=Object(a.__makeTemplateObject)(['\n  align-items: center;\n  color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n  font-size: 14px;\n  font-variant-numeric: tabular-nums;\n  justify-content: space-between;\n  line-height: 22px;\n  margin-bottom: 12px;\n\n  & > div:first-child {\n    background: #f8f9f9;\n    color: rgba(0, 0, 0, 0.5);\n  }\n\n  & > div {\n    align-items: center;\n    border: 1px solid #dedfe0;\n    border-width: 1px 0 0 1px;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    width: 100%;\n    &:last-child {\n      border-bottom-width: 1px;\n    }\n  }\n  & button {\n    align-self: flex-end;\n  }\n\n  & input,\n  & select {\n    padding: 4px 6px;\n    display: inline-flex;\n    flex: 1 1 auto;\n    border: 1px solid rgb(169, 169, 169);\n    width: 95%;\n    border: 0;\n  }\n\n  & select {\n    border: 0;\n    color: #008abc;\n    cursor: pointer;\n    font-family: "Inter", sans-serif, sans;\n    font-size: 14px;\n\n    > option {\n      color: rgba(0, 0, 0, 0.7);\n      line-height: 20px;\n      font-size: 14px;\n    }\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  & input {\n    font-size: 1em;\n    line-height: 1em;\n    border-top: 0;\n  }\n'],['\n  align-items: center;\n  color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n  font-size: 14px;\n  font-variant-numeric: tabular-nums;\n  justify-content: space-between;\n  line-height: 22px;\n  margin-bottom: 12px;\n\n  & > div:first-child {\n    background: #f8f9f9;\n    color: rgba(0, 0, 0, 0.5);\n  }\n\n  & > div {\n    align-items: center;\n    border: 1px solid #dedfe0;\n    border-width: 1px 0 0 1px;\n    display: flex;\n    flex-flow: row nowrap;\n    justify-content: space-between;\n    width: 100%;\n    &:last-child {\n      border-bottom-width: 1px;\n    }\n  }\n  & button {\n    align-self: flex-end;\n  }\n\n  & input,\n  & select {\n    padding: 4px 6px;\n    display: inline-flex;\n    flex: 1 1 auto;\n    border: 1px solid rgb(169, 169, 169);\n    width: 95%;\n    border: 0;\n  }\n\n  & select {\n    border: 0;\n    color: #008abc;\n    cursor: pointer;\n    font-family: "Inter", sans-serif, sans;\n    font-size: 14px;\n\n    > option {\n      color: rgba(0, 0, 0, 0.7);\n      line-height: 20px;\n      font-size: 14px;\n    }\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  & input {\n    font-size: 1em;\n    line-height: 1em;\n    border-top: 0;\n  }\n']))),u=o.a.div.withConfig({displayName:"FlexTable_FlexRowView",componentId:"sc-18wdrox"})(k||(k=Object(a.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n"],["\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n"])));function m(e,t){return e.view||t}function p(t){var n=t.children,i=Object(a.__rest)(t,["children"]);return e.createElement(h,Object(a.__assign)({},i),n&&n.map((function(t,n){return e.createElement(g,{key:n,children:t})})))}function h(t){var n=t.children,i=t.widthRatios,o=Object(a.__rest)(t,["children","widthRatios"]),r=m(t,d);return e.createElement(r,Object(a.__assign)({},o),n&&e.Children.map(t.children,(function(t,n){return null===t?null:i?e.cloneElement(t,{widthRatios:i}):t})))}function g(t){var n=t.children,i=t.showContentHover,o=Object(a.__rest)(t,["children","showContentHover"]),r=n?e.Children.map(n,(function(t,n){return e.createElement(x,{showContentHover:i,key:n},t)})):[];return e.createElement(E,Object(a.__assign)({},o,{children:r}))}var f=o.a.span.withConfig({displayName:"FlexTable_FlexCellOverlayView",componentId:"sc-1anj4ho"})(_||(_=Object(a.__makeTemplateObject)(["\n  position: absolute;\n  right: 0;\n  z-index: 10;\n  height: 33px;\n  display: inline-flex;\n  align-items: center;\n"],["\n  position: absolute;\n  right: 0;\n  z-index: 10;\n  height: 33px;\n  display: inline-flex;\n  align-items: center;\n"]))),b=o()(f).withConfig({displayName:"FlexTable_FlexCellTipView",componentId:"sc-14l4t8b"})(S||(S=Object(a.__makeTemplateObject)(["\n  pointer-events: none;\n  right: 10px;\n  font-size: 0.7rem;\n  opacity: 0.8;\n  color: ",";\n"],["\n  pointer-events: none;\n  right: 10px;\n  font-size: 0.7rem;\n  opacity: 0.8;\n  color: ",";\n"])),l.b.TextLink),v=o()(b).withConfig({displayName:"FlexTable_FlexCellWarnView",componentId:"sc-1ixm38f"})(O||(O=Object(a.__makeTemplateObject)(["\n  color: ",";\n"],["\n  color: ",";\n"])),l.b.KaggleRedDark),y=o.a.div.withConfig({displayName:"FlexTable_FlexCellContainerView",componentId:"sc-1hp6a7l"})(T||(T=Object(a.__makeTemplateObject)(["\n  position: relative;\n  display: inline-flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n  align-items: center;\n  box-sizing: border-box;\n  border-right: 1px solid #dedfe0;\n  min-height: 33px;\n  min-width: 0px;\n  padding: 0;\n  margin: 0;\n\n  &:hover "," {\n    opacity: 0.2;\n  }\n\n  &:hover "," {\n    opacity: 0.9;\n  }\n"],["\n  position: relative;\n  display: inline-flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n  align-items: center;\n  box-sizing: border-box;\n  border-right: 1px solid #dedfe0;\n  min-height: 33px;\n  min-width: 0px;\n  padding: 0;\n  margin: 0;\n\n  &:hover "," {\n    opacity: 0.2;\n  }\n\n  &:hover "," {\n    opacity: 0.9;\n  }\n"])),b,f),w=o.a.div.withConfig({displayName:"FlexTable_FlexCellView",componentId:"sc-2mn4ye"})(j||(j=Object(a.__makeTemplateObject)(["\n  position: relative;\n  display: inline-flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n  align-items: center;\n  box-sizing: border-box;\n  min-height: 33px;\n  min-width: 0px;\n  padding: 0;\n  width: 100%;\n\n  & > * {\n    overflow: hidden;\n    padding: 6px 10px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  & > select {\n    min-height: 33px;\n  }\n\n  & > input {\n    min-height: 23px;\n  }\n"],["\n  position: relative;\n  display: inline-flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n  align-items: center;\n  box-sizing: border-box;\n  min-height: 33px;\n  min-width: 0px;\n  padding: 0;\n  width: 100%;\n\n  & > * {\n    overflow: hidden;\n    padding: 6px 10px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  & > select {\n    min-height: 33px;\n  }\n\n  & > input {\n    min-height: 23px;\n  }\n"])));function E(t){var n=t.children,i=t.widthRatios,o=Object(a.__rest)(t,["children","widthRatios"]),s=n?e.Children.count(n):0;i&&r(i.length===s,"FlexRow has "+s+" cells but only specifies "+i.length+" widthRatios");var l=m(t,u),c=100/(i?i.reduce((function(e,t){return e+t}),0):s);return e.createElement(l,Object(a.__assign)({},o),n&&e.Children.map(n,(function(t,n){var a=i?i[n]:1,o={style:{width:Math.floor(c*a*10)/10+"%"}};return e.cloneElement(t,o)})))}function x(t){var n=t.children,i=t.cursor,o=t.hideTip,r=t.overlay,l=t.tip,d=t.warn,u=t.justifyContent,p=t.showContentHover,h=Object(a.__rest)(t,["children","cursor","hideTip","overlay","tip","warn","justifyContent","showContentHover"]),g={justifyContent:u||"flex-start"},E=s({inner:e.createElement(w,{style:g},e.isValidElement(n)?n:e.createElement("div",null,n)),overlay:r?e.createElement(f,null,r):null}),x=d||l||p?e.createElement(c.b,{tip:d||l||E,style:{width:"100%",cursor:i||"default"}},E):E,C=o?null:d?v:l?b:null,k=m(t,y);return e.createElement(k,Object(a.__assign)({},h),x,!r&&C&&e.createElement(C,{children:e.createElement("i",{className:"fa fa-"+(d?"exclamation":"info")+"-circle"})}))}var C,k,_,S,O,T,j;!function(t){function n(e){var n=t.call(this,e)||this;return n.handleKeyPress=function(e){n.props.rejectedCharacterRegExp&&(String.fromCharCode(e.which).match(n.props.rejectedCharacterRegExp)&&e.preventDefault&&(e.preventDefault(),e.stopPropagation()))},n.handleKeyDown=function(e){"Enter"!=e.key?"Escape"!=e.key||n.handleCancel():n.handleSave()},n.handleSave=function(){var e=n.props.onUpdate;n.setState({isEditing:!1},(function(){e&&e(!1)})),n.props.onSave&&n.props.onSave(n.state.content)},n.handleCancel=function(){var e=n.props.onUpdate;n.setState({isEditing:!1},(function(){e&&e(!1)}))},n.handleEdit=function(){var e=n.props.onUpdate;n.setState({isEditing:!0},(function(){n.inputBox.focus(),e&&e(!0)}))},n.state={content:n.props.value||"",isEditing:!1},n}Object(a.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({content:e.value||""})},n.prototype.handleChange=function(e){var t=this;this.setState({content:e.target.value},(function(){t.props.onChange&&t.props.onChange(t.state.content)}))},n.prototype.renderInput=function(){var t=this;return e.createElement("input",{ref:function(e){return t.inputBox=e},className:"inline-text-editor__input",style:this.props.inputStyle,value:this.state.content,placeholder:this.props.placeholder,onChange:function(e){return t.handleChange(e)},onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onClick:function(e){e.stopPropagation()}})},n.prototype.renderReadOnly=function(){return e.createElement("div",{className:(this.state.content?"":"inline-text-editor__placeholder")+" inline-text-editor__readonly",onClick:this.handleEdit},this.state.content||this.props.placeholder)},n.prototype.render=function(){var t=this.props,n=(t.style,t.value,t.placeholder,t.rejectedCharacterRegExp,t.onSave,t.onChange,t.hideButton,t.inputStyle,t.onUpdate,Object(a.__rest)(t,["style","value","placeholder","rejectedCharacterRegExp","onSave","onChange","hideButton","inputStyle","onUpdate"])),i=this.state.isEditing;return e.createElement(x,Object(a.__assign)({},n),i?this.renderInput():this.renderReadOnly())}}(e.Component)}).call(this,n(0))},1670:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0);const i=a.createContext(e=>a.createElement("div",null,e))},1671:function(e,t,n){"use strict";var a,i,o,r,s,l,c,d,u,m=n(3),p=n(0),h=n(1658),g=n(1662),f=n(1673),b=n(1426),v=n(209),y=n(1),w=n.n(y),E=(w.a.div.withConfig({displayName:"Material_List",componentId:"sc-1o3lk38"})(a||(a=Object(m.__makeTemplateObject)(["\n  list-style: none;\n  margin: 0 0.5em;\n  padding: 0;\n"],["\n  list-style: none;\n  margin: 0 0.5em;\n  padding: 0;\n"]))),w.a.div.withConfig({displayName:"Material_Grow",componentId:"sc-6vcldd"})(i||(i=Object(m.__makeTemplateObject)(["\n  font-size: 1.2em;\n"],["\n  font-size: 1.2em;\n"]))),w.a.div.withConfig({displayName:"Material_Shrink",componentId:"sc-1kg7g36"})(o||(o=Object(m.__makeTemplateObject)(["\n  font-size: 0.8em;\n"],["\n  font-size: 0.8em;\n"]))),w.a.div.withConfig({displayName:"Material_Margin",componentId:"sc-e1v02p"})(r||(r=Object(m.__makeTemplateObject)(["\n  margin: 0.5em;\n"],["\n  margin: 0.5em;\n"]))),"\n    padding: 0.5em;\n    margin: 0;\n    display: flex;\n    flex-flow: column nowrap;\n    color: #9CA4B4;\n    background-color: #4F5A66;\n    box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.2);\n    > h5 {\n        font-weight: 700;\n        font-family: Roboto,Arial,sans-serif;\n    }\n"),x=(w.a.div.withConfig({displayName:"Material_Rectangle",componentId:"sc-1q3wcv3"})(s||(s=Object(m.__makeTemplateObject)(["","\n    font-size: ",";\n"],["","\n    font-size: ",";\n"])),E,(function(e){return e.size||"1em"})),w.a.div.withConfig({displayName:"Material_Square",componentId:"sc-11gutu9"})(l||(l=Object(m.__makeTemplateObject)(["\n  ","\n  justify-content: center;\n  align-items: center;\n  font-size: ",";\n"],["\n  ","\n  justify-content: center;\n  align-items: center;\n  font-size: ",";\n"])),E,(function(e){return e.size||"1em"})),w.a.button.withConfig({displayName:"Material_Button",componentId:"sc-txfug2"})(c||(c=Object(m.__makeTemplateObject)(["\n  display: inline-flex;\n  margin: 0 0 0.4rem;\n  padding: 0.4rem;\n  border-radius: 1px;\n  font-weight: 700;\n  color: #9ca4b4;\n  background-color: #005d8c;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12),\n    0 3px 1px -2px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n"],["\n  display: inline-flex;\n  margin: 0 0 0.4rem;\n  padding: 0.4rem;\n  border-radius: 1px;\n  font-weight: 700;\n  color: #9ca4b4;\n  background-color: #005d8c;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12),\n    0 3px 1px -2px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n"]))),w.a.button.withConfig({displayName:"Material_SquareButton",componentId:"sc-wpw71a"})(d||(d=Object(m.__makeTemplateObject)(["\n  display: inline-flex;\n  flex-flow: column nowrap;\n  justify-content: space-around;\n  align-items: center;\n  margin: 0;\n  border-radius: 1px;\n  font-size: 0.8rem;\n  font-weight: 700;\n  background-color: #005d8c;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12),\n    0 3px 1px -2px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  width: 8em;\n  height: 8em;\n  color: #c7c8c9;\n  > * {\n    color: #20beff;\n    color: #9ca4b4;\n    font-weight: 400;\n  }\n"],["\n  display: inline-flex;\n  flex-flow: column nowrap;\n  justify-content: space-around;\n  align-items: center;\n  margin: 0;\n  border-radius: 1px;\n  font-size: 0.8rem;\n  font-weight: 700;\n  background-color: #005d8c;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12),\n    0 3px 1px -2px rgba(0, 0, 0, 0.2);\n  cursor: pointer;\n  width: 8em;\n  height: 8em;\n  color: #c7c8c9;\n  > * {\n    color: #20beff;\n    color: #9ca4b4;\n    font-weight: 400;\n  }\n"]))),n(1680),n(1669)),C=n(10),k=n(1818);n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return D})),n.d(t,"c",(function(){return $})),n.d(t,"b",(function(){return M})),function(e){e[e.None=0]="None",e[e.Pending=1]="Pending",e[e.Processing=2]="Processing",e[e.Complete=4]="Complete",e[e.Success=8]="Success",e[e.Error=16]="Error"}(u||(u={}));var _,S=w.a.div.withConfig({displayName:"Progress_ColumnView",componentId:"sc-1j36w92"})(U||(U=Object(m.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n"],["\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n"])));!function(e){e.Progress="progress",e.Children="children",e.Error="error"}(_||(_={}));var O=function(e){function t(t){var n=e.call(this,t)||this;return n.handlePending=function(){var e=u.Pending,t=h.e;n.setState({taskStatusFlags:e,taskProgress:t})},n.handleProgress=function(e){var t=u.Processing;n.setState({taskStatusFlags:t,taskProgress:e})},n.handleCompletion=function(e){var t=u.Complete|(e.error?u.Error:u.Success);n.setState({taskProgress:e}),window.setTimeout((function(){return n.setState({taskStatusFlags:t})}),1e3)},n.handleErrors=function(e){if(e.length){var t=n.state.taskStatusFlags&~u.Success|u.Error;n.setState({taskStatusFlags:t,errors:e})}else{t=u.None;n.setState({taskStatusFlags:t,errors:null})}},n.hasStatus=function(e){return!!(n.state.taskStatusFlags&e)},n.getProgressProps=function(e){var t=n.state.taskProgress;if(!t)return null;var a=t.progressProps,i=e?e.combineProgressEvent(a.progressEvent):h.f(a.progressEvent);return Object(m.__assign)(Object(m.__assign)({},a),{progressEvent:i})},n.displayKeyFilter=function(e){var t=(0,n.props.isProgressEnabledForTaskStatusFlags)(n.state.taskStatusFlags);switch(e){case _.Progress:return t;case _.Children:return!t;case _.Error:return n.hasStatus(u.Error);default:throw new Error("Unexpected TaskProgressKey: "+e)}},n.getFlag=function(e,t){var a=n.props[e];return"boolean"==typeof a?a:t},n.state={taskProgress:null,errors:null,taskStatusFlags:u.None},n}return Object(m.__extends)(t,e),t.prototype.componentDidMount=function(){this.unsubscribe=this.props.taskTrigger.subscribe(this.handlePending,this.handleProgress,this.handleCompletion,this.handleErrors,(function(){}))},t.prototype.componentWillUnmount=function(){this.unsubscribe()},t.prototype.render=function(){var e=this,t=this.props.children,n=this.state,a=(n.taskProgress,n.taskStatusFlags,n.errors);var i=this.getFlag("showRate",!0),o=this.getFlag("showRemaining",!0),r=this.getFlag("showDescription",!1),s=this.getProgressProps(),l=this.hasStatus(u.Processing);return p.createElement(S,null,this.displayKeyFilter(_.Children)?p.createElement(S,{key:_.Children},t||null):this.displayKeyFilter(_.Progress)?p.createElement(S,{key:_.Progress},s&&p.createElement(D,Object(m.__assign)({key:_.Progress},s),r&&l&&p.createElement(N,null,s.description&&p.createElement($,null,s.description),s.stepDescription&&p.createElement($,null,s.stepDescription)),i&&l&&p.createElement(M,Object(m.__assign)({},s)),o&&l&&p.createElement(X,Object(m.__assign)({},s)))):this.displayKeyFilter(_.Error)&&p.createElement(S,{key:_.Error},a&&a.map((function(t,n){return p.createElement(re,{key:_.Error+"-"+n,error:t,onDismiss:function(){e.handleErrors(Object(m.__spread)(a.slice(0,n),a.slice(n+1)))}})}))))},t.defaultProps={isProgressEnabledForTaskStatusFlags:function(e){return!!(e&u.Pending||e&u.Processing||e&u.Error)}},t}(p.Component),T=(w.a.div.withConfig({displayName:"Progress_ProgressContainer",componentId:"sc-1j6wiok"})(P||(P=Object(m.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n"],["\n  display: flex;\n  flex-flow: column nowrap;\n  flex: 1 1 auto;\n"]))),w.a.div.withConfig({displayName:"Progress_ProgressBarView",componentId:"sc-10nhyxb"})(F||(F=Object(m.__makeTemplateObject)(["\n  position: relative;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: space-between;\n  flex: 1 1 auto;\n  border-color: ",";\n  & svg {\n    width: 100%;\n    min-height: 26px;\n  }\n"],["\n  position: relative;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: space-between;\n  flex: 1 1 auto;\n  border-color: ",";\n  & svg {\n    width: 100%;\n    min-height: 26px;\n  }\n"])),C.b.KaggleBlueLight));var j=function(e){return function(t){var n=t/e.divisor;return{percent:-1*Math.pow(e.base,n)+1,total:n}}},I=(function(e){function t(t){var n=e.call(this,t)||this;return n.tick=function(e){n.forceUpdate(),n.request=window.requestAnimationFrame(n.tick)},n.seek=function(e){return void 0===e&&(e=Date.now()),n.timestamp=e},n.start=function(){return n.request=window.requestAnimationFrame(n.tick)},n.stop=function(){return window.cancelAnimationFrame(n.request)},function(e){v(e.base>=0,"<Trickle /> base must be greater than or equal to 0."),v(e.base<=1,"<Trickle /> base must be less than or equal to 1.")}(t),n.calculate=j(t),n}Object(m.__extends)(t,e),t.prototype.componentDidMount=function(){this.props.autostart&&(this.seek(),this.start())},t.prototype.componentWillUnmount=function(){this.stop()},t.prototype.render=function(){var e=this.props.children,t=this.calculate(Date.now()-this.timestamp),n=function(e){return function(t){return h.f({loaded:t.loaded+e.total*e.percent,total:t.total+e.total})}}(t);return e(Object(m.__assign)(Object(m.__assign)({},t),{seek:this.seek,start:this.start,stop:this.stop,combineProgressEvent:n}))}}(p.Component),w.a.div.withConfig({displayName:"Progress_ProgressBarChildrenView",componentId:"sc-1b9luu7"})(R||(R=Object(m.__makeTemplateObject)(["\n  position: absolute;\n  z-index: 100;\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n  justify-content: space-between;\n  align-items: center;\n  left: 0;\n  right: 0;\n"],["\n  position: absolute;\n  z-index: 100;\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 1 1 auto;\n  justify-content: space-between;\n  align-items: center;\n  left: 0;\n  right: 0;\n"])))),N=w.a.div.withConfig({displayName:"Progress_ProgressStack",componentId:"sc-1dys6tw"})(z||(z=Object(m.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n"],["\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n"]))),D=function(e){var t=e.children,n=e.progressEvent,a=(n.lengthComputable,n.loaded),i=n.total,o=e.initialOffsetAmount?e.initialOffsetAmount:0,r=i?Math.floor((a+o)/(i+o)*100):0;return p.createElement(T,null,p.createElement(b.a,{strokeLinecap:"butt",percent:r,strokeWidth:4,trailWidth:0,strokeColor:"#20BEFF"}),t&&p.createElement(I,null,t))},$=w.a.span.withConfig({displayName:"Progress_ProgressTextView",componentId:"sc-zj45vh"})(L||(L=Object(m.__makeTemplateObject)(["\n  font-size: 10px;\n  font-weight: bold;\n  color: ",";\n  margin-left: 1em;\n  margin-right: 1em;\n  line-height: 12px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  font-size: 10px;\n  font-weight: bold;\n  color: ",";\n  margin-left: 1em;\n  margin-right: 1em;\n  line-height: 12px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),C.b.CodeWhite);function M(e){var t=e.progressEvent,n=(t.lengthComputable,t.loaded),a=t.total,i=t.timeStamp-e.initiatedTimeStamp,o=a&&i?n/i:0;return i>0?p.createElement(g.a,{value:o,magnitude:f.a.kilobyte,significantFigures:1},(function(e){return p.createElement($,null,e.value," ",e.magnitude.metricShort,"/s")})):p.createElement("span",null)}var U,P,F,R,z,L,A,V,B,K,H,q,W,G,Q,Y,X=function(e){var t=h.c(e);return t?p.createElement($,null,t,"s remaining"):null},J=w.a.div.withConfig({displayName:"Progress_ErrorContainer",componentId:"sc-11p33cv"})(A||(A=Object(m.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n"],["\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n"]))),Z=(w.a.header.withConfig({displayName:"Progress_ErrorHeader",componentId:"sc-l2l75y"})(V||(V=Object(m.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: row wrap;\n"],["\n  display: flex;\n  flex-flow: row wrap;\n"]))),w.a.div.withConfig({displayName:"Progress_ErrorBody",componentId:"sc-1ofnke9"})(B||(B=Object(m.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: column wrap;\n"],["\n  display: flex;\n  flex-flow: column wrap;\n"])))),ee=w.a.footer.withConfig({displayName:"Progress_ErrorFooter",componentId:"sc-124ya5a"})(K||(K=Object(m.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  align-items: center;\n"],["\n  display: flex;\n  flex-flow: row nowrap;\n  justify-content: space-between;\n  align-items: center;\n"]))),te=w.a.h3.withConfig({displayName:"Progress_ErrorName",componentId:"sc-1r0e3t4"})(H||(H=Object(m.__makeTemplateObject)(["\n  color: red;\n  font-size: 0.9em;\n  font-family: Roboto, Arial, sans-serif;\n  font-weight: 700;\n"],["\n  color: red;\n  font-size: 0.9em;\n  font-family: Roboto, Arial, sans-serif;\n  font-weight: 700;\n"]))),ne=w.a.span.withConfig({displayName:"Progress_ErrorMessage",componentId:"sc-1ldbif1"})(q||(q=Object(m.__makeTemplateObject)(["\n  font-size: 0.7em;\n  font-family: ",";\n  font-weight: 700;\n"],["\n  font-size: 0.7em;\n  font-family: ",";\n  font-weight: 700;\n"])),C.c.Monospace),ae=(w.a.pre.withConfig({displayName:"Progress_ErrorStack",componentId:"sc-1ec7f5o"})(W||(W=Object(m.__makeTemplateObject)(["\n  font-size: 0.6em;\n  font-family: ",";\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  background-color: #eee;\n  overflow: auto;\n  max-height: 10em;\n  max-width: 65em;\n"],["\n  font-size: 0.6em;\n  font-family: ",";\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  background-color: #eee;\n  overflow: auto;\n  max-height: 10em;\n  max-width: 65em;\n"])),C.c.Monospace),w.a.span.withConfig({displayName:"Progress_ErrorSource",componentId:"sc-vej8de"})(G||(G=Object(m.__makeTemplateObject)(["\n  font-size: 0.7em;\n  font-weight: 700px;\n"],["\n  font-size: 0.7em;\n  font-weight: 700px;\n"]))),w.a.button.withConfig({displayName:"Progress_ErrorButton",componentId:"sc-1naeymm"})(Q||(Q=Object(m.__makeTemplateObject)(['\n  background: #fbeeee;\n  color: #da5957;\n  font-weight: 700;\n  border: 0;\n  border-radius: 4px;\n  flex: 0 0 auto;\n  font-family: "Inter", sans-serif;\n  font-size: 12px;\n  text-decoration: none;\n  padding: 8px 16px;\n  cursor: pointer;\n  margin-top: 6px;\n  margin-bottom: 6px;\n  margin-left: auto;\n  max-width: 200px;\n  min-width: 100px;\n'],['\n  background: #fbeeee;\n  color: #da5957;\n  font-weight: 700;\n  border: 0;\n  border-radius: 4px;\n  flex: 0 0 auto;\n  font-family: "Inter", sans-serif;\n  font-size: 12px;\n  text-decoration: none;\n  padding: 8px 16px;\n  cursor: pointer;\n  margin-top: 6px;\n  margin-bottom: 6px;\n  margin-left: auto;\n  max-width: 200px;\n  min-width: 100px;\n'])))),ie=w.a.div.withConfig({displayName:"Progress_MessagingView",componentId:"sc-1a4hj3t"})(Y||(Y=Object(m.__makeTemplateObject)(["\n  display: flex;\n  flex: 1 1 auto;\n"],["\n  display: flex;\n  flex: 1 1 auto;\n"]))),oe=function(e){switch(e.mimeType){case"text/plain":return p.createElement(ie,null,e.body);case"application/json":var t=JSON.parse(e.body),n=Object.keys(t).reduce((function(e,n){var a;return Object(m.__assign)(Object(m.__assign)({},e),((a={})[""+n.charAt(0).toLowerCase()+n.substring(1)]=t[n],a))}),{});switch(e.serializedType){case"Kaggle.Dto.DataFrameSchemaParserMessage":var a=n;return p.createElement(ie,null,p.createElement(x.e,null,p.createElement(x.b,null,[a.parseErrors.length+" Parse Errors Occurred:"]),a.parseErrors.map((function(e,t){return p.createElement(x.b,{key:t},[e])}))));default:throw new Error("Unmapped ClientErrorMessaging serializedType: "+JSON.stringify(e))}default:throw new Error("Unknown mime type: "+e.mimeType)}},re=function(e){var t=e.error,n=e.onDismiss;return p.createElement(J,null,t.messaging?p.createElement(oe,Object(m.__assign)({},t.messaging)):p.createElement(Z,null,p.createElement(k.a,null,p.createElement(te,null,t.name)),p.createElement(ne,null,t.message)),p.createElement(ee,null,p.createElement("div",null,!1),p.createElement("div",null,n&&p.createElement(ae,{onClick:n},"Dismiss"))))}},1672:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(3),i=n(0),o=n(209),r=function(e){var t=e.text||e.children;o(t,"Must specify children (or deprecated text)");var n=e.disabled,r=e.onClick,s=e.href,l=e.download,c=e.className,d=e.primary,u=e.icon,m=Object(a.__assign)(Object(a.__assign)({},e.style||{}),{opacity:n?.3:1});return i.createElement("a",{style:m,onClick:n?null:r,href:s,download:l,className:c||(d?"button-round-edged button-round-edged--primary":"button-round-edged")},u&&i.createElement("i",{className:"button-round-edged__icon "+u}),t)}},1673:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var a={byte:{metricShort:"B",metricLong:"byte"},kilobyte:{metricShort:"kB",metricLong:"kilobyte"},megabyte:{metricShort:"MB",metricLong:"megabyte"},gigabyte:{metricShort:"GB",metricLong:"gigabyte"},terabyte:{metricShort:"TB",metricLong:"terabyte"},petabyte:{metricShort:"PB",metricLong:"petabyte"},exabyte:{metricShort:"EB",metricLong:"exabyte"},zettabyte:{metricShort:"ZB",metricLong:"zettabyte"},yottabyte:{metricShort:"YB",metricLong:"yottabyte"}},i=[a.byte,a.kilobyte,a.megabyte,a.gigabyte,a.terabyte,a.petabyte,a.exabyte,a.zettabyte,a.yottabyte];function o(e,t){for(var n=i.indexOf(e.magnitude),a=i.length-1,o=e.value;o<1&&n>0;)o*=1e3,n--;for(;o>=1e3&&n<a;)o/=1e3,n++;var r=i[n];if("number"==typeof t){var s=Math.pow(10,t);o=Math.round(o*s)/s}return{value:o,magnitude:r}}},1677:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(3),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){return e.createElement("div",{className:"vote-button__voters-outer"},e.createElement("div",{className:"vote-button__voters-modal-background",onClick:this.props.handleModalClose}),e.createElement("div",{className:"vote-button__voters-modal"},e.createElement("div",{className:"vote-button__voters-modal-title-bar"},e.createElement("div",{className:"vote-button__voters-modal-title"},this.props.title),e.createElement("div",{className:"vote-button__voters-modal-close"},e.createElement("span",{className:"fa fa-close",onClick:this.props.handleModalClose}))),this.props.children))},n}(e.Component)}).call(this,n(0))},1678:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(3),i=n(45),o=n(287),r=function(t){function n(e){var n=t.call(this,e)||this;return n.state={msRemaining:n.getMsRemaining()},n.timer=window.setInterval((function(){var e=n.getMsRemaining();e<=0&&(window.clearInterval(n.timer),n.props.onBlastoff&&n.props.onBlastoff()),n.setState({msRemaining:e})}),1e3),n}return Object(a.__extends)(n,t),n.prototype.getMsRemaining=function(){return new Date(this.props.time).getTime()-(new Date).getTime()},n.prototype.showSeconds=function(e){return!this.props.hideSeconds||e<6e5},n.prototype.render=function(){var t=i.duration(this.state.msRemaining),n=t.hours()||t.minutes(),a=this.showSeconds(this.state.msRemaining),r=t.days()?o("days",t.days(),!0)+", ":"",s=t.hours()?o("hours",t.hours(),!0)+", ":"",l=n?""+o("minutes",t.minutes(),!0):"",c=a&&n?" and ":"",d=a?""+o("seconds",t.seconds(),!0):"";return e.createElement("span",null,""+r+s+l+c+d)},n}(e.Component)}).call(this,n(0))},1679:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),i=n.n(a),o=n(0);const r=i.a.a`
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  cursor: pointer;
  display: inline-block;
  outline: none;
  text-decoration: none;
  transition: background 170ms linear;

  &:hover,
  &:focus {
    background: ${e=>e.theme.material.color.brand.grey[50]};
  }

  &:active {
    background: ${e=>e.theme.material.color.brand.grey[100]};
  }
`,s=({onClick:e,href:t,children:n,title:a,className:i})=>o.createElement(r,{onClick:e,title:a,className:i,href:t},n)},1680:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(3),i=n(209),o=function(e){function t(t){var n=e.call(this,t.message)||this;return i(t,"error object required in SourceError ctor"),i(t.message,"error message required in SourceError ctor"),n.name=t.name||"ServerError",n.stack=t.stack,n.source=t.source,n.messaging=t.messaging,n}return Object(a.__extends)(t,e),t}(Error)},1681:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(8);const i=(e,t,n)=>{if(t instanceof a.CanonicalError){const a=t;return n.logger.report("datasets","data-explorer-v3-request-error",{context:e,error:t,isCanonicalError:!0}),a.message}return n.logger.report("datasets","data-explorer-v3-request-error",{context:e,error:t,isCanonicalError:!1}),t instanceof Error?t.message:"string"==typeof t?t:"Unknown error"}},1682:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1854);const i=(e,t)=>{if(!Object(a.a)(e))return;const n=t[e.path];return void 0===n?{state:"noCache",cache:{},baseInfo:[]}:n}},1683:function(e,t,n){"use strict";function a(){"undefined"!=typeof goog_report_conversion&&goog_report_conversion&&goog_report_conversion()}n.d(t,"a",(function(){return a}))},1684:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return w}));var a=n(1416),i=n(1),o=n.n(i),r=n(0),s=n(1689);const l=o.a.img`
  height: ${e=>e.size};
  width: ${e=>e.size};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
`,c=o.a.svg`
  height: ${e=>e.size};
  width: ${e=>e.size};
`,d=/(?:\.([^.]+))?$/,u=i.defaultTheme.material.color.brand.grey[700],m={xxsmall:"12px",xsmall:"18px",small:"20px",medium:"24px",large:"36px",xlarge:"48px",inline:"24px"},p=(e,t=s.c,n)=>{switch(e.type){case"dataSource":return g(e,t,n);case"databundle":case"databundleVersion":return r.createElement(a.a,{icon:"folder_special",size:t,color:n});case"table":return r.createElement(a.a,{icon:"calendar_view_week",size:t,color:n});case"directory":return r.createElement(a.a,{icon:"folder",size:t,color:n});case"file":return b(e.name,t,n)}return r.createElement(a.a,{icon:"insert_drive_file",size:t})},h=(e,t=s.c,n=u)=>{if(e)switch(e){case"remoteUrlFileSet":return r.createElement(a.a,{icon:C(m[t],n),color:n,size:t});case"remoteGitRepositoryFileSet":return r.createElement(a.a,{icon:k(m[t],n),color:n,size:t});case"kernelOutputFileSet":return r.createElement(a.a,{icon:"code",size:t,color:n});case"fileset":case"bigQuery":default:return}},g=(e,t=s.c,n)=>{switch(e.sourceType){case"notebookOutput":return r.createElement(a.a,{icon:"file_copy",size:t,color:n});case"utilityScript":return r.createElement(a.a,{icon:"code",size:t,color:n});default:return f(e.imageUrl,t)}},f=(e,t)=>r.createElement(l,{src:e,size:m[t]}),b=(e,t=s.c,n)=>{const i=v(e);if(!i)return r.createElement(a.a,{icon:"insert_drive_file",size:t,color:n});if(y(i))return r.createElement(a.a,{icon:"insert_photo",size:t,color:n});switch(i){case"txt":return r.createElement(a.a,{icon:"article",size:t,color:n});case"csv":case"tsv":case"xls":case"xlsx":return r.createElement(a.a,{icon:"calendar_view_week",size:t,color:n});case"mpg":case"mpeg":case"avi":case"mp4":case"mov":case"m4v":case"webm":case"ogv":return r.createElement(a.a,{icon:"movie",size:t,color:n});case"mp3":case"wav":case"ogg":return r.createElement(a.a,{icon:"audiotrack",size:t,color:n});case"zip":case"tar":case"rar":case"gz":case"bz":case"bz2":case"7z":case"7zip":return r.createElement(a.a,{icon:"drive_zip_outline",size:t,color:n});case"pdf":return r.createElement(a.a,{icon:"drive_pdf_outline",size:t,color:n});case"md":return r.createElement(a.a,{icon:"article",size:t,color:n});case"js":case"py":return r.createElement(a.a,{icon:"code",size:t,color:n});case"xml":return r.createElement(a.a,{icon:"article",size:t,color:n});case"html":return r.createElement(a.a,{icon:"web_asset",size:t,color:n});case"json":case"jsonl":case"jsonp":case"geojson":case"ldjson":return r.createElement(a.a,{icon:x(m[t]),color:n,size:t});case"sqlite":return r.createElement(a.a,{icon:E(m[t]),color:n,size:t});default:return r.createElement(a.a,{icon:"insert_drive_file",color:n,size:t})}},v=e=>{if(!e)return;const t=e.trim().toLowerCase(),n=d.exec(t);return null==n||n.length<2?void 0:n[1]},y=e=>{if(!e)return!1;switch(e){case"png":case"gif":case"bmp":case"jpg":case"jpeg":case"svg":case"tiff":return!0;default:return!1}},w=e=>"file"===e.type&&(e=>{if(!e)return!1;switch(e){case"png":case"gif":case"jpg":case"svg":return!0;default:return!1}})(v(e.name)),E=e=>r.createElement(c,{x:"0px",y:"0px",viewBox:"0 0 24 24",style:{fill:"currentColor"},size:e},r.createElement("g",null,r.createElement("rect",{id:"bounds",style:{fill:"none"},width:"24",height:"24"}),r.createElement("path",{id:"Rectangle",d:"M19,2c1.1,0,1.9,0.8,2,1.9L21,4v16c0,1.1-0.8,1.9-1.9,2L19,22H5c-1.1,0-1.9-0.8-2-1.9L3,20V4\nc0-1.1,0.8-1.9,1.9-2L5,2H19z M5,19.9L5,19.9L18.9,20l0.1,0l0-15.9L19,4L5.1,4L5,4L5,19.9z"}),r.createElement("rect",{x:"3",y:"14",style:{fillRule:"evenodd",clipRule:"evenodd"},width:"17",height:"2"}),r.createElement("rect",{id:"Rectangle-Copy",x:"3",y:"8",style:{fillRule:"evenodd",clipRule:"evenodd"},width:"17",height:"2"}),r.createElement("circle",{id:"Oval",style:{fillRule:"evenodd",clipRule:"evenodd"},cx:"7",cy:"6",r:"1"}),r.createElement("circle",{id:"Oval-Copy",style:{fillRule:"evenodd",clipRule:"evenodd"},cx:"7",cy:"12",r:"1"}),r.createElement("circle",{id:"Oval-Copy-2",style:{fillRule:"evenodd",clipRule:"evenodd"},cx:"7",cy:"18",r:"1"}))),x=e=>r.createElement(c,{x:"0px",y:"0px",viewBox:"0 0 24 24",style:{fill:"currentColor"},size:e},r.createElement("g",null,r.createElement("rect",{id:"bounds",style:{fill:"none"},width:"24",height:"24"}),r.createElement("path",{id:"Shape",d:"M11,7h2v2h-2V7z M11,11h2v7h-2V11z"}),r.createElement("path",{d:"M2,12v-1c0,0,0,0,0,0c1.1,0,2-0.9,2-2l0,0V4c0,0,0,0,0,0c0-1.1,0.9-2,2-2c0,0,0,0,0,0h3v2H6\n c0,0,0,2,0,6c0,0,0,0,0,0h0c0,1.1-0.9,2-2,2c0,0,0,0,0,0C4,12,3.3,12,2,12z"}),r.createElement("path",{d:"M22,12v-1c0,0,0,0,0,0c-1.1,0-2-0.9-2-2l0,0V4c0,0,0,0,0,0c0-1.1-0.9-2-2-2c0,0,0,0,0,0h-3v2h3\n c0,0,0,2,0,6c0,0,0,0,0,0h0c0,1.1,0.9,2,2,2c0,0,0,0,0,0C20,12,20.7,12,22,12z"}),r.createElement("path",{d:"M2,12v1c0,0,0,0,0,0c1.1,0,2,0.9,2,2l0,0v5c0,0,0,0,0,0c0,1.1,0.9,2,2,2c0,0,0,0,0,0h3v-2H6\n c0,0,0-2,0-6c0,0,0,0,0,0h0c0-1.1-0.9-2-2-2c0,0,0,0,0,0C4,12,3.3,12,2,12z"}),r.createElement("path",{d:"M22,12v1c0,0,0,0,0,0c-1.1,0-2,0.9-2,2l0,0v5c0,0,0,0,0,0c0,1.1-0.9,2-2,2c0,0,0,0,0,0h-3v-2h3\n c0,0,0-2,0-6c0,0,0,0,0,0h0c0-1.1,0.9-2,2-2c0,0,0,0,0,0C20,12,20.7,12,22,12z"}))),C=(e,t)=>r.createElement(c,{x:"0px",y:"0px",viewBox:"0 0 12 12",size:e},r.createElement("path",{style:{fill:"none"},d:"M33.2-7.3h24v24h-24V-7.3z"}),r.createElement("path",{d:"M47.2-5.3h-8c-1.1,0-2,0.9-2,2v8.8c0.1,0,0.1,0,0.2-0.1c0.5-0.6,1.1-1,1.8-1.2v-7.5h7v5h5v11h-12v-1.4h-1\n\tc-0.4,0-0.7-0.1-1-0.2v1.6c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-12L47.2-5.3z"}),r.createElement("path",{d:"M42.1,7c-0.2-1.1-1.1-1.9-2.2-1.9c-0.8,0-1.5,0.4-1.9,1.1c-1,0.1-1.8,1-1.8,2c0,1.1,0.9,2,2,2h3.7c0.9,0,1.7-0.7,1.7-1.7\n\tC43.6,7.8,42.9,7.1,42.1,7z"}),r.createElement("g",null,r.createElement("path",{style:{fill:t},d:"M3.4,9.7C2,9.7,0.8,8.5,0.8,7c0-1.3,1.1-2.5,2.4-2.7c0.1,0,0.2-0.1,0.3-0.2C4,3.2,4.9,2.7,6,2.7\n\t\tc1.5,0,2.7,1.1,3,2.6c0,0.2,0.2,0.3,0.3,0.3c1,0.1,1.9,1,1.9,1.9c0,1.4-1.1,2.2-2.2,2.2H3.4z"}),r.createElement("path",{style:{fill:"#FFFFFF"},d:"M6,3.1c1.3,0,2.4,0.9,2.6,2.3C8.7,5.7,8.9,5.9,9.3,6c0.8,0.1,1.6,0.8,1.6,1.5c0,1.1-0.9,1.8-1.8,1.8H3.4\n\t\tc-1.3,0-2.3-1-2.3-2.3c0-1.1,0.9-2.2,2.1-2.3c0.2,0,0.5-0.2,0.6-0.4C4.3,3.6,5.1,3.1,6,3.1 M6,2.3C4.8,2.3,3.7,2.9,3.1,4\n\t\tC1.6,4.2,0.4,5.5,0.4,7c0,1.7,1.4,3,3,3h5.6c1.4,0,2.6-1.1,2.6-2.6c0-1.1-1.1-2.1-2.3-2.3C9.1,3.5,7.7,2.3,6,2.3L6,2.3z"})),r.createElement("path",{style:{fill:t,stroke:"#FFFFFF",strokeMiterlimit:10},d:"M23.7,5.3c-0.2-1.3-1.3-2.2-2.6-2.2c-0.9,0-1.8,0.5-2.2,1.3c-1.2,0.1-2.1,1.2-2.1,2.4c0,1.3,1.1,2.4,2.4,2.4\n\th4.4c1.1,0,2-0.8,2-2C25.5,6.3,24.7,5.5,23.7,5.3z"})),k=(e,t)=>r.createElement(c,{x:"0px",y:"0px",viewBox:"0 0 12 12",size:e},r.createElement("ellipse",{style:{fill:"#FFFFFF"},cx:"6.1",cy:"7.3",rx:"3.6",ry:"2"}),r.createElement("path",{style:{fill:"none"},d:"M48.2-7.3h24v24h-24V-7.3z"}),r.createElement("path",{d:"M62.2-5.3h-8c-1.1,0-2,0.9-2,2v14.7c0.1,0,0.1,1,0.2,0.9c0.5-0.6,1.1-0.6,1.8-0.8V-3.3h7v5h5v11h-12v-1.4h-1\n\tc-0.4,0-0.7-0.1-1-0.2v1.6c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-12L62.2-5.3z"}),r.createElement("path",{style:{fill:t,stroke:"#FFFFFF",strokeMiterlimit:10},d:"M38.7,5.3c-0.2-1.3-1.3-2.2-2.6-2.2c-0.9,0-1.8,0.5-2.2,1.3c-1.2,0.1-2.1,1.2-2.1,2.4c0,1.3,1.1,2.4,2.4,2.4\n\th4.4c1.1,0,2-0.8,2-2C40.4,6.3,39.6,5.5,38.7,5.3z"}),r.createElement("g",null,r.createElement("rect",{style:{fill:"none"},x:"0",y:"0",width:"12",height:"12.1"})),r.createElement("g",null,r.createElement("path",{style:{fill:t},d:"M18.4,9.7c-1.5,0-2.7-1.2-2.7-2.7c0-1.3,1.1-2.5,2.4-2.7c0.1,0,0.2-0.1,0.3-0.2C19,3.2,19.9,2.7,21,2.7\n\t\tc1.5,0,2.7,1.1,3,2.6c0,0.2,0.2,0.3,0.3,0.3c1,0.1,1.9,1,1.9,1.9c0,1.4-1.1,2.2-2.2,2.2H18.4z"}),r.createElement("path",{style:{fill:"#FFFFFF"},d:"M21,3.1c1.3,0,2.4,0.9,2.6,2.3c0.1,0.3,0.3,0.6,0.6,0.6c0.8,0.1,1.6,0.8,1.6,1.5c0,1.1-0.9,1.8-1.8,1.8h-5.6\n\t\tc-1.3,0-2.3-1-2.3-2.3c0-1.1,0.9-2.2,2.1-2.3c0.2,0,0.5-0.2,0.6-0.4C19.2,3.6,20,3.1,21,3.1 M21,2.3c-1.2,0-2.3,0.6-2.9,1.7\n\t\tc-1.5,0.2-2.7,1.5-2.7,3c0,1.7,1.4,3,3,3H24c1.4,0,2.6-1.1,2.6-2.6c0-1.1-1.1-2.1-2.3-2.3C24,3.5,22.7,2.3,21,2.3L21,2.3z"})),r.createElement("g",null,r.createElement("rect",{style:{fill:"none"},x:"15",y:"0",width:"12",height:"12.1"})),r.createElement("g",null,r.createElement("path",{style:{fill:t},d:"M51.7,14.4c-1.5,0-2.7-1.2-2.7-2.7c0-1.3,1.1-2.5,2.4-2.7c0.1,0,0.2-0.1,0.3-0.2c0.5-0.9,1.5-1.5,2.6-1.5\n\t\tc1.5,0,2.7,1.1,3,2.6c0,0.2,0.2,0.3,0.3,0.3c1,0.1,1.9,1,1.9,1.9c0,1.4-1.1,2.2-2.2,2.2H51.7z"}),r.createElement("path",{style:{fill:"#FFFFFF"},d:"M54.3,7.7c1.3,0,2.4,0.9,2.6,2.3c0.1,0.3,0.3,0.6,0.6,0.6c0.8,0.1,1.6,0.8,1.6,1.5c0,1.1-0.9,1.8-1.8,1.8h-5.6\n\t\tc-1.3,0-2.3-1-2.3-2.3c0-1.1,0.9-2.2,2.1-2.3c0.2,0,0.5-0.2,0.6-0.4C52.5,8.2,53.4,7.7,54.3,7.7 M54.3,7c-1.2,0-2.3,0.6-2.9,1.7\n\t\tc-1.5,0.2-2.7,1.5-2.7,3c0,1.7,1.4,3,3,3h5.6c1.4,0,2.6-1.1,2.6-2.6c0-1.1-1.1-2.1-2.3-2.3C57.3,8.2,56,7,54.3,7L54.3,7z"})),r.createElement("g",null,r.createElement("rect",{style:{fill:"none"},x:"48.2",y:"4.6",width:"12",height:"12.1"})),r.createElement("g",null,r.createElement("path",{style:{fill:t},d:"M5.1,9.9c-1.9,0-3.5-1.6-3.5-3.5c0-0.8,0.3-1.4,0.6-1.9l0.1-1.1l0-0.8C2.3,2.2,2.5,2,2.6,2c0.1,0,0.2,0,0.2,0\n\t\tc0.3,0,0.5,0.2,0.5,0.2L4,2.5L5,3.1h2.3L8,2.5l0.8-0.3c0,0,0.2-0.2,0.5-0.2c0.1,0,0.3,0.1,0.3,0.1c0.2,0.2,0.2,0.5,0.2,0.6l0.1,0.8\n\t\tL10,4.6c0.4,0.5,0.6,1.2,0.6,1.8c0,1.9-1.6,3.5-3.5,3.5H5.1z M4.8,6.1c-0.7,0-1.2,0.5-1.2,1.2s0.5,1.2,1.2,1.2h2.8\n\t\tc0.7,0,1.2-0.5,1.2-1.2S8.3,6.1,7.6,6.1H4.8z"}),r.createElement("path",{style:{fill:"#FFFFFF"},d:"M2.9,2.3c0.2,0,0.3,0.1,0.3,0.1l0.7,0.4l1,0.6c0,0,0.1,0,0.2,0h2.1c0.1,0,0.1,0,0.2,0l0.9-0.6L9,2.5\n\t\tc0,0,0.2-0.1,0.3-0.1c0,0,0.1,0,0.1,0c0.1,0.1,0.1,0.3,0.1,0.3l0.1,0.8l0.1,1.2c0.4,0.5,0.6,1.1,0.6,1.7c0,1.7-1.4,3.1-3.1,3.1H5.1\n\t\tC3.4,9.5,2,8.1,2,6.4c0-0.7,0.3-1.3,0.6-1.8l0.1-1.2V2.6c0,0,0-0.3,0.1-0.3C2.8,2.3,2.8,2.3,2.9,2.3 M4.8,8.9h2.8\n\t\tc0.9,0,1.6-0.7,1.6-1.6S8.5,5.7,7.6,5.7H4.8c-0.9,0-1.6,0.7-1.6,1.6S3.9,8.9,4.8,8.9 M2.9,1.6c-0.1,0-0.3,0-0.4,0.1\n\t\tC2.2,1.7,1.9,2,1.9,2.6v0.8l-0.1,1c-0.3,0.5-0.6,1.2-0.6,2c0,2.1,1.7,3.8,3.9,3.8h2.1c2.1,0,3.9-1.7,3.9-3.8c0-0.7-0.2-1.4-0.6-2\n\t\tl-0.1-1l-0.1-0.8c0-0.2-0.1-0.5-0.3-0.8C9.7,1.7,9.5,1.7,9.3,1.7C9,1.7,8.8,1.8,8.6,1.9L8,2.1c0,0-0.1,0-0.1,0.1L7.1,2.7H5.1\n\t\tL4.2,2.2L3.6,1.8C3.4,1.7,3.2,1.6,2.9,1.6L2.9,1.6z M4.8,8.2c-0.5,0-0.9-0.4-0.9-0.8s0.4-0.8,0.9-0.8h2.8c0.5,0,0.8,0.4,0.8,0.8\n\t\tS8,8.2,7.6,8.2H4.8L4.8,8.2z"})),r.createElement("g",null,r.createElement("ellipse",{style:{fill:t},cx:"4.8",cy:"7.2",rx:"0.6",ry:"0.8"})),r.createElement("g",null,r.createElement("ellipse",{style:{fill:t},cx:"7.7",cy:"7.2",rx:"0.6",ry:"0.8"})))},1685:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1);const i=n.n(a).a.a`
  cursor: pointer;
  text-decoration: none;
  font-weight: ${e=>e.bold?500:400};
  color: ${e=>"black"===e.color||"comment"===e.authorType?e.theme.material.color.text[70]:"grey"===e.color?e.theme.material.color.text[40]:"red"===e.color||"datasetCreator"===e.authorType||"host"===e.authorType?"#cc615c":"light-blue"===e.color||"topic"===e.authorType?"#20beff":"#008abc"};

  &:hover {
    color: ${e=>"black"===e.color||"comment"===e.authorType?e.theme.material.color.text[40]:"grey"===e.color?e.theme.material.color.text[40]:"red"===e.color||"datasetCreator"===e.authorType||"host"===e.authorType?"#b34834":"light-blue"===e.color||"topic"===e.authorType?"#008abc":"#20beff"};
  }
`},1687:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),i=n(0),o=n(1657),r=n(30),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props;return i.createElement("div",{className:"voter-list-item voter-list-item--tier-"+e.tier.toLowerCase()+" "+(r.a.userId===e.userId?"voter-list-item--current-user":"")},i.createElement("a",{target:"_blank",className:"voter-list-item__link",href:e.profileUrl},i.createElement("div",{className:"voter-list-item__avatar"},i.createElement(o.a,{id:e.userId,displayName:e.displayName,hideTooltip:!0,tier:e.tier,thumbnailUrl:e.avatarThumbnailUrl,userUrl:e.profileUrl})),i.createElement("div",{className:"voter-list-item__name"},e.displayName)))},t}(i.Component)},1688:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return m}));var i=n(3),o=function(){function e(e){this.description="Not started",e&&Object.assign(this,e)}return Object.defineProperty(e.prototype,"hasStarted",{get:function(){return!!this.uploadProgressEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytesLoaded",{get:function(){return(this.uploadProgressEvent&&this.uploadProgressEvent.loaded||0)+this.previousBytesReceived},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDone",{get:function(){return this.hasSucceeded||this.hasFailed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"progressProps",{get:function(){return{initiatedTimeStamp:this.initialProgressEventTimeStamp,initialOffsetAmount:this.previousBytesReceived,progressEvent:this.uploadProgressEvent}},enumerable:!1,configurable:!0}),e}(),r=function(){function e(){this.cancellationCallbacks=[]}return e.prototype.register=function(e){var t=this;return this.isCancellationRequested&&e(),this.cancellationCallbacks.push(e),function(){t.cancellationCallbacks=t.cancellationCallbacks.filter((function(t){return t!=e}))}},Object.defineProperty(e.prototype,"isCancellationRequested",{get:function(){return this._isCancellationRequested},enumerable:!1,configurable:!0}),e.prototype.cancel=function(){var e,t;if(!this.isCancellationRequested){this._isCancellationRequested=!0;try{for(var n=Object(i.__values)(this.cancellationCallbacks),a=n.next();!a.done;a=n.next()){var o=a.value;o&&o()}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}}},e}(),s=function(){function e(){this.reset()}return e.prototype.set=function(){this.internalResolve&&this.internalResolve()},e.prototype.wait=function(){return this.internalPromise},e.prototype.reset=function(){var e=this;this.internalPromise=new Promise((function(t){e.internalResolve=t}))},e}(),l=function(){function e(){this.currentCancellationToken=new r}return e.prototype.pause=function(){this.isPaused||(this.isPaused=!0,this.resumeEvent=new s,this.currentCancellationToken.cancel())},e.prototype.waitUntilResumed=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){switch(e.label){case 0:return this.isPaused?[4,this.resumeEvent.wait()]:[2];case 1:return e.sent(),[2]}}))}))},e.prototype.resume=function(){this.isPaused&&(this.isPaused=!1,this.currentCancellationToken=new r,this.resumeEvent.set(),this.resumeEvent=null)},e}(),c=function(e){return Object(i.__awaiter)(void 0,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))};function d(t,n,a,r,s,l){return(r?function(t,n,a){return Object(i.__awaiter)(this,void 0,Promise,(function(){var r,s,l,c,d,u;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return a(new o({description:"Checking server for existing upload"})),[4,e(t,{method:"PUT",headers:{"Content-Range":"bytes */"+n.size}})];case 1:return(r=i.sent()).status>=200&&r.status<300?(s={bytesReceived:n.size},[4,r.json()]):[3,3];case 2:return[2,(s.completeBlob=i.sent(),s)];case 3:if(l=r.headers.get("Range")){if(!(c=l.match(/bytes\s*=\s*([0-9]+)-([0-9]+)/)))throw new Error("Unable to parse Range header: "+l);if(0!==(d=parseInt(c[1])))throw new Error("Unexpect Range start offset: "+d);if((u=parseInt(c[2]))>=n.size)throw new Error("Range end is larger than expected: "+u);return[2,{bytesReceived:u+1}]}return[2,{bytesReceived:0}]}}))}))}(t,n,s):Promise.resolve({bytesReceived:0})).then((function(e){return new Promise((function(i,r){if(e.bytesReceived===n.size&&n.size>0)i(e.completeBlob);else{var c=new o({previousBytesReceived:e.bytesReceived?e.bytesReceived:0}),d=new XMLHttpRequest;d.open("PUT",t),d.upload.onprogress=function(e){c.description="Uploading file",c.isUploading=!0,c.isPaused=!1,c.initialProgressEventTimeStamp||(c.initialProgressEventTimeStamp=e.timeStamp),c.uploadProgressEvent=e,s(c)},d.onerror=function(e){c.isUploading=!1,l&&l.isCancellationRequested||r(d.statusText)},d.onload=function(e){if(c.isUploading=!1,d.status>=200&&d.status<300){c.isUploading=!1,c.isPaused=!1,s(c);var t=JSON.parse(d.responseText);i(t)}else c.description="Upload was interrupted",s(c),r(d.statusText)},l&&l.register((function(){d.abort(),c.description="Upload was paused",c.isUploading=!1,c.isPaused=!1,s(c),r("Upload was cancelled")})),e.bytesReceived>0?(d.setRequestHeader("Content-Range","bytes "+e.bytesReceived+"-"+(n.size-1)+"/"+n.size),d.send(n.slice(e.bytesReceived,n.size,a))):d.send(n)}}))}))}var u=a.BlobFiles.createNewBlob;function m(e,t,n){return function(e,t,n,a,r,s){var m,p=this,h=new l,g={progress:new o,onProgress:s},f=(m=function(e){g.progress=e,g.onProgress&&g.onProgress(e)},Object(i.__awaiter)(p,void 0,Promise,(function(){var s,l,g,f,b,v,y,w,E,x,C;return Object(i.__generator)(this,(function(k){switch(k.label){case 0:return m(new o({description:"Initializing upload"})),[4,Object(i.__awaiter)(p,void 0,Promise,(function(){var o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return o={name:n,contentLength:t.size,contentType:a,lastModifiedDate:r},[4,u({blobBucket:e},o)];case 1:return[2,i.sent()]}}))}))];case 1:s=k.sent(),l=5e3,g=2,f=0,k.label=2;case 2:if(!(f<l))return[3,11];k.label=3;case 3:return k.trys.push([3,5,,10]),b=0!==f,[4,d(s.createUrl,t,a,b,m,h.currentCancellationToken)];case 4:if(v=k.sent(),y=null,v.md5Hash)for(y="",w=atob(v.md5Hash),E=0;E<w.length;E++)y+=w.charCodeAt(E).toString(16);return x={token:s.token,md5Hash:y,name:n,size:t.size,mediaLink:v.mediaLink},m(new o({description:"Upload complete",uploadedBlobInfo:x,hasSucceeded:!0})),[2,x];case 5:return k.sent(),h.isPaused?[4,h.waitUntilResumed()]:[3,7];case 6:return k.sent(),[3,10];case 7:return f>1?(m(new o({description:"Error while uploading",isPaused:!0,nextRetryDate:new Date(Date.now()+1e3*g),totalRetries:f})),[4,c(1e3*g)]):[3,9];case 8:k.sent(),g=Math.min(2*g,30),k.label=9;case 9:return[3,10];case 10:return f++,[3,2];case 11:throw m(new o({description:C="Upload failed, even after "+l+" attempts",isUploading:!1})),new Error(C)}}))})));return Object.defineProperties(f,{pause:{value:function(){return h.pause(),function(){return h.resume(),f}},configurable:!1,writable:!1,enumerable:!0},progress:{get:function(){return g.progress},configurable:!1,enumerable:!0},onProgress:{get:function(){return g.onProgress},set:function(e){return g.onProgress=e},configurable:!1,enumerable:!0}})}(e,t,t.name,t.type,new Date(t.lastModified),n)}}).call(this,n(98),n(286))},1689:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"i",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"a",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"g",(function(){return f}));var a=n(383),i=n(384),o=n(1),r=n.n(o),s=n(1633);const l=4,c="xsmall",d=r.a.div`
  display: flex;
  cursor: pointer;
  color: ${e=>e.selected&&s.a[e.theme.name].blueSelected};
  margin-bottom: ${e=>e.theme.material.spacing(1)};
`,u=r.a.div`
  display: flex;
  cursor: pointer;
  color: ${e=>s.a[e.theme.name].textLow};
`,m=r.a.div`
  flex: 0 0 ${e=>e.theme.material.spacing(l)};
  color: ${e=>e.selected?s.a[e.theme.name].blueSelected:s.a[e.theme.name].text};
  margin-right: ${e=>e.theme.material.spacing(2)};
  width: ${e=>e.theme.material.spacing(l)};
  height: ${e=>e.theme.material.spacing(l)};
`,p=r.a.div`
  flex: 0 0 ${e=>e.theme.material.spacing(l)};
  color: ${e=>e.selected?s.a[e.theme.name].blueSelected:s.a[e.theme.name].text};
  margin-right: ${e=>e.theme.material.spacing(2)};
  width: ${e=>e.theme.material.spacing(l)};
  height: ${e=>e.theme.material.spacing(l)};
  position: relative;
`,h=r.a.div`
  left: -2px;
  bottom: -4px;
  position: absolute;
`,g=r()(a.b)`
  flex: 1 1 auto;
  color: ${e=>e.selected?s.a[e.theme.name].blueSelected:s.a[e.theme.name].text};
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,f=r()(i.Tooltip)`
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`},1690:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return s}));const a=(e,t,n,a,i,o,r)=>{e.logger.report("datasets",`uploader2-create-${t}`,Object.assign(Object.assign({},r),{createType:n,folderUploadsUsed:a,lastPrivacyChangeMechanism:i,showPublicCreationWarning:o}))},i=(e,t,n)=>{e.logger.report("datasets",`uploader2-${n?"open":"closed"}-${t}`)},o=(e,t,n)=>{e.logger.report("datasets","uploader2-duplicate",Object.assign(Object.assign({},n),{fileName:t}))},r=(e,t,n)=>{e.logger.report("datasets","uploader2-privacy-update",{isPrivate:t,source:n})},s=(e,t)=>{e.logger.report("datasets","uploader2-public-dataset-warning",{confirmed:t})}},1691:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(3),i=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){return this.props.isLoading?i.createElement("div",{className:"loading-text"},i.createElement("span",{className:"fa fa-refresh fa-spin fa-fw"}),this.props.text,"..."):null},t}(i.Component)},1694:function(e,t,n){"use strict";(function(e){var a,i,o,r,s,l,c,d,u,m=n(3),p=n(1666),h=n(1696),g=n(1646),f=n(1717),b=n(10),v=n(1),y=n.n(v),w=n(1695),E=y.a.div.withConfig({displayName:"Toolbar_ToolbarWrapper",componentId:"sc-csynmq"})(a||(a=Object(m.__makeTemplateObject)(["\n  ",";\n  display: flex;\n"],["\n  ",";\n  display: flex;\n"])),(function(e){return e.useBottomBorder?"\n    border-bottom: 1px solid "+b.b.ContentBorder+";\n  ":""})),x=y.a.div.withConfig({displayName:"Toolbar_ToolbarBody",componentId:"sc-1b1b4mo"})(i||(i=Object(m.__makeTemplateObject)(["\n  display: flex;\n"],["\n  display: flex;\n"]))),C=y.a.a.withConfig({displayName:"Toolbar_ToolbarButtonLink",componentId:"sc-14ml9x8"})(r||(r=Object(m.__makeTemplateObject)(["\n  box-sizing: border-box;\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  font-size: 28px;\n  padding: "," ",";\n  position: relative;\n\n  &:hover {\n    color: ",";\n  }\n\n  ","\n\n  ","\n"],["\n  box-sizing: border-box;\n  color: ",";\n  cursor: pointer;\n  display: flex;\n  font-size: 28px;\n  padding: "," ",";\n  position: relative;\n\n  &:hover {\n    color: ",";\n  }\n\n  ","\n\n  ","\n"])),b.b.TextLight,b.g.PadXs,b.g.PadS,b.b.TextLink,(function(e){return e.disabled?"\n        color: "+b.b.TextLight+";\n        cursor: not-allowed;\n    ":""}),b.f.nonMobile(o||(o=Object(m.__makeTemplateObject)(["\n    font-size: 24px;\n  "],["\n    font-size: 24px;\n  "])))),k=y.a.div.withConfig({displayName:"Toolbar_ToolbarButtonGroup",componentId:"sc-k3hh1a"})(s||(s=Object(m.__makeTemplateObject)(["\n  display: flex;\n  margin: "," 0;\n  padding: ",";\n  border-left: 1px solid ",";\n\n  &:first-child {\n    border-left: 0;\n  }\n"],["\n  display: flex;\n  margin: "," 0;\n  padding: ",";\n  border-left: 1px solid ",";\n\n  &:first-child {\n    border-left: 0;\n  }\n"])),b.g.PadS,b.g.PadXs,b.b.ContentBorderLight),_=y.a.div.withConfig({displayName:"Toolbar_ToolbarButtonGroupEnd",componentId:"sc-c5dvl4"})(l||(l=Object(m.__makeTemplateObject)(["\n  margin: auto 0 auto auto;\n"],["\n  margin: auto 0 auto auto;\n"]))),S=y.a.span.withConfig({displayName:"Toolbar_ToolbarMarkdownButtonWrapper",componentId:"sc-1mzc8tc"})(c||(c=Object(m.__makeTemplateObject)(["\n  margin: auto 0;\n"],["\n  margin: auto 0;\n"]))),O=y.a.img.withConfig({displayName:"Toolbar_ToolbarMarkdownButton",componentId:"sc-drisup"})(u||(u=Object(m.__makeTemplateObject)(["\n  height: auto;\n  margin-left: auto;\n  max-width: 28px;\n  width: 100%;\n\n  ","\n"],["\n  height: auto;\n  margin-left: auto;\n  max-width: 28px;\n  width: 100%;\n\n  ","\n"])),b.f.nonMobile(d||(d=Object(m.__makeTemplateObject)(["\n    max-width: 24px;\n  "],["\n    max-width: 24px;\n  "]))));t.a=e.memo((function(t){var n=t.emojis,a=t.handleInsert,i=t.handleInsertImage,o=t.handleUndo,r=t.handleRedo,s=t.handleToggleEmojiDropdown,l=t.handleToggleHeaderDropdown,c=t.handleToggleImageDropdown,d=t.handleToggleLinkModal,u=t.handleToggleLinkImageModal,b=t.handleToggleUploadImageModal,v=t.redoStack,y=t.snapSelection,T=t.showEmojiDropdown,j=t.showHeaderDropdown,I=t.showImageDropdown,N=t.showLinkModal,D=t.showLinkImageModal,$=t.showUploadImageModal,M=t.undoStack,U=t.useBottomBorder,P=t.value,F={emojis:n,handleInsert:a,handleToggleEmojiDropdown:s,showEmojiDropdown:T},R={handleInsert:a,handleToggleHeaderDropdown:l,showHeaderDropdown:j,snapSelection:y,value:P},z={handleInsert:a,handleToggleImageDropdown:c,handleToggleLinkImageModal:u,handleToggleUploadImageModal:b,showImageDropdown:I,snapSelection:y,value:P},L={handleInsert:a,handleToggleLinkModal:d,snapSelection:y,showLinkModal:N,value:P},A={handleInsert:a,handleToggleLinkImageModal:u,snapSelection:y,showLinkImageModal:D,value:P},V={handleInsert:a,handleInsertImage:i,handleToggleUploadImageModal:b,snapSelection:y,showUploadImageModal:$,value:P},B=P.substring(y.start,y.end),K=function(t){return void 0===t&&(t=!0),e.createElement(x,null,e.createElement(k,null,e.createElement(C,{onClick:o,disabled:0===M.length,title:"Undo"},e.createElement("i",{className:"material-icons"},"undo")),e.createElement(C,{onClick:r,disabled:0===v.length,title:"Redo"},e.createElement("i",{className:"material-icons"},"redo"))),e.createElement(k,null,e.createElement(C,{onClick:function(){return t?l():a(B,"# ","")},title:"Insert Heading"},e.createElement("i",{className:"material-icons"},"format_size"),j&&t&&e.createElement(p.b,Object(m.__assign)({},R))),e.createElement(C,{onClick:function(){return a(B,"**","**")},title:"Make Bold"},e.createElement("i",{className:"material-icons"},"format_bold")),e.createElement(C,{onClick:function(){return a(B,"*","*")},title:"Italicize"},e.createElement("i",{className:"material-icons"},"format_italic"))),e.createElement(k,null,e.createElement(C,{onClick:function(){return d()},title:"Insert Link"},e.createElement("i",{className:"material-icons"},"insert_link")),e.createElement(C,{onClick:function(){return a(B,"> ","")},title:"Insert Quote"},e.createElement("i",{className:"material-icons"},"format_quote")),e.createElement(C,{onClick:function(){B.indexOf("\n")>-1?a(B,"```\n","\n```"):a(B,"`","`")},title:"Insert Code Block"},e.createElement("i",{className:"material-icons"},"code"))),e.createElement(k,null,e.createElement(C,{onClick:function(){return a(B,"1. ","")},title:"Insert Ordered List"},e.createElement("i",{className:"material-icons"},"format_list_numbered")),e.createElement(C,{onClick:function(){return a(B,"- ","")},title:"Insert Bulleted List"},e.createElement("i",{className:"material-icons"},"format_list_bulleted"))),e.createElement(k,null,e.createElement(C,{onClick:function(){return a(B,"| "," |  |\n| --- | --- |\n|  |  |")},title:"Insert Table"},e.createElement("i",{className:"material-icons"},"border_all")),e.createElement(C,{onClick:function(){return t?c():u()},title:"Insert Photo"},e.createElement("i",{className:"material-icons"},"insert_photo"),I&&t&&e.createElement(p.c,Object(m.__assign)({},z))),!t&&e.createElement(C,{onClick:function(){return b()},title:"Upload Image"},e.createElement("i",{className:"material-icons"},"add_to_photos")),e.createElement(C,{onClick:function(){return s()}},e.createElement("i",{className:"material-icons"},"insert_emoticon"),T&&t&&e.createElement(w.a,Object(m.__assign)({},F)))),e.createElement(_,null,e.createElement(C,{href:"https://github.com/showdownjs/showdown/wiki/Showdown's-Markdown-syntax",target:"_blank",title:"Go to Markdown Documentation"},e.createElement(S,null,e.createElement(O,{src:"/static/images/markdown.png"})))))};return e.createElement(E,{useBottomBorder:U},e.createElement(g.b,{minWidth:0,maxWidth:g.a.tabletMax},e.createElement(f.a,null,K(!1))),e.createElement(g.b,{minWidth:g.a.tabletMax},K()),N&&e.createElement(h.b,Object(m.__assign)({},L)),D&&e.createElement(h.a,Object(m.__assign)({},A)),$&&e.createElement(h.c,Object(m.__assign)({},V)))}))}).call(this,n(0))},1695:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var a,i,o,r,s=n(3),l=n(1666),c=n(10),d=n(1),u=n.n(d),m=u()(l.a).withConfig({displayName:"EmojiDropdown_EmojiDropdownBody",componentId:"sc-1nefzha"})(a||(a=Object(s.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  width: 165px;\n"],["\n  display: flex;\n  flex-direction: column;\n  width: 165px;\n"]))),p=u.a.div.withConfig({displayName:"EmojiDropdown_EmojiPageButtons",componentId:"sc-byjogq"})(i||(i=Object(s.__makeTemplateObject)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: ",";\n  padding: 0 ",";\n"],["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: ",";\n  padding: 0 ",";\n"])),c.g.PadS,c.g.PadL),h=u.a.div.withConfig({displayName:"EmojiDropdown_EmojiPageButton",componentId:"sc-1ulwmzw"})(o||(o=Object(s.__makeTemplateObject)(["\n  ","\n  border-radius: 50%;\n  display: block;\n  height: 7px;\n  width: 7px;\n\n  &:hover {\n    background-color: ",";\n  }\n"],["\n  ","\n  border-radius: 50%;\n  display: block;\n  height: 7px;\n  width: 7px;\n\n  &:hover {\n    background-color: ",";\n  }\n"])),(function(e){return e.active?"\n  background-color: "+c.b.KaggleBlueDark+";\n":"\n  background-color: "+c.b.GrayLighter+";\n"}),c.b.KaggleBlueDark),g=u.a.div.withConfig({displayName:"EmojiDropdown_EmojiList",componentId:"sc-16r8tok"})(r||(r=Object(s.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n"],["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center;\n"]))),f=e.memo((function(t){var n=e.useRef(null),a=Object(s.__read)(e.useState(1),2),i=a[0],o=a[1],r=Math.ceil(t.emojis.length/20);return e.useEffect((function(){var e=function(e){var a=t.handleToggleEmojiDropdown;t.showEmojiDropdown&&!n.current.contains(e.target)&&a()},a=function(e){var n=t.handleToggleEmojiDropdown,a=t.showEmojiDropdown;27==e.keyCode&&a&&n()};return window.addEventListener("mousedown",e,!0),window.addEventListener("keydown",a,!0),function(){window.removeEventListener("mousedown",e,!0),window.removeEventListener("keydown",a,!0)}}),[]),e.createElement("div",{ref:n},e.createElement(m,{rightSide:!0,onClick:function(e){return e.stopPropagation()}},e.createElement(p,null,Array.from({length:r},(function(e,t){return t+1})).map((function(t){return e.createElement(h,{active:t==i,key:"emoji-page-"+t,onClick:function(e){return o(t)}})}))),e.createElement(g,null,t.emojis.slice(20*(i-1),20*i).map((function(n){return e.createElement("span",{key:n.id,onClick:function(){t.handleInsert("",n.display+" ","",!0),t.handleToggleEmojiDropdown()}},n.display)})))))}))}).call(this,n(0))},1696:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return T}));var a,i,o,r,s,l,c,d,u=n(3),m=n(10),p=n(1),h=n.n(p),g=n(1635),f=n(1631),b=n(1661),v=h.a.div.withConfig({displayName:"Modals_ModalContent",componentId:"sc-1ry1q7u"})(a||(a=Object(u.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n"],["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n"]))),y=h.a.div.withConfig({displayName:"Modals_ModalBody",componentId:"sc-9ieftx"})(i||(i=Object(u.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  padding: ",";\n"],["\n  display: flex;\n  flex-direction: column;\n  padding: ",";\n"])),m.g.PadL),w=h.a.form.withConfig({displayName:"Modals_ModalBodyForm",componentId:"sc-v5atgq"})(o||(o=Object(u.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  padding: ",";\n"],["\n  display: flex;\n  flex-direction: column;\n  padding: ",";\n"])),m.g.PadL),E=h.a.div.withConfig({displayName:"Modals_ModalTitle",componentId:"sc-ej48zo"})(r||(r=Object(u.__makeTemplateObject)(["\n  border-bottom: 1px solid ",";\n  color: ",";\n  font-weight: ",";\n  padding: ",";\n  text-align: center;\n"],["\n  border-bottom: 1px solid ",";\n  color: ",";\n  font-weight: ",";\n  padding: ",";\n  text-align: center;\n"])),m.b.ContentBorder,m.b.TextLight,m.d.FontWeightMedium,m.g.PadM),x=h.a.div.withConfig({displayName:"Modals_ModalInputGroup",componentId:"sc-ou5bhy"})(s||(s=Object(u.__makeTemplateObject)(["\n  align-items: center;\n  color: ",";\n  display: flex;\n  flex: 0 0 100%;\n  margin-bottom: ",";\n"],["\n  align-items: center;\n  color: ",";\n  display: flex;\n  flex: 0 0 100%;\n  margin-bottom: ",";\n"])),m.b.TextLight,m.g.PadM),C=h.a.p.withConfig({displayName:"Modals_ModalInputLabel",componentId:"sc-13v0k1j"})(l||(l=Object(u.__makeTemplateObject)(["\n  color: ",";\n  flex: 0 1 25%;\n  font-size: ",";\n  font-weight: ",";\n"],["\n  color: ",";\n  flex: 0 1 25%;\n  font-size: ",";\n  font-weight: ",";\n"])),m.b.TextLight,m.d.FontSizeM,m.d.FontWeightMedium),k=h.a.input.withConfig({displayName:"Modals_ModalInput",componentId:"sc-az32gx"})(c||(c=Object(u.__makeTemplateObject)(["\n  border: 1px solid ",";\n  border-radius: ",";\n  flex: 0 1 75%;\n  min-width: 0;\n  padding: ",";\n"],["\n  border: 1px solid ",";\n  border-radius: ",";\n  flex: 0 1 75%;\n  min-width: 0;\n  padding: ",";\n"])),m.b.ContentBorder,m.g.BorderRadius,m.g.PadM),_=h.a.div.withConfig({displayName:"Modals_ModalPrimaryButton",componentId:"sc-19xg0rw"})(d||(d=Object(u.__makeTemplateObject)(["\n  margin-left: auto;\n"],["\n  margin-left: auto;\n"]))),S=e.memo((function(t){var n=e.useRef(null),a=Object(u.__read)(e.useState(t.value.substring(t.snapSelection.start,t.snapSelection.end)),2),i=a[0],o=a[1],r=Object(u.__read)(e.useState(""),2),s=r[0],l=r[1];e.useEffect((function(){n.current.focus()}),[]);var c=t.handleInsert,d=t.handleToggleLinkModal,m=t.showLinkModal;return e.createElement(f.a,{modalIsShown:m,modalContentStyle:{maxWidth:"475px",width:"100%"},onClose:d},e.createElement(v,null,e.createElement(f.c,{onClose:d}),e.createElement(E,null,"Add Link"),e.createElement(w,{onSubmit:function(e){e.preventDefault(),c(i,"[","]("+s+")"),d()}},e.createElement(x,null,e.createElement(C,null,"Link Display"),e.createElement(k,{ref:n,onChange:function(e){return function(e){return o(e)}(e.target.value)},placeholder:"Displayed link text",value:i})),e.createElement(x,null,e.createElement(C,null,"URL"),e.createElement(k,{onChange:function(e){return function(e){return l(e)}(e.target.value)},placeholder:"The URL this link should go to"})),e.createElement(_,null,e.createElement(g.a,{type:"submit",text:"Add Link"})))))})),O=e.memo((function(t){var n=e.useRef(null),a=Object(u.__read)(e.useState(t.value.substring(t.snapSelection.start,t.snapSelection.end)),2),i=a[0],o=a[1],r=Object(u.__read)(e.useState(""),2),s=r[0],l=r[1];e.useEffect((function(){n.current.focus()}),[]);var c=t.handleInsert,d=t.handleToggleLinkImageModal,m=t.showLinkImageModal;return e.createElement(f.a,{modalIsShown:m,modalContentStyle:{maxWidth:"475px",width:"100%"},onClose:d},e.createElement(v,null,e.createElement(f.c,{onClose:d}),e.createElement(E,null,"Add Image"),e.createElement(w,{onSubmit:function(e){e.preventDefault(),c(i,"![","]("+s+")"),d()}},e.createElement(x,null,e.createElement(C,null,"URL"),e.createElement(k,{ref:n,onChange:function(e){return function(e){return l(e)}(e.target.value)},placeholder:"The URL for this image"})),e.createElement(x,null,e.createElement(C,null,"Alt Text"),e.createElement(k,{onChange:function(e){return function(e){return o(e)}(e.target.value)},placeholder:"Image alt text",value:i})),e.createElement(_,null,e.createElement(g.a,{type:"submit",text:"Add Link"})))))})),T=e.memo((function(t){var n=Object(u.__read)(e.useState(t.value.substring(t.snapSelection.start,t.snapSelection.end)),2),a=(n[0],n[1],Object(u.__read)(e.useState(""),2)),i=(a[0],a[1],t.handleInsert,t.handleToggleUploadImageModal),o=t.showUploadImageModal,r=t.snapSelection;t.value.substring(r.start,r.end);return e.createElement(f.a,{modalIsShown:o,modalContentStyle:{maxWidth:"475px",width:"100%"},onClose:i},e.createElement(v,null,e.createElement(f.c,{onClose:i}),e.createElement(E,null,"Upload Images"),e.createElement(y,null,e.createElement(b.a,{bucket:Kaggle.Blobs.Enums.ClientBlobBucket.Name.UserContent,onBlobUploaded:function(e,n,a,i){return Object(u.__awaiter)(void 0,void 0,void 0,(function(){return Object(u.__generator)(this,(function(e){return t.handleInsertImage(i),[2]}))}))},maxSize:5e6,onUploadsFinished:i}))))}))}).call(this,n(0))},1697:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p}));var a=n(384),i=n(1),o=n.n(i),r=n(0);const s=o.a.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;

  display: flex;
  align-items: center;
  justify-content: center;

  text-align: center;
  background-color: rgba(220, 220, 220, 0.8);
`,l=o.a.div`
  background-color: ${e=>e.theme.material.color.white};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  color: ${e=>e.theme.material.color.text[70]};
  display: inline-block;
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  font-weight: ${e=>e.theme.material.typography.body2.fontWeight};
  line-height: ${e=>e.theme.material.typography.body2.lineHeight};
  width: 70%;
`,c=o.a.div`
  margin: ${e=>e.theme.material.spacing(5)}
    ${e=>e.theme.material.spacing(3)};
`,d=o.a.div`
  display: flex;
  justify-content: flex-end;
  margin: ${e=>e.theme.material.spacing(3)};
`,u=o()(a.Button)`
  margin-right: ${e=>e.theme.material.spacing(2)};
  background-color: ${e=>e.theme.material.color.white};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  color: ${e=>e.theme.material.color.brand.grey[500]};

  &:hover {
    background-color: ${e=>e.theme.material.color.white};
    border: 1px solid ${e=>e.theme.material.color.brand.blue[500]};
    color: ${e=>e.theme.material.color.brand.blue[500]};
  }
`,m=o()(a.Button)`
  background-color: ${e=>e.theme.material.color.brand.blue[800]};

  &:hover {
    background-color: ${e=>e.theme.material.color.brand.blue[500]};
    color: ${e=>e.theme.material.color.white};
  }
`;function p(e){const{description:t,confirmText:n,cancelText:a,onAction:i}=e;return r.createElement(s,null,r.createElement(l,null,r.createElement(c,null,t),r.createElement(d,null,r.createElement(u,{variant:"secondary",tight:!0,onClick:()=>i("cancel")},a),r.createElement(m,{variant:"secondary",tight:!0,onClick:()=>i("confirm")},n))))}},1698:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1638),i=n(1645);const o=e=>{if("uploadContainer"===e.type){const{files:t,existingFiles:n,directories:a,existingDirectories:o}=e;return t.reduce((e,t)=>e+t.size,0)+n.reduce((e,t)=>e+t.size,0)+a.reduce((e,t)=>e+Object(i.e)(t),0)+o.reduce((e,t)=>e+Object(i.e)(t),0)}if("remoteUrlUploadContainer"===e.type){const{children:t}=e;return t.reduce((e,t)=>"remoteUrlVersionedFile"===t.type?e+t.size:Object(a.o)(t.state)?e+t.state.size:0,0)}return 0}},1699:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return x})),n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return _}));var a,i,o,r,s,l=n(3),c=n(0),d=n(1737),u=n(1),m=n.n(u),p=n(1641),h=n(10),g=m.a.div.withConfig({displayName:"ReportContent_ButtonRow",componentId:"sc-8lkmma"})(a||(a=Object(l.__makeTemplateObject)(["\n  display: flex;\n  justify-content: flex-end;\n"],["\n  display: flex;\n  justify-content: flex-end;\n"]))),f=m()(p.a).withConfig({displayName:"ReportContent_SpacedOutButton",componentId:"sc-12knikk"})(i||(i=Object(l.__makeTemplateObject)(["\n  margin: 5px;\n  width: 80px; /* not using ButtonAutoWidth since it doesn't support disabled */\n"],["\n  margin: 5px;\n  width: 80px; /* not using ButtonAutoWidth since it doesn't support disabled */\n"]))),b=m.a.textarea.withConfig({displayName:"ReportContent_TextArea",componentId:"sc-xpcbhv"})(o||(o=Object(l.__makeTemplateObject)(["\n  color: ",";\n  font-size: inherit;\n  ",";\n  padding: "," ",";\n  margin: "," 0;\n  border: 1px solid ",";\n  background-color: ",";\n  border-radius: ",";\n  &::placeholder {\n    color: ",";\n  }\n  width: 100%;\n  box-sizing: border-box;\n  height: 200px;\n"],["\n  color: ",";\n  font-size: inherit;\n  ",";\n  padding: "," ",";\n  margin: "," 0;\n  border: 1px solid ",";\n  background-color: ",";\n  border-radius: ",";\n  &::placeholder {\n    color: ",";\n  }\n  width: 100%;\n  box-sizing: border-box;\n  height: 200px;\n"])),(function(e){return e.theme.colors.text.medium}),(function(e){return e.theme.font.main.family}),h.g.PadS,h.g.PadM,h.g.PadM,(function(e){return e.theme.colors.border}),h.b.PureWhite,(function(e){return e.theme.size.border.radius.input}),(function(e){return e.theme.colors.text.light})),v=m.a.div.withConfig({displayName:"ReportContent_CommentReportModal",componentId:"sc-buxpr1"})(r||(r=Object(l.__makeTemplateObject)(["\n  padding: 30px;\n  @media screen and (min-width: ",") {\n    min-width: 500px;\n  }\n"],["\n  padding: 30px;\n  @media screen and (min-width: ",") {\n    min-width: 500px;\n  }\n"])),(function(e){return e.theme.size.breakpoint.screen.tablet.max})),y=m.a.div.withConfig({displayName:"ReportContent_ReportContentHeader",componentId:"sc-1cziybi"})(s||(s=Object(l.__makeTemplateObject)(["\n  font-size: ",";\n  padding-bottom: 10px;\n"],["\n  font-size: ",";\n  padding-bottom: 10px;\n"])),h.d.FontSizeXl),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={reasonType:null},t}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.reasons.map((function(e){return{value:e.value,text:e.reasonText}}));return c.createElement("div",null,c.createElement(d.a,{options:t,onChange:function(t){return e.setState({reasonType:t.value})}}),c.createElement(g,null,c.createElement(f,{onClick:this.props.onCancel},"Cancel"),c.createElement(f,{onClick:function(){return e.props.onNext(e.state.reasonType)},isDisabled:null==this.state.reasonType},"Next")))},t}(c.Component),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={responseText:""},t}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this;return c.createElement("div",null,this.props.promptText,c.createElement(b,{onChange:function(t){e.setState({responseText:t.target.value})}}),c.createElement(g,null,c.createElement(f,{onClick:this.props.onCancel},"Cancel"),c.createElement(f,{isDisabled:this.props.requireExplanationText&&0==this.state.responseText.length,onClick:function(){e.props.onSubmit(e.state.responseText)}},"Report")))},t}(c.Component),x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={reasonType:null,curPage:1},t}return Object(l.__extends)(t,e),t.prototype.render=function(){var e=this;return 1==this.state.curPage?c.createElement(w,{reasons:this.props.reasons,onCancel:this.props.onCancel,onNext:function(t){e.setState({curPage:2,reasonType:t})}}):c.createElement(E,{onSubmit:function(t){return e.props.submitMethod(e.state.reasonType,t)},onCancel:this.props.onCancel,promptText:this.getPromptTextFromReasonValue(),requireExplanationText:this.props.requireExplanationText})},t.prototype.getPromptTextFromReasonValue=function(){var e=this;return this.props.reasons.filter((function(t){return t.value==e.state.reasonType}))[0].promptText},t}(c.Component),C=[{value:"spam",reasonText:"This Notebook is being promoted in a way I feel is spammy",promptText:c.createElement("div",null,'"Where did you see the promotion for this Notebook?')},{value:"plagiarism",reasonText:"Plagiarism/copied content that is not meaningfully different",promptText:c.createElement("div",null,"Where is this copied from? Reports must include an example of the exact snippets that have been copied, their location within both of the documents, and the URL of the original content. If the original is not a Notebook, the original must include a date showing when it was created.")},{value:"votemanipulation",reasonText:"Votes for this Notebook are being manipulated",promptText:c.createElement("div",null,"Please describe the vote manipulation")},{value:"other",reasonText:"Other",promptText:c.createElement("div",null,"For questions about the editing tool or to report bugs, post to the"," ",c.createElement("a",{href:"kaggle.com/getting-started"},"Getting Started")," or"," ",c.createElement("a",{href:"kaggle.com/product-feedback"},"Product Feedback")," forum.",c.createElement("br",null),"Otherwise, explain your concerns here.")}],k=[{value:"spam",reasonText:"This dataset is being promoted in a way I feel is spammy",promptText:c.createElement("div",null,"Where did you see the promotion for this dataset?")},{value:"abusive",reasonText:"Dataset contains abusive content that is not suitable for this platform",promptText:c.createElement("div",null,"Please describe the content concern")},{value:"privacyviolation",reasonText:"Dataset raises a privacy concern, or is not sufficiently anonymized",promptText:c.createElement("div",null,"Please describe your concern")},{value:"votemanipulation",reasonText:"Votes for this dataset are being manipulated",promptText:c.createElement("div",null,"Please describe the vote manipulation")},{value:"copyrightviolation",reasonText:"Dataset raises a copyright concern",promptText:c.createElement("div",null,"Please follow the guidance ",c.createElement("a",{href:"/copyright-dispute-policy"},"here")," ","to file a takedown request, and include any relevant information below")},{value:"other",reasonText:"Other",promptText:c.createElement("div",null,"What are your concerns?")}],_=[{value:"spam",reasonText:"Spammy message",promptText:c.createElement("div",null,"Anything else to add? (optional)")},{value:"abusive",reasonText:"Abusive language",promptText:c.createElement("div",null,"Anything else to add? (optional)")},{value:"votemanipulation",reasonText:"Votes for this post are being manipulated",promptText:c.createElement("div",null,"Please describe the vote manipulation")},{value:"other",reasonText:"Other",promptText:c.createElement("div",null,"What are your concerns?")}]},1701:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b}));var a=n(287);function i(e,t){var n=h(e),a=h(t);return p(a>n?0:n-a)}function o(e){return e?new Date(e.toString()).getTime():null}var r=new RegExp("^(\\d*)\\.?(\\d{2}):(\\d{2}):(\\d{2})\\.?\\d*$");function s(e){var t=e.match(r);return t&&5===t.length?{days:0===t[1].length?0:parseInt(t[1],10),hours:parseInt(t[2]),minutes:parseInt(t[3]),seconds:parseInt(t[4])}:null}function l(e){var t=s(e);return t?function(e){return 24*e.days+e.hours}(t):null}function c(e){return p((new Date(e).getTime()-Date.now())/1e3)}var d=60,u=60*d,m=24*u;function p(e){var t=e,n=Math.floor(t/m);t-=n*m;var a=Math.floor(t/u);t-=a*u;var i=Math.floor(t/d);return{days:n,hours:a,minutes:i,seconds:t-=i*d}}function h(e){var t=e.seconds;return t+=e.minutes*d,t+=e.hours*u,t+=e.days*m}function g(e){var t=c(e),n=t.days,i=t.hours,o=t.minutes;return n>0?f(n,"days",i,"hours"):i>0?f(i,"hours",o,"minutes"):o>0?o+" "+a("minutes",o):"less than 1 minute"}function f(e,t,n,i){return e+" "+a(t,e)+", "+n+" "+a(i,n)}function b(e,t,n,a){return""+e+t+":"+n+a}},1703:function(e,t,n){"use strict";function a(e){return n=50,(t=e=e||"").length>n?t.slice(0,n-3)+"...":t;var t,n}function i(e){let t=0;for(const n of e)t++,t+=n.replies.length;return t}function o(e,t){for(e=e||"",t=t||"";e&&!e.endsWith("\n\n");)e+="\n";return e+function(e){return e?"> "+e.trim().replace(/(?:\r\n|\r|\n)/g,"\n> "):""}(t)+"\n\n"}function r(e){return e?e.hasAlreadyVotedDown?-1:e.hasAlreadyVotedUp?1:0:0}function s(e,t,n){var a,i,o,r;return{totalVotes:n,hasAlreadyVotedUp:1===t,hasAlreadyVotedDown:-1===t,canUpvote:null!==(a=null==e?void 0:e.canUpvote)&&void 0!==a&&a,canDownvote:null!==(i=null==e?void 0:e.canDownvote)&&void 0!==i&&i,voters:null!==(o=null==e?void 0:e.voters)&&void 0!==o?o:[],upvoters:null!==(r=null==e?void 0:e.upvoters)&&void 0!==r?r:[]}}function l(e){return e.map(e=>e.blobToken).filter(e=>Boolean(e))}function c(e,t){return!(!e||!t)&&(e.isAdmin||e.id===t)}function d(e,t){return!(!e||!t)&&e.id===t}function u(e){switch(e){case"topic":return"#20beff";case"admin":return"#008abc";case"datasetCreator":case"host":return"#CC615C";case"comment":return""}}function m(e){switch(e){case"admin":return"Kaggle Staff";case"topic":return"Topic Author";case"host":return"Competition Host";case"datasetCreator":return"Dataset Creator";case"comment":return""}}n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m}))},1705:function(e,t,n){"use strict";var a=n(1),i=n.n(a),o=n(0),r=n(1417),s=n(383),l=n(9);const c={light:{separator:l.c},dark:{separator:l.j}},d=i.a.div`
  border-bottom: ${e=>e.separator&&`1px solid ${e.theme.material.color.brand.grey[200]}`};
  display: flex;
  justify-content: space-between;
  padding-bottom: ${e=>e.paddingBottom};
  padding-top: 62px;
  width: 100%;

  @media (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    flex-wrap: ${e=>"wrap"===e.wrap&&"wrap"};
  }
`,u=i.a.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  max-width: ${e=>e.theme.material.spacing(165)};
  width: 100%;
`,m=i()(s.j)`
  font-weight: bold;
  margin-bottom: ${e=>e.theme.material.spacing(2)};
  font-family: ${e=>e.theme.material.typography.display1.fontFamily};
`,p=i()(s.b)`
  line-height: 22px;
`,h=i.a.div`
  align-items: center;
  display: flex;
  min-height: 100%;
  flex-shrink: 0;

  @media (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: ${e=>"hide"===e.wrap&&"none"};
    margin-top: ${e=>"wrap"===e.wrap&&e.theme.material.spacing(4)};
  }
`,g=e=>{const{className:t,title:n,separator:a,subtitle:i,meta:r,wrap:s="wrap"}=e,l=i||r?"58px":"30px";return o.createElement(d,{wrap:s,className:t,paddingBottom:l,separator:a},o.createElement(u,null,o.createElement(m,null,n),o.createElement(p,null,i)),o.createElement(h,{wrap:s},r))};n.d(t,"a",(function(){return E}));const f=i.a.div`
  border-bottom: ${e=>e.separator&&`1px solid ${e.contentTheme.separator}`};
  display: flex;
  height: 200px;
  justify-content: space-between;
  align-items: center;
  width: 100%;

  @media (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    flex-wrap: ${e=>"wrap"===e.wrap&&"wrap"};
    justify-content: center;
  }
`,b=i.a.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  max-width: ${e=>e.theme.material.spacing(165)};
  width: 100%;
`,v=i()(s.j)`
  font-weight: bold;
  margin-bottom: ${e=>e.theme.material.spacing(2)};
  font-family: ${e=>e.theme.material.typography.display1.fontFamily};
`,y=i()(s.r)`
  line-height: 22px;
`,w=i.a.div`
  align-items: center;
  justify-content: center;
  display: flex;
  flex-shrink: 0;

  @media (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: ${e=>"hide"===e.wrap&&"none"};
  }
`,E=e=>{const{className:t,title:n,separator:i,subtitle:s,meta:l,wrap:d="wrap",useKM:u,style:m}=e,p=o.useContext(a.ThemeContext),h=c[p.name];return u?o.createElement(f,{wrap:d,className:t,separator:i,contentTheme:h,style:m},o.createElement(r.a,{variant:"expanded"},o.createElement(b,null,o.createElement(v,{useKM:!0},n),o.createElement(y,{useKM:!0},s))),o.createElement(w,{wrap:d},l)):o.createElement(g,Object.assign({},e))}},1707:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a,i,o=n(3),r=n(0),s=n(1),l=n.n(s),c=l.a.span.withConfig({displayName:"Badge_Primary",componentId:"sc-eke5o0"})(a||(a=Object(o.__makeTemplateObject)(["\n  padding: 4px;\n  background-color: #008abc;\n  font-size: 12px;\n  color: #ffffff;\n  margin-left: 8px;\n  border-radius: 2px;\n"],["\n  padding: 4px;\n  background-color: #008abc;\n  font-size: 12px;\n  color: #ffffff;\n  margin-left: 8px;\n  border-radius: 2px;\n"]))),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.option,n=e.icon,a=e.children,s=e.custom,d="badge badge--"+(t||"default");if("primary"===t)return r.createElement(c,{className:d},n&&r.createElement("i",{className:"badge__icon fa "+n}),a);if("custom"===t){var u=l.a.span.withConfig({displayName:"Badge_Custom",componentId:"sc-ncntz4"})(i||(i=Object(o.__makeTemplateObject)(["\n        ","\n      "],["\n        ","\n      "])),s);return r.createElement(u,{className:d},n&&r.createElement("i",{className:"badge__icon fa "+n}),a)}return r.createElement("span",{className:d},n&&r.createElement("i",{className:"badge__icon fa "+n}),a)},t}(r.Component)},1708:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a,i,o,r,s=n(3),l=n(0),c=n(1),d=n.n(c),u=n(10),m=(d.a.div.withConfig({displayName:"Conditional_RelativeView",componentId:"sc-1xxeylx"})(a||(a=Object(s.__makeTemplateObject)(["\n  position: relative;\n  margin: 0 auto;\n"],["\n  position: relative;\n  margin: 0 auto;\n"]))),d.a.div.withConfig({displayName:"Conditional_AbsoluteView",componentId:"sc-1ecghle"})(i||(i=Object(s.__makeTemplateObject)(["\n  position: absolute;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  right: 0;\n  height: ","px;\n"],["\n  position: absolute;\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  right: 0;\n  height: ","px;\n"])),(function(e){return e.height})),d.a.span.withConfig({displayName:"Conditional_ConditionalBannerView",componentId:"sc-1lgy7fw"})(o||(o=Object(s.__makeTemplateObject)(["\n  opacity: 0.5;\n  margin-right: 5px;\n  font-size: 0.75em;\n"],["\n  opacity: 0.5;\n  margin-right: 5px;\n  font-size: 0.75em;\n"]))),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mounted=!1,t.state={bypassRender:!0,height:null},t.updateState=function(e){if(void 0===e&&(e=t.props.shouldRender),t.mounted)if("boolean"==typeof e)t.setState({bypassRender:!e});else if("function"==typeof e)t.updateState(e());else{if(!e.then)throw new Error('shouldRender was not of the correct type: received type "'+typeof e+'" | value: '+e);e.then(t.updateState)}},t}return Object(s.__extends)(t,e),t.prototype.componentDidMount=function(){this.mounted=!0,this.updateState()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.props.shouldRender!==e.shouldRender&&this.updateState(e.shouldRender)},t.prototype.render=function(){var e=this.props,t=e.children;e.banner,e.tip;if(this.state.bypassRender)return null;var n="function"==typeof t?t():t;return l.createElement(p,null,n)},t}(l.Component)),p=d.a.div.withConfig({displayName:"Conditional_ConditionalView",componentId:"sc-1ynuar2"})(r||(r=Object(s.__makeTemplateObject)(["\n  > * {\n    border: 1px dashed "," !important;\n    &:empty {\n      display: none;\n    }\n  }\n"],["\n  > * {\n    border: 1px dashed "," !important;\n    &:empty {\n      display: none;\n    }\n  }\n"])),u.b.AdminOnlyBorder)},1709:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(384),i=n(1),o=n.n(i),r=n(0);const s=o.a.div`
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: ${e=>e.theme.size.pad.l};
  line-height: 1.4;
`,l=o.a.div`
  ${e=>e.theme.font.main.size.l}
  ${e=>e.theme.font.main.weight.normal}
  margin: ${e=>e.theme.size.pad.s} 0;
`,c=o.a.a`
  ${e=>e.theme.font.main.size.m}
  color: ${e=>e.theme.colors.text.light};
  text-decoration: none;
  margin-bottom: ${e=>e.theme.size.pad.xl};
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 100%;

  &:hover {
    color: ${e=>e.theme.colors.kaggle.blueInteract};
  }
`,d=o.a.div`
  color: ${e=>e.theme.colors.text.medium};
  margin: ${e=>e.theme.size.pad.l} 0;
  text-align: center;
`,u=o()(a.Button)`
  color: ${e=>e.theme.colors.pure.white};
  background-color: ${e=>e.theme.colors.kaggle.blueDark};
  padding: ${e=>e.theme.size.pad.s} ${e=>e.theme.size.pad.m};
  border-radius: ${e=>e.theme.size.border.radius.button};
  flex: 0 0 auto;

  /* Default Button has weird color changes */
  &:hover {
    background-color: ${e=>e.theme.colors.kaggle.blueInteract};
    color: ${e=>e.theme.colors.pure.white};
  }

  &:disabled {
    cursor: default;
    background-color: ${e=>e.theme.colors.kaggle.gray};
    color: ${e=>e.theme.colors.pure.white};
  }
`;class m extends r.Component{render(){const{labels:e,isOpen:t,path:n,onAction:i,children:o,isDisabled:m}=this.props,{title:p,button:h,description:g}=e;return r.createElement(a.Modal,{size:"s",isOpen:t,onCloseRequest:i},r.createElement(s,null,r.createElement(l,null,p),r.createElement(c,{title:n,href:n},window.location.origin,n),o,r.createElement(d,null,g),r.createElement(u,{disabled:m,tight:!0,onClick:i},h)))}}},1710:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1),i=n.n(a),o=n(0),r=n(1748);const s=i.a.div`
  flex-grow: 1;

  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  color: ${e=>e.theme.colors.kaggle.redDark};
  padding: ${e=>e.theme.size.pad.xl};
`,l=i.a.div`
  ${e=>e.theme.font.main.size.xxl};
  margin-top: ${e=>e.theme.size.margin.l};
  margin-bottom: ${e=>e.theme.size.margin.s};
`,c=i.a.div`
  ${e=>e.theme.font.main.size.m};
  max-width: 400px;
  text-align: center;
`;function d(e){const{title:t,description:n}=e;return o.createElement(s,null,o.createElement(r.a,{icon:"exclamation"}),o.createElement(l,{"data-testid":"error-screen-header"},t),o.createElement(c,null,n))}},1711:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(3);var a=n(1416),i=n(1),o=n.n(i),r=n(0),s=n(1639);const l=o()(({isDisabled:e,...t})=>r.createElement(a.a,Object.assign({},t)))`
  color: ${e=>Object(s.e)(e.isDisabled,e.theme.colors.kaggle.red,e.theme.colors.text.light)};
`,c=e=>{const{isDisabled:t,onRemove:n}=e;return n?r.createElement(s.c,{disabled:t,onClick:n},r.createElement(a.a,{icon:"close",size:"inline"})):r.createElement(s.b,null,r.createElement(l,{isDisabled:t,icon:"warning",size:"inline","data-testid":"error-icon"}))}},1712:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(3);var a=n(1416),i=n(1),o=n.n(i),r=n(0),s=n(1639);const l=o()(({isDisabled:e,...t})=>r.createElement(a.a,Object.assign({},t)))`
  color: ${e=>Object(s.e)(e.isDisabled,e.theme.colors.kaggle.green,e.theme.colors.text.light)};
`,c=e=>{const{isDisabled:t,onRemove:n}=e;return n?r.createElement(s.c,{disabled:t,onClick:n},r.createElement(a.a,{icon:"close","data-testid":"remove-successful-upload-icon",size:"inline"})):r.createElement(s.b,null,r.createElement(l,{isDisabled:t,icon:"check",size:"inline","data-testid":"success-icon"}))}},1713:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{if(e.type!==t.type)return!0;if("githubContainer"===e.type&&"githubContainer"===t.type)return e.state.type!==t.state.type||e.url!==t.url;if("uploadContainer"===e.type&&"uploadContainer"===t.type){if(e.files.length!==t.files.length||e.existingFiles.length!==t.existingFiles.length||e.directories.length!==t.directories.length||e.existingDirectories.length!==t.existingDirectories.length)return!0;if(e.directories.length>0||t.directories.length>0||e.existingDirectories.length>0||t.existingDirectories.length>0)return!0;for(let n=0;n<e.files.length;n++)if(s(e.files[n],t.files[n]))return!0;for(let n=0;n<e.existingFiles.length;n++)if(l(e.existingFiles[n],t.existingFiles[n]))return!0;return!1}if("remoteUrlUploadContainer"===e.type&&"remoteUrlUploadContainer"===t.type){if(e.children.length!==t.children.length)return!0;for(let n=0;n<e.children.length;n++)if(r(e.children[n],t.children[n]))return!0;return!1}if("kernelOutputContainer"===e.type&&"kernelOutputContainer"===t.type){if("listFiles"===e.state.type&&"listFiles"===t.state.type){if(i(e.state.kernel,t.state.kernel))return!0;if(e.state.files.length!==t.state.files.length)return!0;for(let n=0;n<e.state.files.length;n++)if(o(e.state.files[n],t.state.files[n]))return!0;return!1}if("listKernels"===e.state.type&&"listKernels"===t.state.type){if(e.state.query!==t.state.query)return!0;if(e.state.searchType!==t.state.searchType)return!0;if(e.state.kernels.length!==t.state.kernels.length)return!0;for(let n=0;n<e.state.kernels.length;n++)if(i(e.state.kernels[n],t.state.kernels[n]))return!0;return!1}}return!0},i=(e,t)=>e.id!==t.id||e.title!==t.title||e.url!==t.url,o=(e,t)=>e.type!==t.type||e.name!==t.name||e.id!==t.id,r=(e,t)=>{if(e.type!==t.type||e.name!==t.name||e.url!==t.url)return!0;if("remoteUrlUploadFile"===e.type&&"remoteUrlUploadFile"===t.type){if(e.state.type!==t.state.type)return!0}else if("remoteUrlVersionedFile"===e.type&&"remoteUrlVersionedFile"===t.type&&e.id!==t.id)return!0;return!1},s=(e,t)=>{if(e.type!==t.type||e.name!==t.name||e.state.type!==t.state.type)return!0;if("uploading"===e.state.type&&"uploading"===t.state.type){if(e.state.percentComplete!==t.state.percentComplete)return!0}else if("duplicate"===e.state.type&&"duplicate"===t.state.type&&e.state.duplication.url!==t.state.duplication.url)return!0;return!1},l=(e,t)=>e.type!==t.type||e.name!==t.name||e.identifier.type!==t.identifier.type||("database"===e.identifier.type&&"database"===t.identifier.type?e.identifier.databundleVersionObjectId!==t.identifier.databundleVersionObjectId:"firestore"===e.identifier.type&&"firestore"===t.identifier.type&&e.identifier.gcsPath!==t.identifier.gcsPath)},1714:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c}));var a=n(1638);const i=()=>({container:{type:"githubContainer",url:"",state:{type:"invalid"}}}),o=e=>{const{url:t}=e;return c(t)?{container:{type:"githubContainer",url:t,state:{type:"pending"}}}:{container:{type:"githubContainer",url:t,state:{type:"invalid"}}}},r=e=>{const{container:t}=e;return Object(a.a)(t)?{container:Object.assign(Object.assign({},t),{state:{type:"failed"}})}:e},s=e=>t=>{const{content:n}=e,{container:i}=t;return Object(a.a)(i)?{container:Object.assign(Object.assign({},i),{state:{type:"success",content:n}})}:t},l=e=>{if(!c(e))return;const t=d(e).replace("https://github.com/","").split("/");return{owner:t[0],repository:t[1]}},c=e=>{const t=d(e);return!!t.startsWith("https://github.com/")&&!(t.replace("https://github.com/","").split("/").length<2)},d=e=>{if(0===e.length)return"";const t=e.trim().toLowerCase();return(t.startsWith("http://")?t.replace("http://","https://"):t.startsWith("https://")?t:"https://"+t).replace("www.github.com","github.com")}},1715:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(3),i=n(0),o=n(30),r=n(1727),s=function(e){for(var t="> **"+e.author+" wrote:**\n> \n",n=e.content.split("\n"),a=/\s*\[.*?\]:/,i=0;i<n.length;i++){var o=n[i];a.test(o)||(n[i]="> "+o)}return t+n.join("\n")+"\n\n"},l=function(t){function n(n){var a=t.call(this,n)||this;return a.markdownConverter=new e.getSanitizingConverter,a}return Object(a.__extends)(n,t),n.prototype.render=function(){var e=this;return i.createElement(r.b,{allowAttachments:this.props.allowAttachments,onAttachmentAdded:this.props.onAttachmentAdded,onAttachmentDeleted:this.props.onAttachmentDeleted,author:{displayName:o.a.userDisplayName,id:o.a.userId,thumbnailUrl:o.a.userThumbnailUrl,tier:this.props.currentUserTier,userUrl:o.a.userProfileUrl},onCancelComment:function(){return e.props.onCancelComment()},initialEditDraft:this.props.applyQuote?s(this.props.applyQuote):"",onSubmitted:function(){return e.props.onSubmitted()},id:9e7*Math.random()+1e7,isSubmitting:this.props.isSubmitting,newAttachments:this.props.newAttachments,showEditPreview:this.props.showEditPreview,minimizedEditorView:this.props.minimizedEditorView,toggleEditPreview:function(){return e.props.toggleEditPreview()},openEditor:function(){return e.props.openEditor()},markdownKey:this.props.markdownKey,markdownRef:this.props.markdownRef,topicId:this.props.topicId,currentUserTier:this.props.currentUserTier,attachments:[]})},n}(i.Component)}).call(this,n(288))},1716:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),i=n(0),o=n(30),r=n(158),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){return i.createElement(i.Fragment,null,i.createElement("input",{name:r.b,value:o.a.antiForgeryToken,type:"hidden"}))},t}(i.Component)},1718:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(3),i=n(0),o=n(580);function r(e){var t=e.style,n=e.disabled,r=Object(a.__rest)(e,["style","disabled"]);return n?i.createElement("div",{className:"rdt",style:t},i.createElement("input",{type:"text",className:"form-control",disabled:n,value:r.value?r.value.toString():""})):i.createElement(o,Object(a.__assign)({},r))}},1719:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(3),i=n(0),o=n(1672),r=function(e){function t(t){var n=e.call(this,t)||this;return n.onCancel=function(){n.props.cancelCallback(n.props.sectionName,n.props.cancelPropName)},n.onToggle=function(){n.props.isEditing&&n.props.saveCallback&&n.props.saveCallback(n.props.sectionName),n.props.toggleCallback(n.props.sectionName)},n.state={isEditing:t.isEditing},n}return Object(a.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({isEditing:e.isEditing})},t.prototype.render=function(){var e=this.props,t=e.isHidden,n=e.disabled,a=e.style;if(t)return null;var r=i.createElement(o.a,{style:a,disabled:n,onClick:this.onToggle,className:this.props.className||"edit-state-toggle-button",text:this.state.isEditing?this.props.saveButtonText||"Save":this.props.editButtonText||"Edit"});return this.state.isEditing&&this.props.cancelCallback?i.createElement("div",{className:"edit-state-toggle-button__multiple-button-container"},i.createElement(o.a,{style:a,disabled:n,onClick:this.onCancel,className:"edit-state-toggle-button--cancel"},"cancel"),r):r},t}(i.Component);!function(e){function t(t){var n=e.call(this,t)||this;return n.onButtonClick=function(){n.setState({isEditing:!n.state.isEditing})},n.state={isEditing:t.isEditing||!1},n}Object(a.__extends)(t,e),t.prototype.render=function(){return i.createElement(r,{isEditing:!1,sectionName:"isEditing",toggleCallback:this.onButtonClick})}}(i.Component)},1720:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var a=n(383),i=n(1626),o=n(384),r=n(1),s=n.n(r),l=n(0),c=n(1632);const d=s.a.div`
  padding: ${e=>e.theme.material.spacing(4)};
  display: flex;
  width: 100%;
  overflow-y: auto;
`,u=s.a.div`
  flex: 0 0 50%;
  .mdc-form-field {
    align-items: flex-start !important;
  }
`,m=s()(a.e.withComponent("p"))`
  color: ${e=>e.theme.material.color.text[50]};
`,p=s.a.div`
  margin: ${e=>e.theme.material.spacing(4)}
    ${e=>e.theme.material.spacing(2)} ${e=>e.theme.material.spacing(4)} 0;
`,h={reuseOriginalSingleGcsZip:!1,disableRawUpload:!1,disableBundleCreation:!1,disableIndividualZipCreation:!1,disableDirectoryZipCreation:!1,disableDecompression:!1,gcsUploadUrl:""},g=e=>{const t=l.useContext(c.a),{flags:n,onFlagsChange:r}=e;return l.createElement(d,null,l.createElement(u,null,l.createElement(a.o,null,"Flags"),l.createElement(p,null,l.createElement(i.a,{title:"Reuse Single Zip",disabled:t,checked:n.reuseOriginalSingleGcsZip,onChange:e=>r(Object.assign(Object.assign({},n),{reuseOriginalSingleGcsZip:e.currentTarget.checked}))},"Reuse Single Zip",l.createElement(m,null,"If a single zip was uploaded, reuse this zip as-is as the bundle zip (ignored if not exactly one zip was uploaded)."))),l.createElement(p,null,l.createElement(i.a,{title:"Disable Kernels Upload",disabled:t,checked:n.disableRawUpload,onChange:e=>r(Object.assign(Object.assign({},n),{disableRawUpload:e.currentTarget.checked}))},"Disable Kernels Upload",l.createElement(m,null,"If enabled, no data will be uploaded to the kernels bucket / available for Notebooks."))),l.createElement(p,null,l.createElement(i.a,{title:"Disable bundle.zip Creation",disabled:t,checked:n.disableBundleCreation,onChange:e=>r(Object.assign(Object.assign({},n),{disableBundleCreation:e.currentTarget.checked}))},"Disable bundle.zip Creation",l.createElement(m,null,"Disables the creation of the bundle.zip (the archive containing all raw contents). If enabled, overrides 'Reuse Single Zip'."))),l.createElement(p,null,l.createElement(i.a,{title:"Disable Individual Zip Creation",disabled:t,checked:n.disableIndividualZipCreation,onChange:e=>r(Object.assign(Object.assign({},n),{disableIndividualZipCreation:e.currentTarget.checked}))},"Disable Individual Zip Creation",l.createElement(m,null,"By default, all files ",">","1mb get zipped individually, for faster downloads from the website. Settings this flag disables this functionality and always uses the raw files."))),l.createElement(p,null,l.createElement(i.a,{title:"Disable Directory Zip Creation",disabled:t,checked:n.disableDirectoryZipCreation,onChange:e=>r(Object.assign(Object.assign({},n),{disableDirectoryZipCreation:e.currentTarget.checked}))},"Disable Directory Zip Creation",l.createElement(m,null,"By default, all top-level directories with ",">","10 files get zipped, for faster downloads from the website. Settings this flag disables this functionality."))),l.createElement(p,null,l.createElement(i.a,{title:"Disable Decompression",disabled:t,checked:n.disableDecompression,onChange:e=>r(Object.assign(Object.assign({},n),{disableDecompression:e.currentTarget.checked}))},"Disable Decompression",l.createElement(m,null,"By default, all archive files (zip, tar.gz, 7zip, ...) get decompressed automatically. This setting disables it.")))),l.createElement(u,null,l.createElement(a.o,null,"Other settings"),l.createElement(p,null,l.createElement(o.TextInput,{placeholder:"GCS Upload URL",value:n.gcsUploadUrl?n.gcsUploadUrl:null,disabled:t,debounceMilliseconds:100,hasIndicator:!1,hideBorder:!1,sizeToContent:!1,onSave:e=>r(Object.assign(Object.assign({},n),{gcsUploadUrl:e}))}),l.createElement(m,null,"Set this path to a valid GCS URL to pull the data from there instead of using uploaded files (TPU usecase)."))))}},1723:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{var t,n,i,o,r,s,l;if(!e)return 0;switch(e.type){case"dataSource":return a(e.databundleVersion);case"databundle":return(null===(t=e.databundleInfo.versions)||void 0===t?void 0:t.totalChildren)||0;case"databundleVersion":const c=e;return((null===(n=c.filesetInfo)||void 0===n?void 0:n.directories.totalChildren)||0)+((null===(i=c.filesetInfo)||void 0===i?void 0:i.files.totalChildren)||0)+((null===(o=c.bigquerySnapshotInfo)||void 0===o?void 0:o.bigqueryTables.totalChildren)||0);case"directory":const d=e;return(d.directoryInfo.directories.totalChildren||0)+(d.directoryInfo.files.totalChildren||0);case"file":const u=e;return((null===(r=u.tableInfo)||void 0===r?void 0:r.tableColumns.totalChildren)||0)+((null===(s=u.sqliteInfo)||void 0===s?void 0:s.tables.totalChildren)||0)+((null===(l=u.excelInfo)||void 0===l?void 0:l.tables.totalChildren)||0);case"table":return e.tableInfo.tableColumns.totalChildren||0}return 0}},1724:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return o}));n(3);function a(e){switch(e){case 0:return"novice";case 1:return"contributor";case 2:return"expert";case 3:return"master";case 4:return"grandmaster";case 5:return"staff";case 21:return"recalc"}}function i(e){switch(e){case"gpu":return"GPU";case"tpu_v3_8":return"TPU v3-8";case"tpu_v2_32":return"TPU v2-32";default:return"None"}}function o(e){const t=Math.floor(e/3600),n=e%3600,a=Math.floor(n/60);return`${t.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}},1725:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a,i=n(3),o=n(1),r=n.n(o).a.div.withConfig({displayName:"Spinner_SpinnerContainer",componentId:"sc-fllvzl"})(a||(a=Object(i.__makeTemplateObject)(["\n  color: rgba(0, 0, 0, 0.2);\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  min-height: 42px;\n"],["\n  color: rgba(0, 0, 0, 0.2);\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n  min-height: 42px;\n"]))),s=function(t){return e.createElement(r,{style:t.style||null},e.createElement("i",{className:"fa fa-circle-o-notch fa-spin fa-2x"}))}}).call(this,n(0))},1726:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return N}));var a=n(3),i=n(383),o=n(1416),r=n(1625),s=n(1468),l=n(8),c=n(1),d=n.n(c),u=n(0),m=n(1422),p=n(1735),h=n(1906),g=n(1817),f=n(1685),b=n(1785);const v="Your message must have at least 10 characters.",y=d.a.div``,w=d.a.div`
  display: flex;
  justify-content: space-between;
  margin-top: 8px;
`,E=d.a.div`
  align-items: center;
  display: flex;
  margin-left: auto;

  && > button + button {
    margin-left: ${e=>e.theme.material.spacing(2)};
  }
`,x=d()(i.b)`
  && {
    font-weight: 500;
  }
`,C=d()(i.e)`
  display: flex;
  align-items: center;
  padding: ${e=>e.theme.material.spacing(1,0)};
`,k=d.a.div`
  margin-top: ${e=>e.theme.material.spacing(5)};
`,_=d.a.div`
  display: flex;
  align-items: center;
  cursor: pointer;
  margin-left: ${e=>e.theme.material.spacing(1)};
`,S=d.a.div`
  display: flex;
  flex-direction: column;
  padding: ${e=>e.theme.material.spacing(2,2,4,2)};
`,O=d()(i.r)`
  && {
    /* No official KM error color yet, using this temporarily */
    color: #e23e3e;
  }
`,T=/\b(up-?)?vote\b/i,j=/\bplease\b/i;const I=()=>{const e=u.useRef(!1),t="Changes you made will not be saved, are you sure you want to leave this page?",n=n=>e.current?(n.returnValue=t,t):null;return u.useEffect(()=>(window.addEventListener("beforeunload",n),()=>{window.removeEventListener("beforeunload",n)}),[]),[t=>{e.current=t}]},N=u.memo(({markdown:t,htmlFallback:n,isEditing:i,confirmButtonText:c,allowAttachments:d,onSave:N,onSaveSuccess:D,onCancel:$,attachments:M,focusOnInitialRender:U,topicId:P,isTopicContent:F,user:R})=>{const[z,L]=u.useState(!1),[A,V]=u.useState([]),[B,K]=u.useState([]),[H,q]=u.useState(t),[W,G]=u.useState(M),[Q]=I(),[Y]=I(),[X,J,Z]=((e,t)=>{const n=u.useRef(!1),a={contentType:t?"topic":"comment"};void 0!==e&&(a.topicId=e);const i=[e,t];return[u.useCallback(()=>{n.current||(l.logger.report("discussions","upvote-spam-warning-shown",a),n.current=!0)},i),u.useCallback(e=>{l.logger.reportImmediate("discussions","upvote-spam-warning-submitted",Object.assign(Object.assign({},a),{messageId:e}))},i),u.useCallback(e=>{l.logger.reportImmediate("discussions","upvote-spam-potential-spam-submitted",Object.assign(Object.assign({},a),{messageId:e}))},i)]})(P,F),ee=((t,n)=>{const[a,i]=u.useState(!1),o=null==n?void 0:n.userUrl;return u.useEffect(()=>{o&&t?e.get(`${o}/discussion_counts.json`).done(e=>{i(0===e.totalDiscussion)}):i(!1)},[o,t]),a})(i,R),te=u.useCallback(()=>{Q(!1),Y(!1),$&&$()},[$]);u.useEffect(()=>{q(t)},[t]),u.useEffect(()=>{G(M)},[M]);const ne=u.useMemo(()=>(function(e,t){if(t&&T.test(e)){return new RegExp("https?://(www.)?kaggle.com"+t.userUrl,"i").test(e)}return!1})(H,R),[H,R]);if(i&&ne&&l.featureFlags.discussionsUpvoteSpamWarning&&X(),!i)return u.createElement(y,null,t?u.createElement(g.a,{markdown:t}):u.createElement(g.a,{html:m(null!=n?n:"")}),u.createElement(k,null,M.map(e=>u.createElement(C,{key:e.id},u.createElement(f.a,{color:"black",href:e.url||""},e.name)))));const ae=({isSubmit:e})=>H.length<10&&e?(-1===A.indexOf(v)&&V([...A,v]),!1):(V([]),!0);let ie;return l.featureFlags.discussionsUpvoteSpamWarning&&(ee||ne)&&(ie=u.createElement(u.Fragment,null,u.createElement(h.b,null,"Did you know? Explicitly asking for upvotes is against our"," ",u.createElement("a",{href:"/community-guidelines",target:"_blank"},"community guidelines.")))),u.createElement(y,null,Boolean(A.length||B.length)&&u.createElement(S,null,A.concat(B).map(e=>u.createElement(O,{key:e},e))),u.createElement(h.a,{focusOnInitialRender:U,value:H,onChange:e=>{Q(!0),q(e)},onBlur:()=>{K([]),ae({isSubmit:!1})},topicId:P,isTopicContent:F,warnings:ie}),u.createElement(w,null,u.createElement(u.Fragment,null,Boolean(W.length)&&u.createElement(u.Fragment,null,u.createElement(x,null,"Attachments:"),W.map((e,t)=>u.createElement(C,{key:e.id},e.name,u.createElement(_,null,u.createElement(o.a,{onClick:()=>{l.discussionsClient.discussionsService.deleteAttachment({attachmentId:e.id});const n=W.filter((e,n)=>n!==t);n.length||Y(!1),G(n)},icon:"remove_circle_outline",size:"xsmall"})))))),u.createElement(E,null,d&&u.createElement(r.a,{icon:"attach_file",size:"small",style:{width:"36px",height:"36px"},onClick:()=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){V(A.filter(e=>"Attachments must be under 5MB."!==e));let e=[];try{e=yield Object(b.a)()}catch(e){V([...A,"Attachments must be under 5MB."])}if(!e.length)return;Y(!0);const t=yield Promise.all(e.map(b.b));G((M||[]).concat(t.map(e=>({id:Number(e.gcsInfo.id),name:e.name,url:e.gcsInfo.mediaLink,description:null,totalBytes:Number(e.gcsInfo.size),blobToken:e.token,previewUrl:null,fileType:null,downloadUrl:null,relativePath:null,isSqliteTable:!1,totalRows:-1,columns:[],ownerSlug:null,datasetSlug:null}))))}))}),$&&u.createElement(s.a,{useKM:!0,emphasis:"low",onClick:te},"Cancel"),u.createElement(s.a,{useKM:!0,disabled:z,onClick:()=>{if(K([]),!ae({isSubmit:!0}))return;const e=N({html:Object(p.a)(H),markdown:H,attachments:W}),t=e=>{Q(!1),Y(!1),l.featureFlags.discussionsUpvoteSpamWarning&&e&&(ne?J(e):function(e){return T.test(e)&&j.test(e)}(H)&&Z(e))};L(!0),e.then(({messageId:e})=>{t(e),D&&D()}).catch(e=>{throw e&&"object"==typeof e&&e.message&&K([e.message]),e}).finally(()=>L(!1))}},z?"Submitting...":c))))})}).call(this,n(129))},1727:function(e,t,n){"use strict";n.d(t,"b",(function(){return M})),n.d(t,"a",(function(){return F}));var a,i,o=n(3),r=n(1413),s=n(0),l=n(22),c=n(1646),d=n(1644),u=n(1631),m=n(1657),p=n(1641),h=n(30),g=n(1741),f=n(1661),b=n(1764),v=n(1421),y=n(1651),w=n(1654),E=n(1753),x=n(1729),C=n(1738),k=n(1715),_=n(1647),S=n(1699),O=n(175),T=n(10),j=function(e){var t,n,a=new Map;if(e.refactoredComment&&e.refactoredComment.replies)try{for(var i=Object(o.__values)(e.refactoredComment.replies),r=i.next();!r.done;r=i.next()){var s=r.value;a.set(s.id,s)}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return a},I=function(e){return s.createElement(v.VoteButton,{canDownvote:e.refactoredComment?e.refactoredComment.votes.canDownvote&&h.a.userId!=e.refactoredComment.author.id:e.canDownvote&&h.a.userId!=e.author.id,canUpvote:e.refactoredComment?e.refactoredComment.votes.canUpvote:h.a.userId!=e.author.id,compact:!0,hasAlreadyVotedDown:e.refactoredComment?e.refactoredComment.votes.hasAlreadyVotedDown:-1===e.currentUserVote,hasAlreadyVotedUp:e.refactoredComment?e.refactoredComment.votes.hasAlreadyVotedUp:1===e.currentUserVote,totalVotes:e.refactoredComment?e.refactoredComment.votes.totalVotes:e.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+(e.refactoredComment?e.refactoredComment.id:e.id),voteUpUrl:"/forums/messages/upvote?forumMessageId="+(e.refactoredComment?e.refactoredComment.id:e.id),voteResumeUrl:"/account/resume-action?event=vote&forumMessageId="+(e.refactoredComment?e.refactoredComment.id:e.id),onVoteUpSuccess:_.a.upvoteForumPost,onVoteDownSuccess:_.a.downvoteForumPost})},N=O.default.div.withConfig({displayName:"Comment_PlaceholderInputWrapper",componentId:"sc-17xtcz1"})(a||(a=Object(o.__makeTemplateObject)(["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  line-height: 1.67;\n  padding: "," "," 6px; /* PadL - 18px from react-mentions */\n\n  textarea::placeholder {\n    color: ",";\n  }\n"],["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  line-height: 1.67;\n  padding: "," "," 6px; /* PadL - 18px from react-mentions */\n\n  textarea::placeholder {\n    color: ",";\n  }\n"])),T.b.PureWhite,T.b.ContentBorder,T.g.BorderRadius,T.g.PadL,T.g.PadL,T.b.TextLight),D=O.default.textarea.withConfig({displayName:"Comment_PlaceholderInput",componentId:"sc-1wlma0j"})(i||(i=Object(o.__makeTemplateObject)(["\n  border: 0;\n  width: 100%;\n  margin: 0;\n  font-family: ",";\n  font-size: ",";\n  resize: none;\n"],["\n  border: 0;\n  width: 100%;\n  margin: 0;\n  font-family: ",";\n  font-size: ",";\n  resize: none;\n"])),T.d.FontFamilyInter,T.d.FontSizeM),$="Comment here. Be patient, be friendly, and focus on ideas. We are all here to learn and improve!",M=function(e){return e.minimizedEditorView?s.createElement("div",{className:l("comment-wrapper",e.minimizedEditorView&&"comment-wrapper--mini-form")},s.createElement(c.b,{minWidth:c.a.desktopMin},s.createElement("div",{className:"discussion-comment__author"},s.createElement(m.a,Object(o.__assign)({},e.author,{hideTooltip:!0,width:40})))),s.createElement("div",{className:l("discussion-comment","discussion-comment--parent")},s.createElement("div",{className:l("discussion-comment__body",e.minimizedEditorView&&"discussion-comment__body--mini",!e.showEditPreview&&"discussion-comment__body--editing")},s.createElement(N,{onClick:function(){return e.openEditor()}},s.createElement(D,{id:"placeholder-input",placeholder:"Click to comment. Be patient, be friendly, and focus on ideas. We are all here to learn and improve!","aria-label":"Enter new comment"}))))):s.createElement("div",{id:"topic-reply",key:"comment-container"},s.createElement(U,Object(o.__assign)({},e)))},U=function(e){return s.createElement("div",{id:e.id.toString()},s.createElement(c.b,{minWidth:c.a.desktopMin},s.createElement("div",{className:l("comment-wrapper")},s.createElement("div",{className:"discussion-comment__author"},s.createElement(m.a,Object(o.__assign)({},e.author,{hideTooltip:!0,width:40}))),s.createElement("div",{className:l("discussion-comment","discussion-comment--parent")},s.createElement("span",{className:"discussion-comment__title"},s.createElement("span",{className:"discussion-comment__title-author-link-wrapper"},s.createElement("a",{className:"discussion-comment__title-author-link",href:e.author.userUrl,title:e.author.displayName},e.author.displayName.slice(0,50))),s.createElement("span",{className:"discussion-comment__title-element--spacer"}),s.createElement("div",{className:"discussion-comment__buttons"},s.createElement("div",{className:"discussion-comment__preview-button",onClick:e.toggleEditPreview},e.showEditPreview?"Edit":"Preview"))),s.createElement("div",{className:l("discussion-comment__body",!e.showEditPreview&&"discussion-comment__body--editing")},s.createElement(P,Object(o.__assign)({},e,{placeholder:$,saveButtonText:"Post Comment"})))))),s.createElement(c.b,{minWidth:0,maxWidth:c.a.tabletMax},s.createElement("div",{className:l("discussion-comment","discussion-comment--parent")},s.createElement("span",{className:"discussion-comment__title"},s.createElement("span",{className:"discussion-comment__title-author-link-wrapper"},s.createElement("a",{className:"discussion-comment__title-author-link",href:e.author.userUrl,title:e.author.displayName},e.author.displayName.slice(0,50))),s.createElement("span",{className:"discussion-comment__title-element--spacer"}),s.createElement("div",{className:"discussion-comment__buttons"},s.createElement("div",{className:"discussion-comment__preview-button",onClick:e.toggleEditPreview},e.showEditPreview?"Edit":"Preview"))),s.createElement("div",{className:l("discussion-comment__body","discussion-comment__body--mini",e.showEditPreview?null:"discussion-comment__body--editing")},s.createElement("div",{className:"discussion-comment__content"},s.createElement(P,Object(o.__assign)({},e,{placeholder:$,saveButtonText:"Post Comment"})))))))},P=function(e){return s.createElement("div",null,s.createElement(y.a,{collapsed:!1,debounceInterval:2e3,key:e.markdownKey,onInputFocus:function(){},onSubmit:e.onSubmitted,placeholder:e.placeholder,preview:e.showEditPreview,value:e.initialEditDraft,ref:e.markdownRef,topicId:e.topicId,grabFocus:!0}),s.createElement("span",null,s.createElement("span",{key:"mini-editor-spacer",className:l((e.attachments||[]).length>0||e.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),s.createElement(g.a,{key:"mini-editor-file-list",compact:!0,fileListItems:e.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:e.onAttachmentDeleted}),s.createElement(g.a,{key:"mini-editor-file-list-new",compact:!0,fileListItems:e.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:e.onAttachmentDeleted})),s.createElement("div",{key:"mini-editor-action-buttons",className:"discussion-comment__action-buttons"},e.allowAttachments?s.createElement("div",{className:"discussion-comment__action-button"},s.createElement(f.a,{bucket:Kaggle.Blobs.Enums.ClientBlobBucket.Name.ForumMessageAttachmentFiles,compact:!0,onBlobUploaded:function(t,n,a){return e.onAttachmentAdded(n,t,a)}})):null,s.createElement("span",{className:"discussion-comment__flex-spacer"}),s.createElement("span",{className:"discussion-comment__editor-submit-wrapper"},s.createElement(p.a,{useKM:!0,emphasis:"low",onClick:e.onCancelComment},"Cancel"),s.createElement(p.a,{useKM:!0,isDisabled:e.isSubmitting,isSmall:!0,onClick:e.onSubmitted,text:e.saveButtonText}))))},F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(o.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.refactoredComment?t.refactoredComment.author:t.author;return s.createElement("div",null,s.createElement(d.a,{isShown:this.props.showDeleteConfirm,title:"Delete Message?",children:"You are about to delete this message.",confirmText:"Delete",cancelText:"Cancel",isDangerousAction:!0,onConfirm:function(){return e.props.onConfirmedDelete()},onCancel:function(){return e.props.onCanceledDelete()}}),t.isDeleted?function(e){var t=j(e),n=e.refactoredComment?e.refactoredComment.id:e.id,a=e.refactoredComment?e.refactoredComment.replies:e.replies;return s.createElement("div",null,s.createElement(c.b,{minWidth:c.a.desktopMin},s.createElement("div",{className:"comment-wrapper"},s.createElement("div",{className:"discussion-comment__author discussion-comment__author--deleted"},s.createElement(m.a,{thumbnailUrl:"/static/images/grey-thumbnail-small.png",displayName:"No user",width:40})),s.createElement("div",{className:l("discussion-comment",a&&a.length>0?"discussion-comment--parent":null)},s.createElement("span",{className:"discussion-comment__title"},s.createElement("span",{className:"discussion-comment__title-author-link-wrapper"},e.refactoredComment&&e.refactoredComment.postDate||e.postDate?s.createElement("span",{key:"post-date",className:"discussion-comment__title-element"},s.createElement(r.a,{time:e.refactoredComment?e.refactoredComment.postDate:e.postDate})):null)),s.createElement("div",{className:"discussion-comment__body"},s.createElement(E.a,{rawHtml:"This Comment was deleted.",rawMarkdown:""})),z(e,n,!0,t)))),s.createElement(c.b,{minWidth:0,maxWidth:c.a.tabletMax},s.createElement("div",{className:l("discussion-comment",a&&a.length>0?"discussion-comment--parent":null)},s.createElement("span",{className:"discussion-comment__title"},s.createElement("span",{className:"discussion-comment__title-author-link-wrapper"},e.refactoredComment&&e.refactoredComment.postDate||e.postDate?s.createElement("span",{key:"post-date",className:"discussion-comment__title-element"},s.createElement(r.a,{time:e.refactoredComment?e.refactoredComment.postDate:e.postDate})):null)),s.createElement("div",{className:"discussion-comment__body"},s.createElement("div",{className:"discussion-comment__content"},"This Comment was deleted.")),z(e,n,!1,t))))}(t):function(e,t){var n=j(e),a=e.refactoredComment?e.refactoredComment.id:e.id,i=e.refactoredComment?e.refactoredComment.parent.url:e.parentUrl,d=e.refactoredComment?e.refactoredComment.parent.name:e.parentName,p=e.refactoredComment?e.refactoredComment.kernelVersion:e.kernelVersion,h=e.refactoredComment?e.refactoredComment.currentKernelVersion:e.currentKernelVersion,g=e.refactoredComment?e.refactoredComment.competitionRanking:e.competitionRanking,f=e.refactoredComment?e.refactoredComment.medal:e.medal,v=e.refactoredComment?e.refactoredComment.authorType:e.authorType,y=e.refactoredComment?e.refactoredComment.replies:e.replies;return s.createElement("div",{id:a.toString()},s.createElement(u.a,{buttonClassName:"discussion-comment__hidden",className:"flag-form__wrapper",modalIsShown:e.showFlagForm,onClose:e.onFlagFormClosed},s.createElement(S.a,null,s.createElement(S.f,null,"Report Message"),s.createElement(S.e,{submitMethod:e.onFlagSubmit,onCancel:e.onFlagFormClosed,requireExplanationText:!1,reasons:S.c}))),s.createElement(u.a,{modalIsShown:e.showFeedbackTrackingForm,onClose:e.onFeedbackTrackingClosed},s.createElement(C.a,{feedbackTrackingData:e.feedbackTrackingState,onClose:e.onFeedbackTrackingClosed,onSubmit:e.onFeedbackTrackingSubmit})),i&&d?s.createElement("div",{className:"discussion-comment__parent"},s.createElement("span",{className:"fa fa-share"})," in response to"," ",s.createElement("a",{className:"discussion-comment__parent-link",href:i},d)):null,s.createElement(c.b,{minWidth:c.a.desktopMin},s.createElement("div",{className:"comment-wrapper"},s.createElement("div",{className:"discussion-comment__author"},s.createElement(m.a,Object(o.__assign)({},e.refactoredComment?e.refactoredComment.author:e.author,{hideTooltip:!0,width:40})),f?s.createElement("img",{className:"discussion-comment__medal",src:("/static/images/medals/discussion/"+f+"l@1x.png").toLowerCase(),title:f}):null),s.createElement("div",{className:l("discussion-comment",e.showReplyForm||y&&y.length>0?"discussion-comment--parent":null)},s.createElement("span",{className:"discussion-comment__title"},s.createElement("span",{className:"discussion-comment__title-author-link-wrapper"},s.createElement("a",{className:"discussion-comment__title-author-link"+("host"==v?" discussion-comment__title-author-link--competition-host":"datasetCreator"==v?" discussion-comment__title-author-link--dataset-creator":"admin"==v?" discussion-comment__title-author-link--site-admin":"topic"==v?" discussion-comment__title-author-link--topic-author":""),href:t.userUrl,title:t.displayName},t.displayName.slice(0,50))),v&&"comment"!=v?[s.createElement("span",{key:"poster-badge",className:"discussion-comment__title-poster-badge"+("host"==v?" discussion-comment__title-poster-badge--competition-host":"datasetCreator"==v?" discussion-comment__title-poster-badge--dataset-creator":"admin"==v?" discussion-comment__title-poster-badge--site-admin":" discussion-comment__title-poster-badge--topic-author")},"host"===v?"Competition Host":"datasetCreator"===v?"Dataset Creator":"admin"===v?"Kaggle Team":p?"Kernel Author":"Topic Author")]:null,g?[s.createElement("span",{key:"ranking-dot",className:"discussion-comment__title-element"},"•"),s.createElement("span",{key:"ranking",className:"discussion-comment__title-element"},"(",s.createElement(b.a,null,g)," in this Competition)")]:null,p?[s.createElement("span",{key:"version-dot",className:"discussion-comment__title-element"},"•"),s.createElement("span",{key:"version",className:"discussion-comment__title-element"},p==h?"Posted on Latest Version":"Posted on Version "+p+" of "+h)]:null,e.refactoredComment&&e.refactoredComment.postDate||e.postDate?[s.createElement("span",{key:"post-date-dot",className:"discussion-comment__title-element"},"•"),s.createElement("span",{key:"post-date",className:"discussion-comment__title-element"},s.createElement(r.a,{time:e.refactoredComment?e.refactoredComment.postDate:e.postDate}))]:null,e.titleOptions.map((function(e,t){return[s.createElement("span",{key:"title-options-dot-"+t,className:"discussion-comment__title-element"},"•"),s.createElement("a",{key:"title-options-"+t,className:l("discussion-comment__title-element","discussion-comment__title-element--link",e.className),href:e.href,onClick:e.onClick},e.text)]})),s.createElement("span",{className:"discussion-comment__title-element--spacer"}),e.showEditForm?s.createElement("div",{className:"discussion-comment__buttons"},s.createElement("div",{className:"discussion-comment__preview-button",onClick:e.toggleEditPreview},e.showEditPreview?"Edit":"Preview")):I(e)),s.createElement("div",{className:l("discussion-comment__body",e.showEditForm&&!e.showEditPreview?"discussion-comment__body--editing":null)},e.showEditForm?s.createElement(P,{allowAttachments:e.allowAttachments,onAttachmentAdded:e.onAttachmentAdded,onAttachmentDeleted:e.onAttachmentDeleted,markdownKey:e.markdownKey,showEditPreview:e.showEditPreview,initialEditDraft:e.editDraft,markdownRef:e.markdownRef,topicId:e.topicId,attachments:e.attachments,newAttachments:e.newAttachments,onCancelComment:e.onCancelEdit,isSubmitting:e.isSubmittingReply,onSubmitted:e.editSubmitted,placeholder:$,saveButtonText:"Save Changes"}):s.createElement(L,{onAttachmentAdded:e.onAttachmentAdded,onAttachmentDeleted:e.onAttachmentDeleted,attachments:e.attachments,newAttachments:e.newAttachments,content:e.rawMarkdown||e.content||""})),e.showOptions?s.createElement("span",{className:"discussion-comment__options"},s.createElement("span",{className:"discussion-comment__options-group"},e.leftOptions.map((function(e,t){return[s.createElement("a",{key:"link-"+t,className:l("discussion-comment__option",e.className),href:e.href,onClick:e.onClick},e.text),s.createElement("span",{key:"spacer-"+t,className:"discussion-comment__option-spacer"},"|")]}))),s.createElement("span",{className:"discussion-comment__spacer"}),s.createElement("span",{className:"discussion-comment__options-group"},e.rightOptions.map((function(e,t){return[s.createElement("a",{key:"link-"+t,className:l("discussion-comment__option",e.className),href:e.href,onClick:e.onClick},e.text),s.createElement("span",{key:"spacer-"+t,className:"discussion-comment__option-spacer"},"|")]})))):null,z(e,a,!0,n),R(e)))),s.createElement(c.b,{minWidth:0,maxWidth:c.a.tabletMax},s.createElement("div",{className:l("discussion-comment",e.showReplyForm||y&&y.length>0?"discussion-comment--parent":null)},s.createElement("span",{className:"discussion-comment__title"},s.createElement("a",{className:"discussion-comment__title-author-link"+("host"==v?" discussion-comment__title-author-link--competition-host":"datasetCreator"==v?" discussion-comment__title-author-link--dataset-creator":"admin"==v?" discussion-comment__title-author-link--site-admin":"topic"==v?" discussion-comment__title-author-link--topic-author":""),href:t.userUrl,title:t.displayName},t.displayName.slice(0,50)),e.refactoredComment&&e.refactoredComment.postDate||e.postDate?[s.createElement("span",{key:"post-date-dot",className:"discussion-comment__title-element"},"•"),s.createElement("span",{key:"post-date",className:"discussion-comment__title-element"},s.createElement(r.a,{time:e.refactoredComment?e.refactoredComment.postDate:e.postDate}))]:null,s.createElement("span",{className:"discussion-comment__title-element--spacer"}),e.showEditForm?s.createElement("div",{className:"discussion-comment__buttons"},s.createElement("div",{className:"discussion-comment__preview-button",onClick:e.toggleEditPreview},e.showEditPreview?"Edit":"Preview")):I(e)),s.createElement("div",{className:l("discussion-comment__body",e.showEditForm&&!e.showEditPreview?"discussion-comment__body--editing":null)},s.createElement("div",{className:"discussion-comment__content"},e.showEditForm?s.createElement(P,{allowAttachments:e.allowAttachments,onAttachmentAdded:e.onAttachmentAdded,onAttachmentDeleted:e.onAttachmentDeleted,markdownKey:e.markdownKey,showEditPreview:e.showEditPreview,initialEditDraft:e.editDraft,markdownRef:e.markdownRef,topicId:e.topicId,attachments:e.attachments,newAttachments:e.newAttachments,onCancelComment:e.onCancelEdit,isSubmitting:e.isSubmittingReply,onSubmitted:e.editSubmitted,placeholder:$,saveButtonText:"Save Changes"}):s.createElement(L,{onAttachmentAdded:e.onAttachmentAdded,onAttachmentDeleted:e.onAttachmentDeleted,attachments:e.attachments,newAttachments:e.newAttachments,content:e.rawMarkdown||e.content||""})),s.createElement("div",{className:"discussion-comment__title-elements"},e.titleOptions.map((function(e,t){return s.createElement("a",{key:e.href+"-"+t,className:l("discussion-comment__title-element","discussion-comment__title-element--link",e.className),href:e.href,onClick:e.onClick},e.text)}))),e.showOptions?s.createElement("span",{className:"discussion-comment__options"},e.leftOptions.map((function(e,t){return s.createElement("a",{className:l("discussion-comment__option",e.className),key:e.href+"-"+t,href:e.href,onClick:e.onClick},e.text)})),e.rightOptions.map((function(e,t){return s.createElement("a",{className:l("discussion-comment__option",e.className),href:e.href,key:e.href+"-"+t,onClick:e.onClick},e.text)}))):null,R(e),z(e,a,!1,n)))))}(t,n))},t}(s.Component),R=function(e){var t=e.refactoredComment?e.refactoredComment.votes.upvoters:e.upvoters;return e.showUpvoters?s.createElement("div",{className:"discussion-comment__upvoters"},t.map((function(e){return s.createElement(m.a,Object(o.__assign)({},e,{className:"discussion-comment__upvoter",key:e.id}))}))):null},z=function(e,t,n,a){var i=e.refactoredReplies&&e.refactoredReplies.length,r=e.replies&&e.replies.length,l=s.createElement(s.Fragment,null,i?e.refactoredReplies.map((function(i,o){var r=[s.createElement(x.a,{allowReplies:e.allowReplies,canDelete:i.canDelete,canDownvote:e.canDownvote,currentUserTier:e.currentUserTier,feedbackTrackingData:i.feedbackTrackingData,key:i.id||o,onReply:e.onReply,parentId:t,parentReplyShown:e.showReplyForm,onReplyQuote:e.onReplyQuote,refactoredComment:a.get(i.id),refactoredReplies:void 0,replies:void 0,replySubmitted:void 0,topicId:e.topicId,topicUrl:e.topicUrl,id:i.id})];return n&&r.push(s.createElement("div",{key:"spacer-"+i.id,className:"discussion-comment__linking-line"})),r})):null,!i&&r?e.replies.map((function(a,i){var r=[s.createElement(x.a,Object(o.__assign)({},a,{allowReplies:e.allowReplies,canDownvote:e.canDownvote,key:a.id||i,onReply:e.onReply,parentId:t,parentReplyShown:e.showReplyForm,onReplyQuote:e.onReplyQuote,refactoredComment:null,refactoredReplies:void 0,replySubmitted:void 0,topicId:e.topicId}))];return n&&r.push(s.createElement("div",{key:"spacer-"+a.id,className:"discussion-comment__linking-line"})),r})):null,e.showReplyForm?s.createElement("div",{id:"comment-reply-"+t},s.createElement(k.a,{allowAttachments:!0,applyQuote:e.applyQuote,onCancelComment:e.onCancelReply,currentUserTier:e.currentUserTier,newAttachments:e.replyAttachments,onAttachmentAdded:e.replyAttachmentAdded,onAttachmentDeleted:e.replyAttachmentDeleted,onSubmitted:e.replySubmitted,isSubmitting:e.isSubmittingReply,markdownKey:e.markdownKey,markdownRef:e.markdownRef,openEditor:function(){},showEditPreview:e.showReplyPreview,toggleEditPreview:e.toggleReplyPreview,topicId:e.topicId,attachments:[]})):null);return e.showReplyForm||r||i?s.createElement("div",{className:"discussion-comment__replies"},n?l:s.createElement("div",{className:"discussion-comment__linking-line"},l)):null},L=function(e){return s.createElement("div",null,s.createElement(w.a,{key:"markdown-renderer-desktop",value:e.content}),s.createElement("span",{key:"forum-message-content-spacer",className:l((e.attachments||[]).length>0||e.newAttachments.length>0?"discussion-comment__attachment-spacer":null)}),s.createElement(g.a,{key:"forum-message-content-file-list",compact:!0,fileListItems:e.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:e.onAttachmentDeleted}),s.createElement(g.a,{key:"forum-message-content-file-list-new",compact:!0,fileListItems:e.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:e.onAttachmentDeleted}))}},1728:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return O}));var a,i=n(3),o=n(1413),r=n(0),s=n(209),l=n(22),c=n(1423),d=n(385),u=n(575),m=n(1665),p=n(1672),h=n(30),g=n(1655),f=n(1635),b=n(1733),v=n(1667),y=n(1419),w=n(1716),E=n(1430),x=n(1446),C=n(1651);function k(e){switch("."==e.substring(0,1)?e.substring(1):e){case"csv":return"fa fa-table";case"sqlite":return"fa fa-database";case"sqlitetable":return"fa fa-table";case"png":case"jpg":case"gif":return"fa fa-picture-o";case"txt":case"json":return"fa fa-file-text-o";case"zip":case"7z":case"gz":case"tar":return"fa fa-file-zip-o";default:return"fa fa-file-o"}}function _(e){switch("."==e.substring(0,1)?e.substring(1):e){case"csv":return 0;case"json":return 1;case"sqlite":return 2;case"sqlitetable":return 3;case"txt":return 4;case"png":case"jpg":case"gif":return 5;case"zip":case"7z":case"gz":case"tar":return 10;default:return 6}}!function(e){e[e.Image=0]="Image",e[e.Csv=1]="Csv",e[e.File=2]="File",e[e.Text=3]="Text",e[e.Archive=4]="Archive",e[e.Json=5]="Json",e[e.Sqlite=6]="Sqlite"}(a||(a={}));var S=function(e){function t(t){var n=e.call(this,t)||this;return n.validateFiles=function(e){void 0===e&&(e=n.props.files);var t=e.map((function(e){return e.fileName})),a=new Set(t);s(t.length===a.size,"FilePreviewList does not support duplicate files with the same fileName")},n.updatePassedUpState=function(e){var t=n.props.passUpExpandedDataSourcesState;t&&t(Object(i.__assign)(Object(i.__assign)({},n.state),e))},n.getDefaultExpandedDataSources=function(){return n.props.initialExpandedDataSourcesState?n.props.initialExpandedDataSourcesState.expandedDataSources:n.hasAtLeastOneDataSource()?n.props.dataSources.map((function(e){return!0})):[!0]},n.getDefaultActiveDataSource=function(){return n.props.initialExpandedDataSourcesState?n.props.initialExpandedDataSourcesState.activeDataSource:n.hasAtLeastOneDataSource()?n.props.dataSources[0]:null},n.getDefaultIsShowingDatasource=function(){return n.props.initialExpandedDataSourcesState?n.props.initialExpandedDataSourcesState.isShowingDataSourcePreview:null!=n.props.dataSources},n.createActiveFileSetter=function(e){return function(){var t=n.props.dataSources&&c.find(n.props.dataSources,(function(t){return c.includes(t.files,e)}));n.setState({activeFile:e,activeDataSource:t,isShowingDataSourcePreview:!1}),n.updatePassedUpState({activeFile:e,activeDataSource:t,isShowingDataSourcePreview:!1})}},n.isActiveFile=function(e){var t=n.state.activeFile;return t&&t.fileName===e.fileName},n.hasAtLeastOneDataSource=function(){var e=n.props.dataSources;return e&&e.length>=1},n.handleFileContentUpdated=function(e){var t=null==n.state.fileContentCache?[]:n.state.fileContentCache.filter((function(t){return t.fileName!=e.fileName}));t.push(e),n.setState({fileContentCache:t})},n.truncateText=function(e){return e.length>20?e.substring(0,20)+"…":e},n.setDataSourceVisibility=function(e,t){var a=n.props.dataSources.findIndex((function(t){return t.sourceId===e.sourceId&&t.sourceType===e.sourceType}));e=n.props.dataSources[a];var i=n.state.expandedDataSources,o=void 0!==t?t:!i[a];i[a]=o;o&&!(e.files&&e.files.some((function(e){return e.fileName===n.state.activeFile})))?n.getDefaultFile(a):n.state.activeFile;var r=o?e:n.state.activeDataSource;n.setState({expandedDataSources:i,activeFile:null,activeDataSource:r,isShowingDataSourcePreview:!0}),n.updatePassedUpState({expandedDataSources:i,activeFile:null,activeDataSource:r,isShowingDataSourcePreview:!0})},n.toggleDataSourceVisibility=function(e){var t=n.props.dataSources.findIndex((function(t){return t.sourceId===e.sourceId&&t.sourceType===e.sourceType})),a=n.state.expandedDataSources;a[t]=!a[t],n.setState({expandedDataSources:a}),n.updatePassedUpState({expandedDataSources:a})},n.setDataSourcePreview=function(e){var t=n.props.dataSources.findIndex((function(t){return t.sourceId===e.sourceId&&t.sourceType===e.sourceType})),a=e,i=n.state.expandedDataSources;i[t]=!0,n.setState({activeFile:null,activeDataSource:a,expandedDataSources:i,isShowingDataSourcePreview:!0}),n.updatePassedUpState({activeFile:null,activeDataSource:a,expandedDataSources:i,isShowingDataSourcePreview:!0})},n.checkPathChange=function(e){if(n.mounted){var t=n.props.dataSources.length;2===t&&1===e&&y.a.info('Data file paths changed to "../input/dataset-slug/"',{clear:!0}),1===t&&-1===e&&y.a.info('Data file paths changed to "../input/"',{clear:!0})}},n.onAddDataSourceClicked=function(){n.setState({showAddDataSource:!0})},n.onUploadDataSourceClicked=function(){n.setState({showUploadDataSource:!0})},n.onAddDataSourceClosed=function(){n.setState({showAddDataSource:!1})},n.onDataSourceAdded=function(e){var t=n.props,a=t.onDataSourceAdded;t.dataSources;return a&&a(e).then((function(){n.setDataSourceVisibility(e,!0),n.checkPathChange(1),n.setState({showAddDataSource:!1})}))},n.onDataSourceRemoved=function(e,t){n.props.onDataSourceRemoved&&n.props.onDataSourceRemoved(t).then((function(){var e=n.props.dataSources;e.length>0&&n.setDataSourceVisibility(e[0],!0),n.checkPathChange(-1)})),e.stopPropagation()},n.renderDataSource=function(e,t){e.files.map((function(e){return e.contentLengthInBytes})).reduce((function(e,t){return e+t}),0);var a=n.state.expandedDataSources[t],i=n.state.isShowingDataSourcePreview&&n.state.activeDataSource.slug===e.slug;return r.createElement("div",{key:t},r.createElement("div",{className:"file-preview-list__list-data-source-header "+(i?"file-preview-list__list-data-source-header--selected":"")},r.createElement("i",{className:"file-preview-list__list-data-source-caret fa fa-caret-"+(a?"down":"right"),onClick:function(){return n.toggleDataSourceVisibility(e)}}),r.createElement("div",{className:"file-preview-list__list-data-source-data",onClick:function(){n.setDataSourcePreview(e)}},r.createElement("div",{className:"file-preview-list__list-data-source-name",title:e.name},n.truncateText(e.name)))),a&&r.createElement("div",{className:"file-preview-list__list-data-source-files"},e.files.map(n.renderDataSourceFile)))},n.getFileListItemClassName=function(e){return l("file-preview-list__list-item",{"file-preview-list__list-item--active":n.isActiveFile(e),"file-preview-list__list-item--indented":".sqlitetable"===e.fileType})},n.renderDataSourceFile=function(e,t){return r.createElement("div",{key:t,className:n.getFileListItemClassName(e),onClick:n.createActiveFileSetter(e)},r.createElement("div",{className:"file-preview-list__icon"},r.createElement("span",{className:k(e.fileType)})),r.createElement("div",{className:"file-preview-list__filename",title:e.fileName},n.truncateText(e.fileName),e.validationError?r.createElement("span",{className:"file-preview-list__validation-error"},r.createElement("span",{title:e.validationError,className:"fa fa-warning"})):null))},n.getFiles=function(){return c.flatten(c.pluck(n.props.dataSources,"files"))},n.handleMetadataChange=function(e,t,a){var i=(n.state.fileContentCache||[]).filter((function(t){return t.fileName===e}))[0];if(i){i.columns[t]=a;var o=(n.state.fileContentCache||[]).filter((function(t){return t.fileName!==e}));o.push(i),n.setState({fileContentCache:o}),n.props.onMetadataChange(e,t,a)}else h.a.warn("Ignoring metadata update; cache invalid")},n.handleSaveFileDescription=function(){n.setState({activeFile:n.props.files.filter((function(e){return e.fileName==n.state.activeFile.fileName}))[0]})},n.renderDataSourceButtons=function(){return r.createElement("div",null,r.createElement("div",{className:"file-preview-list__list-button"},r.createElement(f.a,{text:"Add a Data Source",onClick:n.onAddDataSourceClicked})),r.createElement("div",{className:"file-preview-list__list-button"},r.createElement(f.a,{text:"Upload a Dataset",onClick:n.onUploadDataSourceClicked})))},n.state={activeFile:n.getDefaultFile(),expandedDataSources:n.getDefaultExpandedDataSources(),activeDataSource:n.getDefaultActiveDataSource(),isShowingDataSourcePreview:n.getDefaultIsShowingDatasource(),showAddDataSource:!1,showUploadDataSource:!1},n}return Object(i.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.files;this.validateFiles(t);var n,a=this.state.activeFile;(n=e)&&n.files&&n.files.length?a?this.setState({activeFile:t.filter((function(e){return e.fileUrl===a.fileUrl}))[0]||t[0]}):this.setState({activeFile:t[0]}):a||this.setState({activeFile:null})},t.prototype.componentDidMount=function(){this.mounted=!0,this.validateFiles()},t.prototype.componentWillUnmount=function(){this.mounted=!1},t.prototype.getDefaultFile=function(e){if(void 0===e&&(e=0),this.props.initialExpandedDataSourcesState)return this.props.initialExpandedDataSourcesState.activeFile;if(this.props.dataSources)return null;var t=this.props,n=t.dataSources,a=t.files;return n&&n.length>0&&n[e].files.length>0?n[e].files[0]:a&&a.length>0&&a[0]},t.prototype.render=function(){var e=this,t=this.props,n=t.files,a=t.scriptVersionId,o=t.dataSources;if(!(n||o&&0!==o.length))return null;var s=n?n.slice():[];s.sort((function(e,t){var n=e.fileName.split("."),a=t.fileName.split("."),i=n[n.length-1],o=a[a.length-1],r=_(e.fileType||i),s=_(t.fileType||o);return r<s?-1:s<r?1:e.fileName.toLowerCase()<t.fileName.toLowerCase()?-1:e.fileName.toLowerCase()>t.fileName.toLowerCase()?1:0}));var l=o?r.createElement("div",{className:"file-preview-list__list file-preview-list__list--data-sources"},o.map(this.renderDataSource),!this.props.disableEditing&&this.renderDataSourceButtons()):r.createElement("div",{className:"file-preview-list__list"},s.map((function(t,n){var a="file-list-"+t.fileName+(".sqlitetable"==t.fileType?"-table":"");return r.createElement("div",{className:e.getFileListItemClassName(t),key:a,onClick:e.createActiveFileSetter(t)},r.createElement("div",{className:"file-preview-list__icon"},r.createElement("span",{className:k(t.fileType)})),r.createElement("div",{className:"file-preview-list__filename",title:t.fileName},t.fileName.length>20?t.fileName.substring(0,20)+"…":t.fileName,t.validationError?r.createElement("span",{className:"file-preview-list__validation-error"},r.createElement("span",{title:t.validationError,className:"fa fa-warning"})):null))})),this.props.onAddNewDatasetVersion&&this.props.canEdit&&r.createElement("button",{className:"button-auto-width file-preview-list__list-add-button",onClick:function(){return e.props.onAddNewDatasetVersion("NewVersion")}},"New Dataset Version")),c=null!=this.state.fileContentCache&&this.state.activeFile?this.state.fileContentCache.filter((function(t){return t.fileName==e.state.activeFile.fileName}))[0]:null;return r.createElement("div",{className:"file-preview-list__section"},l,this.state.isShowingDataSourcePreview?r.createElement(T,{activeDataSource:this.state.activeDataSource,disableEditing:this.props.disableEditing,onDataSourceRemoved:this.onDataSourceRemoved}):r.createElement(O,Object(i.__assign)({submitToCompUrl:this.props.submitToCompUrl,showSubmitToCompButton:this.props.showSubmitToCompButtons,scriptVersionId:a,competitionName:this.props.competitionName,onFileContentUpdated:this.handleFileContentUpdated,csvPreviewContents:null==c?null:c.csvPreviewContents,textPreviewContents:null==c?null:c.textPreviewContents,exceededMaxSize:null==c?null:c.exceededMaxSize,userCanEditMetadata:this.props.userCanEditMetadata,onMetadataChange:function(t,n){return e.state.activeFile&&e.handleMetadataChange(e.state.activeFile.fileName,t,n)},columnMetadata:null==c?null:c.columns,onStartEditingMetadata:this.props.onStartEditingMetadata,dataSource:this.state.activeDataSource,onInnerSaveFileDescription:this.handleSaveFileDescription,showDownload:this.props.showDownload},this.state.activeFile)),r.createElement(b.a,{isShown:this.state.showAddDataSource,onClose:this.onAddDataSourceClosed,onDataSourceAdded:this.onDataSourceAdded,referrer:"FilePreviewList"}))},t}(r.Component),O=function(t){function n(n){var i=t.call(this,n)||this;return i.shouldFetchPreview=function(){return i.displayType!==a.Archive&&i.displayType!==a.Image},i.parsePreviewData=function(e){e.error?i.setState({previewRequestInFlight:!1,previewFetchErrorText:e.error||"Invalid CSV data"}):e.noPreviewAvailable?i.setState({previewRequestInFlight:!1,noPreviewAvailable:!0}):(i.props.onFileContentUpdated&&i.props.onFileContentUpdated({fileName:i.props.fileName,csvPreviewContents:e.csvData,textPreviewContents:e.textData,exceededMaxSize:e.exceededMaxSize,columns:e.columns}),i.setState({previewRequestInFlight:!1,csvPreviewContents:e.csvData,textPreviewContents:e.textData,previewFetchErrorText:null,dataIsTruncated:!!e.exceededMaxSize,isShowingMore:i.props.alwaysShowMore,columnMetadata:e.columns,isShowingColumnDescriptionList:!1,editingColumnIndex:null}))},i.fetchLastVersionMetadata=function(){e.ajax({url:i.props.lastVersionMetadataUrl,dataType:"json",success:function(e){i.populateNewFileColumnDataFromLastVersion(e.columns)},error:function(e,t,n){h.a.warn("Could not populate new file column descriptions"),h.a.log(t+": "+n)}})},i.populateNewFileColumnDataFromLastVersion=function(e){for(var t=0;t<Math.min(i.state.csvPreviewContents[0].length,(e||[]).length)&&i.state.csvPreviewContents[0][t]===e[t].name;t++)i.props.onMetadataChange(t,e[t])},i.handleToggleShowColumnDescriptions=function(e){e.preventDefault(),i.setState({isShowingColumnDescriptionList:!i.state.isShowingColumnDescriptionList})},i.handleEditFileDescription=function(){i.props.onStartEditingMetadata?i.props.onStartEditingMetadata():i.setState({isEditingDescription:!0})},i.handleSaveFileDescription=function(){i.props.onInnerSaveFileDescription(),i.setState({isEditingDescription:!1})},[".png",".jpg",".jpeg",".gif"].indexOf(i.props.fileType)>-1?i.displayType=a.Image:".csv"===i.props.fileType?i.displayType=a.Csv:".json"===i.props.fileType?i.displayType=a.Json:[".zip",".gz",".7z",".tar"].indexOf(i.props.fileType)>-1?i.displayType=a.Archive:".sqlite"===i.props.fileType?i.displayType=a.Sqlite:i.displayType=a.File,i.state={previewRequestInFlight:i.shouldFetchPreview(),csvPreviewContents:i.props.csvPreviewContents||[[]],textPreviewContents:i.props.textPreviewContents||"",previewFetchErrorText:"",dataIsTruncated:null,isShowingMore:!1,noPreviewAvailable:!1,columnMetadata:i.props.columnMetadata||[]},i}return Object(i.__extends)(n,t),n.prototype.componentDidMount=function(){var t=this;this.shouldFetchPreview()&&(this.props.csvPreviewContents||this.props.textPreviewContents?this.parsePreviewData({csvData:this.props.csvPreviewContents,textData:this.props.textPreviewContents,exceededMaxSize:this.props.exceededMaxSize,columns:this.props.columnMetadata}):e.ajax({url:this.props.filePreviewUrl,success:function(e){t.parsePreviewData(e),t.props.lastVersionMetadataUrl&&t.fetchLastVersionMetadata()},error:function(e,n,a){t.setState({previewRequestInFlight:!1,previewFetchErrorText:n+" "+a})}}))},n.prototype.render=function(){var e=this.props.fileUrl;return r.createElement(j,Object(i.__assign)({imagePreviewUrl:this.displayType===a.Image?e:null,onToggleShowColumnDescriptionList:this.handleToggleShowColumnDescriptions,onEditFileDescription:this.handleEditFileDescription,displayType:this.displayType},this.props,this.state,{onInnerSaveFileDescription:this.handleSaveFileDescription,showDownload:this.props.showDownload||void 0===this.props.showDownload}))},n}(r.Component),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props.activeDataSource;return t?r.createElement("div",{className:"datasource-preview"},r.createElement("div",{className:"datasource-preview__head"},r.createElement("div",{className:"datasource-preview__head-image"},r.createElement("a",{href:t.sourceUrl,target:"_blank"},r.createElement("img",{src:t.imageUrl}))),r.createElement("div",{className:"datasource-preview__head-meta"},r.createElement("div",{className:"datasource-preview__head-title"},r.createElement("a",{href:t.sourceUrl,target:"_blank"},t.name)),r.createElement("div",{className:"datasource-preview__head-tagline"},t.overview),r.createElement("div",{className:"datasource-preview__head-updated"},"Last updated ",r.createElement(o.a,{time:t.lastUpdated}))),r.createElement("div",{className:"datasource-preview__head-actions"},t.sourceId&&!this.props.disableEditing&&r.createElement("button",{className:"datasource-preview__remove-button",onClick:function(n){return e.props.onDataSourceRemoved(n,t)}},r.createElement("i",{className:"fa fa-trash-o"}),"Remove"," ",r.createElement("span",{style:{textTransform:"capitalize"}},t.sourceType)))),r.createElement("div",{className:"datasource-preview__about"},r.createElement("div",{className:"datasource-preview__subhead"},"About this"," ",r.createElement("span",{style:{textTransform:"capitalize"}},t.sourceType)),r.createElement("div",{className:"datasource-preview__about-content"},r.createElement(v.a,{content:t.description,mimeType:t.descriptionMimeType,insertNofollow:!0})))):null},t}(r.Component),j=function(e){function t(t){var n=e.call(this,t)||this;return n.renderFetchMessage=function(){return n.props.previewRequestInFlight?r.createElement("div",{className:"file-preview__contents-loading-message"},"Loading..."):n.props.previewFetchErrorText?r.createElement("div",{className:"file-preview__error-message"},n.props.previewFetchErrorText):n.props.noPreviewAvailable?r.createElement("div",{className:"file-preview__no-preview-message"},"No preview available for this format"):null},n.renderOptionalImagePreview=function(){return n.props.imagePreviewUrl?r.createElement("img",{src:n.props.imagePreviewUrl}):null},n.renderOptionalTextPreview=function(){return n.props.textPreviewContents&&n.props.displayType!=a.Json?r.createElement("div",{className:"file-preview__text-preview-container"},n.props.textPreviewContents):null},n.isCsvFile=function(){return!(!n.props.csvPreviewContents||0===n.props.csvPreviewContents.length||0===n.props.csvPreviewContents[0].length)},n.canShowColumnDescriptionList=function(){return!!(n.props.columnMetadata&&n.props.columnMetadata.some((function(e){return!!e.description}))||n.props.userCanEditMetadata)},n.renderOptionalColumnDescriptionList=function(){if(!n.isCsvFile())return null;var e=n.props.columnMetadata&&n.props.columnMetadata.some((function(e){return!!e.description}));if(!n.canShowColumnDescriptionList())return null;n.props.isShowingColumnDescriptionList||e||!n.props.userCanEditMetadata?n.props.isShowingColumnDescriptionList?"Hide":"Show":"Edit";var t=n.getColumnMetadata();return n.props.isShowingColumnDescriptionList?r.createElement("div",{className:"file-preview__descriptions"},t.map((function(e,t){return r.createElement(I,{key:n.props.reactKey+"col-metadata-"+t,initialMetadata:e,canEdit:n.props.userCanEditMetadata,onStartEditing:n.props.onStartEditingMetadata,onMetadataChange:function(e){return n.props.onMetadataChange(t,e)}})}))):null},n.getColumnMetadata=function(){var e=n.props.columnMetadata||[];return n.props.csvPreviewContents[0].map((function(e,t){return{name:e,description:"",harmonizedDataType:n.guessCsvDataType(t)}})).map((function(t,n){return e[n]?e[n]:t}))},n.guessCsvDataType=function(e){var t=Math.min(10,n.props.csvPreviewContents.length),a=n.props.csvPreviewContents.slice(1,t).map((function(t){return t[e]}));return a.some((function(e){return"true"===e||"false"===e}))?"Boolean":a.some((function(e){return!isNaN(new Date(e).getTime())}))?"DateTime":a.some((function(e){return!isNaN(+e)}))?"Numeric":"String"},n.handleCsvPreviewScroll=function(e){var t=e.nativeEvent.target.scrollTop;n.csvHeader.style.transform="translateY("+t+"px)",n.csvHeader.style.boxShadow=t>0?"0 1px 3px rgba(0,0,0,0.15)":"none"},n.renderCsvHeaderCell=function(e,t,a){var i=!1,o=null,s="none";if(a&&a.length>t){var l=a[t];s=l.harmonizedDataType?l.harmonizedDataType.toLowerCase():"none";var c=null;l.description?(c=r.createElement("div",{className:"file-preview__csv-preview-info-tooltip"},r.createElement("div",{className:"file-preview__csv-preview-info-tooltip-header"},l.harmonizedDataType),r.createElement(v.a,{contentClassName:"file-preview__csv-preview-info-tooltip-description",content:l.description,mimeType:"text/markdown",insertNofollow:!0})),r.createElement("span",{className:"file-preview__csv-preview-info-icon fa fa-info-circle"}),i=!0):(c=r.createElement("div",{className:"file-preview__csv-preview-info-tooltip"},r.createElement("div",{className:"file-preview__csv-preview-info-tooltip-header"},r.createElement("div",null,l.harmonizedDataType)),n.props.userCanEditMetadata&&r.createElement("div",{className:"file-preview__csv-preview-info-tooltip-instruction"},"Click to add a description of this column.")),r.createElement("span",{className:"file-preview__csv-preview-info-icon file-preview__csv-preview-info-icon--notooltip"+(n.props.userCanEditMetadata?" fa fa-pencil":"")})),o=r.createElement(m.a,{tipContent:c,alignLeft:!0},l.name||e)}else o=r.createElement("span",null,e);return r.createElement("div",{key:n.props.reactKey+"-header-"+t,className:"file-preview__csv-preview-header-cell file-preview__csv-preview-header-cell--"+s+" "+(i?"file-preview__csv-preview-header-cell--info ":"")+" "+(n.canShowColumnDescriptionList()&&!n.props.isShowingColumnDescriptionList?"file-preview__csv-preview-header-cell--editable ":""),onClick:n.canShowColumnDescriptionList()&&!n.props.isShowingColumnDescriptionList?n.props.onToggleShowColumnDescriptionList:null},o)},n.renderOptionalCsvPreviewTable=function(){if(!n.isCsvFile())return null;if(n.props.isShowingColumnDescriptionList)return null;var e=n.props.csvPreviewContents[0],t=n.props.csvPreviewContents.slice(1,n.numLinesWhenShowingMore+1),a=n.getColumnMetadata();return r.createElement("div",{className:"file-preview__csv-preview-container",onScroll:function(e){return n.handleCsvPreviewScroll(e)}},r.createElement("div",{className:"file-preview__csv-preview-inner"},r.createElement("div",{className:"file-preview__csv-preview-inner-inner"},r.createElement("div",{className:"file-preview__csv-preview"},r.createElement("div",{className:"file-preview__csv-preview-header-row",ref:function(e){return n.csvHeader=e}},e.map((function(e,t){return n.renderCsvHeaderCell(e,t,a)}))),t.map((function(e,t){return r.createElement("div",{key:n.props.reactKey+"-row-"+t,className:"file-preview__csv-preview-row"},e.map((function(e,i){if(i<a.length){var o=a[i].harmonizedDataType?a[i].harmonizedDataType.toLowerCase():"none";return r.createElement("div",{key:n.props.reactKey+"-row-"+t+"-col-"+i,className:"file-preview__csv-preview-cell file-preview__csv-preview-cell--"+o},e)}return null})))}))))))},n.renderOptionalJsonPreview=function(){return n.props.textPreviewContents&&n.props.displayType==a.Json?r.createElement(x,{data:JSON.parse(n.props.textPreviewContents)}):null},n.handleSaveFileDescription=function(){n.props.onInnerSaveFileDescription(),n.props.onSaveFileDescription()},n.handleToggleModal=function(){document.documentElement.style.overflowY=n.state.modalPreviewOpen?"scroll":"hidden",n.setState({modalPreviewOpen:!n.state.modalPreviewOpen})},n.props.maxLinesToShow?(n.numLinesWhenShowingLess=Math.min(10,n.props.maxLinesToShow),n.numLinesWhenShowingMore=Math.min(100,n.props.maxLinesToShow)):(n.numLinesWhenShowingLess=10,n.numLinesWhenShowingMore=100),n.state={modalPreviewOpen:!1},n}return Object(i.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.renderFetchMessage(),n=null;if(this.props.showSubmitToCompButton&&this.isCsvFile()&&!this.props.csvHeaderValidationErrors){n=r.createElement("div",{className:"file-preview__submit-csv-button-container"},r.createElement("form",{action:this.props.submitToCompUrl,method:"POST"},r.createElement("input",{type:"hidden",name:"scriptVersionId",value:this.props.scriptVersionId.toString()}),r.createElement("input",{type:"hidden",name:"fileName",value:this.props.fileName}),r.createElement(w.a,null),r.createElement("button",{type:"submit",className:"file-preview__submit-csv-button"},r.createElement("i",{className:"fa fa-cloud-upload"})," ","Submit to Competition")))}else this.props.showSubmitToCompButton&&this.isCsvFile()&&this.props.csvHeaderValidationErrors&&(n=r.createElement(u.a,{tipText:this.props.csvHeaderValidationErrors,size:"medium"},r.createElement("span",{className:"fa fa-exclamation-triangle file-preview-list__validation-error"})));var a=null;this.props.fileUrl&&this.props.showDownload&&(a=r.createElement(p.a,{icon:"fa fa-download",primary:!0,href:this.props.fileUrl,onClick:this.props.downloadCallback||null,text:"Download"}));var i=null;this.props.canDelete&&(i=r.createElement(p.a,{onClick:this.props.onDelete,text:"Delete"}));this.props.fullPath&&r.createElement("div",{className:"file-preview__full-path-row"},r.createElement("span",{className:"file-preview__full-path"},this.props.fullPath));var s=null;return this.props.isEditingDescription?s=r.createElement("div",null,r.createElement("div",{className:"file-preview__sub-header"},"About this file"),r.createElement(C.a,{key:"file-preview-"+this.props.fileName,value:this.props.description,placeholder:this.props.descriptionPlaceholder,onChange:this.props.onDescriptionChange}),this.props.onInnerSaveFileDescription||this.props.onSaveFileDescription?r.createElement("div",{className:"file-preview__description-save",onClick:this.handleSaveFileDescription},r.createElement("i",{className:"fa fa-check"})," Save"):null):this.props.description?s=r.createElement("div",null,r.createElement("div",{className:"file-preview__sub-header"},"About this file",this.props.userCanEditMetadata&&r.createElement("span",{className:"file-preview__description-edit-icon",onClick:this.props.onEditFileDescription},r.createElement("span",{className:"fa fa-pencil"}))),r.createElement(v.a,{contentClassName:"file-preview__description",mimeType:"text/markdown",content:this.props.description})):this.props.userCanEditMetadata&&(s=r.createElement("div",null,r.createElement("div",{className:"file-preview__sub-header"},"About this file",r.createElement("span",{className:"file-preview__description-edit-icon",onClick:this.props.onEditFileDescription},r.createElement("span",{className:"fa fa-pencil"}))),r.createElement("div",{className:"file-preview__missing-description-notice"},"Help us describe this table"))),r.createElement("div",{className:"file-preview__item"},r.createElement("div",{className:"file-preview__item-information-section"},r.createElement("div",{className:"file-preview__name-row "+(this.props.fullPath?"file-preview__name-row--has-fullpath":"")},r.createElement("span",{className:"file-preview__item-filename"},this.props.fileName,this.props.size&&r.createElement("span",{className:"file-preview__item-filesize"},d(this.props.size))),r.createElement("div",{className:"file-preview__buttons"},a,i,n),this.props.fullPath&&r.createElement("div",{className:"file-preview__full-path"},this.props.fullPath)),this.props.dataSource&&r.createElement("div",{className:"file-preview__data-source-meta-container"},r.createElement("div",{className:"file-preview__data-source-meta-label"},"Data source"),r.createElement("div",{className:"file-preview__data-source-meta"},this.props.dataSource.imageUrl&&r.createElement("div",{className:"file-preview__data-source-meta-image"},r.createElement("a",{href:this.props.dataSource.sourceUrl,target:"_blank"},r.createElement("img",{src:this.props.dataSource.imageUrl}))),r.createElement("div",{className:"file-preview__data-source-meta-text"},r.createElement("div",{className:"file-preview__data-source-meta-name"},r.createElement("a",{href:this.props.dataSource.sourceUrl,target:"_blank"},this.props.dataSource.name)),r.createElement("div",{className:"file-preview-data-source--desc-updated"},r.createElement("div",{className:"file-preview__data-source-meta-desc"},this.props.dataSource.overview),r.createElement("div",{className:"file-preview__data-source-meta-updated"},"Last updated"," ",r.createElement(o.a,{time:this.props.dataSource.lastUpdated})))))),s),this.props.hideFilePreview?null:r.createElement("div",{className:"file-preview__item-preview-section "+(this.state.modalPreviewOpen?"file-preview__item-preview-section--modal-open":"")+" "},r.createElement("div",{className:"file-preview__item-preview-head"},r.createElement("div",{className:"file-preview__sub-header file-preview__sub-header--preview"},"Preview ",this.isCsvFile()?"(first 100 rows)":""),this.isCsvFile()&&this.canShowColumnDescriptionList()&&r.createElement("div",{className:"file-preview__item-preview-buttons"},r.createElement("button",{className:"file-preview__item-edit-columns",onClick:this.props.onToggleShowColumnDescriptionList},this.props.isShowingColumnDescriptionList?"Close descriptions":"Edit descriptions"),r.createElement("button",{className:"file-preview__item-expand-button",onClick:function(){return e.handleToggleModal()}},this.state.modalPreviewOpen?r.createElement("i",{className:"fa fa-close"}):r.createElement("i",{className:"fa fa-arrows-alt"})))),r.createElement("div",{className:"file-preview__preview-row"},t,this.props.previewRequestInFlight?null:r.createElement("div",null,this.renderOptionalImagePreview(),this.renderOptionalColumnDescriptionList(),this.renderOptionalCsvPreviewTable(),this.renderOptionalJsonPreview(),this.renderOptionalTextPreview()))),this.state.modalPreviewOpen&&r.createElement("div",{onClick:function(){return e.handleToggleModal()},className:"file-preview__item-preview-section-modal-background"}))},t}(r.Component),I=function(e){function t(t){var n=e.call(this,t)||this;return n.descriptionBeingEdited="",n.previousDataType="",n.textarea=null,n.handleStartEditing=function(e){e.preventDefault(),n.props.onStartEditing?n.props.onStartEditing():(n.descriptionBeingEdited=n.state.metadata.description,n.previousDataType=n.state.metadata.harmonizedDataType,n.setState({isEditing:!0}))},n.handleDoneEditing=function(e){e.preventDefault();var t=Object(i.__assign)(Object(i.__assign)({},n.state.metadata),{description:n.descriptionBeingEdited});n.sendMetadataChangeIfNeeded(t),n.setState({metadata:t,isEditing:!1})},n.sendMetadataChangeIfNeeded=function(e){var t=n.props.onMetadataChange,a=n.state.metadata;e.description===a.description&&n.previousDataType===a.harmonizedDataType||t(e)},n.handleMouseEnter=function(){n.setState({showEditIcon:!0})},n.handleMouseLeave=function(){n.setState({showEditIcon:!1})},n.handleDataTypeChange=function(e){var t=Object(i.__assign)(Object(i.__assign)({},n.state.metadata),{harmonizedDataType:e});n.setState({metadata:t})},n.renderEditing=function(){return r.createElement("div",{className:"file-preview__description-row"},r.createElement("div",{className:"file-preview__description-row-field-name"},n.state.metadata.name),r.createElement("div",{className:"file-preview__description-row-description"},r.createElement(E.a,{autoFocus:!0,defaultValue:n.state.metadata.description,onChange:function(e){n.descriptionBeingEdited=e.currentTarget.value},className:"file-preview__description-row-description-editor",minRows:1,maxRows:10,placeholder:"Column description",ref:function(e){n.textarea=e}})),r.createElement("div",{className:"file-preview__description-row-field-type file-preview__description-row-field-type--edit"},r.createElement(g.a,{className:"file-preview__description-row-field-typeselect-box",options:[{value:"String",label:"String"},{value:"Numeric",label:"Numeric"},{value:"DateTime",label:"DateTime"},{value:"Boolean",label:"Boolean"}],value:n.state.metadata.harmonizedDataType,onChange:n.handleDataTypeChange})),r.createElement("div",{className:"file-preview__description-row-save-icon",onClick:n.handleDoneEditing},r.createElement("span",{className:"fa fa-check"})))},n.renderNonEditing=function(){var e=n.props.canEdit&&(n.props.onMetadataChange||n.props.onStartEditing),t=e?r.createElement("span",{onClick:n.handleStartEditing,className:"file-preview__description-row-cta"},"Help us describe this column..."):r.createElement("span",null,"No description provided");return r.createElement("div",{className:"file-preview__description-row",onMouseEnter:e?n.handleMouseEnter:null,onMouseLeave:e?n.handleMouseLeave:null},r.createElement("div",{className:"file-preview__description-row-field-name"},n.state.metadata.name),n.state.metadata.description?r.createElement("div",{className:"file-preview__description-row-description",onClick:e?n.handleStartEditing:null,style:e?{cursor:"pointer"}:null},r.createElement("div",{className:"file-preview__description-row-description-inner"},r.createElement(v.a,{content:n.state.metadata.description,mimeType:"text/markdown"}))):r.createElement("div",{className:"file-preview__description-row-description file-preview__description-row-description--empty",onClick:e?n.handleStartEditing:null,style:e?{cursor:"pointer"}:null},r.createElement("div",{className:"file-preview__description-row-description-inner"},t)),r.createElement("div",{className:"file-preview__description-row-field-type",onClick:e?n.handleStartEditing:null,style:e?{cursor:"pointer"}:null},n.state.metadata.harmonizedDataType),r.createElement("div",{className:"file-preview__description-row-field-save-icon"}," "))},n.state={metadata:n.props.initialMetadata,isEditing:!1,showEditIcon:!1},n}return Object(i.__extends)(t,e),t.prototype.render=function(){return this.state.isEditing?this.renderEditing():this.renderNonEditing()},t.prototype.componentDidUpdate=function(e,t){!t.isEditing&&this.state.isEditing&&this.textarea&&this.textarea.focus()},t}(r.Component)}).call(this,n(129))},1729:function(e,t,n){"use strict";(function(e,a,i){n.d(t,"a",(function(){return y}));var o=n(3),r=n(0),s=n(1437),l=n(8),c=n(30),d=n(1419),u=n(1659),m=n(1650),p=n(1727),h=n(1721),g=n(147),f={deleteAttachment:function(t){return e.ajax("/forums/attachments/delete/"+t,{contentType:"application/json",type:"POST"})},spamMessage:function(t){return e.ajax("/forums/messages/spam?forumMessageId="+t,{contentType:"application/json",type:"POST"})},editMessage:function(t,n,a,i){return e.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:t,message:n,rawMarkdown:a}),headers:Object(m.a)(),type:"PUT",url:"/messages/"+i})},newMessage:function(t,n,a,i){return e.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:t,message:n,rawMarkdown:a}),type:"POST",url:"/messages/"+i+"/replies"})}},b={scrollToElementId:function(e){Object(g.i)(e)},scrollToElementIdWithSwing:function(e,t){b.scrollToElementId(e),window.location.hash=String(t)}},v=function(e){return e?s(e):""},y=function(e){function t(t){var n=e.call(this,t)||this;n.markdownConverter=new a.getSanitizingConverter,n.addAttachment=function(e,t,a){var i=n.state.newAttachments;i.push({name:e,totalBytes:a,blobToken:t}),n.setState({newAttachments:i})},n.addReplyAttachment=function(e,t,a){var i=n.state.replyAttachments;i.push({name:e,totalBytes:a,blobToken:t}),n.setState({replyAttachments:i})},n.changeEditDraft=function(e){n.setState({editDraft:e})},n.changeReplyDraft=function(e){n.setState({replyDraft:e})},n.deleteAttachment=function(e){var t=n.state.newAttachments.filter((function(t){return t.name==e}))[0],a=n.state.newAttachments.indexOf(t);if(-1!==a)return n.state.newAttachments.splice(a,1),void n.setState({newAttachments:n.state.newAttachments});t=n.state.attachments.filter((function(t){return t.name==e}))[0],a=n.state.attachments.indexOf(t),n.state.attachments.splice(a,1),n.setState({attachments:n.state.attachments}),f.deleteAttachment(t.id)},n.deleteReplyAttachment=function(e){var t=n.state.replyAttachments.filter((function(t){return t.name==e}))[0],a=n.state.replyAttachments.indexOf(t);if(-1!==a)return n.state.replyAttachments.splice(a,1),void n.setState({replyAttachments:n.state.replyAttachments})},n.leftOptions=function(){var e=[{onClick:function(e){var t=n.props.refactoredComment?n.props.refactoredComment.author:n.props.author;n.onQuoteClick(t.displayName,n.state.rawMarkdown||v(n.state.content))},text:"Quote"},{href:"#"+(n.props.refactoredComment?n.props.refactoredComment.id:n.props.id),onClick:function(e){if(!(e.shiftKey||e.ctrlKey||e.metaKey)){e.preventDefault();var t="#"+(n.props.refactoredComment?n.props.refactoredComment.id:n.props.id);Object(h.a)(window.location.href.split("#")[0]+t),b.scrollToElementIdWithSwing(t,n.props.refactoredComment?n.props.refactoredComment.id:n.props.id)}},text:"Permalink"}];c.a.isAnonymous||(n.state.isFlagged?e.push({className:"discussion-comment__option--disabled",text:"Reported"}):e.push({onClick:function(){return n.setState({showFlagForm:!0})},text:"Report"}));var t=(n.props.refactoredComment?n.props.refactoredComment.votes.upvoters:n.props.upvoters).length;return t>0&&e.push({className:n.state.showUpvoters?"discussion-comment__option--selected":null,onClick:function(){return n.setState({showUpvoters:!n.state.showUpvoters})},text:r.createElement(u.a,{count:t,word:"Upvoter"})}),n.props.canDelete&&e.push({onClick:function(){n.setState({showDeleteConfirm:!0})},text:"Delete"}),e},n.onReply=function(e){n.setState({showReplyForm:!n.state.showReplyForm,showReplyPreview:!1},e)},n.rightOptions=function(){var e=[];return c.a.isAdmin&&e.push({onClick:function(){return f.spamMessage(n.props.refactoredComment?n.props.refactoredComment.id:n.props.id).done((function(){return n.setState({isDeletedLegacy:!!n.state.isSpammed&&n.state.isDeletedLegacy,isSpammed:!n.state.isSpammed})}))},text:n.state.isSpammed?"Unspam":"Spam"},{onClick:function(){n.setState({showFeedbackTrackingForm:!0})},text:n.state.feedbackTrackingState.buganizerId?"Bug "+n.state.feedbackTrackingState.buganizerId:"No bug"}),e},n.submitEdit=function(){var e=n.markdownRef.getValue();f.editMessage(n.state.newAttachments.map((function(e){return e.blobToken})),n.markdownConverter.makeHtml(e),e,n.props.refactoredComment?n.props.refactoredComment.id:n.props.id).done((function(t){n.setState({content:t,editDraft:e,rawMarkdown:e,showEditForm:!1,showEditPreview:!1,markdownKey:n.state.markdownKey+1})})).fail((function(){d.a.clear(),d.a.error({dangerousHtmlMessage:'We had trouble saving your edit. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})}))},n.submitReply=function(){n.setState({isSubmittingReply:!0},(function(){var e=n.markdownRef;e||console.warn("MarkdownContainer not found. Please start using MarkdownContainer because MarkdownEditor will be deprecated.");var t=e?e.getValue():n.state.replyDraft;f.newMessage(n.state.replyAttachments.map((function(e){return e.blobToken})),n.markdownConverter.makeHtml(t),t,n.props.refactoredComment?n.props.refactoredComment.id:n.props.id).done((function(e){n.setState({isSubmittingReply:!1,replyDraft:"",showReplyForm:!1,showReplyPreview:!1,markdownKey:n.state.markdownKey+1},(function(){n.props.replySubmitted((function(){b.scrollToElementId(String(e))}))}))})).fail((function(){n.setState({isSubmittingReply:!1}),d.a.clear(),d.a.error({dangerousHtmlMessage:'We had trouble submitting your reply. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})}))}))},n.titleOptions=function(){var e=[];c.a.isAnonymous||e.push({className:n.state.showOptions?"discussion-comment__title-element--selected":null,onClick:function(){return n.setState({showOptions:!n.state.showOptions})},text:"Options"}),(c.a.isAdmin||(n.props.refactoredComment?n.props.refactoredComment.isUserAuthor:n.props.isUserAuthor))&&e.push({className:n.state.showEditForm?"discussion-comment__title-element--selected":null,onClick:function(){return n.setState({showEditForm:!n.state.showEditForm,showEditPreview:!1})},text:"Edit"});var t=n.props.parentId||(n.props.refactoredComment?n.props.refactoredComment.parent.id||n.props.refactoredComment.id:n.props.id);return n.props.allowReplies&&e.push({className:n.props.parentReplyShown||n.state.showReplyForm?"discussion-comment__title-element--selected":null,href:c.a.isAnonymous?"/account/login?returnUrl="+encodeURIComponent(n.props.topicUrl+"?replyTo="+t):null,onClick:c.a.isAnonymous?null:function(){(n.props.onReply||n.onReply.bind(n))((function(){b.scrollToElementId(String(t))}))},text:"Reply"}),e};var o=n.props.refactoredComment?n.props.refactoredComment.content:n.props.content,s=n.props.refactoredComment?n.props.refactoredComment.id:n.props.id,m=(n.props.refactoredComment?n.props.refactoredComment.rawMarkdown:n.props.rawMarkdown)||v(o);return n.state={onAttachmentAdded:function(e,t,a){return n.addAttachment(e,t,a)},onAttachmentDeleted:function(e){return n.deleteAttachment(e)},attachments:n.props.refactoredComment?n.props.refactoredComment.attachments:n.props.attachments,onCancelEdit:function(){return n.setState({showEditPreview:!1,showEditForm:!1})},onCancelReply:function(){return n.setState({showEditPreview:!1,showReplyForm:!1,applyQuote:null})},content:o,feedbackTrackingState:n.props.feedbackTrackingData||{},editDraft:m,editSubmitted:function(){return n.submitEdit()},onFlagFormClosed:function(){return n.setState({showFlagForm:!1})},onFlagSubmit:function(e,t){l.discussionsClient.toggleFlagMessage({scriptVersionId:null,datasetVersionId:null,reasonType:e,explanation:t,messageId:s}),n.setState({isFlagged:!0,showFlagForm:!1})},initialReplyDraft:"",isFlagged:n.props.refactoredComment?n.props.refactoredComment.isFlagged:n.props.isFlagged,isSpammed:n.props.refactoredComment?n.props.refactoredComment.isSpammed:n.props.isSpammed,isSubmittingReply:!1,isDeleted:n.props.refactoredComment?n.props.refactoredComment.isDeleted:n.props.isDeleted,isDeletedLegacy:n.props.refactoredComment?n.props.refactoredComment.isAdminDeleted:n.props.isDeletedLegacy,newAttachments:[],onConfirmedDelete:function(){i.Requests.deleteMessage({messageId:s}),n.setState({isDeleted:!0,showDeleteConfirm:!1})},onCanceledDelete:function(){n.setState({showDeleteConfirm:!1})},onFeedbackTrackingClosed:function(){return n.setState({showFeedbackTrackingForm:!1})},onFeedbackTrackingSubmit:function(e){l.discussionsClient.updateFeedbackTrackingData({messageId:s,feedbackTrackingData:e}),n.setState({feedbackTrackingState:e,showFeedbackTrackingForm:!1})},openReplyForm:function(){n.setState({showReplyForm:!0})},rawMarkdown:m,replyAttachments:[],replyAttachmentAdded:function(e,t,a){return n.addReplyAttachment(e,t,a)},replyAttachmentDeleted:function(e){return n.deleteReplyAttachment(e)},replyDraft:"",replyDraftChanged:function(e){return n.changeReplyDraft(e)},replySubmitted:function(){return n.submitReply()},showDeleteConfirm:!1,showEditForm:!1,showEditPreview:!1,showFlagForm:!1,showOptions:!1,showReplyForm:!1,showReplyPreview:!1,showUpvoters:!1,toggleEditPreview:function(){return n.setState({showEditPreview:!n.state.showEditPreview})},toggleReplyPreview:function(){return n.setState({showReplyPreview:!n.state.showReplyPreview})},markdownKey:1,applyQuote:null},n}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.replyTo===this.props.id&&this.setState({showReplyForm:!0},(function(){return b.scrollToElementId(String(e.props.replyTo))}))},t.prototype.onQuoteClick=function(e,t){this.props.onReplyQuote?this.props.onReplyQuote(e,t):this.setState({showReplyForm:!0,applyQuote:{author:this.props.refactoredComment?this.props.refactoredComment.author.displayName:this.props.author.displayName,content:this.props.refactoredComment?this.props.refactoredComment.rawMarkdown:this.props.rawMarkdown}})},t.prototype.render=function(){var e=this,t=this.props,n=(t.children,Object(o.__rest)(t,["children"]));return r.createElement(p.a,Object(o.__assign)(Object(o.__assign)(Object(o.__assign)({},n),this.state),{allowAttachments:this.props.allowAttachments,isNew:!1,markdownRef:function(t){e.markdownRef=t},leftOptions:this.leftOptions(),onReply:function(t){return e.onReply(t)},onReplyQuote:function(t,n){return e.onQuoteClick(t,n)},rightOptions:this.rightOptions(),titleOptions:this.titleOptions()}))},t}(r.Component)}).call(this,n(129),n(288),n(286))},1732:function(e,t,n){"use strict";(function(e,a){n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return p}));var i=n(3),o=n(1641),r=n(22),s=n(147),l=function(e,t){this.size=t,this.point=e,this.left=e.left,this.top=e.top,this.width=t.width,this.height=t.height},c=function(e,t){this.left=e,this.top=t},d=function(e,t,n,a){this.title=e,this.information=t,this.size=n,this.rect=a},u=function(e,t){var n=this;this.getAspect=function(){return n.width/n.height},this.width=e,this.height=t},m=2,p=function(t){function n(e){var n=t.call(this,e)||this;return n.validExtensions=["png","jpg","jpeg"],n.getHiResScale=function(){return n.props.hiResScale||2},n.onMouseDown=function(e,t){0===e.button&&(n.setState({isDragging:!0,dragMode:t,dragStartMousePosition:new c(e.pageX,e.pageY),dragStartSelectorRect:n.state.selectorRect}),e.stopPropagation(),e.preventDefault())},n.onMouseUp=function(e){n.setState(a.extend({},n.state,{isDragging:!1})),e.stopPropagation(),e.preventDefault()},n.onMouseMove=function(e){if(n.state.isDragging){var t=e.pageX-n.state.dragStartMousePosition.left,i=e.pageY-n.state.dragStartMousePosition.top,o="move"==n.state.dragMode,r="ul"==n.state.dragMode||"ll"==n.state.dragMode,s="ul"==n.state.dragMode||"ur"==n.state.dragMode,d="ur"==n.state.dragMode||"lr"==n.state.dragMode,m="lr"==n.state.dragMode||"ll"==n.state.dragMode;r&&(t=Math.max(-n.state.dragStartSelectorRect.left,t)),s&&(i=Math.max(-n.state.dragStartSelectorRect.top,i));var p=n.state.dragStartSelectorRect.width+(o?0:t)*(r?-1:1),h=n.state.dragStartSelectorRect.height+(o?0:i)*(s?-1:1);d&&(p=Math.min(p,n.state.imageRect.width-n.state.selectorRect.left)),m&&(h=Math.min(h,n.state.imageRect.height-n.state.selectorRect.top));var g=n.state.imageRect.width/n.state.originalSize.width,f=(p=Math.max(Math.round(n.state.selectedImageSize.width*g*n.getHiResScale()),p))/(h=Math.max(Math.round(n.state.selectedImageSize.height*g*n.getHiResScale()),h)),b=n.state.selectedImageSetting.size,v=b.width/b.height,y=n.state.dragStartSelectorRect.left+(o||r?t:0),w=n.state.imageRect.width-p,E=n.state.dragStartSelectorRect.top+(o||s?i:0),x=n.state.imageRect.height-h,C=Math.max(Math.min(y,w),0),k=Math.max(Math.min(E,x),0);r&&C+p>n.state.selectorRect.left+n.state.selectorRect.width&&(C=n.state.selectorRect.left+n.state.selectorRect.width-p),s&&k+h>n.state.selectorRect.top+n.state.selectorRect.height&&(k=n.state.selectorRect.top+n.state.selectorRect.height-h),f>v&&(p=Math.round(h*v),r&&(C=n.state.dragStartSelectorRect.left+n.state.dragStartSelectorRect.width-p)),f<v&&(h=Math.round(p/v),s&&(k=n.state.dragStartSelectorRect.top+n.state.dragStartSelectorRect.height-h));var _=new l(new c(C,k),new u(p,h));n.getScaledRect(n.state.originalSize.width/n.state.imageRect.width,_);n.setState(a.extend({},n.state,{selectorRect:_,selectedImageSetting:a.extend(n.state.selectedImageSetting,{rect:_})})),e.stopPropagation(),e.preventDefault()}},n.onFileChange=function(e){if(e.target.files&&e.target.files[0]){var t=e.target.files[0].name.split(".").pop();if(0==n.validExtensions.filter((function(e){return e===t.toLowerCase()})).length)return void n.setState(a.extend({},n.state,{invalidExtension:t}));n.setState(a.extend({},n.state,{imageLoaded:!1,isLoadingImage:!0,tooSmallImageSize:null,invalidExtension:null}));var i=new FileReader;i.onload=function(e){var t=new Image,o=i.result;if("string"!=typeof o)throw new Error("Expected FileReader url to be a string.");t.src=o,t.onload=function(){t.width<n.state.minimumImageSize.width||t.height<n.state.minimumImageSize.height?n.setState(a.extend({},{tooSmallImageSize:new u(t.width,t.height),imageLoaded:!0,isLoadingImage:!1})):n.setState(a.extend({},n.state,{imageUrl:o}))}},i.readAsDataURL(e.target.files[0])}},n.onImageLoad=function(e){n.updateImage(e.target.src,e.target.naturalWidth,e.target.naturalHeight)},n.onUpdateImages=function(){n.setState(a.extend({},n.state,{uploadInProgress:!0}));var e=a("#uploadForm"+(n.props.uploaderKey||""))[0],t=new FormData(n.state.tooSmallImageSize?null:e),i=Math.min(n.state.originalSize.width/n.state.imageRect.width,n.state.originalSize.height/n.state.imageRect.height),o=n.state.imageSettings.map((function(e){return new l(new c(e.rect.left*i,e.rect.top*i),new u(e.rect.width*i,e.rect.height*i))}));n.props.onUpdateImages(t,o,n.handleImageUploadFailed).then((function(){n.setState(a.extend({},n.state,{uploadInProgress:!1}))}))},n.handleImageUploadFailed=function(){n.setState(a.extend({},n.state,{showImageUploadFailed:!0}))},n.setStep=function(e){var t=n.state.imageSettings[e-m]||n.state.imageSettings[0];n.setState(a.extend({},{currentStep:e,selectedImageSetting:t,selectorRect:t.rect,selectedImageSize:t.size}))},n.state={imageUrl:n.props.originalImageUrl,imageLoaded:!1,imageRect:new l(new c(0,0),new u(0,0)),selectorRect:new l(new c(0,0),new u(0,0)),imageSettings:n.props.imageSettings,minimumImageSize:n.getMinimumImageSize(),selectedImageSetting:n.props.imageSettings[0],isDragging:!1,selectedImageSize:n.props.imageSettings[0].size,uploadInProgress:!1,isLoadingImage:!1,currentStep:1},n}return Object(i.__extends)(n,t),n.prototype.getMinimumImageSize=function(){return new u(Math.max.apply(Math,Object(i.__spread)(this.props.imageSettings.map((function(e){return e.size.width}))))*this.getHiResScale(),Math.max.apply(Math,Object(i.__spread)(this.props.imageSettings.map((function(e){return e.size.height}))))*this.getHiResScale())},n.prototype.isLastStep=function(){return this.state.currentStep===this.props.imageSettings.length+m},n.prototype.getScaledSize=function(e,t){var n=t.width/t.height;return new u(n>e?Math.round(t.height*e):t.width,n<e?Math.round(t.width/e):t.height)},n.prototype.getScaledRect=function(e,t){return new l(new c(Math.round(t.point.left*e),Math.round(t.point.top*e)),new u(Math.round(t.size.width*e),Math.round(t.size.height*e)))},n.prototype.componentDidUpdate=function(e,t){this.state.isDragging&&!t.isDragging?(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)):!this.state.isDragging&&t.dragging&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp))},n.prototype.componentWillUnmount=function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},n.prototype.updateImage=function(e,t,n){var o,r;if(!this.state.imageLoaded){var s=t/n,d=this.getScaledSize(s,this.props.containerSize),m=new l(new c(Math.round((this.props.containerSize.width-d.width)/2),Math.round((this.props.containerSize.height-d.height)/2)),new u(Math.round(d.width),Math.round(d.height)));m.width;try{for(var p=Object(i.__values)(this.state.imageSettings),h=p.next();!h.done;h=p.next()){var g=h.value,f=g.size.width/g.size.height,b=this.getScaledSize(f,m.size);g.rect=new l(new c(Math.round((m.width-b.width)/2),Math.round((m.height-b.height)/2)),this.getScaledSize(f,m.size))}}catch(e){o={error:e}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(o)throw o.error}}this.setState(a.extend({},this.state,{imageUrl:e,originalSize:{width:t,height:n},imageRect:m,isLoadingImage:!1,imageLoaded:!0,selectorRect:this.state.imageSettings[0].rect,currentStep:e.indexOf("default-backgrounds")||e.indexOf("noimage")?1:2}))}},n.prototype.render=function(){var t=this,n={width:this.props.containerSize.width,height:this.props.containerSize.height,display:this.state.isLoadingImage||1!=this.state.currentStep?"none":""},i={width:this.props.containerSize.width,height:this.props.containerSize.height},l=(this.state.imageLoaded,{left:this.state.imageRect.left,top:this.state.imageRect.top,width:this.state.imageRect.width,height:this.state.imageRect.height,display:this.state.imageLoaded&&!this.isLastStep()?"":"none"}),c={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top+this.state.selectorRect.top,width:this.state.selectorRect.width-2*this.props.selectorBorderWidth,height:this.state.selectorRect.height-2*this.props.selectorBorderWidth,borderWidth:this.props.selectorBorderWidth,cursor:this.state.isDragging?"":"move"},d={width:8,height:8},p=a.extend({},d,{left:c.left,top:c.top,marginLeft:-5,marginTop:-5,cursor:this.state.isDragging?"":"nwse-resize"}),h=a.extend({},d,{left:c.left+c.width-8,top:c.top,marginLeft:5,marginTop:-5,cursor:this.state.isDragging?"":"nesw-resize"}),g=a.extend({},d,{left:c.left,top:c.top+c.height-8,marginLeft:-5,marginTop:5,cursor:this.state.isDragging?"":"nesw-resize"}),f=a.extend({},d,{left:c.left+c.width-8,top:c.top+c.height-8,marginLeft:5,marginTop:5,cursor:this.state.isDragging?"":"nwse-resize"}),b=new u(.8*this.props.containerSize.width,.4*this.props.containerSize.height),v=this.state.imageSettings.map((function(e){var n=t.getScaledSize(e.size.getAspect(),b),i=0==e.rect.width?0:n.width/e.rect.width,o=a.extend({},n,{overflow:"hidden"});return{imageStyle:{width:Math.round(t.state.imageRect.width*i),height:Math.round(t.state.imageRect.height*i),left:Math.round(e.rect.left*-i),top:Math.round(e.rect.top*-i)},imageContainerStyle:o}})),y={left:this.state.imageRect.left,top:this.state.imageRect.top,width:this.state.selectorRect.left,height:this.state.imageRect.height},w={left:this.state.imageRect.left+this.state.selectorRect.width+this.state.selectorRect.left,top:this.state.imageRect.top,width:this.state.imageRect.width-this.state.selectorRect.width-this.state.selectorRect.left,height:this.state.imageRect.height},E={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top,width:this.state.selectorRect.width,height:this.state.selectorRect.top},x={left:this.state.imageRect.left+this.state.selectorRect.left,top:this.state.imageRect.top+this.state.selectorRect.top+this.state.selectorRect.height,width:this.state.selectorRect.width,height:this.state.imageRect.height-this.state.selectorRect.height-this.state.selectorRect.top},C=function(e){return r("image-uploader__step",t.state.currentStep==e?"image-uploader__step--current":t.state.currentStep>e?"image-uploader__step--complete":"image-uploader__step--pending",1==e||t.state.imageLoaded?"image-uploader__step--clickable":"")};return e.createElement("div",{className:r("image-uploader",this.state.uploadInProgress?"image-uploader--inprogress":null),style:{cursor:this.state.isDragging?"move"==this.state.dragMode?"move":"ul"==this.state.dragMode?"nwse-resize":"ur"==this.state.dragMode?"nesw-resize":"ll"==this.state.dragMode?"nesw-resize":"lr"==this.state.dragMode?"nwse-resize":"":""}},e.createElement("div",{className:"image-uploader__inprogressoverlay",style:this.state.uploadInProgress?null:{display:"none"}},e.createElement("div",{className:"image-uploader__inprogressmessage"},"Sending your images up. Hold tight...")),e.createElement("div",{className:"image-uploader__title-container"},e.createElement("div",{className:"image-uploader__title"},this.props.title),e.createElement("div",{className:"image-uploader__cancel",onClick:this.props.onCancel},"Cancel")),e.createElement("ul",{className:"image-uploader__steps"},e.createElement("li",{className:C(1),onClick:function(){return t.setStep(1)}},"Upload image"),this.props.imageSettings.map((function(n,a){return e.createElement("li",{key:a,className:C(a+m),onClick:t.state.imageLoaded?function(){return t.setStep(a+m)}:null},"Crop ",n.title)})),e.createElement("li",{className:C(this.props.imageSettings.length+m),onClick:this.state.imageLoaded?function(){return t.setStep(t.props.imageSettings.length+m)}:null},"Preview images")),this.state.showImageUploadFailed?e.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"We ran into a problem. Try again or try a different image."," ",e.createElement("a",{href:"/contact"},"Contact us")," if you need any help."):1==this.state.currentStep?this.state.tooSmallImageSize?e.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"The resolution of your image (",this.state.tooSmallImageSize.width,"x",this.state.tooSmallImageSize.height,") is lower than the minimum resolution (",this.state.minimumImageSize.width,"x",this.state.minimumImageSize.height,")."):this.state.invalidExtension?e.createElement("div",{className:"image-uploader__message-container image-uploader__message-container--error"},"That file type (",this.state.invalidExtension,") is a not a supported image type (i.e. ",this.validExtensions.join(", "),")."):e.createElement("div",{className:"image-uploader__message-container"},e.createElement("span",{className:"image-uploader__message-container-label"},"Step 1"),":"," ",Object(s.j)(e.createElement("span",null),this.props.step1Html||"Upload an image by clicking the button below.")):this.state.currentStep<this.props.imageSettings.length+m?e.createElement("div",{className:"image-uploader__message-container"},e.createElement("span",{className:"image-uploader__message-container-label"},"Step ",this.state.currentStep),":"," ",this.props.imageSettings[this.state.currentStep-m].information):this.state.currentStep==this.props.imageSettings.length+m?e.createElement("div",{className:"image-uploader__message-container"},e.createElement("span",{className:"image-uploader__message-container-label"},"Step ",this.state.currentStep),": Make sure everything looks good, then click the button below."):"",e.createElement("div",{className:"image-uploader__outer-container"},e.createElement("div",{className:r("fa","fa-chevron-circle-left","image-uploader__navigator",1==this.state.currentStep?"image-uploader__navigator--hidden":"image-uploader__navigator--enabled"),onClick:this.state.currentStep>1?function(){return t.setStep(t.state.currentStep-1)}:null}),e.createElement("div",{className:"image-uploader__container",style:i},this.state.isLoadingImage?e.createElement("div",{className:"image-uploader__loadercontainer"},e.createElement("div",{className:"image-uploader__loadermessage"},"Loading image...")):"",e.createElement("div",{className:"image-uploader__upload",style:n},e.createElement("form",{id:"uploadForm"+(this.props.uploaderKey||""),name:"uploadForm"+(this.props.uploaderKey||"")},e.createElement("input",{id:"imageUpload"+(this.props.uploaderKey||""),name:"imageUpload"+(this.props.uploaderKey||""),type:"file",onChange:this.onFileChange}),e.createElement("label",{className:"image-uploader__upload-button",htmlFor:"imageUpload"+(this.props.uploaderKey||"")},e.createElement("div",{className:"fa fa-upload image-uploader__upload-icon"}),e.createElement("div",null,"upload image"),e.createElement("div",{className:"image-uploader__upload-resolution"},"(min. ",this.state.minimumImageSize.width,"x",this.state.minimumImageSize.height,")")))),this.state.currentStep>1&&this.state.currentStep<this.props.imageSettings.length+m?e.createElement("div",null,e.createElement("div",{className:"image-uploader__selector",style:c,onMouseDown:function(e){return t.onMouseDown(e,"move")}}),e.createElement("div",{className:"image-uploader__selector-corner-resizer",style:p,onMouseDown:function(e){return t.onMouseDown(e,"ul")}}),e.createElement("div",{className:"image-uploader__selector-corner-resizer",style:h,onMouseDown:function(e){return t.onMouseDown(e,"ur")}}),e.createElement("div",{className:"image-uploader__selector-corner-resizer",style:g,onMouseDown:function(e){return t.onMouseDown(e,"ll")}}),e.createElement("div",{className:"image-uploader__selector-corner-resizer",style:f,onMouseDown:function(e){return t.onMouseDown(e,"lr")}}),e.createElement("div",{className:"image-uploader__overlay",style:y}),e.createElement("div",{className:"image-uploader__overlay",style:E}),e.createElement("div",{className:"image-uploader__overlay",style:w}),e.createElement("div",{className:"image-uploader__overlay",style:x})):"",v.map((function(n,a){return e.createElement("div",{key:a,style:t.state.currentStep<m+t.props.imageSettings.length?{display:"none"}:{},className:"image-uploader__preview"},e.createElement("div",{className:"image-uploader__previewimagecontainer",style:n.imageContainerStyle},e.createElement("img",{className:"image-uploader__previewimage",style:n.imageStyle,src:t.state.imageUrl})))})),e.createElement("img",{className:"image-uploader__image",src:this.state.imageUrl,style:l,onLoad:function(e){return t.onImageLoad(e)}}),this.state.currentStep==this.props.imageSettings.length+m?e.createElement("div",{className:"image-uploader__submitcontainer"},e.createElement(o.a,{onClick:this.onUpdateImages,text:"Update Images"})):""),e.createElement("div",{className:r("fa","fa-chevron-circle-right","image-uploader__navigator",this.isLastStep()?"image-uploader__navigator--hidden":this.state.imageLoaded?"image-uploader__navigator--enabled":"image-uploader__navigator--disabled"),onClick:!this.isLastStep()&&this.state.imageLoaded?function(){return t.setStep(t.state.currentStep+1)}:null})))},n}(e.Component)}).call(this,n(0),n(129))},1733:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var a,i,o,r,s,l,c,d=n(3),u=n(0),m=n(1644),p=n(1631),h=n(1702),g=n(1707),f=n(577),b=n(30),v=n(1754),y=n(10),w=n(1),E=n.n(w),x=E.a.div.withConfig({displayName:"AddDataSourceModal_AddDataSourceModalListItem",componentId:"sc-1jz71bb"})(a||(a=Object(d.__makeTemplateObject)(["\n  padding: 5px 24px;\n  line-height: 1.4em;\n  display: flex;\n"],["\n  padding: 5px 24px;\n  line-height: 1.4em;\n  display: flex;\n"]))),C=E.a.div.withConfig({displayName:"AddDataSourceModal_AddDataSourceModalListItemThumbnail",componentId:"sc-8swqei"})(i||(i=Object(d.__makeTemplateObject)(["\n  margin-right: 10px;\n  flex: 0 1 auto;\n\n  img {\n    border-radius: calc("," - 1px);\n    height: 35px;\n    width: 35px;\n  }\n"],["\n  margin-right: 10px;\n  flex: 0 1 auto;\n\n  img {\n    border-radius: calc("," - 1px);\n    height: 35px;\n    width: 35px;\n  }\n"])),y.g.BorderRadius),k=E.a.div.withConfig({displayName:"AddDataSourceModal_AddDataSourceModalListItemInfo",componentId:"sc-14q5fvf"})(o||(o=Object(d.__makeTemplateObject)(["\n  flex: 1 1 auto;\n  overflow: hidden;\n"],["\n  flex: 1 1 auto;\n  overflow: hidden;\n"]))),_=E.a.div.withConfig({displayName:"AddDataSourceModal_AddDataSourceModalListItemDescription",componentId:"sc-cl2kdd"})(r||(r=Object(d.__makeTemplateObject)(["\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"],["\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"])),y.b.TextLight),S=E.a.div.withConfig({displayName:"AddDataSourceModal_AddDataSourceModalListItemTitle",componentId:"sc-txsqgu"})(s||(s=Object(d.__makeTemplateObject)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"],["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),y.b.TextMedium,y.d.FontSizeM,y.d.FontWeightMedium),O=E.a.span.withConfig({displayName:"AddDataSourceModal_AddDataSourceModalListItemTitleBadge",componentId:"sc-p2nw9m"})(l||(l=Object(d.__makeTemplateObject)(["\n  margin: 0 5px 0 0;\n"],["\n  margin: 0 5px 0 0;\n"]))),T=E.a.span.withConfig({displayName:"AddDataSourceModal_AddDataSourceModalCancelButton",componentId:"sc-1xthqwk"})(c||(c=Object(d.__makeTemplateObject)(["\n  color: ",";\n  cursor: pointer;\n"],["\n  color: ",";\n  cursor: pointer;\n"])),y.b.TextLink),j=[{label:"Datasets",value:"dataset"},{label:"Competitions",value:"competition"},{label:"Kernels",value:"kernel"}],I=function(t){function n(n){var a=t.call(this,n)||this;return a.onDataSourceListItemClicked=function(t){return Object(d.__awaiter)(a,void 0,void 0,(function(){var n;return Object(d.__generator)(this,(function(a){switch(a.label){case 0:return"competition"!==t.sourceType?[3,2]:[4,e.Scripts.checkRulesAcceptance({competitionId:t.sourceId})];case 1:if((n=a.sent().competitionsRequiringAcceptance).length>0)return this.props.onClose(),this.setState({competitionsRequiringAcceptance:n,isRulesModalShown:!0}),[2,Promise.resolve()];a.label=2;case 2:return[2,this.props.onDataSourceAdded(t)]}}))}))},a.onAcceptCompetitionsRules=function(){return Object(d.__awaiter)(a,void 0,void 0,(function(){var t,n,a=this;return Object(d.__generator)(this,(function(i){switch(i.label){case 0:return t=this.state.competitionsRequiringAcceptance[0].competitionId,[4,e.Scripts.acceptRules({competitionId:t})];case 1:return(n=i.sent()).redirectUrl?(window.location.href=n.redirectUrl,[2]):n.success?(this.setState({isRulesModalShown:!1},(function(){return Object(d.__awaiter)(a,void 0,void 0,(function(){return Object(d.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.props.onDataSourceAdded({sourceType:"competition",sourceId:t})];case 1:return e.sent(),[2]}}))}))})),[2]):(alert(n.validationMessage),[2])}}))}))},a.onCloseRulesModal=function(){a.setState({isRulesModalShown:!1})},a.renderListItem=function(e){return u.createElement(f.a,{onClick:function(){return a.onDataSourceListItemClicked(e)}},u.createElement(x,null,u.createElement(C,null,u.createElement("img",{src:e.thumbnailUrl})),u.createElement(k,null,u.createElement(S,null,e.isPrivate&&u.createElement(O,null,u.createElement(g.a,{option:"info"},"Private")),e.title),u.createElement(_,{title:e.description},e.description))))},a.cancelButton=u.createElement(T,{onClick:a.props.onClose},"cancel"),a.state={selectedGroup:j[0].value,isRulesModalShown:!1,competitionsRequiringAcceptance:[]},a}return Object(d.__extends)(n,t),n.prototype.render=function(){var e=this,t=this.props,n=t.onClose,a=t.isShown,i=this.state.isRulesModalShown,o=null;return a?o=u.createElement(p.a,{modalIsShown:a,onClose:n,className:"add-data-source-modal"},u.createElement(h.a,{title:"Add Data Source",dataUrl:"/kernels/sources.json",pluralItemDescription:"Data Sources",titleBarRightSide:this.cancelButton,itemRenderer:this.renderListItem,groups:j,onSelectionsChanged:function(t){return e.setState({selectedGroup:t.group})},searchIndex:this.state.selectedGroup,containerClassName:"add-data-source-modal__container",contentClassName:"add-data-source-modal__content",mobileSortUpperBound:600,contentHeight:400,searchableGroups:["dataset","competition","kernel"],referrer:"AddDataSourceModal",disablePushState:!0})):i&&(o=b.a.userIsPhoneVerified?u.createElement(v.a,{competitions:this.state.competitionsRequiringAcceptance,show:this.state.isRulesModalShown,onAcceptCompetitionRules:this.onAcceptCompetitionsRules,onClose:this.onCloseRulesModal,showLinkToRules:!0}):u.createElement(m.a,{isShown:!0,title:"Account SMS verification is required to use competition data sources. Continue to the SMS verification page?",cancelText:"No",confirmText:"Yes",onCancel:this.onCloseRulesModal,onConfirm:function(){return window.location.href="/account/phone/number"}})),o},n}(u.Component)}).call(this,n(286))},1734:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1416),i=n(1),o=n.n(i),r=n(0);const s=o.a.button`
  padding: ${e=>e.theme.size.pad.xs} ${e=>e.theme.size.pad.s};
  border: none;
  border-radius: ${e=>e.theme.size.border.radius.button};
  background-color: ${e=>e.theme.colors.content.borderLight};
  color: ${e=>e.theme.colors.kaggle.gray};
  cursor: ${e=>e.disabled?"default":"pointer"};

  &:hover {
    color: ${e=>e.disabled?e.theme.colors.kaggle.gray:e.theme.colors.kaggle.black};
  }
  &:focus {
    outline: none;
  }
`;function l({isDisabled:e,onClose:t,className:n}){return r.createElement(s,{disabled:e,onClick:t,className:n,"data-testid":"close-modal-button",title:"Close"},r.createElement(a.a,{icon:"close",size:"xsmall"}))}},1735:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1422),i=n(1424);const o=new i.Converter({disableForced4SpacesIndentedSublists:!0,emoji:!0,excludeTrailingPunctuationFromURLs:!0,ghCompatibleHeaderId:!0,ghMentions:!0,ghMentionsLink:"https://www.kaggle.com/{u}",openLinksInNewWindow:!0,prefixHeaderId:!0,parseImgDimensions:!0,simpleLineBreaks:!0,simplifiedAutoLink:!0,smartIndentationFix:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,tasklists:!0,literalMidWordUnderscores:!0});function r(e){return e=e.replace(/&gt;/g,">").replace(/&lt;/g,"<"),a(o.makeHtml(e),{allowedTags:a.defaults.allowedTags.concat(["h1","h2","img","del"]),allowedAttributes:{a:["href","name","target"],div:[],img:["src","alt","width","height"]},transformTags:{a:(e,t)=>{if(t.href&&t.href.startsWith("emoji::")){const e=t.href.split("::");return{tagName:"span",attribs:{title:e[e.length-1]}}}if(t.href&&t.href.startsWith("user::")){const n=t.href.split("::"),a=n[n.length-1];return{tagName:e,attribs:Object.assign(Object.assign({},t),{href:a})}}return{tagName:e,attribs:t}}}})}},1736:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(30);function i(){return a.a.userId?{isAdmin:a.a.isAdmin||!1,displayName:a.a.userDisplayName,id:a.a.userId,thumbnailUrl:a.a.userThumbnailUrl,tier:(a.a.tier||"").toLowerCase(),userUrl:a.a.userProfileUrl}:null}},1737:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(3),i=n(22),o=n(147),r=function(t){function n(e){var n=t.call(this,e)||this;return n.handleClick=function(e){n.setState({selectedValue:e.value}),n.props.onChange(e)},n.state={selectedValue:e.selectedValue},n}return Object(a.__extends)(n,t),n.prototype.render=function(){var t=this;return e.createElement("ul",{className:"radio-button-list"},this.props.options.map((function(n){var a=t.state.selectedValue===n.value;return e.createElement("li",{className:i("radio-button-list__option",a?"radio-button-list__option--selected":"",t.props.textIsClickable?"checkbox--clickable":""),key:n.value,onClick:t.props.textIsClickable?function(){return t.handleClick(n)}:null},e.createElement("span",{className:i("radio-button-list__option-radio",t.props.textIsClickable?"":"radio-button-list__option-radio--clickable",a?"radio-button-list__option-radio--selected":""),onClick:function(){return t.handleClick(n)}}),Object(o.j)(e.createElement("span",{className:i("radio-button-list__option-label")}),n.text))})))},n}(e.Component)}).call(this,n(0))},1738:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var a,i,o,r,s,l,c,d,u,m,p=n(3),h=n(1),g=n.n(h),f=n(10),b=n(1641),v=g.a.div.withConfig({displayName:"FeedbackTrackingModal_MainContainer",componentId:"sc-nt234x"})(a||(a=Object(p.__makeTemplateObject)(["  \n  color: ",";\n  min-width: 400px;\n"],["  \n  color: ",";\n  min-width: 400px;\n"])),f.b.TextMedium),y=g.a.div.withConfig({displayName:"FeedbackTrackingModal_TitleBar",componentId:"sc-1g8uqwz"})(i||(i=Object(p.__makeTemplateObject)(["\n  border-bottom: 1px solid black;\n  display: flex;\n  font-weight: 500;\n  justify-content: space-between;\n  padding: 10px;\n"],["\n  border-bottom: 1px solid black;\n  display: flex;\n  font-weight: 500;\n  justify-content: space-between;\n  padding: 10px;\n"]))),w=g.a.div.withConfig({displayName:"FeedbackTrackingModal_CloseIcon",componentId:"sc-u6d9wt"})(o||(o=Object(p.__makeTemplateObject)(["\n  cursor: pointer;\n"],["\n  cursor: pointer;\n"]))),E=g.a.div.withConfig({displayName:"FeedbackTrackingModal_InputForm",componentId:"sc-1tluqa"})(r||(r=Object(p.__makeTemplateObject)(["\n  padding: 10px;\n"],["\n  padding: 10px;\n"]))),x=g.a.div.withConfig({displayName:"FeedbackTrackingModal_InputFormField",componentId:"sc-cktuxw"})(s||(s=Object(p.__makeTemplateObject)(["\n  padding-bottom: 5px;\n"],["\n  padding-bottom: 5px;\n"]))),C=g.a.div.withConfig({displayName:"FeedbackTrackingModal_FollowUpOptions",componentId:"sc-1p86gy7"})(l||(l=Object(p.__makeTemplateObject)(["\n  display: flex;\n  flex-grow: 1;\n  justify-content: space-around;\n  padding: 5px 0 10px 10px;\n  width: 275px;\n"],["\n  display: flex;\n  flex-grow: 1;\n  justify-content: space-around;\n  padding: 5px 0 10px 10px;\n  width: 275px;\n"]))),k=g.a.input.withConfig({displayName:"FeedbackTrackingModal_BuganizerInput",componentId:"sc-7kpyk6"})(c||(c=Object(p.__makeTemplateObject)(["\n  padding-right: 20px;\n  width: 80px;\n"],["\n  padding-right: 20px;\n  width: 80px;\n"]))),_=g.a.a.withConfig({displayName:"FeedbackTrackingModal_BuganizerLink",componentId:"sc-17ig5t7"})(d||(d=Object(p.__makeTemplateObject)(["\n  color: inherit;\n  padding-left: 5px;\n  vertical-align: bottom;\n"],["\n  color: inherit;\n  padding-left: 5px;\n  vertical-align: bottom;\n"]))),S=g.a.div.withConfig({displayName:"FeedbackTrackingModal_SaveButtonWrapper",componentId:"sc-1d8wjw3"})(u||(u=Object(p.__makeTemplateObject)(["\n  display: flex;\n  justify-content: flex-end;\n  padding: 0 10px 0 10px;\n"],["\n  display: flex;\n  justify-content: flex-end;\n  padding: 0 10px 0 10px;\n"]))),O=g()(b.a).withConfig({displayName:"FeedbackTrackingModal_SaveButton",componentId:"sc-zkgnd9"})(m||(m=Object(p.__makeTemplateObject)(["\n  width: 50px;\n"],["\n  width: 50px;\n"]))),T=function(t){function n(e){var n=t.call(this,e)||this;return n.updateBugNumber=function(e){n.setState({feedbackTrackingData:Object(p.__assign)(Object(p.__assign)({},n.state.feedbackTrackingData),{buganizerId:e.target.value})})},n.updateFollowUpStatus=function(e){n.setState({feedbackTrackingData:Object(p.__assign)(Object(p.__assign)({},n.state.feedbackTrackingData),{followUpStatus:e})})},n.state={feedbackTrackingData:e.feedbackTrackingData||{}},n}return Object(p.__extends)(n,t),n.prototype.render=function(){var t=this,n=this.state.feedbackTrackingData,a=n.buganizerId,i=n.followUpStatus;return e.createElement(v,null,e.createElement(y,null,e.createElement("div",null,"Forum Feedback Tracking"),e.createElement(w,{className:"fa fa-close",onClick:this.props.onClose})),e.createElement(E,null,e.createElement(x,null,e.createElement("div",null,"Follow up status:"),e.createElement(C,null,e.createElement("div",null,"None ",e.createElement("input",{type:"radio",checked:"none"===i,onChange:function(e){return t.updateFollowUpStatus("none")}})),e.createElement("div",null,"In Progress ",e.createElement("input",{type:"radio",checked:"inProgress"===i,onChange:function(e){return t.updateFollowUpStatus("inProgress")}})),e.createElement("div",null,"Done ",e.createElement("input",{type:"radio",checked:"done"===i,onChange:function(e){return t.updateFollowUpStatus("done")}})))),e.createElement(x,null,"Bug Number: ",e.createElement(k,{placeholder:a&&a.toString(),onChange:this.updateBugNumber})," ",a&&e.createElement(_,{target:"_blank",href:"http://b.corp.google.com/issues/"+a},e.createElement("span",{className:"fa fa-external-link"}))),e.createElement(S,null,e.createElement(O,{onClick:function(){return t.props.onSubmit(t.state.feedbackTrackingData)}},"Save"))))},n}(e.Component)}).call(this,n(0))},1739:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(3),i=n(0),o=function(e){function t(t){var n=e.call(this,t)||this;return n.handleKeyPress=function(e){n.props.rejectedCharacterRegExp&&(String.fromCharCode(e.which).match(n.props.rejectedCharacterRegExp)&&e.preventDefault&&(e.preventDefault(),e.stopPropagation()))},n.handleKeyDown=function(e){"Enter"==e.key&&n.props.isToggleable?n.handleSave():"Escape"==e.key&&n.props.isToggleable&&n.handleCancel()},n.handleSave=function(){var e=n.props.onUpdate;n.setState({isEditing:!1},(function(){e&&e(!1)})),n.props.onSaveCallback&&n.props.onSaveCallback(n.state.content)},n.handleCancel=function(){var e=n.props.onUpdate;n.setState({isEditing:!1},(function(){e&&e(!1)}))},n.handleEdit=function(){var e=n.props.onUpdate;n.setState({isEditing:!0},(function(){n.inputBox.focus(),e&&e(!0)}))},n.state={content:n.props.value||"",isEditing:!n.props.isToggleable},n}return Object(a.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({content:e.value||""})},t.prototype.handleChange=function(e){var t=this;this.setState({content:e.target.value},(function(){t.props.onChangeCallback&&t.props.onChangeCallback(t.state.content)}))},t.prototype.renderInput=function(){var e=this;return i.createElement("input",{ref:function(t){e.inputBox=t},className:"inline-text-editor__input "+this.props.className,style:this.props.inputStyle,value:this.state.content,placeholder:this.props.placeholder,disabled:this.props.disabled,title:this.props.title,onChange:function(t){return e.handleChange(t)},onFocus:this.props.onGainFocusCallback,onBlur:this.props.onLoseFocusCallback,onKeyPress:this.handleKeyPress,onKeyDown:this.handleKeyDown,onClick:function(e){e.stopPropagation()},id:this.props.id})},t.prototype.renderReadOnly=function(){return i.createElement("div",{className:(this.state.content?"":"inline-text-editor__placeholder")+" "+(this.props.readOnlyClassName||"")+" inline-text-editor__readonly",onClick:this.handleEdit,style:this.props.readOnlyStyle},this.state.content||this.props.placeholder)},t.prototype.render=function(){var e=this.props,t=e.isToggleable,n=e.hideButton,a=e.persistButton,o=e.style,r=this.state.isEditing;return t?i.createElement("div",{className:"inline-text-editor__toggle-container",style:o},r?this.renderInput():this.renderReadOnly(),n?null:r?i.createElement("span",{className:"fa fa-floppy-o inline-text-editor__button "+(!a&&"inline-text-editor__button--hover"),onClick:this.handleSave}):i.createElement("span",{className:"fa fa-pencil inline-text-editor__button "+(!a&&"inline-text-editor__button--hover"),onClick:this.handleEdit})):this.renderInput()},t}(i.Component)},1740:function(e,t,n){"use strict";var a=n(385),i=n(1698),o=n(1645);n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u}));const r=5,s=50,l=6,c=50,d=(e,t,n)=>{if((e=>{if("uploadContainer"===e.type){return Object(o.b)(e,()=>!0)}return"remoteUrlUploadContainer"===e.type?e.children.length:0})(n)>e.maxFiles){return{status:"error",message:`Maximum number of files exceeded (${e.maxFiles})`}}const r=u(e,t),s=r.totalBytes-r.prevUsedBytes,l=Object(i.a)(n);if(l>s){return{status:"error",message:`The total size of the dataset (${a(l)}) must be below ${a(s)}`}}return{status:"success"}},u=(e,t)=>{if(t){const{totalBytes:t,usedBytes:n}=e.privateLimits;return{totalBytes:t,prevUsedBytes:n}}const{maxBytes:n}=e.publicLimits;return{totalBytes:n,prevUsedBytes:0}}},1741:function(e,t,n){"use strict";var a=n(3),i=n(0),o=n(22),r=n(385),s=n(1728),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={previewIsShown:!1},n}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this;return i.createElement("div",null,i.createElement("div",{className:o("file-list-item",this.props.compact?"file-list-item--compact":this.props.isEditing?"file-list-item--editing":"file-list-item--read-only")},i.createElement("div",{className:o("file-list-item__name-container",this.props.isEditing?"file-list-item__name--editing":"",this.props.compact?"file-list-item__name-container--compact":null)},i.createElement("div",{className:"file-list-item__name"},null==this.props.url?i.createElement("span",null,this.props.compact?i.createElement("span",{className:"fa fa-paperclip"}):null," ",this.props.name," (",r(this.props.totalBytes),")"," "):i.createElement("a",{className:"file-list-item__link",download:!0,href:this.props.url,onClick:this.props.downloadCallback||null},this.props.compact?i.createElement("span",{className:"fa fa-paperclip"}):null," ",this.props.name," (",r(this.props.totalBytes),")")),i.createElement("div",null,this.props.canDelete?i.createElement("span",{className:o("file-list-item__delete-link",this.props.compact?"file-list-item__delete-link--compact":null),title:"Delete file from list",onClick:function(){return e.props.deleteCallback(e.props.name)}},"delete"):"",this.props.previewUrl?i.createElement("span",{className:"file-list-item__preview-link",onClick:function(){return e.setState({previewIsShown:!e.state.previewIsShown})}},this.state.previewIsShown?i.createElement("span",null,i.createElement("span",{className:"fa fa-minus-square-o"})," hide preview"):i.createElement("span",null,i.createElement("span",{className:"fa fa-plus-square-o"})," preview")):"")),this.props.fileDescriptionRenderer&&i.createElement("div",{className:"file-list-item__description"},this.props.fileDescriptionRenderer(this.props.description,this.props.index,this.props.isEditing,this.props.textareaPlaceholder,this.props.fileListIndex))),this.state.previewIsShown&&this.props.previewUrl?i.createElement("div",{className:"file-list-item__preview-container"},i.createElement(s.a,{showSubmitToCompButton:!1,csvHeaderValidationErrors:"",filePreviewUrl:this.props.previewUrl,fileName:this.props.name,fileType:".csv",fileUrl:this.props.url,size:this.props.totalBytes,submitToCompUrl:"",hideFileName:!0,maxLinesToShow:10,downloadCallback:this.props.downloadCallback})):null)},t}(i.Component);n.d(t,"a",(function(){return c}));var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=(e.fileListItems,e.fileListKeyBaseName,e.placeholderText,Object(a.__rest)(e,["fileListItems","fileListKeyBaseName","placeholderText"]));return i.createElement("div",{className:o("file-list",this.props.compact?"file-list--compact":null)},0==this.props.fileListItems.length&&this.props.placeholderText?i.createElement("div",{className:"file-list__placeholder-text"},this.props.placeholderText):this.props.fileListItems.map((function(e,n){return i.createElement(l,Object(a.__assign)({},e,t,{index:n,key:e.name}))})))},t}(i.Component)},1742:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{let t=[];if(!e)return t;switch(e.type){case"dataSource":return a(e.databundleVersion);case"databundle":const n=e;n.databundleInfo&&n.databundleInfo.versions&&t.concat(n.databundleInfo.versions.children);break;case"databundleVersion":const i=e;i.filesetInfo&&i.filesetInfo.directories&&(t=t.concat(i.filesetInfo.directories.children)),i.filesetInfo&&i.filesetInfo.files&&(t=t.concat(i.filesetInfo.files.children)),i.bigquerySnapshotInfo&&i.bigquerySnapshotInfo.bigqueryTables&&(t=t.concat(i.bigquerySnapshotInfo.bigqueryTables.children));break;case"directory":const o=e;o.directoryInfo&&o.directoryInfo.directories&&(t=t.concat(o.directoryInfo.directories.children)),o.directoryInfo&&o.directoryInfo.files&&(t=t.concat(o.directoryInfo.files.children));break;case"file":const r=e;r.tableInfo&&r.tableInfo.tableColumns&&(t=t.concat(r.tableInfo.tableColumns.children)),r.sqliteInfo&&r.sqliteInfo.tables&&(t=t.concat(r.sqliteInfo.tables.children)),r.excelInfo&&r.excelInfo.tables&&(t=t.concat(r.excelInfo.tables.children));break;case"table":const s=e;s.tableInfo&&s.tableInfo.tableColumns&&(t=t.concat(s.tableInfo.tableColumns.children))}return t}},1743:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{var t,n,i,o,r;switch(e.type){case"databundle":case"table":case"tableColumn":return!1;case"dataSource":return a(e.databundleVersion);case"databundleVersion":const s=e;return((null===(t=s.filesetInfo)||void 0===t?void 0:t.directories.totalChildren)||0)+((null===(n=s.filesetInfo)||void 0===n?void 0:n.files.totalChildren)||0)+((null===(i=s.bigquerySnapshotInfo)||void 0===i?void 0:i.bigqueryTables.totalChildren)||0)>0;case"file":const l=e;return((null===(o=l.sqliteInfo)||void 0===o?void 0:o.tables.totalChildren)||0)+((null===(r=l.excelInfo)||void 0===r?void 0:r.tables.totalChildren)||0)>0;case"directory":const c=e,d=c.directoryInfo.directories.totalChildren+c.directoryInfo.files.totalChildren,u=c.path.startsWith("/kaggle/working");return d>0||u}return!1}},1744:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{const n=t[e.path];return void 0===n?"notExpanded":n}},1745:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{switch(e.columnExtendedType){case"address":case"coordinates":case"latitude":case"longitude":return"navigation";case"city":case"postalCode":case"province":return"language";case"country":return"flag";case"decimal":case"integer":return"grid_3x3";case"email":return"email";case"id":case"uuid":return"vpn_key";case"url":return"link"}switch(e.columnType){case"boolean":return"check";case"dateTime":return"calendar_today";case"numeric":return"grid_3x3";case"string":return"text_format";case"unknown":default:return"quiz"}}},1746:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{const n=t[e];return void 0===n?{type:"noPreview"}:n}},1747:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(383),i=n(1608),o=n(1),r=n.n(o),s=n(0);const l=r.a.div`
  display: flex;
  margin: ${e=>e.theme.material.spacing(6)};
`,c=r()(a.b)`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,d=s.memo(()=>s.createElement(l,null,s.createElement(i.a,{size:"xsmall"}),s.createElement(c,null,"Loading...")))},1748:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n(1416),i=n(1),o=n.n(i),r=n(0),s=n(1709);const l=o()(a.a)`
  background-color: ${e=>e.theme.colors.hover.light};
  border-radius: 50%;
  box-shadow: 0px 0px 40px -5px ${e=>e.theme.colors.kaggle.redDark};
  color: ${e=>e.theme.colors.kaggle.redDark};
  padding: ${e=>e.theme.size.pad.l};
`;function c(e){const{isOpen:t,isDisabled:n,path:a,labels:i,onAction:o}=e;return r.createElement(s.a,{isOpen:t,isDisabled:n,path:a,labels:Object.assign(Object.assign({},i),{title:"Failure"}),onAction:o},r.createElement(l,{icon:"exclamation",size:"xlarge"}))}},1749:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"j",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"h",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"i",(function(){return f}));var a=n(1454),i=n(1645);const o=(e,t)=>{const n=t[t.length-1],a=t.slice(0,t.length-1).reduce((e,t)=>{if(void 0===e)return;return e.directories.find(e=>e.name===t)},e);return a?a.files.find(e=>e.name===n):void 0},r=(e,t)=>{const n=t[t.length-1],a=t.slice(0,t.length-1).reduce((e,t)=>{if(void 0!==e){if("uploadContainer"===e.type){const n=e.directories.find(e=>e.name===t);return n||e.existingDirectories.find(e=>e.name===t)}return"uploadDirectory"===e.type?e.directories.find(e=>e.name===t):"existingDirectory"===e.type?e.directories.find(e=>e.name===t):void 0}},e);if(a&&"uploadContainer"===a.type){const e=a.files.find(e=>e.name===n);return e||a.existingFiles.find(e=>e.name===n)}return a&&"existingDirectory"===a.type?a.files.find(e=>e.name===n):a&&"uploadDirectory"===a.type?a.files.find(e=>e.name===n):void 0},s=e=>t=>{const{path:n,size:i}=e,{container:o}=t;if(0===n.length)return t;if("uploadContainer"===o.type){const e=n.slice(0,n.length-1),t=n[n.length-1];return{container:Object(a.a)(o,n=>{const a=e.reduce((e,t)=>{const n=e.directories.find(e=>e.name===t);if(n)return n;const a={type:"uploadDirectory",name:t,files:[],directories:[]};return e.directories.push(a),a},n),o={type:"uploadFile",name:t,size:i,state:{type:"uploading",percentComplete:0}};a.files.push(o)})}}return t},l=e=>t=>{const{container:n}=t,{percentComplete:i,path:r}=e;if("uploadContainer"===n.type){return{container:Object(a.a)(n,e=>{const t=o(e,r);t&&"uploading"===t.state.type&&(t.state.percentComplete=i)})}}return t},c=e=>t=>{const{container:n}=t,{token:i,path:r}=e;if("uploadContainer"===n.type){return{container:Object(a.a)(n,e=>{const t=o(e,r);t&&"uploading"===t.state.type&&(t.state={type:"complete",token:i})})}}return t},d=e=>t=>{const{container:n}=t,{path:i,duplication:r,token:s}=e;if("uploadContainer"===n.type){return{container:Object(a.a)(n,e=>{const t=o(e,i);t&&"uploading"===t.state.type&&(t.state={type:"duplicate",token:s,duplication:r})})}}return t},u=e=>t=>{const{container:n}=t,{path:i}=e;if("uploadContainer"===n.type){return{container:Object(a.a)(n,e=>{const t=o(e,i);t&&"uploading"===t.state.type&&(t.state={type:"failed"})})}}return t},m=(e,t)=>{let n,a=e;for(let o=t.length-1;o>=0;o--){const r=t[o];if(!(0===Object(i.a)(r,()=>!0)))break;a=0===o?e:t[o-1],n=r}void 0!==n&&("uploadContainer"===a.type&&"existingDirectory"===n.type?a.existingDirectories=a.existingDirectories.filter(e=>e!==n):a.directories=a.directories.filter(e=>e!==n))},p=e=>t=>{const{container:n}=t,{path:o}=e;if("uploadContainer"===n.type&&"root"!==o.type){const{parts:e}=o,t=e.slice(0,e.length-1),r=e[e.length-1];return{container:Object(a.a)(n,e=>{if("uploadDirectory"===o.type||"uploadFile"===o.type){const n=Object(i.g)(e,t),a=Array.isArray(n)?0===n.length?e:n[n.length-1]:void 0;a&&"uploadDirectory"===o.type?a.directories=a.directories.filter(e=>e.name!==r):a&&"uploadFile"===o.type&&(a.files=a.files.filter(e=>e.name!==r)),n&&m(e,n)}else{const n=Object(i.f)(e,t),a=Array.isArray(n)?0===n.length?e:n[n.length-1]:void 0;a&&"existingDirectory"===a.type?"existingDirectory"===o.type?a.directories=a.directories.filter(e=>e.name!==r):"existingFile"===o.type&&(a.files=a.files.filter(e=>e.name!==r)):a&&"uploadContainer"===a.type&&("existingDirectory"===o.type?a.existingDirectories=a.existingDirectories.filter(e=>e.name!==r):"existingFile"===o.type&&(a.existingFiles=a.existingFiles.filter(e=>e.name!==r))),n&&m(e,n)}})}}return t},h=e=>t=>{const{container:n}=t,{path:o}=e;if("uploadContainer"===n.type&&"uploadDirectory"===o.type){const{parts:e}=o;return{container:Object(a.a)(n,t=>{const n=Object(i.g)(t,e),a=Array.isArray(n)?0===n.length?t:n[n.length-1]:void 0;a&&"uploadDirectory"===a.type&&Object(i.j)(a,e=>{"uploadDirectory"===e.type&&(e.files=e.files.filter(e=>"failed"!==e.state.type))}),n&&m(t,n)})}}return t},g=e=>t=>{const{container:n}=t,{path:o}=e;if("uploadContainer"===n.type&&"uploadDirectory"===o.type){const{parts:e}=o;return{container:Object(a.a)(n,t=>{const n=Object(i.g)(t,e),a=Array.isArray(n)?0===n.length?t:n[n.length-1]:void 0;a&&"uploadDirectory"===a.type&&Object(i.j)(a,e=>{"uploadDirectory"===e.type&&(e.files=e.files.filter(e=>"duplicate"!==e.state.type))}),n&&m(t,n)})}}return t},f=()=>({container:{type:"uploadContainer",files:[],directories:[],existingDirectories:[],existingFiles:[]}})},1750:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"i",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return h}));var a=n(1638);const i=e=>t=>{const{name:n,url:i}=e,{container:o}=t;if(Object(a.l)(o)&&n.length>0){const e={type:"remoteUrlUploadFile",name:n,url:i,state:{type:"pending"}};return{container:Object.assign(Object.assign({},o),{children:[...o.children,e]})}}return t},o=e=>t=>{const{oldName:n,newName:i}=e,{container:o}=t;if(Object(a.l)(o)){const e=u(i,o),{children:t}=o,{index:r,remoteFile:s}=d(t,n);if(s&&Object(a.o)(s.state))return{container:Object.assign(Object.assign({},o),{children:[...t.slice(0,r),Object.assign(Object.assign({},s),{name:e}),...t.slice(r+1)]})}}return t},r=e=>t=>{const{name:n,size:i}=e,{container:o}=t;if(Object(a.l)(o)){const{children:e}=o,{index:t,remoteFile:r}=d(e,n);if(r&&Object(a.n)(r.state))return{container:Object.assign(Object.assign({},o),{children:[...e.slice(0,t),Object.assign(Object.assign({},r),{state:{type:"success",size:i}}),...e.slice(t+1)]})}}return t},s=e=>t=>{const{name:n}=e,{container:i}=t;if(Object(a.l)(i)){const{children:e}=i,{index:t,remoteFile:o}=d(e,n);if(o&&Object(a.n)(o.state))return{container:Object.assign(Object.assign({},i),{children:[...e.slice(0,t),Object.assign(Object.assign({},o),{state:{type:"failed"}}),...e.slice(t+1)]})}}return t},l=e=>t=>{const{container:n}=t;return Object(a.l)(n)?{container:Object.assign(Object.assign({},n),{children:n.children.filter(t=>t.name!==e.name)})}:t},c=()=>({container:{type:"remoteUrlUploadContainer",children:[]}}),d=(e,t)=>{const n=e.findIndex(e=>"remoteUrlUploadFile"===e.type&&e.name===t);return{index:n,remoteFile:e[n]}},u=(e,t)=>{if(!t.children.some(t=>t.name===e))return e;for(let n=1;n<100;n++){const a=m(e,n);if(!t.children.some(e=>e.name===a))return a}return""},m=(e,t)=>{const n=e.split(".");if(n.length>1){return`${n.slice(0,n.length-1).join(".")}_${t}.${n[n.length-1]}`}return`${e}_${t}`},p=e=>{try{return void 0!==new URL(e)}catch(e){return!1}},h=(e,t)=>{try{const n=new URL(e),a=n.pathname.endsWith("/")?n.pathname.substr(0,n.pathname.length-1).split("/"):n.pathname.split("/");return a.length>0&&a[a.length-1].length>0?a[a.length-1]:t}catch(e){return t}}},1751:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(1),i=n.n(a);const o=a.keyframes`
  {
    0% {
      background-position: -200px 0;
    }
    100% {
      background-position: calc(200px + 100%) 0;
    }
  }
`,r=i.a.div`
  background-color: ${e=>e.theme.colors.misc.grayLighter};
  background-image: linear-gradient(
    90deg,
    ${e=>e.theme.colors.misc.grayLighter},
    ${e=>e.theme.colors.misc.grayLightest},
    ${e=>e.theme.colors.misc.grayLighter}
  );
  background-size: 200px 100%;
  background-repeat: no-repeat;
  border-radius: ${e=>e.theme.size.border.radius.loadingBar};
  margin: ${e=>e.theme.size.margin.xs};
  animation: ${o} 1.2s ease-in-out 0s infinite normal none running;
`},1752:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>"complete"===e.type||"duplicate"===e.type},1753:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),i=n(0),o=n(1648),r=n(147),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.componentDidUpdate=function(){this.updateMathJax()},t.prototype.componentDidMount=function(){this.updateMathJax()},t.prototype.updateMathJax=function(){var e=(this.props.rawHtml||"")+" "+(this.props.rawMarkdown||"");Object(o.a)(e,this.renderedDiv)},t.prototype.render=function(){var e=this;return Object(r.j)(i.createElement("div",{className:"forum-message-content "+this.props.className,ref:function(t){e.renderedDiv=t}}),this.props.rawHtml||"")},t}(i.Component)},1754:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),i=n(0),o=n(97),r=n(1635),s=n(1631),l=function(e){function t(t){var n=e.call(this,t)||this;return n.onAcceptCompetitionRules=function(){return Object(a.__awaiter)(n,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return Object(o.c)("kernels","competition-rules-modal-accepted"),this.setState({isProcessingRulesAcceptance:!0}),[4,this.props.onAcceptCompetitionRules()];case 1:return e.sent(),this.setState({isProcessingRulesAcceptance:!1}),[2]}}))}))},n.onDeclineCompetitionRules=function(){Object(o.c)("kernels","competition-rules-modal-declined"),n.props.onClose()},n.renderSingleCompetitionText=function(){return i.createElement("div",null,'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound to the'," ",i.createElement("a",{href:n.props.competitions[0].rulesUrl,target:"_blank"},"competition rules"),".")},n.renderMultipleCompetitionsText=function(){return i.createElement("div",null,'By clicking on the "I understand and accept" button below, you are indicating that you agree to be bound to the rules of the following competitions.',i.createElement("div",{className:"competition-rules__competition-list"},n.props.competitions.map(n.renderCompetition)))},n.renderCompetition=function(e){return i.createElement("div",null,i.createElement("a",{href:e.rulesUrl,target:"_blank"},e.title))},n.state={isProcessingRulesAcceptance:!1},n}return Object(a.__extends)(t,e),t.prototype.render=function(){return i.createElement(s.a,{onClose:this.props.onClose||function(){},modalIsShown:this.props.show},i.createElement("div",{className:"competition-rules__acceptance"},i.createElement("div",{className:"competition-rules__acceptance-text"},1!==this.props.competitions.length||this.props.showLinkToRules?this.renderMultipleCompetitionsText():this.renderSingleCompetitionText()),i.createElement("div",{className:"competition-rules__acceptance-actions"},this.props.onClose&&i.createElement("a",{className:"competition-rules__decline",onClick:this.onDeclineCompetitionRules},"I Do Not Accept"),i.createElement(r.a,{className:"competition-rules__accept",onClick:this.onAcceptCompetitionRules,text:"I Understand and Accept"}),this.state.isProcessingRulesAcceptance&&i.createElement("div",{className:"competition-rules__is-processing"},i.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})))))},t}(i.Component)},1757:function(e,t,n){"use strict";var a=n(3),i=n(107),o=n(370),r=n(383),s=n(1604),l=n(1605),c=n(1611),d=n(1416),u=n(1610),m=n(1569),p=n(1675),h=n(1608),g=n(8),f=n(1),b=n.n(f),v=n(0),y=n(174),w=n(1679);const E=b.a.div`
  opacity: ${e=>e.isVisible?1:0};
  transition: opacity 70ms linear;
`;var x=n(1693),C=n(1787),k=n(1453),_=n(1607),S=n(75),O=n(1568),T=n(1468);const j=b()(T.a)`
  transition: all 0.3s ease;
  width: ${e=>e.active&&"128px"};
  box-sizing: border-box;

  i:after {
    content: ${e=>e.active?'"notifications_active"':'"notifications"'};
  }

  span:after {
    content: ${e=>e.active?'"Following"':'"Follow"'};
  }


  /* TODO(jomike) uncomment when Notification Settings options land.
  &:hover {
    i:after {
      content: ${e=>e.active?'"notifications_off"':'"notifications"'};
    }

    span:after {
      content: ${e=>e.active?'"Unfollow"':'"Follow"'};
    }
  } */
`,I=e=>{const{active:t,className:n,emphasis:a,onClick:i}=e;return v.createElement(j,{useKM:!0,active:t,className:n,emphasis:a||"low",onClick:i}," ")},N=e=>{const{initialSubscriptionState:t,forumId:n}=e,[a,i]=v.useState(t),[o,r]=v.useState(!1),s="unsubscribe"!==a;return v.createElement(k.a,null,v.createElement(_.a,{anchorCorner:"bottomLeft",open:o,onClose:()=>r(!1)},v.createElement(S.a,{useKM:!0,variant:"dense"},[{label:"Unfollow",value:"unsubscribe"},{label:"Follow forum",value:"subscribeSingle"},{label:"Follow forum and comments",value:"subscribeAll"}].map(e=>v.createElement(O.a,{dense:!0,onClick:()=>(e=>{g.notificationsClient.subscribeTo({subscribe:e,isImplicit:!1,id:n,type:"forum"}),i(e)})(e.value),graphic:a===e.value?"done":"",primaryText:e.label})))),v.createElement(I,{active:s,onClick:()=>r(!0)}))},D=b.a.div`
  align-items: center;
  box-sizing: border-box;
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  display: inline-flex;
  height: ${e=>e.theme.material.spacing(7)};
  overflow: hidden;
`,$=b.a.input`
  border: 0;
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  outline: 0;
  padding: 0 16px 0 8px;
  width: 98px;
`,M=b.a.div`
  align-items: center;
  display: flex;
  height: ${e=>e.theme.material.spacing(7)};
  padding: 0 ${e=>e.theme.material.spacing(2)};
`;function U({value:e,onChange:t}){return v.createElement(D,null,v.createElement($,{value:e,onChange:t,placeholder:"Search Topics"}),v.createElement(w.a,null,v.createElement(M,null,v.createElement(d.a,{color:f.defaultTheme.material.color.text[40],icon:"search",size:"small"}))))}var P=n(1857),F=n(1828),R=n(1626),z=n(1625),L=n(1909),A=n(1413),V=n(2009),B=n(1810),K=n(1685),H=n(1763);const q=b.a.div`
  background: ${e=>e.isSticky&&"rgba(6,183,255,.06)"};
  align-items: center;
  display: flex;
  width: 100%;
  padding: 2px 0;
  ${e=>e.leftPadding&&f.css`
      padding-left: 12px;
    `}

  ${i.k} {
    &:first-child {
      padding-top: 24px;
    }

    padding: 12px 0;
  }
`,W=b()(H.a)`
  flex-shrink: 0;
  margin-left: ${e=>e.theme.material.spacing(3)};
  margin-right: ${e=>e.theme.material.spacing(5)};
`,G=b.a.div`
  flex-shrink: 0;
  margin-right: ${e=>e.theme.material.spacing(4)};

  ${"@media (max-width: 700px)"} {
    display: none;
  }
`,Q=b()(w.a)`
  width: 100%;
`,Y=b.a.div`
  flex-grow: 1;
  margin-right: ${e=>e.theme.material.spacing(4)};
  min-width: 0;
`,X=b.a.div`
  ${i.l} {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
`,J=b()(r.c)`
  && {
    color: ${e=>e.theme.material.color.text[40]};
  }
`,Z=b()(J)`
  ${i.l} {
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
  }
`,ee=b()(X)`
  display: none;

  ${"@media (max-width: 700px)"} {
    display: block;

    & ${Z} {
      display: flex;
    }
  }
`,te=b.a.div`
  overflow: hidden;
  text-overflow: ellipsis;
  margin-right: ${e=>e.theme.material.spacing(4)};
  width: ${e=>e.theme.material.spacing(40)};

  ${"@media (max-width: 700px)"} {
    display: none;
  }
`,ne=b.a.div`
  flex-grow: 1;
  display: flex;
  align-items: center;
  margin-right: ${e=>e.theme.material.spacing(4)};
  width: ${e=>e.theme.material.spacing(15)};

  ${i.k} {
    flex-shrink: 0;
    flex-grow: 0;
    margin-right: 0;
  }
`,ae=b.a.div`
  margin-right: ${e=>e.theme.material.spacing(1)};
  position: relative;
  top: 4px;
`,ie=b()(r.b)`
  ${i.l} {
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
  }
  margin-bottom: 1px;
  display: flex;
  align-items: center;

  && {
    font-weight: 500;
  }
`,oe=b()(r.b)`
  && {
    font-weight: 500;
    color: ${e=>e.isBlue?e.theme.material.color.brand.blue[600]:e.theme.material.color.text[40]};
  }
`,re=b.a.span`
  ${i.k} {
    display: none;
  }
`,se=b.a.span`
  margin-right: 2px;
`,le=b.a.span`
  ${i.k} {
    display: none;
  }
`,ce=b.a.div`
  display: flex;
  justify-content: space-between;
  width: ${e=>e.showLastCommented?e.theme.material.spacing(60):e.theme.material.spacing(18)};

  ${"@media (max-width: 700px)"} {
    width: ${e=>e.theme.material.spacing(21)};
  }

  ${i.k} {
    width: auto;
  }
`,de=v.memo(({initialModel:e,isForumListing:t,selected:n=!1,showLastCommented:i=!0,starred:o=!1,onSelectionChange:s=(()=>{}),onStarredChange:l=(()=>{})})=>{const[c,u]=v.useState(e),{isAdmin:m,isProductFeedback:p}=v.useContext(C.a),h=v.createElement(Z,null,v.createElement(K.a,{color:"grey",href:c.lastCommenterUrl||"",onClick:e=>e.stopPropagation()},v.createElement(se,null,"Last comment"),c.lastCommentPostDate&&v.createElement(A.a,{time:c.lastCommentPostDate,condense:!0}))," "),b=v.createElement(Z,null,c.lastCommenterName&&v.createElement(re,null,"by"," ",v.createElement(K.a,{bold:!0,authorType:c.lastCommenterType,href:c.lastCommenterUrl||"",onClick:e=>e.stopPropagation()},c.lastCommenterName)," ")),{thumbnailUrl:y,profileUrl:w,tier:E,displayName:x,id:k}=Object(V.b)(c.authorUser);return v.createElement(Q,{href:c.topicUrl||""},v.createElement(q,{isSticky:c.isSticky,leftPadding:m&&p},m&&p&&v.createElement(R.a,{onChange:e=>{e.stopPropagation(),s()},checked:n}),v.createElement(W,{canUpvote:c.canUpvote,canDownvote:c.canDownvote,messageId:c.firstForumMessageId,userVote:c.currentUserVote,onVoteChange:(e,t)=>{u(Object.assign(Object.assign({},c),{currentUserVote:t,votes:e}))},numVotes:c.votes}),v.createElement(G,null,v.createElement(V.a,{size:"xlarge",thumbnailUrl:y,profileUrl:w,tier:E,displayName:x,id:k})),v.createElement(Y,null,v.createElement(X,null,v.createElement(ie,null,c.title,m&&p&&v.createElement(z.a,{useKM:!0,icon:o?"star":"star_border",size:"medium",onClick:e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){e.preventDefault(),l(),o?yield g.discussionsClient.issuesService.adminUnstarForumTopic({forumTopicId:c.id}):yield g.discussionsClient.issuesService.adminStarForumTopic({forumTopicId:c.id})}))}))),v.createElement(X,null,v.createElement(Z,null,v.createElement(L.b,null,({targetRef:e,setTargetRef:t})=>{var n,a,i;return v.createElement(v.Fragment,null,v.createElement(K.a,{ref:t,bold:!0,href:(null===(n=c.authorUser)||void 0===n?void 0:n.userUrl)||"",onClick:e=>e.stopPropagation(),authorType:c.authorType},null===(a=c.authorUser)||void 0===a?void 0:a.displayName),v.createElement(L.a,{targetRef:e},v.createElement(B.a,{userId:null===(i=c.authorUser)||void 0===i?void 0:i.id})))})," ",c.postDate&&v.createElement(A.a,{time:c.postDate,condense:!0})," ",!t&&v.createElement(le,null,"in"," ",v.createElement(K.a,{color:"black",bold:!0,href:c.parentUrl||"",onClick:e=>e.stopPropagation()},c.parentName)))),i?v.createElement(ee,null,v.createElement(Z,null,h," ",b)):null),v.createElement(ce,{showLastCommented:i},i?v.createElement(te,null,v.createElement(r.c,null,h,v.createElement(Z,null,b))):null,v.createElement(ne,null,v.createElement(ae,null,v.createElement(d.a,{icon:"chat_bubble_outline",color:c.hasAdminResponse?f.defaultTheme.material.color.brand.blue[600]:f.defaultTheme.material.color.text[40],size:"xsmall"})),v.createElement(oe,{isBlue:c.hasAdminResponse},c.commentCount)))))});var ue=n(1452),me=n(1438);const pe=[{name:"All",value:"all"},{name:"Starred",value:"starred"},{name:"Contains Admin Response",value:"responded"},{name:"Upvoted",value:"upvoted"},{name:"Commented",value:"commented"}],he=b()(k.a)`
  display: flex;
  width: fit-content;
  height: fit-content;
`,ge=b()(d.a)`
  cursor: pointer;
  width: fit-content;
  height: fit-content;
`,fe=b.a.div`
  display: flex;
  align-items: center;
`,be=e=>{const{onChange:t,onSelect:n,indeterminate:a,checked:i,disabled:o=!1}=e,[r,s]=v.useState(!1);return v.createElement(fe,null,v.createElement(R.a,{onChange:t,indeterminate:a,checked:i,disabled:o}),v.createElement(he,null,v.createElement(ue.a,{open:r,onClose:()=>s(!1),onSelect:e=>{const{detail:{index:t}}=e;n(pe[t])}},pe.map(({name:e,value:t})=>v.createElement(me.a,{key:t},e))),v.createElement(ge,{size:"xsmall",icon:"arrow_drop_down",onClick:()=>s(!0)})))};var ve=n(1893),ye=n(1972),we=n(1971),Ee=n(2067),xe=n(1976),Ce=n(1978),ke=n(1979),_e=n(2068);const Se=b()(ve.a)`
  &&& .mdc-dialog__surface {
    width: 500px;
  }
`,Oe=b.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,Te=b.a.div`
  & + & {
    margin-left: ${e=>e.theme.material.spacing(2)};
  }
`,je=e=>{var{children:t}=e,n=Object(a.__rest)(e,["children"]);return v.createElement(Te,null,v.createElement(T.a,Object.assign({},n),t))},Ie=b.a.div`
  display: flex;
  justify-content: flex-end;
  opacity: ${e=>e.disabled?.5:1};
  pointer-events: ${e=>e.disabled?"none":"auto"};
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,Ne=b()(h.a)`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,De=b.a.div`
  position: relative;
  width: 100%;
  height: 200px;
  overflow: scroll;
  margin: ${e=>e.theme.material.spacing(2)} 0;
  background-color: ${e=>e.theme.material.color.white};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  opacity: ${e=>e.disabled?.5:1};
  pointer-events: ${e=>e.disabled?"none":"auto"};
`,$e=b()(ye.a)`
  width: 100%;
  margin: ${e=>e.theme.material.spacing(2)} 0;
`;function Me({forumTopics:e,onClose:t=(()=>{})}){const[n,i]=v.useState(!1),[o,s]=v.useState(!1),[l,c]=v.useState([]),[d,u]=v.useState(new Set),[p,h]=v.useState(""),f=v.useMemo(()=>e.map(({id:e})=>e),[e]);v.useEffect(()=>{g.discussionsClient.issuesService.getAdminForumTopicGroupingsForCurrentUser({}).then(e=>{c(e.forumTopicGroupings)})},[]);const b=e=>t=>t.name.toLowerCase().includes(e);return v.createElement(v.Fragment,null,v.createElement(Se,{open:o,onClose:()=>{s(!1),t()}},v.createElement(we.a,null,v.createElement(Oe,null,v.createElement($e,{disabled:n,label:"Search",value:p,onChange:e=>{const t=e.target.value;h(t)}}),v.createElement(Ie,{disabled:n},v.createElement(je,{useKM:!0,onClick:()=>{const e=l.filter(b(p)).map(e=>e.groupingId);u(new Set(e))}},"Select All"),v.createElement(je,{variant:"outlined",disabled:n,useKM:!0,onClick:()=>{u(new Set)}},"Deselect All")),v.createElement(De,{disabled:n},n&&v.createElement(Ne,{size:"xlarge"}),v.createElement(Ee.a,{variant:"two-line"},l.filter(b(p)).map((t,n)=>v.createElement(v.Fragment,{key:t.groupingId},v.createElement(xe.a,null,v.createElement(Ce.a,null,v.createElement(R.a,{checked:d.has(t.groupingId),onChange:()=>{const{groupingId:e}=t,n=new Set(d);n.has(e)?n.delete(e):n.add(e),u(n)}})),v.createElement(ke.a,{primaryText:t.name,secondaryText:t.groupingId})),n!==e.length-1&&v.createElement(_e.a,{variant:"inset"})))))),v.createElement(Ie,{disabled:n},v.createElement(je,{leadingIcon:"cancel",useKM:!0,variant:"outlined",onClick:()=>{s(!1),t()}},"Cancel"),v.createElement(je,{leadingIcon:"add",useKM:!0,onClick:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{issuesService:e}=g.discussionsClient;i(!0),Array.from(d).map(t=>{e.addToAdminForumTopicGrouping({groupingId:t,forumTopicIds:f})}),i(!1),s(!1),t()}))},"Add Items To"," ",d.size>0?d.size:""," Group",d.size>0?"s":"")),v.createElement(r.c,{emphasis:"low"},"Groups are ",v.createElement("b",null,"only visible to admins"),"."))),v.createElement(m.a,{leadingIcon:"add",onClick:()=>s(!0)},"Add To Group"))}var Ue=n(1977),Pe=n(1603);const Fe=b()(ve.a)`
  &&& .mdc-dialog__surface {
    width: 500px;
  }
`,Re=b.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,ze=b.a.div`
  & + & {
    margin-left: ${e=>e.theme.material.spacing(2)};
  }
`,Le=e=>{var{children:t}=e,n=Object(a.__rest)(e,["children"]);return v.createElement(ze,null,v.createElement(T.a,Object.assign({},n),t))},Ae=b.a.div`
  display: flex;
  justify-content: flex-end;
  opacity: ${e=>e.disabled?.5:1};
  pointer-events: ${e=>e.disabled?"none":"auto"};
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,Ve=b()(h.a)`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`,Be=b.a.div`
  position: relative;
  width: 100%;
  height: 200px;
  overflow: scroll;
  margin: ${e=>e.theme.material.spacing(2)} 0;
  background-color: ${e=>e.theme.material.color.white};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  opacity: ${e=>e.disabled?.5:1};
  pointer-events: ${e=>e.disabled?"none":"auto"};
`,Ke=b()(ye.a)`
  width: 100%;
  margin: ${e=>e.theme.material.spacing(2)} 0;
`;function He({forumTopics:e,onClose:t=(()=>{})}){const[n,i]=v.useState(!1),[o,s]=v.useState(""),[l,c]=v.useState(!1),d=v.useMemo(()=>e.map(({id:e})=>e),[e]);return v.createElement(v.Fragment,null,v.createElement(Fe,{open:n,onClose:()=>{i(!1),t()}},v.createElement(we.a,null,v.createElement(Re,null,v.createElement(Ke,{label:"Group Name",value:o,onChange:e=>{const t=e.target.value;s(t)}}),v.createElement(Be,{disabled:l},l&&v.createElement(Ve,{size:"xlarge"}),v.createElement(Ee.a,{variant:"three-line"},e.map((t,n)=>{var a;return v.createElement(v.Fragment,{key:t.id},v.createElement(xe.a,null,v.createElement(Ue.a,{href:null!==(a=t.topicUrl)&&void 0!==a?a:""},v.createElement(Ce.a,null,v.createElement(Pe.a,{src:t.authorUser.thumbnailUrl,size:"large"})),v.createElement(ke.a,{primaryText:t.title,secondaryText:t.parentName,tertiaryText:t.postDate}))),n!==e.length-1&&v.createElement(_e.a,{variant:"inset"}))})))),v.createElement(Ae,{disabled:l},v.createElement(Le,{useKM:!0,variant:"outlined",leadingIcon:"cancel",onClick:()=>{i(!1),t()}},"Cancel"),v.createElement(Le,{useKM:!0,leadingIcon:"create",onClick:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{issuesService:e}=g.discussionsClient;c(!0),e.createAdminForumTopicGrouping({name:o,forumTopicIds:d}).then(()=>{c(!1),i(!1),t()})}))},"Create group ",o&&`"${o}"`)),v.createElement(r.c,{emphasis:"low"},"Groups are ",v.createElement("b",null,"only visible to admins"),"."))),v.createElement(m.a,{leadingIcon:"create",onClick:()=>i(!0)},"Create Group"))}const qe=b()(ve.a)`
  &&& .mdc-dialog__surface {
    width: 500px;
  }
`,We=b.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,Ge=b.a.div`
  & + & {
    margin-left: ${e=>e.theme.material.spacing(2)};
  }
`,Qe=e=>{var{children:t}=e,n=Object(a.__rest)(e,["children"]);return v.createElement(Ge,null,v.createElement(T.a,Object.assign({},n),t))},Ye=b.a.div`
  display: flex;
  justify-content: flex-end;
  opacity: ${e=>e.disabled?.5:1};
  pointer-events: ${e=>e.disabled?"none":"auto"};
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,Xe=b.a.div`
  display: flex;
  flex-direction: column;
  padding: ${e=>e.theme.material.spacing(2)} 0;
`;function Je({messageIds:e,onClose:t=(()=>{})}){const[n,a]=v.useState({buganizerId:null,followUpStatus:"none"}),[i,o]=v.useState(!1),[s,l]=v.useState(!1),[d,u]=v.useState(n.buganizerId),[p,h]=v.useState(n.followUpStatus);v.useEffect(()=>{var e,t;u(null!==(e=null==n?void 0:n.buganizerId)&&void 0!==e?e:null),h(null!==(t=null==n?void 0:n.followUpStatus)&&void 0!==t?t:"none")},[n]);return v.createElement(v.Fragment,null,v.createElement(qe,{open:s,onClose:()=>{l(!1),t()}},v.createElement(we.a,null,v.createElement(We,null,v.createElement(r.o,null,"Follow up status"),v.createElement(Xe,null,v.createElement(c.a,{value:"none",checked:"none"===p,onChange:()=>h("none")},"None"),v.createElement(c.a,{value:"inProgress",checked:"inProgress"===p,onChange:()=>h("inProgress")},"In Progress"),v.createElement(c.a,{value:"done",checked:"done"===p,onChange:()=>h("done")},"Done")),v.createElement(ye.a,{label:"Bug Number",value:d&&d.toString()||"",onChange:e=>{const t=(e.target.value||"").trim();u(t?Number(t):null)}})),v.createElement(Ye,{disabled:i},v.createElement(Qe,{useKM:!0,variant:"outlined",leadingIcon:"cancel",onClick:()=>{l(!1),t()}},"Cancel"),v.createElement(Qe,{useKM:!0,onClick:()=>{o(!0),g.discussionsClient.updateManyFeedbackTrackingData({messageIds:e,feedbackTrackingData:{buganizerId:d,followUpStatus:p}}).then(()=>{a({buganizerId:d,followUpStatus:p}),o(!1),l(!1),t()})}},"Save")))),v.createElement(m.a,{leadingIcon:"bug_report",onClick:()=>l(!0)},"Add Bug"))}n.d(t,"a",(function(){return It}));const Ze="all",et="all",tt="none",nt="discussionsTopicList",at=["All","Owned","Upvoted"],it=["All","Owned","Upvoted","Starred","Groups"],ot=["All Categories","Forums","Competitions","Datasets"],rt={"All Categories":"all",Forums:"forums",Competitions:"competitions",Datasets:"datasets"},st={all:"All Categories",forums:"Forums",competitions:"Competitions",datasets:"Datasets",none:"All Categories"},lt=["Hotness","Recent Comments","Recently Posted","Most Votes","Most Comments","Relevance"],ct={Hotness:"hot","Recent Comments":"recent","Recently Posted":"new","Most Votes":"top","Most Comments":"active",Relevance:"relevance"},dt={hot:"Hotness",recent:"Recent Comments",new:"Recently Posted",top:"Most Votes",active:"Most Comments",none:"Hotness",relevance:"Relevance"},ut=b.a.div``,mt=b.a.div`
  display: flex;
  align-items: center;
  border-bottom: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  justify-content: space-between;
  padding: 0 20px 0 12px;

  ${"@media (max-width: 850px)"} {
    display: none;
  }
`,pt=b()(mt)`
  overflow: auto;
`,ht=b.a.div`
  display: flex;
  align-items: center;
`,gt=b()(ht)`
  ${"@media (max-width: 850px)"} {
    display: none;
  }
`,ft=b()(ht)`
  display: none;
  align-items: center;
  justify-content: center;

  ${"@media (max-width: 850px)"} {
    display: flex;
  }
`,bt=b()(w.a)`
  && {
    display: inline-flex;
    align-items: center;
  }
`,vt=b()(r.r)`
  margin-left: 4px;

  && {
    color: ${e=>e.theme.material.color.brand.blue[600]};
  }
`,yt=b()(F.a)`
  margin-right: ${e=>e.theme.material.spacing(3)};
`,wt=b.a.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
`,Et=b()(r.e)`
  margin-right: ${e=>e.theme.material.spacing(2)};

  && {
    color: ${e=>e.theme.material.color.text[50]};
  }
`,xt=b.a.div`
  position: absolute;
  bottom: 50px;
`,Ct=b.a.div`
  margin-left: ${e=>e.theme.material.spacing(4)};
`,kt=b.a.div`
  margin-top: ${i.n}px;
  display: flex;
  flex-direction: column;
`,_t=b.a.div`
  margin: 16px 24px;
`,St=b()(r.b)`
  margin-bottom: 4px;
`,Ot=b.a.div`
  display: flex;
  flex-direction: column;
  margin-left: -8px;
  margin-top: 12px;
`,Tt=b.a.div`
  height: 160px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: ${e=>e.theme.material.color.text[50]};
`,jt=b()(({children:e,className:t,isVisible:n})=>v.createElement(E,{className:t,isVisible:n},e))`
  display: flex;
  align-items: center;
`;let It=(()=>{class e extends v.PureComponent{constructor(e){super(e),this.currentPage=1,this.fetchedPage=1,this.isEndOfPagination=!1,this.onPopState=e=>{(e.previousState||{})[nt]===window.location.pathname&&(e.preventNavigation(),this.setState(Object.assign({},this.getFiltersFromLocation()),()=>this.fetchPage()))},this.fetchCustomTopicGroups=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const e=yield g.discussionsClient.issuesService.getAdminForumTopicGroupingsForCurrentUser({}),t=(()=>{return this.state.customGroup&&(t=>e.forumTopicGroupings.some(e=>e.groupingId===t))(this.state.customGroup)?this.state.customGroup:e.forumTopicGroupings.length?e.forumTopicGroupings[0].groupingId:null})();this.setState({customGroup:t,customGroups:e.forumTopicGroupings},()=>{this.fetchPage()})})),this.fetchPage=(e=1)=>Object(a.__awaiter)(this,void 0,void 0,(function*(){var t;1===e&&(this.currentPage=1,this.isEndOfPagination=!1),this.fetchedPage=e;const n=this.state.category,a=this.state.group,i=this.state.search,o=this.state.sort,r=this.state.customGroup;if("custom"===a&&null===r)return;const s=yield g.discussionsClient.getTopicListByForumId({category:n,group:a,searchQuery:i,sortBy:o,page:e,forumId:this.props.forumId,customGroupingIds:"custom"!==a||null===r?[]:[r]});if(n!==this.state.category||a!==this.state.group||i!==this.state.search||o!==this.state.sort||1!==e&&e!==this.currentPage+1||r!==this.state.customGroup)return!1;if(this.setState({isInitialFetchInProgress:!1,isShowingSearchResults:!!i}),e>1){const e=(null===(t=this.state.model)||void 0===t?void 0:t.topics.concat(s.topics))||[],n=e.reduce((e,t)=>(e.set(t.id,t),e),new Map(this.state.topicIdToTopicListItem)),a=e.filter(e=>e.isAdminStarred).map(e=>e.id);this.setState({starred:new Set([...this.state.starred,...a]),model:{count:s.count,topics:e},topicIdToTopicListItem:n})}else{const e=s.topics.reduce((e,t)=>(e.set(t.id,t),e),new Map),t=s.topics.filter(e=>e.isAdminStarred).map(e=>e.id);this.setState({starred:new Set([...this.state.starred,...t]),model:s,topicIdToTopicListItem:e})}return s.topics.length||(this.isEndOfPagination=!0),this.currentPage=e,!0})),this.onRemoveFromCustomGroup=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){var e;const t=this.state.customGroup;if(null===t)return;const n=this.state.selected,{topics:a=[],count:i=0}=null!==(e=this.state.model)&&void 0!==e?e:{},o=a.filter(e=>!n.has(e.id));this.setState({selected:new Set,model:{count:i-1,topics:o}});try{yield g.discussionsClient.issuesService.removeFromAdminForumTopicGrouping({groupingId:t,forumTopicIds:[...n]})}finally{this.fetchPage()}})),this.onDeleteCustomGroup=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const e=this.state.customGroup;if(null===e)return;const t=this.state.customGroups.filter(t=>t.groupingId!==e),n=0===t.length?null:t[0].groupingId;this.setState({customGroup:n,customGroups:t},()=>{this.fetchPage()});try{yield g.discussionsClient.issuesService.deleteAdminForumTopicGrouping({groupingId:e})}finally{this.setCustomGroup(n)}})),this.onSelectCheckbox=e=>{const{value:t}=e,n=(()=>{var e;const{topics:n=[]}=null!==(e=this.state.model)&&void 0!==e?e:{};return"all"===t?n:"responded"===t?n.filter(e=>e.hasAdminResponse):"upvoted"===t?n.filter(e=>e.currentUserVote>0):"commented"===t?n.filter(e=>e.commentCount>0):[]})(),a=(()=>{if("starred"===t)return this.state.starred;const e=n.map(e=>e.id);return new Set(e)})();this.setState({selected:a})},this.hasCustomGroupsLeft=()=>"custom"===this.state.group&&this.isAdminProductFeedback()&&this.state.customGroups.length>0,this.isAdminProductFeedback=()=>this.context.isAdmin&&this.context.isProductFeedback,this.getTabs=()=>this.isAdminProductFeedback()?it:at,this.search=Object(y.a)(500,e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){this.fetchPage()&&this.setParamInLocation("search",e,"")}))),this.onSelectionChange=e=>()=>{const{id:t}=e,n=new Set(this.state.selected);n.has(t)?n.delete(t):n.add(t),this.setState(e=>Object.assign(Object.assign({},e),{selected:n}))},this.onStarredChange=e=>()=>{const t=new Set(this.state.starred);t.has(e)?t.delete(e):t.add(e),this.setState(n=>{const{group:a,model:i,topicIdToTopicListItem:o}=n;if("starred"===a){const{topics:n=[],count:a=0}=null!=i?i:{},r=(()=>{if(t.has(e)){const t=o.get(e);return n.concat(null!=t?t:[])}return n.filter(t=>t.id!==e)})();return{starred:t,model:{topics:r,count:a}}}return{starred:t}})},this.onStarredItems=e=>()=>{const t=new Set(this.state.selected),n=new Set(this.state.starred);for(const a of t)e?n.add(a):n.delete(a);e?g.discussionsClient.issuesService.adminStarForumTopics({forumTopicIds:Array.from(t)}):g.discussionsClient.issuesService.adminUnstarForumTopics({forumTopicIds:Array.from(t)}),this.setState(e=>Object.assign(Object.assign({},e),{starred:n,selected:new Set}))},this.state=Object.assign(Object.assign({},this.getFiltersFromLocation()),{model:void 0,isFilterPanelOpen:!1,isInitialFetchInProgress:!0,isShowingSearchResults:!1,selected:new Set,starred:new Set,customGroups:[],topicIdToTopicListItem:new Map,sort:this.getParamFromLocation("sort")||e.initialSort||tt})}componentDidMount(){this.fetchPage(),this.isAdminProductFeedback()&&this.fetchCustomTopicGroups(),window.history.state&&window.history.state[nt]||Object(o.e)(Object.assign(Object.assign({},window.history.state),{[nt]:window.location.pathname}),document.title),Object(o.b)(this.onPopState)}componentWillUnmount(){Object(o.d)(this.onPopState)}getFiltersFromLocation(){const e=this.getParamFromLocation("group")||et,t=(()=>{const t=this.getParamFromLocation("custom"),n=t?parseInt(t,10):NaN;return"custom"!==e||isNaN(n)?null:n})();return{category:this.getParamFromLocation("category")||Ze,group:e,search:this.getParamFromLocation("search")||"",customGroup:t}}getParamFromLocation(e){return new URLSearchParams(window.location.search).get(e)||null}setParamInLocation(e,t,n){this.currentPage=1,this.fetchedPage=1,this.isEndOfPagination=!1;const a=new URL(window.location.href);t&&t!==n?a.searchParams.set(e,t):a.searchParams.delete(e),Object(o.c)({[nt]:a.pathname},document.title,a.toString())}setGroup(e){this.setParamInLocation("group",e,et),this.setState({group:e,selected:new Set,starred:new Set},()=>this.fetchPage())}setCustomGroup(e){const t=null===e?"":""+e;this.setParamInLocation("custom",t,""),this.setState({customGroup:e,selected:new Set,starred:new Set},()=>{this.fetchCustomTopicGroups()})}render(){var e,t;let n=lt.filter(e=>"Relevance"!==e),a=dt[this.state.sort],i=!1;this.state.isShowingSearchResults&&(n=["Relevance"],a="Relevance",i=!0);const o=v.createElement(yt,{options:n,selectedOption:a,isDisabled:i,onChange:e=>{const t=ct[e];this.setParamInLocation("sort",t,tt),this.setState({sort:t},()=>this.fetchPage())}}),r=v.createElement(yt,{options:ot,selectedOption:st[this.state.category],onChange:e=>{const t=rt[e];this.setParamInLocation("category",t,Ze),this.setState({category:t},()=>this.fetchPage())}}),g=v.createElement(U,{value:this.state.search,onChange:e=>{const t=e.target.value;this.setState({search:t},()=>this.search(t))}});return v.createElement(ut,null,v.createElement(P.a,{header:v.createElement(wt,null,v.createElement(ht,null,v.createElement(jt,{isVisible:!this.state.isInitialFetchInProgress},v.createElement("div",null,(()=>this.props.isRootLevel?"Many topics":this.state.model?0===this.state.model.count?"No topics":1===this.state.model.count?"1 topic":`${this.state.model.count} topics`:"")()),this.props.forumId&&this.props.initialSubscriptionState&&v.createElement(Ct,null,v.createElement(N,{initialSubscriptionState:this.props.initialSubscriptionState,forumId:this.props.forumId})))),v.createElement(gt,null,v.createElement(Et,null,"Sort by"),o),v.createElement(ft,null,v.createElement(s.a,{open:this.state.isFilterPanelOpen,onClose:()=>this.setState({isFilterPanelOpen:!1})},v.createElement(l.a,null,v.createElement(kt,null,v.createElement(_t,null,v.createElement(St,null,"Search"),g),v.createElement(_t,null,v.createElement(St,null,"Sort by"),o),v.createElement(_t,null,v.createElement(St,null,"Category"),r),v.createElement(_t,null,v.createElement(St,null,"Groups"),v.createElement(Ot,null,v.createElement(c.a,{checked:"all"===this.state.group||"none"===this.state.group,onChange:()=>this.setGroup("all"),value:"all"},"All"),v.createElement(c.a,{checked:"owned"===this.state.group,onChange:()=>this.setGroup("owned"),value:"owned"},"Owned"),v.createElement(c.a,{checked:"upvoted"===this.state.group,onChange:()=>this.setGroup("upvoted"),value:"upvoted"},"Upvoted")))))),v.createElement(bt,{onClick:()=>this.setState({isFilterPanelOpen:!0})},v.createElement(d.a,{icon:"filter_list",size:"small",color:f.defaultTheme.material.color.brand.blue[600]}),v.createElement(vt,null,"Filter/Sort"))))},v.createElement(mt,null,v.createElement(ht,null,this.isAdminProductFeedback()&&v.createElement(be,{onSelect:this.onSelectCheckbox,onChange:()=>{const e=(()=>this.state.selected.size>0?[]:this.state.model?this.state.model.topics.map(e=>e.id):[])();this.setState({selected:new Set(e)})},indeterminate:this.state.selected.size>0&&this.state.selected.size<(null!==(e=this.state.topicIdToTopicListItem.size)&&void 0!==e?e:0),checked:this.state.selected.size===(null!==(t=this.state.topicIdToTopicListItem.size)&&void 0!==t?t:0)&&0!==this.state.selected.size}),this.isAdminProductFeedback()&&this.state.selected.size>0&&v.createElement(u.a,null,v.createElement(He,{forumTopics:Array.from(this.state.selected).map(e=>this.state.topicIdToTopicListItem.get(e))}),v.createElement(Me,{forumTopics:Array.from(this.state.selected).map(e=>this.state.topicIdToTopicListItem.get(e))}),v.createElement(m.a,{leadingIcon:"star",onClick:this.onStarredItems(!0)},"Star"),v.createElement(m.a,{leadingIcon:"star_outline",onClick:this.onStarredItems(!1)},"Unstar"),v.createElement(Je,{messageIds:Array.from(this.state.selected).map(e=>{var t,n;return null!==(n=null===(t=this.state.topicIdToTopicListItem.get(e))||void 0===t?void 0:t.firstForumMessageId)&&void 0!==n?n:0})})),0===this.state.selected.size&&v.createElement(p.a,{tabs:this.getTabs(),selectedIndex:(()=>{const e=this.getTabs().map(e=>e.toLowerCase()),t=(()=>this.isAdminProductFeedback()&&"custom"===this.state.group?"groups":this.state.group)(),n=e.indexOf(t);return n<0?0:n})(),onSelectItem:e=>{const t=(()=>{const t=this.getTabs()[e].toLowerCase();return this.isAdminProductFeedback()&&"groups"===t?"custom":t})();this.setGroup(t)}})),v.createElement(ht,null,this.props.isRootLevel&&r,g)),this.hasCustomGroupsLeft()&&v.createElement(pt,null,v.createElement(ht,null,v.createElement(p.a,{tabs:this.state.customGroups.map(e=>e.name),selectedIndex:(()=>{const e=this.state.customGroups.findIndex(e=>e.groupingId===this.state.customGroup),t=e<0?0:e;return this.state.customGroups.length&&this.state.customGroups[t].groupingId!==this.state.customGroup&&this.setCustomGroup(this.state.customGroups[t].groupingId),t})(),onSelectItem:e=>{this.setCustomGroup(this.state.customGroups[e].groupingId)}}))),this.hasCustomGroupsLeft()&&v.createElement(mt,null,v.createElement(ht,null,v.createElement(u.a,null,v.createElement(m.a,{leadingIcon:"remove",onClick:this.onRemoveFromCustomGroup},"Remove Items"))),v.createElement(ht,null,v.createElement(u.a,null,v.createElement(m.a,{leadingIcon:"delete",onClick:this.onDeleteCustomGroup},"Delete Group")))),this.state.isInitialFetchInProgress&&v.createElement(Tt,null,v.createElement(h.a,{size:"xlarge"})),!this.state.isInitialFetchInProgress&&this.state.model&&!Boolean(this.state.model.topics.length)&&v.createElement(Tt,null,"No Topics to Show"),this.state.model&&this.state.model.topics.map(e=>v.createElement(de,{key:e.id,initialModel:e,isForumListing:!!this.props.forumId,starred:this.state.starred.has(e.id),onStarredChange:this.onStarredChange(e.id),selected:this.state.selected.has(e.id),onSelectionChange:this.onSelectionChange(e),showLastCommented:this.props.showLastCommented})),v.createElement(xt,null,v.createElement(x.a,{fireOnce:!0,onVisible:()=>{const e=this.currentPage+1;e<=this.fetchedPage||this.isEndOfPagination||this.fetchPage(e)}}))))}}return e.contextType=C.a,e})()},1758:function(e,t,n){"use strict";var a=n(1779);const i=e=>Array.isArray(e)?"["+e.map(i).join(", ")+"]":e instanceof Object?"{"+Object.keys(e).sort().map(t=>`${t}:${i(e[t])}`).join(",")+"}":JSON.stringify(e);var o=n(1854);n.d(t,"a",(function(){return r}));const r=(e,t,n)=>{if(!Object(o.a)(e))return e.path;const r=Object.assign({skip:void 0,take:void 0,filters:[],sortBy:void 0,selectedColumns:void 0},t);if(void 0===(null==n?void 0:n.baseInfo)||void 0===r.selectedColumns){const t=Object.assign(Object.assign({},r),{selectedColumns:void 0});return e.path+i(t)}const s=n.baseInfo.map(e=>e.firestorePath).slice(0,a.a);if(r.selectedColumns.length===s.length&&r.selectedColumns.map(e=>s.includes(e.firestorePath)).reduce((e,t)=>e&&t,!0)){const t=Object.assign(Object.assign({},r),{selectedColumns:void 0});return e.path+i(t)}return e.path+i(r)}},1760:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var a=n(3),i=n(1),o=n.n(i),r=n(1426),s=n(575),l=n(1701),c=o()(s.b).withConfig({displayName:"QuotaBar_ToolTip",componentId:"sc-1aypk"})(p||(p=Object(a.__makeTemplateObject)(["\n  height: 100%;\n  width: 100%;\n  vertical-align: middle;\n"],["\n  height: 100%;\n  width: 100%;\n  vertical-align: middle;\n"]))),d=o()(r.a).withConfig({displayName:"QuotaBar_Bar",componentId:"sc-1kyp36c"})(h||(h=Object(a.__makeTemplateObject)(["\n  height: 100%;\n  width: 100%;\n"],["\n  height: 100%;\n  width: 100%;\n"])));function u(e,t){if(t<=0)return 0;var n=24*e.days*60+60*e.hours+e.minutes,a=60*t;return Math.min(100,100*n/a)}function m(e){var t=24*e.days+e.hours;return Object(l.b)(t,"h",e.minutes,"m")}var p,h,g=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){var t=this.props,n=t.hoursAllowed,a=t.timeReserved,i=t.timeUsed,o=u(i,n),r=Math.min(100-o,u(a,n)),s=o>80?"#D0021B":"#20BEFF";return e.createElement(c,{tip:"Used: "+m(i)+", Reserved by running sessions: "+m(a)+", Reset in "+m(this.props.timeUntilRefresh)},0===r?e.createElement(d,{style:{height:this.props.barHeight},percent:o,strokeColor:s}):e.createElement(d,{style:{height:this.props.barHeight},percent:[o,r],strokeColor:[s,"#FFC914"]}))},n}(e.Component)}).call(this,n(0))},1761:function(e,t,n){"use strict";n.d(t,"j",(function(){return r})),n.d(t,"l",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return y}));var a=n(3),i=n(30),o=["https://sheets.googleapis.com/$discovery/rest?version=v4"],r=function(e,t,n,i){c("Sheets > export start");var o=new XMLHttpRequest;o.open("GET",t+"?raw=true",!0),o.responseType="text",o.onerror=function(e){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return c("Sheets > error load"),i("load",e),[2]}))}))},o.onload=function(t){return Object(a.__awaiter)(void 0,void 0,void 0,(function(){var t,r,s,l,d;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:c("Sheets > export callback"),t=o.responseText,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,gapi.client.sheets.spreadsheets.create({properties:{title:e}})];case 2:return r=a.sent(),s=r.result,l=s.sheets[0],c("Sheets > export paste"),[4,gapi.client.sheets.spreadsheets.batchUpdate({spreadsheetId:s.spreadsheetId},{requests:[{pasteData:{coordinate:{sheetId:l.properties.sheetId,rowIndex:0,columnIndex:0},data:t,type:"PASTE_NORMAL",delimiter:","}}]})];case 3:return a.sent(),c("Sheets > export done"),n(s.spreadsheetUrl),[3,5];case 4:return d=a.sent(),c("Sheets > export error "+JSON.stringify(d)),i("create",d),[3,5];case 5:return[2]}}))}))},c("Sheets > export send"),o.send(null),c("Sheets > export end")},s=function(){if(gapi&&gapi.auth2){var e=gapi.auth2.getAuthInstance();if(e&&e.isSignedIn){var t=e.isSignedIn.get();return c("Sheets > initialized = "+t),t}}return c("Sheets > initialized = false"),!1},l=function(e,t,n){c("Sheets > init start"),gapi.client.init({apiKey:"AIzaSyAdFS7M2T2SwJuRDEToA_M7DtvETLB_98o",clientId:"280951542138-te3b5f6o85jvtv30422vfbsam6k1phfs.apps.googleusercontent.com",discoveryDocs:o,scope:"https://www.googleapis.com/auth/spreadsheets"}).then((function(){c("Sheets > init end"),c("Sheets > signin listen");var a=gapi.auth2.getAuthInstance();if(a.isSignedIn.get()&&n)return c("Sheets > signin is signed in already"),void e();c("Sheets > signin signin"),a.signIn().then((function(){c("Sheets > signin end"),e()})).catch((function(e){c("Sheets > signin error "+JSON.stringify(e)),t("signin",e)}))})).catch((function(e){c("Sheets > init error "+JSON.stringify(e)),t("signin",e)}))},c=function(e){i.a.isAdmin&&console.log(e)},d=function(){switch(window.location.hostname){case"localhost":return"development";case"staging.kaggle.com":return"staging";case"kaggle.com":return"production"}return"production"},u=function(e){switch(e){case"fileset":case"remoteUrlFileSet":case"remoteGitRepositoryFileSet":case"kernelOutputFileSet":return!0;default:return!1}},m=["Revving our hard drives...","Beaming data to servers...","Reticulating files...","Checking data types...","Tabulating tabular files...","Calculating metrics...","Bundling blob files...","Applying middle out compression...","Activating Kernels...","Transmogrifying data...","Re-reticulating files...","Applying final touches..."],p="Still working...",h="Getting to the choppa...",g=function(e){return e?e>53687091200?10800:e>10737418240?3600:e>5368709120?1800:e>1073741824?900:e>524288e3?600:e>104857600?180:e>10485760?60:e>1048576?20:10:10},f=function(e){return e?"databundleVersionObject"==e.type?e.size:"file"==e.type?e.size:"archiveEntry"==e.type?e.compressedSize:"databundleVersion"==e.type?e.totalSize:"kernelOutputFile"==e.type?e.size:"uploadFile"==e.type?e.size:0:0},b=function(e){var t=function(e){return e.substring(e.lastIndexOf(".")+1,e.length)||e}(e);return v(t)},v=function(e){var t="."==e.substring(0,1)?e.substring(1):e;switch(t=t?t.toLowerCase():t){case"csv":case"tsv":case"xls":case"xlsx":return"table";case"sqlite":return"database";case"sqlitetable":return"table";case"png":case"jpg":case"jpeg":case"gif":return"picture-o";case"txt":case"json":case"ndjson":return"file-text-o";case"zip":case"7z":case"gz":case"tar":case"rar":case"bz2":return"file-zip-o";default:return"file-o"}},y=function(e){return Math.round(100*e)+"%"}},1762:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),i=n.n(a),o=n(1426),r=n(0);const s=i.a.div`
  position: relative;

  display: flex;
  align-items: center;
  border-color: ${e=>e.theme.colors.kaggle.blueLight};

  & svg {
    width: 100%;
    min-height: 26px;
  }
`,l=i.a.div`
  position: absolute;
  left: 0;
  right: 0;
`,c=e=>{const{children:t,loaded:n,total:a}=e,i=a?Math.floor(n/a*100):0;return r.createElement(s,null,r.createElement(o.a,{strokeLinecap:"butt",percent:i,strokeWidth:4,trailWidth:0,strokeColor:"#20BEFF"}),t&&r.createElement(l,null,t))}},1763:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(383),i=n(1416),o=n(8),r=n(1),s=n.n(r),l=n(0);const c={Wrapper:s.a.div`
    & * {
      color: ${e=>{switch(e.userVote){case-1:return"#b34834";case 0:return e.theme.material.color.brand.grey[500];case 1:return e.theme.material.color.brand.blue[600]}}};
    }
  `,UpvoteWrapper:s.a.div`
    ${e=>e.canUpvote&&`\n      cursor: pointer;\n      &:hover * {\n        color: ${e.theme.material.color.brand.blue[400]};\n      }\n    `};
  `,DownvoteWrapper:s.a.div`
    cursor: pointer;

    &:hover * {
      color: #b34834;
    }
  `},d={Wrapper:s()(c.Wrapper)`
    align-items: center;
    display: inline-flex;
    flex-direction: column;
    height: ${e=>e.theme.material.spacing(19)};
    width: ${e=>e.theme.material.spacing(9)};
  `,Section:s.a.div`
    height: ${e=>e.theme.material.spacing(9)};
    width: ${e=>e.theme.material.spacing(9)};
  `,UpvoteWrapper:s()(c.UpvoteWrapper)`
    display: flex;
    flex-direction: column;
    align-items: center;
    height: ${e=>e.theme.material.spacing(12)};
    z-index: 1;
  `,DownvoteWrapper:s()(c.DownvoteWrapper)`
    cursor: pointer;
    position: relative;
    top: -${e=>e.theme.material.spacing(3)};
  `,NumVotes:s.a.div`
    position: relative;
    top: ${e=>e.canUpvote||e.canDownvote?"-12px":"24px"};
  `,Number:a.a,upvoteIcon:l.createElement(i.a,{icon:"arrow_drop_up",size:"large"}),downvoteIcon:l.createElement(i.a,{icon:"arrow_drop_down",size:"large"})},u={Wrapper:s()(c.Wrapper)`
    background: ${e=>e.theme.material.color.white};
    border-radius: ${e=>e.theme.material.borderRadius.normal};
    border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
    display: inline-flex;
    overflow: hidden;
  `,Section:s.a.div`
    display: flex;
    align-items: center;
    justify-content: center;
    padding: ${e=>e.theme.material.spacing(1)};
  `,UpvoteWrapper:s()(c.UpvoteWrapper)`
    display: flex;
    align-items: center;
  `,DownvoteWrapper:s()(c.DownvoteWrapper)`
    cursor: pointer;
  `,NumVotes:s.a.div`
    box-sizing: border-box;
    align-items: center;
    border-left: ${e=>e.canUpvote&&`1px solid ${e.theme.material.color.brand.grey[200]}`};
    border-right: ${e=>e.canDownvote&&`1px solid ${e.theme.material.color.brand.grey[200]}`};
    display: flex;
    height: ${e=>e.theme.material.spacing(7)};
    padding: 0 ${e=>e.theme.material.spacing(3)};
  `,Number:a.c,upvoteIcon:l.createElement(i.a,{icon:"keyboard_arrow_up",size:"small"}),downvoteIcon:l.createElement(i.a,{icon:"keyboard_arrow_down",size:"small"})};function m({canUpvote:e,canDownvote:t,messageId:n,numVotes:a,userVote:i,onVoteChange:r,isCondensed:s,className:c}){const m=s?u:d;function p(e){return i===e?0:e}function h(e){return a+e-i}function g(e){o.discussionsClient.voteOnForumMessage({forumMessageId:n,score:e})}return t=e&&t,l.createElement(m.Wrapper,{className:c,userVote:i},l.createElement(m.UpvoteWrapper,{canUpvote:e,onClick:t=>{if(!e)return;t.stopPropagation(),t.preventDefault();const n=p(1);g(n),r(h(n),n)}},e&&l.createElement(m.Section,null,m.upvoteIcon),l.createElement(m.NumVotes,{canUpvote:e,canDownvote:t},l.createElement(m.Number,null,a))),t&&l.createElement(m.DownvoteWrapper,{onClick:e=>{e.stopPropagation(),e.preventDefault();const t=p(-1);g(t),r(h(t),t)}},l.createElement(m.Section,null,m.downvoteIcon)))}},1764:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(3),i=n(0),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.getSuffix=function(){var e=this.props.children%10,t="th";return 1===e?t="st":2===e?t="nd":3==e&&(t="rd"),1===Math.floor(this.props.children%100/10)&&(t="th"),t},t.prototype.render=function(){return i.createElement("span",null,this.props.children.toString()+this.getSuffix())},t}(i.Component)},1767:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n(3),i=n(1468),o=n(2057),r=n(2031),s=n(383),l=n(1971),c=n(1608),d=n(2005),u=n(2006),m=n(1893),p=n(8),h=n(1),g=n.n(h),f=n(0),b=n(1892);const v=g.a.div``,y=g()(i.a)`
  margin-left: 16px;
`,w=g.a.div`
  display: flex;
  justify-content: center;
  margin: 8px 0;
`,E=g.a.div`
  display: flex;
  align-items: center;
  margin: 8px 0;
`,x=g.a.img`
  height: 60px;
  margin-right: 16px;
`,C=g.a.div`
  width: 100%;
  margin: 24px 0;
  border-bottom: 2px solid ${e=>e.theme.colors.border};
`,k=g()(o.a)`
  border: 1px solid ${e=>e.theme.colors.border};
  border-right: none;
  border-left: none;
  width: 90%;
  margin-bottom: 20px;
  padding-left: 16px;
`,_=g.a.div`
  margin: 16px 0;
  padding-left: 8px;
  padding-right: 8px;
`,S=g()(r.a)`
  margin-top: 16px;
  width: 100%;
`,O=g()(r.a)`
  margin-top: 16px;
  width: calc(50% - 8px);
`,T=g.a.span`
  display: inline-block;
  width: 16px;
`,j=e=>{const t=t=>Object(p.reportEvent)("competitions",t,{client:e.client});f.useEffect(()=>(t("submit-modal-open"),()=>t("submit-modal-close")),[]);const[n,i]=f.useState(void 0),[o,r]=f.useState("LOADING"),[m,h]=f.useState(""),g=!!n&&!n.onlyAllowKernelSubmissions,[j]=f.useState(g),[I,N]=f.useState([]),[D,$]=f.useState(0),[M,U]=f.useState([]),[P,F]=f.useState(0),[R,z]=f.useState([]),[L,A]=f.useState(void 0),[V,B]=f.useState(void 0),[K,H]=f.useState("Searching..."),[q,W]=f.useState("Searching..."),[G,Q]=f.useState("Checking..."),[Y,X]=f.useState(void 0),J=e=>{h(e),"LOADING"!==o&&"READY"!==o||r("LOAD_ERROR")},Z=()=>{"LOADING"===o&&r("READY")};f.useEffect(()=>{i(void 0),h(""),"LOAD_ERROR"!==o&&"READY"!==o||r("LOADING"),e.competitionId?p.competitionsClient.competitionService.getCompetition({competitionId:e.competitionId,competitionName:""}).then(e=>{i(e)},e=>{J(`Failed to load competition: ${e.message}`)}):J("No competition provided.")},[e.competitionId]),f.useEffect(()=>{N([]),$(0),n&&p.kernelsClient.listKernels(((e,t)=>({kernelFilterCriteria:{competitionId:e,userId:t,sortBy:"dateRun",pageSize:20,group:"profile",outputType:"",startRow:0,page:0,datasetId:null,datasourceType:null,forkParentScriptId:null,kernelType:null,language:null,tagIds:null,excludeResultsFilesOutputs:!1,wantOutputFiles:!0,search:null,after:null,hasGpuRun:null,privacy:"all"},detailFilterCriteria:null}))(n.id,e.userId)).then(t=>{const n=t.kernels;N(n),e.kernelId?n.some(t=>t.id===e.kernelId)?$(e.kernelId):J(`Could not find provided notebook ${e.kernelId}`):n.length>0?$(n[0].id):"LOADING"===o&&r("NO_KERNELS")},e=>{J(`Could not list notebooks: ${e.message}`)})},[n]),f.useEffect(()=>{U([]),F(0),H("Searching..."),D&&p.kernelsClient.listKernelVersions({kernelId:D}).then(t=>{const n=t.items.filter(e=>!!e.run);U(n),e.kernelId===D&&e.kernelRunId?n.some(t=>t.run.id===e.kernelRunId)?F(e.kernelRunId):J(`Could not find provided notebook version ${e.kernelRunId}`):n.length>0?F(n[0].run.id):(H("No Notebook Versions found"),Z())},e=>{J(`Could not list notebook versions: ${e.message}`)})},[D]),f.useEffect(()=>{if(z([]),A(void 0),W("Searching..."),!P)return;const t=e=>!!e.match(/submission/i);p.kernelsClient.listKernelRunOutput({kernelRunId:P,pageSize:null,pageToken:null}).then(n=>{const a=n.items.filter(t=>!!t.fullPath&&(e.kernelRunId===P&&e.fileName===t.fullPath||(e=>-1===[".png",".jpg",".gif",".svg",".ipynb"].indexOf(e))(t.fileType||""))).sort((e,n)=>t(e.fullPath)?-1:t(n.fullPath)?1:0);z(a),e.kernelRunId===P&&e.fileName?a.some(t=>t.fullPath===e.fileName)?A(e.fileName):J(`Could not find provided output file ${e.fileName}`):a.length>0?A(a[0].fullPath):(W("No Output Files found"),Z())},e=>{J(`Could not list output files: ${e.message}`)})},[P]),f.useEffect(()=>{B(void 0),L?(Q("Checking..."),p.competitionsClient.submissionService.canSubmitFromKernelRun({competitionId:e.competitionId,kernelRunId:P,fileName:L}).then(e=>{B(e),Q("Submit"),e.maxDailySubmissions>0&&X(e.maxDailySubmissions-e.numSubmissionsToday),Z()},e=>{Q("Submit"),J("Could not check whether submission is allowed.")})):Q("Submit")},[L]);const ee=!(!n||!L||!(null==V?void 0:V.canSubmit)||"READY"!==o||m),te=()=>f.createElement("div",null,f.createElement(S,{label:"Select Notebook",placeholder:"No Notebooks found",value:D?String(D):void 0,disabled:0===I.length,required:!0,onChange:e=>$(Number(e.target.value))},I.map(e=>f.createElement("option",{value:String(e.id),key:String(e.id),"aria-selected":D===e.id},e.title)))),ne=()=>f.createElement(O,{label:"Notebook Version",placeholder:K,value:P?String(P):void 0,disabled:0===M.length,required:!0,onChange:e=>F(Number(e.target.value))},M.map(e=>{var t,n,a;return f.createElement("option",{value:String(null===(t=e.run)||void 0===t?void 0:t.id),key:String(null===(n=e.run)||void 0===n?void 0:n.id),"aria-selected":P===(null===(a=e.run)||void 0===a?void 0:a.id)},e.version.versionName||`Version ${e.version.versionNumber}`)})),ae=()=>f.createElement(O,{label:"Output File",placeholder:q,value:L,disabled:0===R.length,required:!0,onChange:e=>A(e.target.value),autoFocus:!0},R.map(e=>e.fullPath).map(e=>f.createElement("option",{value:e,key:e,"aria-selected":!1},e))),ie=()=>{if(!n)return null;const e=`/c/${n.competitionName}/overview`;return f.createElement(f.Fragment,null,f.createElement(E,null,f.createElement("a",{role:"button",href:e,target:"_blank"},f.createElement(x,{src:n.thumbnailImageUrl,alt:"Competition Overview"})),f.createElement(s.a,{emphasis:"high",useKM:!0},f.createElement(s.u,{href:e,target:"_blank"},n.title))),void 0!==Y&&f.createElement(v,null,f.createElement(s.b,{useKM:!0},"You have ",Y," submissions remaining today. Submissions reset daily.")))};return f.createElement(f.Fragment,null,f.createElement(d.a,null,"Submit to competition"),"LOADING"===o&&(()=>f.createElement(l.a,null,f.createElement(w,null,f.createElement(c.a,{size:"xlarge"})),f.createElement(w,null,"Preparing...")))(),"NO_KERNELS"===o&&(()=>f.createElement(l.a,null,ie(),f.createElement(k,{useKM:!1,variant:"error",graphic:"error_outline"},"You do not have any Notebooks linked to this Competition. Click below to create one!")))(),"READY"===o&&(()=>n?f.createElement(l.a,null,ie(),f.createElement(C,null),f.createElement(s.o,{useKM:!0},"Submission File:"),j?(()=>f.createElement("div",null,"File uploader not supported yet."))():(()=>f.createElement("div",null,te(),f.createElement("div",null,ne(),f.createElement(T,null),ae())))(),n.usesSynchronousReruns&&!n.postProcessorKernelId&&f.createElement(_,null,f.createElement("p",null,"In this competition, we will privately re-run your selected Notebook Version with a hidden test set substituted into the competition dataset. We then extract your chosen Output File from the re-run and use that to determine your score.")),!1===(null==V?void 0:V.canSubmit)&&f.createElement(k,{useKM:!1,variant:"error",graphic:"error_outline"},f.createElement(f.Fragment,null,f.createElement(s.q,{useKM:!0,emphasis:"high"},"Cannot submit"),f.createElement("br",null),V.notAllowedReasons.map(e=>f.createElement("div",{key:e.code},e.message))))):null)(),"SUBMITTING"===o&&(()=>f.createElement(l.a,null,f.createElement(w,null,f.createElement(c.a,{size:"xlarge"})),f.createElement(w,null,"Submitting...")))(),"SUCCEEDED"===o&&(()=>f.createElement(l.a,null,"Your entry has been submitted! It could take a while before your submission is scored. Check the status on your My Submissions page."))(),m&&f.createElement(k,{useKM:!1,variant:"error",graphic:"error_outline"},m),f.createElement(u.a,null,f.createElement(y,{useKM:!0,onClick:()=>e.onHide(),variant:"text"},"READY"===o?"Cancel":"Close"),"READY"===o&&f.createElement(y,{useKM:!0,onClick:()=>(()=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){if(!ee)return;r("SUBMITTING"),t("submit-modal-clicked-submit");const e=e=>{r("FAILED"),h(e)};try{const t=yield Object(b.a)(P,L);t?t.ok?r("SUCCEEDED"):e(`Submit failed with status code ${t.status}.`):e("Could not reach the submission service. Please try again later.")}catch(t){e(t.message)}})))(),disabled:!ee},G),"SUCCEEDED"===o&&f.createElement(y,{useKM:!0,onClick:()=>void(window.location.href=`/c/${n.competitionName}/submissions`)},"View My Submissions"),"NO_KERNELS"===o&&f.createElement(y,{useKM:!0,onClick:()=>void(window.location.href=`/notebooks/welcome?competitionId=${e.competitionId}`)},"New Notebook")))},I=e=>f.createElement(m.a,{open:e.shouldShow,onClose:()=>e.onHide()},e.shouldShow&&f.createElement(j,Object.assign({},e)))},1768:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),i=n.n(a),o=n(0);const r=i.a.textarea`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[300]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  width: 100%;
  ${e=>void 0===e.editorMaxHeight?"":`\n    background-color: red; // test\n    overflow-y: scroll;\n    max-height: ${e.editorMaxHeight};\n  `};
`,s=o.createContext((e,t,n)=>o.createElement(r,{onChange:e=>t(e.currentTarget.value),rows:5,value:e,editorMaxHeight:n}))},1769:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),i=n.n(a),o=n(0),r=n(1425);const s=i()(e=>o.createElement(r.a,Object.assign({},e,{classNamePrefix:"sort-select"})))`
  border-radius: ${e=>e.theme.size.border.radius.input};

  & .sort-select__control,
  & .sort-select__single-value,
  & .sort-select__option {
    :hover {
      cursor: pointer;
    }
  }
`},1770:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return p}));var a=n(1),i=n.n(a),o=n(0),r=n(27),s=n(147);const l=i.a.div`
  color: ${e=>e.theme.colors.kaggle.black};
  ${e=>e.theme.font.main.family};
  ${e=>e.theme.font.main.size.l};
  ${e=>e.theme.font.main.height.normal};
  padding: 0 ${e=>e.theme.size.pad.s};
  ${e=>e.theme.font.main.height.short};

  a {
    color: ${e=>e.theme.colors.kaggle.blueDark};
    text-decoration: none;
    z-index: ${e=>e.theme.zindex[1e3]};
  }
`,c=r.z.Option,d=r.z.SingleValue,u=4;function m(e){const{data:t,content:n}=e,{rawHtml:a}=t;return o.createElement(c,Object.assign({},e),Object(s.j)(n,a))}function p(e){const{data:t,content:n}=e,{rawHtml:a}=t;return o.createElement(d,Object.assign({},e),Object(s.j)(n,a))}},1771:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return f}));var a,i,o,r,s=n(3),l=n(386),c=n(10),d=n(1),u=n.n(d),m=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleOptionClick=function(t){e.props.onOptionClick&&e.props.onOptionClick(t)},e}return Object(s.__extends)(n,t),n.prototype.render=function(){var t=this.props.disabled?f:h;return e.createElement(t,{className:this.props.className,onClick:this.props.disabled?null:this.handleOptionClick,id:this.props.id},e.createElement(g,{name:this.props.iconName}),this.props.content)},n}(e.Component),p=u.a.ul.withConfig({displayName:"NewsfeedDropdownOption_NewsfeedDropdownOptions",componentId:"sc-zl3dp6"})(a||(a=Object(s.__makeTemplateObject)(["\n  line-height: 2;\n  font-size: ",";\n  margin: 10px 0;\n"],["\n  line-height: 2;\n  font-size: ",";\n  margin: 10px 0;\n"])),c.d.FontSizeM),h=u.a.li.withConfig({displayName:"NewsfeedDropdownOption_DropdownOption",componentId:"sc-ho8rqy"})(i||(i=Object(s.__makeTemplateObject)(["\n  padding: 0 20px;\n  color: ",";\n  cursor: pointer;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:hover {\n    background: ",";\n  }\n"],["\n  padding: 0 20px;\n  color: ",";\n  cursor: pointer;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:hover {\n    background: ",";\n  }\n"])),c.b.TextMedium,c.b.SiteBackground),g=u()(l.b).withConfig({displayName:"NewsfeedDropdownOption_DropdownOptionIcon",componentId:"sc-3w2n6n"})(o||(o=Object(s.__makeTemplateObject)(["\n  color: ",";\n  min-width: 15px;\n  margin-right: 15px;\n"],["\n  color: ",";\n  min-width: 15px;\n  margin-right: 15px;\n"])),c.b.TextLightFaded),f=u()(h).withConfig({displayName:"NewsfeedDropdownOption_DisabledDropdownOption",componentId:"sc-do8tdu"})(r||(r=Object(s.__makeTemplateObject)(["\n  cursor: default;\n  color: ",";\n"],["\n  cursor: default;\n  color: ",";\n"])),c.b.TextLight)}).call(this,n(0))},1774:function(e,t,n){"use strict";var a=n(107),i=n(147),o=n(383),r=n(8),s=n(1),l=n.n(s),c=n(0),d=n(1693),u=n(1703),m=n(370),p=n(1909),h=n(1810),g=n(2037),f=n(1413),b=n(1685),v=n(2009),y=n(1821);const w=l.a.div`
  display: flex;
  flex-grow: 1;
`,E=l.a.div`
  background: ${e=>e.theme.material.color.white};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  position: relative;

  ${a.k} {
    ${e=>!e.isNestedComment&&"\n      border-radius: 0;\n      border-left: 0;\n      border-right: 0;\n    "};
  }
`,x=l.a.div`
  background: ${e=>e.theme.material.color.white};
  border-right: 0;
  border-top: 0;
  border-left: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-bottom: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  height: ${e=>e.theme.material.spacing(2)};
  left: -6px;
  position: absolute;
  top: ${e=>e.theme.material.spacing(3)};
  transform: rotate(45deg);
  width: ${e=>e.theme.material.spacing(2)};

  ${a.k} {
    display: none;
  }
`,C=l.a.div`
  align-items: center;
  display: flex;
  flex-direction: column;
  margin-right: ${e=>e.theme.material.spacing(4)};

  ${a.k} {
    display: none;
  }
`,k=l.a.div`
  margin-top: ${e=>e.theme.material.spacing(3)};
`,_=({avatarModel:e,medal:t,children:n,useBlankAvatar:a,isNestedComment:i})=>{const{thumbnailUrl:o,profileUrl:r,tier:s,displayName:l,id:d}=Object(v.b)(a?null:e);return c.createElement(w,null,e&&c.createElement(C,null,c.createElement(v.a,{thumbnailUrl:o,profileUrl:r,tier:s,displayName:l,id:d,size:"xlarge"}),c.createElement(k,null,c.createElement(y.a,{medal:t||null}))),c.createElement(E,{isNestedComment:i},c.createElement(x,null),n))};var S=n(1726),O=n(1660),T=n(1822),j=n(1826),I=n(1823),N=n(1825),D=n(1824),$=n(1827),M=n(1763);const U=l.a.div`
  display: flex;
`,P=l.a.div`
  padding: ${e=>{const t=e.theme.material.spacing;return`${t(3)} ${t(6)} ${t(3)}`}};
`,F=l.a.div`
  display: flex;
  justify-content: space-between;
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,R=l.a.div`
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  margin-right: ${e=>e.theme.material.spacing(2)};
`,z=l()(o.c)`
  && {
    color: ${e=>e.theme.material.color.text[50]};
  }
`,L=l.a.div`
  margin-top: ${e=>e.theme.material.spacing(7)};
`,A=l.a.div`
  margin: ${e=>e.theme.material.spacing(3)} 0;
  position: relative;
`,V=l.a.div`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  bottom: -${e=>e.theme.material.spacing(3)};
  box-sizing: border-box;
  height: ${e=>e.theme.material.spacing(3)};
  left: ${e=>e.theme.material.spacing(20)};
  position: absolute;
  width: 1px;

  ${a.k} {
    left: 28px;
  }
`,B=l()(V)`
  top: -${e=>e.theme.material.spacing(3)};
`,K=l.a.div`
  display: flex;
  flex-wrap: wrap;
  margin-top: ${e=>e.theme.material.spacing(4)};
`,H=l.a.div`
  margin-top: ${e=>e.theme.material.spacing(3)};
`,q=l()(o.b)`
  color: ${e=>e.theme.material.color.text[40]};
  font-style: italic;
  margin-bottom: 16px;
`,W=l()(b.a)`
  && {
    ${e=>{const t=Object(u.b)(e.authorType);return t&&"color: "+t}};
  }
`,G=l.a.span`
  margin-left: 8px;
  border-radius: 4px;
  padding: 2px 8px;
  border: 1px solid ${e=>Object(u.b)(e.authorType)};
  color: ${e=>Object(u.b)(e.authorType)};
  white-space: nowrap;
`,Q=c.memo(({user:e,initialModel:t,topicId:n,isReadOnly:a,isNestedComment:i,onReplyClick:o,onReplyAdded:s,allowAttachments:l})=>{var d,v,y,w,E,x,C,k,Y,X;const[J,Z]=c.useState(t),[ee,te]=c.useState(!1),[ne,ae]=c.useState(!1),[ie,oe]=c.useState(!1),[re,se]=c.useState(""),[le,ce]=c.useState(!1),de=e&&e.isAdmin;c.useEffect(()=>{Z(t)},[t]);const ue=c.useCallback(e=>r.discussionsClient.discussionsService.createReply({messageId:J.id,message:{markdown:e.markdown,html:e.html,blobFileTokens:Object(u.d)(e.attachments)}}).then(()=>(s(),se(""),oe(!1),{messageId:J.id})),[J]),me=c.useCallback(()=>oe(!1),[]),pe=c.useCallback(e=>r.discussionsClient.discussionsService.updateMessage({messageId:J.id,message:{markdown:e.markdown,html:e.html,blobFileTokens:Object(u.d)(e.attachments)}}).then(()=>(Z(Object.assign(Object.assign({},J),{content:e.html,rawMarkdown:e.markdown,attachments:e.attachments})),ce(!1),{messageId:J.id})),[J]),he=c.useCallback(()=>{ce(!1)},[]),ge=c.useCallback(()=>{oe(!0)},[]),fe=c.useCallback(()=>{s()},[]);return c.createElement(U,{id:String(J.id)||""},c.createElement(_,{isNestedComment:i,avatarModel:J.author,useBlankAvatar:J.isDeleted,medal:J.medal},c.createElement(P,null,c.createElement(F,null,c.createElement(R,null,c.createElement(z,null,(null===(d=J.author)||void 0===d?void 0:d.displayName)&&c.createElement(c.Fragment,null,c.createElement(p.b,null,({targetRef:e,setTargetRef:t})=>{var n,a,i,o,r;return c.createElement(c.Fragment,null,c.createElement(W,{ref:t,authorType:J.authorType,bold:!0,href:null!==(a=null===(n=J.author)||void 0===n?void 0:n.userUrl)&&void 0!==a?a:""},Object(u.f)(null!==(o=null===(i=J.author)||void 0===i?void 0:i.displayName)&&void 0!==o?o:"")),c.createElement(p.a,{targetRef:e},c.createElement(h.a,{userId:null===(r=J.author)||void 0===r?void 0:r.id})))}),"comment"!==J.authorType&&c.createElement(G,{authorType:J.authorType},Object(u.c)(J.authorType)),"  •  "),Boolean(J.currentKernelVersion)&&c.createElement("span",null,"Posted on Version ",J.kernelVersion," of"," ",J.currentKernelVersion,"  •  "),Boolean(J.competitionRanking)&&c.createElement("span",null,"(",c.createElement(g.a,{num:J.competitionRanking})," in this Competition)","  •  "),c.createElement(f.a,{time:J.postDate}),!J.isDeleted&&c.createElement(c.Fragment,null,"  •  ",c.createElement(b.a,{color:ee?"blue":"grey",onClick:()=>te(!ee)},"Options")),r.featureFlags.discussionsUpvoteSpamWarning?c.createElement(c.Fragment,null,"  •  ",c.createElement(I.a,{isFlagged:J.isFlagged,messageId:J.id,onFlag:()=>{Z(Object.assign(Object.assign({},J),{isFlagged:!0}))},renderLink:e=>c.createElement(b.a,{onClick:e,color:"grey"},"Report"),renderReported:()=>c.createElement(b.a,{color:"grey"},"Reported")})):null,Object(u.j)(e,null===(v=null==J?void 0:J.author)||void 0===v?void 0:v.id)&&c.createElement(c.Fragment,null,"  •  ",c.createElement(b.a,{color:le?"blue":"grey",onClick:()=>{ce(!0)}},"Edit")),!a&&!J.isDeleted&&c.createElement(c.Fragment,null,"  •  ",c.createElement(b.a,{color:ie?"blue":"grey",onClick:()=>{i?o&&o():(se(""),oe(!ie))}},"Reply")))),!J.isDeleted&&c.createElement("div",null,c.createElement(M.a,{canUpvote:null!==(w=null===(y=J.votes)||void 0===y?void 0:y.canUpvote)&&void 0!==w&&w,canDownvote:null!==(x=null===(E=J.votes)||void 0===E?void 0:E.canDownvote)&&void 0!==x&&x,messageId:J.id,userVote:Object(u.g)(J.votes),onVoteChange:(e,t)=>{Z(Object.assign(Object.assign({},J),{votes:Object(u.h)(J.votes,t,e)}))},isCondensed:!0,numVotes:(null===(C=J.votes)||void 0===C?void 0:C.totalVotes)||0}))),(()=>{var t,a;return J.isDeleted?c.createElement(q,null,"This comment was deleted."):c.createElement(S.a,{allowAttachments:l,attachments:J.attachments,markdown:null!==(t=J.rawMarkdown)&&void 0!==t?t:"",htmlFallback:null!==(a=J.content)&&void 0!==a?a:"",isEditing:le,confirmButtonText:"Update Comment",onSave:pe,onCancel:he,topicId:n,user:e})})(),ee&&c.createElement(K,null,!a&&c.createElement(O.a,{text:"Quote",onClick:()=>{se(Object(u.a)(re,J.rawMarkdown||"")),oe(!0)}}),c.createElement(O.a,{text:"Permalink",href:`${window.location.origin}${window.location.pathname}#${J.id}`,onClick:e=>{e.preventDefault(),Object(m.f)("#"+J.id)}}),r.featureFlags.discussionsUpvoteSpamWarning?null:c.createElement(I.a,{isFlagged:J.isFlagged,messageId:J.id,onFlag:()=>{Z(Object.assign(Object.assign({},J),{isFlagged:!0}))}}),c.createElement(D.a,{numVotes:(null===(Y=null===(k=J.votes)||void 0===k?void 0:k.voters)||void 0===Y?void 0:Y.length)||0,onClick:()=>ae(!ne)}),Object(u.i)(e,null===(X=J.author)||void 0===X?void 0:X.id)&&c.createElement(T.a,{messageId:J.id,onDelete:()=>{window.location.reload()}}),de&&c.createElement(N.a,{messageId:J.id,isSpammed:J.isSpammed,onToggle:e=>{Z(Object.assign(Object.assign({},J),{isSpammed:e}))}}),de&&c.createElement(j.a,{messageId:J.id,initialModel:J.feedbackTrackingData})),ne&&c.createElement(H,null,c.createElement($.a,{currentUser:e,currentUserVote:Object(u.g)(J.votes),users:J.votes&&J.votes.voters||[]})),(Boolean(J.replies.length)||ie)&&c.createElement(L,null,Boolean(J.replies.length)&&c.createElement(c.Fragment,null,J.replies.map((t,n)=>c.createElement(A,{key:t.id},c.createElement(Q,{allowAttachments:l,user:e,isReadOnly:a,isNestedComment:!0,onReplyClick:ge,onReplyAdded:fe,initialModel:t}),n<J.replies.length-1&&c.createElement(V,null)))),ie&&e&&c.createElement(A,null,Boolean(J.replies.length)&&c.createElement(B,null),c.createElement(_,{isNestedComment:!0,avatarModel:e},c.createElement(P,null,c.createElement(S.a,{allowAttachments:l,attachments:[],markdown:re,isEditing:!0,confirmButtonText:"Post Comment",onSave:ue,onCancel:me,focusOnInitialRender:!0,topicId:n}))))))))});var Y=n(1828);n.d(t,"a",(function(){return ue}));const X=["Hotness","Most Votes","Newest","Oldest","Chronological"],J={Hotness:"hot","Most Votes":"top",Newest:"new",Oldest:"old",Chronological:"chronological"},Z={noneSpecified:"Hotness",hot:"Hotness",top:"Most Votes",new:"Newest",old:"Oldest",chronological:"Chronological"},ee=l.a.div`
  position: relative;
`,te=l.a.div`
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;

  ${a.k} {
    ${a.o};
  }
`,ne=l.a.div`
  margin: 12px 0;
`,ae=l.a.span`
  color: ${e=>e.theme.material.color.text[50]};
`,ie=l.a.div`
  display: flex;
  align-items: center;
`,oe=l()(o.c)`
  margin-right: ${e=>e.theme.material.spacing(1)};
`,re=l.a.div`
  margin: ${e=>e.theme.material.spacing(4)} 0;
`,se=l()(re)`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  padding: 12px 24px;
`,le=l.a.div`
  display: flex;
  margin-top: ${e=>e.theme.material.spacing(7)};
`,ce=l.a.div`
  padding: ${e=>{const t=e.theme.material.spacing;return`${t(3)} ${t(5)} ${t(4)}`}};
`,de=l.a.div`
  position: absolute;
  bottom: 50px;
`,ue=c.memo(({user:e,allowAttachments:t,isReadOnly:n,readOnlyReason:a,initialTopicId:s,kernelId:l,topicFirstMessageId:m,initialModel:p,initialSort:h,quotedComment:g,clearQuotedComment:f})=>{const[b,v]=c.useState(p),[y,w]=c.useState(Z[h]),[E,x]=c.useState(""),[C,k]=c.useState(Math.random().toString()),[O,T]=c.useState(1),[j,I]=c.useState(s),[N,D]=c.useState(0),$=e=>{e&&(v(e),T(1))};!y&&h&&"noneSpecified"!==h&&w(Z[h]),c.useLayoutEffect(()=>{requestAnimationFrame(()=>{Object(i.h)()})},[]),c.useEffect(()=>{$(p)},[p]),c.useEffect(()=>{g&&(x(Object(u.a)(E,g)),f&&f())},[g]),c.useEffect(()=>{N&&Object(i.i)(N.toString())},[N]);const M=(e,t,n)=>{if(!e)return;const a=t;r.discussionsClient.getForumMessagesInTopic({topicId:e,newUserSort:J[t],page:null,pageSize:null,selection:null,filter:"all",includeFirstForumMessage:!1}).then(e=>{t===a&&$(e.comments),n&&D(n)})};c.useEffect(()=>{M(j,y)},[j,y]);const U=c.useCallback(()=>M(j,y),[j,y]),P=c.useCallback(e=>{if(!m&&!l)throw new Error("DiscussionsCommentList must specify oneof: kernelId, topicFirstMessageId");const t={markdown:e.markdown,html:e.html,blobFileTokens:Object(u.d)(e.attachments)};let n=Promise.resolve();return l?n=r.discussionsClient.discussionsService.createKernelMessage({kernelId:l,message:t}):m&&(n=r.discussionsClient.discussionsService.createReply({messageId:m,message:t})),n.then(e=>(e.topicId&&I(e.topicId),k(Math.random().toString()),x(""),M(j,y,e.messageId),{messageId:e.messageId})),n},[y]);if(n&&!a&&(!b||!b.length))return null;const F=25*O,R=b?Object(u.e)(b.slice(0,F)):0,z=b?Object(u.e)(b):0;return c.createElement(ee,null,c.createElement(te,null,c.createElement(ne,null,c.createElement(o.a,null,"Comments ",c.createElement(ae,null,"(",z,")"))),c.createElement(ie,null,c.createElement(oe,null,"Sort by "),c.createElement(Y.a,{selectedOption:y,options:X,onChange:e=>w(e)}))),e&&!e.isAnonymous&&!n&&c.createElement(le,null,c.createElement(_,{isNestedComment:!1,avatarModel:e},c.createElement(ce,null,c.createElement(S.a,{allowAttachments:t,key:C,markdown:E,isEditing:!0,confirmButtonText:"Post Comment",onSave:P,attachments:[],topicId:j,user:e})))),e&&n&&a&&c.createElement(se,null,a),b&&b.slice(0,F).map(a=>c.createElement(re,{key:a.id},c.createElement(Q,{allowAttachments:t,user:e,isReadOnly:n,initialModel:a,onReplyAdded:U,topicId:j}))),c.createElement(de,null,c.createElement(d.a,{fireOnce:!0,onVisible:()=>{R<z&&T(O+1)}})))})},1776:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a,i,o,r,s,l=n(3),c=n(1),d=n.n(c),u=n(10),m=d.a.span.withConfig({displayName:"Tag_Wrapper",componentId:"sc-9nhn9u"})(a||(a=Object(l.__makeTemplateObject)(["\n  position: relative;\n  z-index: ",";\n  color: ",";\n  margin-left: 6px; /* optical */\n"],["\n  position: relative;\n  z-index: ",";\n  color: ",";\n  margin-left: 6px; /* optical */\n"])),u.i.ZForeground,u.b.TextTag),p=d.a.span.withConfig({displayName:"Tag_Icon",componentId:"sc-58yxs"})(i||(i=Object(l.__makeTemplateObject)(["\n  margin-left: ",";\n  margin-right: ",";\n"],["\n  margin-left: ",";\n  margin-right: ",";\n"])),u.g.PadXs,u.g.PadXs),h=Object(c.css)(o||(o=Object(l.__makeTemplateObject)(["\n  ",";\n  color: "," !important;\n  font-weight: "," !important;\n\n  &:hover {\n    color: "," !important;\n  }\n\n  overflow: hidden;\n  word-wrap: nowrap;\n  text-overflow: ellipsis;\n"],["\n  ",";\n  color: "," !important;\n  font-weight: "," !important;\n\n  &:hover {\n    color: "," !important;\n  }\n\n  overflow: hidden;\n  word-wrap: nowrap;\n  text-overflow: ellipsis;\n"])),u.e.default,u.b.TextTag,u.d.FontWeightMedium,u.b.TextLinkHover),g=d.a.a.withConfig({displayName:"Tag_TextAnchor",componentId:"sc-hezo17"})(r||(r=Object(l.__makeTemplateObject)(["\n  ","\n"],["\n  ","\n"])),h),f=d.a.span.withConfig({displayName:"Tag_TextSpan",componentId:"sc-14oqu21"})(s||(s=Object(l.__makeTemplateObject)(["\n  ","\n"],["\n  ","\n"])),h);function b(t){var n=t.tags,a=t.className;return 0===n.length?null:e.createElement(m,{className:a},e.createElement(p,{className:"fa fa-tag"}),n.map((function(t,a){return e.createElement("span",{key:t.name},t.url||t.onClick?e.createElement(g,{href:t.url,onClick:t.onClick},t.name):e.createElement(f,null,t.name),a<n.length-1?", ":null)})))}}).call(this,n(0))},1777:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return c}));var i=n(3),o=n(1778),r=n(1419),s=n(8),l=(e.Datasets,e.Scripts,e.Competitions,3),c=function(e){function t(t){var n=e.call(this,t)||this;return n.onDeleteCategory=function(e,t){var a=Object(i.__assign)({},n.state);a.tags.splice(t,1),n.setState(a,(function(){n.props.onChange(n.state)}))},n.onAddCategory=function(e,t){var a=Object(i.__assign)({},n.state);a.tags.push(e),a.searchResults.splice(t,1),n.setState(a,(function(){n.props.onChange(n.state)}))},n.onSearchQueryChanged=function(e){n.setState({searchQuery:e}),n.searchTimer&&clearInterval(n.searchTimer),n.searchTimer=e?window.setTimeout((function(){return n.executeSearch(n.state.searchQuery)}),200):window.setTimeout((function(){return n.executeSearch("")}),200)},n.onSearchCategory=function(){n.executeSearch(n.state.searchQuery)},n.handleSearchResults=function(e){var t=e.tags.filter((function(e){return!n.state.tags.some((function(t){return t.id==e.id}))}));n.setState({searchResults:t,isSearching:!1})},n.handleAppliedTagsResults=function(e){n.setState({tags:e.tags,isSearching:!1},(function(){n.props.onChange(n.state)}))},n.executeSearch=function(e){n.setState({isSearching:!0,searchForQuery:!0}),n.searchTimer&&clearInterval(n.searchTimer),!n.state.searchQuery||!n.state.searchQuery.trim()||e.length<l?n.setState({isSearching:!1}):s.bothClients.clients.tagsClient.searchTags({searchType:n.props.type,searchQuery:e,showSystemTags:!1,skip:0,take:10}).then((function(e){n.handleSearchResults(e)}))},n.applyCategoriesByIds=function(e){n.setState({isSearching:!0,searchForQuery:!0}),n.searchTimer&&clearInterval(n.searchTimer),s.bothClients.clients.tagsClient.getTagsById({tagIds:e}).then((function(e){n.handleAppliedTagsResults(e)}))},n.state=Object(i.__assign)(Object(i.__assign)({},t),{searchResults:[],searchQuery:"",isSearching:!1,searchForQuery:!1,onAddCategory:n.onAddCategory,onDeleteCategory:n.onDeleteCategory,onSearchQueryChanged:n.onSearchQueryChanged,onSearchCategory:n.onSearchCategory}),!t.categoryIds||t.tags&&0!=t.tags.length||n.applyCategoriesByIds(t.categoryIds),n}return Object(i.__extends)(t,e),t.prototype.componentDidMount=function(){this.executeSearch("")},t.prototype.error=function(e){r.a.clear(),r.a.error({dangerousHtmlMessage:e})},t.prototype.success=function(e){r.a.clear(),r.a.success({dangerousHtmlMessage:e})},t.prototype.render=function(){return a.createElement(o.a,this.state)},t}(a.Component)}).call(this,n(286),n(0))},1778:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(3),i=n(1665),o=n(22),r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.focus=function(e){e&&e.focus()},e.handleSearchChange=function(t){e.props.onSearchQueryChanged(t.target.value)},e}return Object(a.__extends)(n,t),n.prototype.renderSearchBox=function(){var t=this;return e.createElement("div",{className:"category-filter__search"},e.createElement("div",{className:"category-filter__search-box-container"},e.createElement("input",{ref:function(e){return t.focus(e)},className:"category-filter__search-box",type:"text",placeholder:"Search Tags...",onChange:this.handleSearchChange}),e.createElement("div",{className:"category-filter__search-button",onClick:function(){return t.props.onSearchCategory()}},e.createElement("i",{className:"fa "+(this.props.isSearching?"fa-circle-o-notch fa-spin":"fa-search")}))))},n.prototype.renderCategory=function(t,n,a){var r=this;return e.createElement(i.a,{alignLeft:!0,key:"category-tip-"+n,tipContent:e.createElement("div",{className:"category-filter__tooltip"},e.createElement("p",{className:"category-filter__tooltip-title"},t.name,this.props.showCounts&&e.createElement("span",{className:"category-filter__tooltip-count"},"x ",t.totalCount)),t.fullPath&&e.createElement("p",null,t.fullPath),t.isInherited&&e.createElement("p",{className:"category-filter__tooltip-inherited"},"Automatic Tag"))},e.createElement("div",{key:"category-"+n,className:o("category-filter__category",{"category-filter__category-applied":a}),onClick:function(){a||r.props.onAddCategory(t,n)}},e.createElement("span",{className:"category-filter__category-name"},t.name),a&&e.createElement("span",{className:"category-filter__category-remove fa fa-times",onClick:function(){return r.props.onDeleteCategory(t,n)}})))},n.prototype.renderResults=function(){return this.props.searchForQuery?this.renderResultsSearch():this.renderResultsPupular()},n.prototype.renderResultsSearch=function(){var t=this;return e.createElement("div",{className:"category-filter__results"},e.createElement("div",{className:"category-filter__title"},"Choose from search results"),this.props.searchResults.map((function(e,n){return t.renderCategory(e,n,!1)})))},n.prototype.renderResultsPupular=function(){var t=this;return e.createElement("div",{className:"category-filter__results"},e.createElement("div",{className:"category-filter__title"},"Choose from popular tags"),this.props.searchResults.map((function(e,n){return t.renderCategory(e,n,!1)})))},n.prototype.renderAppliedTags=function(){var t=this;return e.createElement("div",{className:"category-filter__applied"},e.createElement("div",{className:"category-filter__title"},"Applied tags"),this.props.tags.map((function(e,n){return t.renderCategory(e,n,!0)})))},n.prototype.render=function(){var t=this.props.tags&&this.props.tags.length>0;return e.createElement("div",{className:"category-filter"},t&&this.renderAppliedTags(),this.renderSearchBox(),this.renderResults())},n}(e.Component)}).call(this,n(0))},1779:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const a=10,i=(e,t)=>{const n=t&&t.selectedColumns?t.selectedColumns.map(e=>e.firestorePath):void 0;return void 0!==n?n:void 0!==e?e.baseInfo.map(e=>e.firestorePath).slice(0,a):[]}},1780:function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return p}));var a=n(1),i=n.n(a),o=n(1734);const r=i.a.div`
  flex-grow: 1;
  display: flex;
  position: relative;
  line-height: 1.4;
`,s=i.a.div`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  width: 200px;
  flex: 1 1 auto;
`,l=i.a.div`
  flex: 0 0 auto;
  border-bottom: 1px solid ${e=>e.theme.colors.content.borderLight};
`,c=i.a.div`
  display: flex;
  flex: 1 1 0;
  min-height: 0;
`,d=i()(o.a)`
  position: absolute;
  top: ${e=>e.theme.size.pad.s};
  right: ${e=>e.theme.size.pad.s};
  justify-self: right;
`,u=i()(o.a)`
  justify-self: right;
`,m=i.a.div`
  position: relative;
  height: 28px;
  flex: 0 0 auto;
  display: flex;
  border-bottom: 1px solid ${e=>e.theme.colors.content.borderLight};
  padding: ${e=>e.theme.size.pad.m};
  align-items: center;
`,p=i.a.span`
  ${e=>e.theme.font.main.family};
  ${e=>e.theme.font.main.weight.bold};
  color: ${e=>e.theme.colors.text.medium};
  font-size: 1.2em;
  flex: 1 1 auto;
  padding-top: ${e=>e.theme.size.pad.xs};
`},1781:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),i=n.n(a),o=n(0),r=n(1710);const s=i.a.a`
  color: ${e=>e.theme.colors.text.link};
  text-decoration: none;

  &:hover {
    color: ${e=>e.theme.colors.hover.link};
  }
`;function l(){return o.createElement(r.a,{title:"Ooooops, something went wrong.",description:o.createElement(o.Fragment,null,"Please try reopening this dialog. If the problem persists, please contact ",o.createElement(s,{href:"mailto:support@kaggle.com"},"contact support")," and we'll get you squared away.")})}},1782:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1608),i=n(1),o=n.n(i),r=n(0);const s=o.a.div`
  flex-grow: 1;

  display: flex;
  align-items: center;
  justify-content: center;

  color: ${e=>e.theme.colors.kaggle.blueDark};
  padding: ${e=>e.theme.size.pad.m};
`;function l(){return r.createElement(s,null,r.createElement(a.a,{size:"xlarge"}))}},1783:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));const a=[{key:"uploadContainer",icon:"cloud_upload"},{key:"remoteUrlUploadContainer",icon:"link"},{key:"githubContainer",icon:"github"},{key:"kernelOutputContainer",icon:"code"}],i={key:"settings",icon:"settings",isEnd:!0},o={key:"adminFlags",icon:"lock",isEnd:!0},r=e=>e.isAdmin?[...a,o,i]:[...a,i],s=e=>e.isAdmin?[...a,o]:[...a]},1784:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}));var a=n(1752),i=n(1714);const o=(e,t)=>{const{title:n,slug:a,isPrivate:i,licenseId:o,owner:r,referrer:s,flags:c,taskId:d}=t;return Object.assign(Object.assign({},l(e)),{title:n,slug:a,isPrivate:i,licenseId:o,ownerOrganizationId:r.isOrganization?r.id:null,ownerUserId:r.isOrganization?null:r.id,referrer:s,description:null,overview:null,flags:b(c),taskId:d||null})},r=(e,t)=>Object.assign(Object.assign(Object.assign({},l(e)),t),{deleteOldVersions:!1,overview:null,description:null,flags:b(t.flags)}),s=(e,t)=>Object.assign(Object.assign(Object.assign({},l(e)),t),{flags:b(t.flags)}),l=e=>{switch(e.type){case"uploadContainer":return c(e);case"remoteUrlUploadContainer":return h(e);case"githubContainer":return g(e);case"kernelOutputContainer":return f(e)}throw new Error("invalid container supplied")},c=e=>{return{databundleVersionType:"fileset",files:e.files.filter(e=>Object(a.a)(e.state)).map(e=>d(e)),existingFiles:e.existingFiles.map(e=>u(e)),directories:e.directories.map(e=>m(e)),existingDirectories:e.existingDirectories.map(e=>p(e)),remoteUrlInfos:[],githubInfo:null,kernelOutputInfo:null,flags:null}},d=e=>({name:e.name,token:e.state.token}),u=e=>{const t={type:"existingFile",name:e.name,size:e.size};return"firestore"===e.identifier.type?Object.assign(Object.assign({},t),{gcsPath:e.identifier.gcsPath,legacyInfo:null}):Object.assign(Object.assign({},t),{gcsPath:"",legacyInfo:{databundleVersionObjectId:e.identifier.databundleVersionObjectId,blobFileId:e.identifier.blobFileId}})},m=e=>({name:e.name,files:e.files.map(e=>d(e)),directories:e.directories.map(e=>m(e))}),p=e=>({name:e.name,files:e.files.map(e=>u(e)),directories:e.directories.map(e=>p(e))}),h=e=>{return{databundleVersionType:"remoteUrlFileSet",remoteUrlInfos:e.children.filter(e=>{return"remoteUrlUploadFile"===e.type&&"success"===e.state.type||"remoteUrlVersionedFile"===e.type}).map(e=>({name:e.name,url:e.url})),files:[],existingFiles:[],directories:[],existingDirectories:[],githubInfo:null,kernelOutputInfo:null,flags:null}},g=e=>{const t=Object(i.a)(e.url),n={databundleVersionType:"remoteGitRepositoryFileSet",files:[],existingFiles:[],directories:[],existingDirectories:[],remoteUrlInfos:[],githubInfo:null,kernelOutputInfo:null,flags:null};return t?Object.assign(Object.assign({},n),{githubInfo:{ownerSlug:t.owner,repositorySlug:t.repository,lastUpdatedHash:null}}):n},f=e=>"listFiles"!==e.state.type?{databundleVersionType:"kernelOutputFileSet",kernelOutputInfo:{kernelId:0,kernelVersionId:0,kernelOutputFiles:[]},files:[],existingFiles:[],directories:[],existingDirectories:[],remoteUrlInfos:[],githubInfo:null,flags:null}:{databundleVersionType:"kernelOutputFileSet",kernelOutputInfo:{kernelId:e.state.kernel.id,kernelVersionId:e.state.kernel.lastKernelRunId,kernelOutputFiles:[]},files:[],existingFiles:[],directories:[],existingDirectories:[],remoteUrlInfos:[],githubInfo:null,flags:null},b=e=>{if(!e)return null;const{reuseOriginalSingleGcsZip:t,disableRawUpload:n,disableBundleCreation:a,disableIndividualZipCreation:i,disableDirectoryZipCreation:o,gcsUploadUrl:r,disableDecompression:s}=e;return{disableWorker:!1,disableMetadata:!1,disableStatus:!1,disableStatusPubSub:!1,disableFinalResult:!1,disableEmbeddedFilesystem:!0,useStandaloneZipperForBundle:!0,migration:!1,migrationIsCurrentDatabundleVersion:!1,reuseOriginalSingleGcsZip:t,disableRawUpload:n,disableBundleCreation:a,disableDirectoryZipCreation:o,disableIndividualZipCreation:i,disableDecompression:s,gcsUploadUrl:r||null}}},1785:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a=n(3),i=n(8);const o=5e6;function r(e){return Object(a.__awaiter)(this,void 0,void 0,(function*(){const{blobCreationInfo:t}=yield i.discussionsClient.discussionsService.createAttachment({blobFileInfo:{name:e.name,contentType:e.type,contentLength:e.size,lastModifiedDate:{seconds:0,nanos:0}}}),{token:n,createUrl:a}=t,o=yield window.fetch(a,{method:"PUT",body:e});return{name:e.name,gcsInfo:yield o.json(),token:n}}))}function s(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){return new Promise((e,t)=>{const n=document.createElement("input");n.type="file",n.style.display="none",n.addEventListener("change",a=>{const i=Array.from(a.currentTarget.files||[]);i.some(e=>e.size>o)?t():e(i),n.remove()}),document.body.appendChild(n),n.click()})}))}},1786:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(107),i=n(1972),o=n(8),r=n(1),s=n.n(r),l=n(0),c=n(1703),d=n(1856),u=n(1726),m=n(1885);const p=s.a.div`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: 4px;
  display: flex;

  ${a.k} {
    border-radius: 0;
    border-left: 0;
    border-right: 0;
  }
`,h=s.a.div`
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  padding: ${e=>e.theme.material.spacing(5)};
`,g=s.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,f=s()(i.a)`
  && {
    width: 100%;
  }
`,b=s.a.div`
  background: ${e=>e.theme.material.color.brand.grey[50]};
  border-right: 1px solid ${e=>e.theme.material.color.brand.grey[200]};

  ${a.k} {
    display: none;
  }
`,v=s.a.div`
  margin-top: ${e=>e.theme.material.spacing(2)};
`,y=s.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(6)};
`;function w({user:e,allowAttachments:t,forumUrl:n,forumId:a,authorType:i}){const[r,s]=l.useState(""),w=l.useRef(null),[E,x]=l.useState([]),C=l.useCallback(()=>{null!==w.current&&(window.location.href=`${n}/${w.current}`)},[n]),k=l.useCallback(e=>{x(e)},[]);return l.createElement(p,null,l.createElement(b,null,e&&l.createElement(d.a,{model:e,authorType:i})),l.createElement(h,null,l.createElement(g,null,l.createElement(f,{label:"Topic Title",value:r,onChange:e=>s(e.target.value)})),o.featureFlags.tagsExperimentUI?l.createElement(y,null,l.createElement(m.a,{tags:E,onSaveTags:k})):null,l.createElement(v,null,l.createElement(u.a,{allowAttachments:t,markdown:"",isEditing:!0,confirmButtonText:"Publish Topic",attachments:[],onSave:e=>o.discussionsClient.discussionsService.createTopic({forumId:a,topicName:r,message:{markdown:e.markdown,html:e.html,blobFileTokens:Object(c.d)(e.attachments)},tagIds:E.map(e=>e.id)}).then(({topicId:e,messageId:t})=>(w.current=e,{messageId:t})),onSaveSuccess:C,isTopicContent:!0,user:e}))))}},1787:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0);const i=a.createContext({isAdmin:!1,isProductFeedback:!1})},1788:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n(3),i=n(1413),o=n(0),r=n(22),s=n(1646),l=n(1631),c=n(1657),d=n(1764),u=n(1739),m=n(1421),p=n(30),h=n(1741),g=n(1661),f=n(1641),b=n(1644),v=n(1651),y=n(1654),w=n(1816),E=n(1738),x=n(1647),C=n(97),k=n(1699),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.comment;return o.createElement("div",null,o.createElement(b.a,{isShown:this.props.showDeleteConfirm,title:"Delete Topic?",children:"You are about to delete this topic.",confirmText:"Delete",cancelText:"Cancel",isDangerousAction:!0,onConfirm:function(){return e.props.onConfirmedDelete()},onCancel:function(){return e.props.onCanceledDelete()}}),t.isDeleted?function(e,t){return o.createElement("div",null,o.createElement(s.b,{minWidth:s.a.desktopMin},o.createElement("div",{className:"topic"},o.createElement("div",{className:"topic__author"}),o.createElement("div",{className:"topic__body-wrapper"},o.createElement("div",{className:"topic__body"},o.createElement("div",{className:"topic__title"},"[Deleted Topic]"),o.createElement("div",{className:"topic__subtitle"},"posted in ",o.createElement("a",{className:"topic__parent-link",href:e.parentUrl,title:e.parentName},e.parentName)," ",t.postDate&&o.createElement(i.a,{time:t.postDate})),o.createElement("div",{className:"topic__content"},"This Topic was deleted."))))),o.createElement(s.b,{minWidth:0,maxWidth:s.a.tabletMax},o.createElement("div",{className:"topic"},o.createElement("div",{className:"topic__body"},o.createElement("div",{className:"topic__body-header"},o.createElement("div",{className:"topic__title"},"[Deleted Topic]"),o.createElement("div",{className:"topic__subtitle"},"posted in ",o.createElement("a",{className:"topic__parent-link",href:e.parentUrl,title:e.parentName},e.parentName)," ",t.postDate&&o.createElement(i.a,{time:t.postDate}))),o.createElement("div",{className:"topic__content"},"This Topic was deleted.")))),o.createElement(w.a,{allowAttachments:e.allowAttachments,applyQuote:e.applyQuote,canDownvote:e.canDownvote,initialState:e.commentList,submitTopLevelPostToServer:e.submitTopLevelPostToServer,allowReplies:!1,topicId:e.id,setTopLevelPostEditorMinimized:function(e){},topLevelPostEditorMinimized:!0}))}(t,n):function(e,t){return o.createElement("div",null,o.createElement(l.a,{buttonClassName:"discussion-comment__hidden",className:"flag-form__wrapper",modalIsShown:e.showFlagForm,onClose:e.onFlagFormClosed},o.createElement(k.a,null,o.createElement(k.f,null,"Report Topic"),o.createElement(k.e,{submitMethod:e.onFlagSubmit,onCancel:e.onFlagFormClosed,requireExplanationText:!1,reasons:k.c}))),o.createElement(l.a,{modalIsShown:e.showFeedbackTracking,onClose:e.onFeedbackTrackingClosed},o.createElement(E.a,{feedbackTrackingData:e.comment.feedbackTrackingData,onClose:e.onFeedbackTrackingClosed,onSubmit:e.onFeedbackTrackingSubmit})),o.createElement(s.b,{minWidth:s.a.desktopMin},o.createElement("div",{className:"topic"},o.createElement("div",{className:"topic__author"},o.createElement(c.a,Object(a.__assign)({},t.author,{hideTooltip:!0,width:75})),o.createElement("a",{className:r("topic__author-link","host"==t.authorType?"topic__author-link--competition-host":"admin"==t.authorType?"topic__author-link--site-admin":null),href:t.author.userUrl,title:t.author.displayName},t.author.displayName),o.createElement("span",{className:"topic__author-ranking"},t.competitionRanking?o.createElement("span",null,o.createElement(d.a,null,t.competitionRanking)," place"):null),o.createElement("span",{className:"topic__author-options"},t.titleOptions?t.titleOptions.map((function(e,t){return[o.createElement("a",{key:"link-"+t,className:r("topic__author-option",e.className),href:e.href,onClick:e.onClick},e.text),o.createElement("span",{key:"spacer-"+t,className:"topic__author-option-spacer"},"|")]})):null)),o.createElement("div",{className:"topic__body-wrapper"},o.createElement("div",{className:"topic__body"},o.createElement("div",{className:"topic__body-header"},o.createElement("div",{className:"topic__title"},e.showEditForm?o.createElement(u.a,{className:"topic__title-editor",onChangeCallback:e.editTitleDraftChanged,placeholder:"Topic Title...",value:e.editTitleDraft}):e.title,o.createElement("div",{className:"topic__subtitle"},"posted in ",o.createElement("a",{className:"topic__parent-link",href:e.parentUrl,title:e.parentName},e.parentName)," ",t.postDate&&o.createElement(i.a,{time:t.postDate}))),t.medal?o.createElement("img",{className:"topic__medal",src:("/static/images/medals/discussion/"+t.medal+"l@1x.png").toLowerCase(),title:t.medal}):o.createElement("div",{className:"topic__medal"}),e.isNew?null:o.createElement(m.VoteButton,{canDownvote:e.canDownvote&&p.a.userId!=t.author.id,canUpvote:p.a.userId!=t.author.id,hasAlreadyVotedDown:-1===t.currentUserVote,hasAlreadyVotedUp:1===t.currentUserVote,totalVotes:t.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+t.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+t.id,voteResumeUrl:"/account/resume-action?event=vote&forumMessageId="+t.id,onVoteUpSuccess:x.a.upvoteForumTopic,onVoteDownSuccess:x.a.downvoteForumTopic})),o.createElement("div",{className:"topic__content"},e.showEditForm?[o.createElement(v.a,{key:"new-editor-desktop",debounceInterval:2e3,onSubmit:e.editSubmitted,placeholder:"Topic Content...",preview:e.showEditPreview,value:e.editDraft,ref:e.markdownTopicRef}),o.createElement("span",{key:"spacer",className:r((t.attachments||[]).length>0||e.newAttachments.length>0?"topic__attachment-spacer":null)}),o.createElement(h.a,{key:"file-list",compact:!0,fileListItems:t.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:e.onAttachmentDeleted}),o.createElement(h.a,{key:"file-list-new",compact:!0,fileListItems:e.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:e.onAttachmentDeleted}),o.createElement("div",{key:"action-buttons",className:"topic__action-buttons"},e.allowAttachments?o.createElement(g.a,{bucket:Kaggle.Blobs.Enums.ClientBlobBucket.Name.ForumMessageAttachmentFiles,compact:!0,onBlobUploaded:function(t,n,a){return e.onAttachmentAdded(n,t,a)}}):null,o.createElement("span",{className:"topic__flex-spacer"}),o.createElement("span",{className:"topic__edit-submit-wrapper"},!e.isNew&&o.createElement(f.a,{useKM:!0,emphasis:"low",onClick:e.comment.titleOptions.find((function(e){return"Edit"===e.text})).onClick},"Cancel"),o.createElement(f.a,{useKM:!0,emphasis:"medium",onClick:e.toggleEditPreview,text:e.showEditPreview?"Edit":"Preview"}),o.createElement("div",{className:"topic__editor-submit-spacer"}),o.createElement(f.a,{useKM:!0,isDisabled:e.isSubmittingEdit,onClick:e.editSubmitted,text:e.isNew?"Publish Topic":"Save Changes"})))]:[o.createElement(y.a,{key:"markdown-renderer-desktop",value:t.rawMarkdown||t.content||""}),o.createElement("span",{key:"spacer",className:r((t.attachments||[]).length>0||e.newAttachments.length>0?"topic__attachment-spacer":null)}),o.createElement(h.a,{key:"file-list",compact:!0,fileListItems:t.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:e.onAttachmentDeleted}),o.createElement(h.a,{key:"file-list-new",compact:!0,fileListItems:e.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:e.onAttachmentDeleted})]),e.showOptions?o.createElement("span",{className:"topic__options"},o.createElement("div",{className:"topic__options-section"},t.leftOptions.map((function(e,t){return[o.createElement("a",{key:"link-"+t,className:r("topic__option",e.className),href:e.href,onClick:e.onClick},e.text),o.createElement("span",{key:"spacer-"+t,className:"topic__option-spacer"},"|")]}))),o.createElement("div",{className:"topic__options-section"},t.rightOptions.map((function(e,t){return[o.createElement("a",{key:"link-"+t,className:r("topic__option",e.className),href:e.href,onClick:e.onClick},e.text),o.createElement("span",{key:"spacer-"+t,className:"topic__option-spacer"},"|")]})))):null),e.showUpvoters?o.createElement("div",{className:"topic__upvoters"},e.comment.upvoters.map((function(e,t){return o.createElement(c.a,Object(a.__assign)({key:t,className:"topic__upvoter"},e))}))):null))),o.createElement(s.b,{minWidth:0,maxWidth:s.a.tabletMax},o.createElement("div",{className:"topic"},o.createElement("div",{className:"topic__body"},o.createElement("div",{className:"topic__body-header"},o.createElement("div",{className:"topic__title"},e.isNew?null:o.createElement("span",{className:"topic__vote-button"},o.createElement(m.VoteButton,{canDownvote:e.canDownvote&&p.a.userId!=t.author.id,canUpvote:p.a.userId!=t.author.id,hasAlreadyVotedDown:-1===t.currentUserVote,hasAlreadyVotedUp:1===t.currentUserVote,totalVotes:t.votes,voteDownUrl:"/forums/messages/downvote?forumMessageId="+t.id,voteUpUrl:"/forums/messages/upvote?forumMessageId="+t.id,voteResumeUrl:"/account/resume-action?event=vote&forumMessageId="+t.id,onVoteUpSuccess:x.a.upvoteForumTopic,onVoteDownSuccess:x.a.downvoteForumTopic})),e.showEditForm?o.createElement(u.a,{className:"topic__title-editor",onChangeCallback:e.editTitleDraftChanged,placeholder:"Topic Title...",value:e.editTitleDraft}):o.createElement("span",{className:"topic__title-text"},e.title)),o.createElement("div",{className:"topic__subtitle"},"by ",o.createElement("a",{className:r("topic__author-link","host"==t.authorType?"topic__author-link--competition-host":"admin"==t.authorType?"topic__author-link--site-admin":null),href:t.author.userUrl,title:t.author.displayName},e.comment.author.displayName),"in ",o.createElement("a",{className:"topic__parent-link",href:e.parentUrl,title:e.parentName},e.parentName)," ",t.postDate?o.createElement("span",{className:"topic__timeago"},o.createElement(i.a,{time:t.postDate})):null)),o.createElement("div",{className:"topic__content"},e.showEditForm?[o.createElement(v.a,{debounceInterval:2e3,key:"new-editor-tablet",onSubmit:e.editSubmitted,placeholder:"Topic Content...",preview:e.showEditPreview,value:e.editDraft,ref:e.markdownTopicRef}),o.createElement("span",{key:"spacer",className:r((t.attachments||[]).length>0||e.newAttachments.length>0?"topic__attachment-spacer":null)}),o.createElement(h.a,{key:"file-list",compact:!0,fileListItems:t.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!0,canDelete:!0,deleteCallback:e.onAttachmentDeleted}),o.createElement(h.a,{key:"file-list-new",compact:!0,fileListItems:e.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!0,canDelete:!0,deleteCallback:e.onAttachmentDeleted}),o.createElement("div",{key:"action-buttons",className:"topic__action-buttons"},e.allowAttachments?o.createElement(g.a,{bucket:Kaggle.Blobs.Enums.ClientBlobBucket.Name.ForumMessageAttachmentFiles,compact:!0,onBlobUploaded:function(t,n,a){return e.onAttachmentAdded(n,t,a)}}):null,o.createElement("span",{className:"topic__flex-spacer"}),o.createElement("span",{className:"topic__edit-submit-wrapper"},!e.isNew&&o.createElement(f.a,{useKM:!0,emphasis:"low",onClick:e.comment.titleOptions.find((function(e){return"Edit"===e.text})).onClick},"Cancel"),o.createElement(f.a,{className:r("topic__editor-preview"),onClick:e.toggleEditPreview,text:e.showEditPreview?"Edit":"Preview"}),o.createElement("div",{className:"topic__editor-submit-spacer"}),o.createElement(f.a,{className:r("topic__editor-submit",e.isNew?"topic__editor-submit--new":null),isDisabled:e.isSubmittingEdit,onClick:e.editSubmitted,text:e.isNew?"Publish Topic":"Save Changes"})))]:[o.createElement(y.a,{key:"markdown-renderer-tablet",value:t.rawMarkdown||t.content||""}),o.createElement("span",{key:"spacer",className:r((t.attachments||[]).length>0||e.newAttachments.length>0?"topic__attachment-spacer":null)}),o.createElement(h.a,{key:"file-list",compact:!0,fileListItems:t.attachments||[],fileListKeyBaseName:"attachment-",isEditing:!1,deleteCallback:e.onAttachmentDeleted}),o.createElement(h.a,{key:"file-list-new",compact:!0,fileListItems:e.newAttachments,fileListKeyBaseName:"new-attachment-",isEditing:!1,deleteCallback:e.onAttachmentDeleted})])),o.createElement("div",{className:"topic__author-options"},t.titleOptions?t.titleOptions.map((function(e,t){return o.createElement("a",{key:t,className:r("topic__author-option",e.className),href:e.href,onClick:e.onClick},e.text)})):null),e.showOptions?o.createElement("span",{className:"topic__options"},t.leftOptions.map((function(e,t){return o.createElement("a",{key:t,className:r("topic__option",e.className),href:e.href,onClick:e.onClick},e.text)})),t.rightOptions.map((function(e,t){return o.createElement("a",{key:t,className:r("topic__option",e.className),href:e.href,onClick:e.onClick},e.text)}))):null,e.showUpvoters?o.createElement("div",{className:"topic__upvoters"},e.comment.upvoters.map((function(e,t){return o.createElement(c.a,Object(a.__assign)({key:t,className:"topic__upvoter"},e))}))):null)),e.isNew?null:o.createElement(w.a,{allowAttachments:e.allowAttachments,allowReplies:!e.isLocked,canDownvote:e.canDownvote,initialState:e.commentList,submitTopLevelPostToServer:e.submitTopLevelPostToServer,setTopLevelPostEditorMinimized:e.setTopLevelPostEditorMinimized,topLevelPostEditorMinimized:e.topLevelPostEditorMinimized,topicId:e.id,applyQuote:e.applyQuote}))}(t,n))},t.prototype.componentDidMount=function(){Object(C.c)("discussions","view",{ForumId:"",TopicId:this.props.id})},t}(o.Component)},1789:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var a=n(3),i=n(1),o=n.n(i),r=n(10),s=n(386),l=n(1641),c=n(1468),d=n(1771),u=o.a.div.withConfig({displayName:"SubscribeDropdown_Wrapper",componentId:"sc-13onyt4"})(f||(f=Object(a.__makeTemplateObject)(["\n  display: inline-block;\n"],["\n  display: inline-block;\n"]))),m=o.a.span.withConfig({displayName:"SubscribeDropdown_Text",componentId:"sc-1gqyory"})(b||(b=Object(a.__makeTemplateObject)(["\n  padding-left: ",";\n"],["\n  padding-left: ",";\n"])),r.g.PadS),p=o.a.span.withConfig({displayName:"SubscribeDropdown_CheckmarkWrapper",componentId:"sc-ip12a6"})(v||(v=Object(a.__makeTemplateObject)(["\n  visibility: ",";\n"],["\n  visibility: ",";\n"])),(function(e){return e.isVisible?"visible":"hidden"}));function h(t){var n=t.isVisible;return e.createElement(p,{isVisible:n},e.createElement(s.b,{name:"check"}))}o()((function(t){return e.createElement(C,{className:t.className,toggleable:!0,toggled:t.toggled,onClick:t.onClick},t.children)})).withConfig({displayName:"SubscribeDropdown_StyledSubscribeButton",componentId:"sc-1ko4rwn"})(y||(y=Object(a.__makeTemplateObject)(["\n  border: 1px solid ",";\n  border-radius: "," - 1px;\n  color: ",";\n  cursor: pointer;\n  font-size: ",";\n  font-weight: ",";\n  margin-left: ",";\n  padding: 6px ","; /* optical */\n  text-decoration: none;\n  line-height: 1;\n  height: auto;\n  width: 80px;\n\n  &:hover {\n    border-color: ",";\n    color: ",";\n  }\n"],["\n  border: 1px solid ",";\n  border-radius: "," - 1px;\n  color: ",";\n  cursor: pointer;\n  font-size: ",";\n  font-weight: ",";\n  margin-left: ",";\n  padding: 6px ","; /* optical */\n  text-decoration: none;\n  line-height: 1;\n  height: auto;\n  width: 80px;\n\n  &:hover {\n    border-color: ",";\n    color: ",";\n  }\n"])),r.b.TextLink,r.g.BorderRadius,r.b.TextLink,r.d.FontSizeS,r.d.FontWeightMedium,r.g.PadM,r.g.PadS,r.b.TextLinkHover,r.b.TextLinkHover);function g(t){var n=!("unsubscribe"==t.subscribeState),a=e.createElement(_,{expanded:t.expanded},n&&e.createElement(k,{onClick:function(){return t.onSubscribeClick("unsubscribe")}},e.createElement(h,{isVisible:!1}),e.createElement(m,null,"Unfollow")),e.createElement(k,{onClick:function(){return t.onSubscribeClick("subscribeSingle")}},e.createElement(h,{isVisible:"subscribeSingle"==t.subscribeState}),e.createElement(m,null,"Follow ",t.text)),e.createElement(k,{onClick:function(){return t.onSubscribeClick("subscribeAll")}},e.createElement(h,{isVisible:"subscribeAll"==t.subscribeState}),e.createElement(m,null,"Follow ",t.text," & ",t.childText)));return e.createElement(u,{ref:t.wrapperRef,style:t.wrapperStyle,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave},e.createElement(c.a,{useKM:!0,emphasis:"low",onClick:t.onClick},n?"Following":"Follow"),a)}var f,b,v,y,w,E,x,C=o()(l.a).withConfig({displayName:"SubscribeDropdown_FollowButton",componentId:"sc-o2m2t3"})(w||(w=Object(a.__makeTemplateObject)(["\n  background: ",";\n\n  :hover {\n    background: ",";\n  }\n"],["\n  background: ",";\n\n  :hover {\n    background: ",";\n  }\n"])),r.b.PureWhite,r.b.PureWhite),k=o()(d.b).withConfig({displayName:"SubscribeDropdown_Option",componentId:"sc-nlmkwr"})(E||(E=Object(a.__makeTemplateObject)(["\n  padding: ",";\n  :hover {\n    color: ",";\n  }\n"],["\n  padding: ",";\n  :hover {\n    color: ",";\n  }\n"])),r.g.PadS,r.b.TextLinkHover),_=o()(d.e).withConfig({displayName:"SubscribeDropdown_HideableDropdownWrapper",componentId:"sc-j3i8uh"})(x||(x=Object(a.__makeTemplateObject)(["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  box-shadow: 0 0px 6px rgba(0, 0, 0, 0.06), 0 6px 12px rgba(0, 0, 0, 0.12);\n  border-top-left-radius: 0;\n  position: absolute;\n  z-index: 100;\n  cursor: pointer;\n  margin: 0px;\n\n  display: ",";\n"],["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  box-shadow: 0 0px 6px rgba(0, 0, 0, 0.06), 0 6px 12px rgba(0, 0, 0, 0.12);\n  border-top-left-radius: 0;\n  position: absolute;\n  z-index: 100;\n  cursor: pointer;\n  margin: 0px;\n\n  display: ",";\n"])),r.b.ContentBackground,r.b.ContentBorder,r.g.BorderRadius,(function(e){return e.expanded?"block":"none"}))}).call(this,n(0))},1805:function(e,t,n){"use strict";var a=n(3),i=n(8),o=n(1),r=n.n(o),s=n(0),l=n(1428),c=n(1697),d=n(1749),u=n(1820),m=n(1690),p=n(1632),h=n(1645),g=n(1664),f=n(383),b=n(1416);const v=r.a.div`
  display: flex;
  align-items: center;
  color: ${e=>e.theme.material.color.text[70]};
`,y=r()(f.r)`
  display: flex;
  white-space: nowrap;
`,w=r()(f.r.withComponent("button"))`
  display: flex;
  white-space: nowrap;
  background: none;
  border: none;

  &:hover {
    cursor: pointer;
    color: ${e=>e.theme.material.color.anchor.hover};
  }

  &:disabled {
    cursor: default;
    color: ${e=>e.theme.material.color.text[70]};
  }
`,E=r()(b.a)`
  margin-right: ${e=>e.theme.material.spacing(1)};
`,x=r()(b.a)`
  margin: 0 ${e=>e.theme.material.spacing(2)} 0
    ${e=>e.theme.material.spacing(2)};
`;function C({path:e,onPathChange:t,className:n}){const a=s.useContext(p.a);return s.createElement(v,{className:n},s.createElement(w,{key:"root-path",disabled:a,onClick:()=>t([])},s.createElement(E,{icon:"folder",size:"small"}),"root"),s.createElement(x,{icon:"chevron_right",size:"xsmall"}),e.map((n,i)=>{const o=i===e.length-1,r=e.slice(0,i+1),l=o?s.createElement(y,null,s.createElement(E,{icon:"folder",size:"small"}),n):s.createElement(w,{disabled:a,onClick:()=>t(r)},s.createElement(E,{icon:"folder",size:"small"}),n);return s.createElement(s.Fragment,{key:r.join("/")},l,!o&&s.createElement(x,{icon:"chevron_right",size:"xsmall"}))}))}var k=n(385),_=n(287);const S=r()(f.b.withComponent("li"))`
  list-style-type: none;
  padding: 0 ${e=>e.theme.size.pad.m};

  &:hover {
    cursor: ${e=>e.isDisabled?"default":"pointer"};
    background-color: ${e=>e.isDisabled?"transparent":e.theme.colors.hover.light};
  }
`;function O({children:e,onHover:t,onClick:n,className:a}){const i=s.useContext(p.a);return s.createElement(S,{isDisabled:i,onMouseOver:!i&&t?()=>t(!0):void 0,onMouseLeave:!i&&t?()=>t(!1):void 0,onClick:i?void 0:n,className:a},e)}var T=n(1426);const j=r()(T.a)`
  width: 200px;
  height: ${e=>e.theme.font.main.size.m};
`,I=r.a.div`
  display: flex;
  align-items: center;
  color: ${e=>e.theme.colors.text.light};
  padding: ${e=>e.theme.size.pad.xs};
`,N=r.a.div`
  color: ${e=>e.theme.colors.text.medium};
  flex: 1 1 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,D=r()(f.e)`
  color: ${e=>e.theme.colors.text.light};
`,$=r()(e=>{const t=s.useContext(p.a),{percent:n,className:a}=e;return s.createElement(j,{className:a,strokeLinecap:"butt",percent:n,strokeWidth:4,trailWidth:0,strokeColor:t?"rgba(0,0,0,0.4)":"#86dcff","data-testid":"progress-bar"})})`
  margin-right: ${e=>e.theme.size.pad.s};
`,M=r()(f.e.withComponent("div"))`
  padding: ${e=>e.theme.size.pad.xs} 27px ${e=>e.theme.size.pad.s} 27px;
`,U=r.a.p`
  margin: 0;
`,P=r()(f.u.withComponent("button"))`
  font-size: ${e=>e.theme.material.typography.caption.fontSize};
  padding: 0 0 0 ${e=>e.theme.material.spacing(1)};

  border: none;
  background: none;

  &:hover {
    cursor: pointer;
  }
`;function F(e){const t=s.useContext(p.a),{error:n}=e,a="folder-error"===n.type?"Folder contains files that failed to upload.":"folder-duplication"===n.type?"Folder contains files that exist in other datasets or competitions.":s.createElement(s.Fragment,null,"This file already exists in ",n.entity," ",s.createElement(f.u,{title:`${n.entityName} ${n.entity}`,href:n.href,target:"_blank",rel:"noopener"},n.entityName," ",s.createElement(b.a,{icon:"open_in_new",size:"inline"})),". Consider removing it and using the existing data source."),i="folder-error"===n.type?"Remove Failed Uploads":"folder-duplication"===n.type?"Remove Duplicates":void 0;return s.createElement(M,null,s.createElement(U,null,a,!t&&"file-duplication"!==n.type&&s.createElement(P,{onClick:n.onAction},i)))}var R=n(1639);const z=r()(({isDisabled:e,...t})=>s.createElement(b.a,Object.assign({},t)))`
  color: ${e=>Object(R.e)(e.isDisabled,e.theme.colors.kaggle.orange,e.theme.colors.text.light)};
`,L=e=>{const{isDisabled:t,onRemove:n}=e;return n?s.createElement(R.b,null,s.createElement(R.c,{disabled:t,onClick:n},s.createElement(b.a,{icon:"close",size:"inline","data-testid":"duplicate-remove-icon"}))):s.createElement(R.b,null,s.createElement(z,{isDisabled:t,icon:"warning",size:"inline","data-testid":"duplicate-icon"}))};var A=n(1711),V=n(1712);function B(e){const t=s.useContext(p.a),{directory:n,onRemove:a}=e;return Object(h.i)(n,"failed")?s.createElement(A.a,{isDisabled:t,onRemove:a}):Object(h.i)(n,"duplicate")?s.createElement(L,{isDisabled:t,onRemove:a}):Object(h.i)(n,"uploading")?s.createElement(R.c,{disabled:t,onClick:a},s.createElement(b.a,{icon:"close","data-testid":"remove-upload-button"})):s.createElement(V.a,{isDisabled:t,onRemove:a})}const K=r()(b.a)`
  margin-right: ${e=>e.theme.size.pad.s};
`;function H(e){const t=s.useContext(p.a),[n,a]=s.useState(!1),{directory:i,className:o,onNavigate:r,onRemove:l,onRemoveDuplicates:c,onRemoveFailed:d}=e,u=Object(h.i)(i,"failed")?s.createElement(F,{error:{type:"folder-error",onAction:e=>{e.stopPropagation(),d()}}}):Object(h.i)(i,"duplicate")?s.createElement(F,{error:{type:"folder-duplication",onAction:e=>{e.stopPropagation(),c()}}}):void 0,m=Object(h.h)(i),g=k(Object(h.e)(i)),f=Object(h.d)(i);return s.createElement(O,{key:i.name,onClick:t?void 0:r,onHover:a,className:o},s.createElement(I,null,s.createElement(K,{icon:"folder",size:"small"}),s.createElement(N,null,i.name," ",s.createElement(D,null,"(",g,", ",f," ",_("file",f),")")),m<100&&s.createElement($,{percent:m}),s.createElement(B,{directory:i,onRemove:n?e=>{e.stopPropagation(),l()}:void 0})),u)}var q=n(1634);function W(e){const t=s.useContext(p.a),{fileState:n,onRemove:a}=e;return"uploading"===n.type?s.createElement(s.Fragment,null,s.createElement(R.c,{disabled:t,onClick:a},s.createElement(b.a,{icon:"close","data-testid":"remove-upload-button"}))):"failed"===n.type?s.createElement(A.a,{isDisabled:t,onRemove:a}):"duplicate"===n.type?s.createElement(L,{isDisabled:t,onRemove:a}):s.createElement(V.a,{isDisabled:t,onRemove:a})}const G=r()(O)`
  &:hover {
    cursor: default;
  }
`,Q=r()(b.a)`
  margin-right: ${e=>e.theme.size.pad.s};
`;function Y(e){const[t,n]=s.useState(!1),{file:a,onRemove:i}=e,o=Object(q.f)(Object(q.e)(name)),r=s.createElement(Q,{icon:o});return s.createElement(G,{onHover:n},s.createElement(I,null,r,s.createElement(N,null,a.name," ",s.createElement(D,null,"(",k(a.size),")")),"uploading"===a.state.type&&s.createElement($,{percent:a.state.percentComplete}),s.createElement(W,{fileState:a.state,onRemove:t?i:void 0})),"duplicate"===a.state.type&&s.createElement(F,{error:{type:"file-duplication",entityName:a.state.duplication.name,href:a.state.duplication.url,entity:a.state.duplication.type}}))}const X=r.a.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,J=r()(C)`
  overflow-x: auto;
  overflow-y: hidden;
  margin: ${e=>e.theme.size.pad.l} ${e=>e.theme.size.pad.m};
  ::-webkit-scrollbar {
    height: ${e=>e.theme.material.spacing(1)};
  }
  ::-webkit-scrollbar-thumb {
    background-color: ${e=>e.theme.material.color.brand.grey[200]};
  }
`,Z=r.a.div`
  padding: ${e=>e.theme.material.spacing(2)};
`;function ee(e){const t=s.useContext(p.a),{path:n,directory:a,onOpenFileDialog:i,onPathChange:o,onRemove:r,onRemoveDuplicates:l,onRemoveFailed:c}=e,{directories:d,files:u}=a;return s.createElement(s.Fragment,null,s.createElement(X,null,s.createElement(J,{path:n,onPathChange:o}),s.createElement(Z,null,s.createElement(g.a,{isDisabled:t,onClick:i}))),d.map(e=>{const t=[...n,e.name];return s.createElement(H,{key:t.join("/"),directory:e,onNavigate:()=>o(t),onRemove:()=>r({type:"uploadDirectory",parts:t}),onRemoveDuplicates:()=>l(t),onRemoveFailed:()=>c(t)})}),u.map(e=>{const t=[...n,e.name];return s.createElement(Y,{key:t.join("/"),file:e,onRemove:()=>r({type:"uploadFile",parts:t})})}))}var te=n(579);const ne=r.a.div`
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  right: 0;

  display: flex;
  justify-content: center;
  align-items: center;
  opacity: 0.96;

  background-color: ${e=>Object(te.lighten)(.05,e.theme.colors.kaggle.blueLightest)};
  z-index: ${e=>e.theme.zindex.foreground};
`,ae=r()(f.a)`
  color: ${e=>e.theme.colors.text.link};
`;function ie(){return s.createElement(ne,null,s.createElement(ae,null,"Drop to upload new file(s)"))}const oe=r.a.div`
  display: flex;
  flex: 1 1 0;
  flex-direction: column;
  position: relative;
  overflow-y: auto;
`;function re(e){const{getRootProps:t,getInputProps:n,isDragActive:a,children:i}=e;return s.createElement(oe,Object.assign({},t()),s.createElement("input",Object.assign({},n(),{"data-testid":"dropzone-input"})),a&&s.createElement(ie,null),i)}var se=n(1468);const le=r.a.div`
  flex-grow: 1;

  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  padding: ${e=>e.theme.size.pad.m};
`,ce=r()(f.o)`
  ${e=>e.theme.font.main.weight.light};
  color: ${e=>e.theme.colors.kaggle.gray};
  margin: 0 0 ${e=>e.theme.size.pad.l} 0;
`,de=r()(b.a)`
  background-color: ${e=>e.theme.colors.hover.light};
  border-radius: 50%;
  box-shadow: 0px 0px 40px -5px ${e=>e.theme.colors.kaggle.blueDark};
  color: ${e=>e.theme.colors.kaggle.blueDark};
  font-size: 48px;
  margin: ${e=>e.theme.size.pad.m} 0;
  padding: ${e=>e.theme.size.pad.l};
`,ue=r()(f.o.withComponent("div"))`
  ${e=>e.theme.font.main.weight.normal};
  margin: ${e=>e.theme.size.pad.s} 0;
`,me=r()(se.a)`
  margin: 16px 0 !important;
`,pe=r()(f.b)`
  width: 240px;
  color: ${e=>e.theme.colors.kaggle.gray};
  margin: ${e=>e.theme.size.pad.xs} 0;
  text-align: center;
`,he=r()(f.u)`
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
`;function ge(e){const t=s.useContext(p.a),{onOpenFileDialog:n}=e,a="https://www.kaggle.com/docs/datasets#creating-a-dataset";return s.createElement(le,null,s.createElement(ce,null,"Drop your files and folders here"),s.createElement(de,{icon:"content_copy",size:"xlarge"}),s.createElement(ue,null,"or"),s.createElement(me,{useKM:!0,disabled:t,onClick:n},"Select Files to Upload"),s.createElement(pe,null,"Consider zipping large directories to speed up your uploads"),s.createElement(he,{href:a,title:"Tips for creating a dataset",target:"_blank",rel:"noopener",onClick:()=>{window.open(a,"_blank")}},"Learn more"))}const fe=r()(b.a)`
  margin-right: ${e=>e.theme.size.pad.s};
`;function be(e){const t=s.useContext(p.a),{directory:n,className:a,onNavigate:i,onRemove:o}=e,r=k(Object(h.e)(n)),l=Object(h.d)(n);return s.createElement(O,{key:n.name,onClick:t?void 0:i,className:a},s.createElement(I,null,s.createElement(fe,{icon:"folder",size:"small"}),s.createElement(N,null,n.name," ",s.createElement(D,null,"(",r,", ",l," ",_("file",l),")")),s.createElement(R.c,{disabled:t,onClick:e=>{e.stopPropagation(),o()},"data-testid":"remove-directory-icon"},s.createElement(b.a,{icon:"close"}))))}const ve=r()(O)`
  &:hover {
    cursor: default;
  }
`,ye=r()(b.a)`
  margin-right: ${e=>e.theme.size.pad.s};
`;function we(e){const t=s.useContext(p.a),{file:n,onRemove:a}=e,i=Object(q.f)(Object(q.e)(name)),o=s.createElement(ye,{icon:i});return s.createElement(ve,null,s.createElement(I,null,o,s.createElement(N,null,n.name," ",s.createElement(D,null,"(",k(n.size),")")),s.createElement(R.c,{disabled:t,onClick:a},s.createElement(b.a,{icon:"close","data-testid":"remove-file-icon"}))))}const Ee=r.a.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,xe=r()(C)`
  overflow-x: auto;
  overflow-y: hidden;
  margin: ${e=>e.theme.size.pad.l} ${e=>e.theme.size.pad.m};
  ::-webkit-scrollbar {
    height: ${e=>e.theme.material.spacing(1)};
  }
  ::-webkit-scrollbar-thumb {
    background-color: ${e=>e.theme.material.color.brand.grey[200]};
  }
`,Ce=r.a.div`
  padding: ${e=>e.theme.material.spacing(2)};
`;function ke(e){const t=s.useContext(p.a),{path:n,directory:a,onOpenFileDialog:i,onPathChange:o,onRemove:r}=e,{directories:l,files:c}=a;return s.createElement(s.Fragment,null,s.createElement(Ee,null,s.createElement(xe,{path:n,onPathChange:o}),s.createElement(Ce,null,s.createElement(g.a,{isDisabled:t,onClick:i}))),l.map(e=>{const t=[...n,e.name];return s.createElement(be,{key:t.join("/"),directory:e,onNavigate:()=>o(t),onRemove:()=>r({type:"existingDirectory",parts:t})})}),c.map(e=>{const t=[...n,e.name];return s.createElement(we,{key:t.join("/"),file:e,onRemove:()=>r({type:"existingFile",parts:t})})}))}const _e=r.a.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,Se=r.a.div`
  padding: ${e=>e.theme.material.spacing(2)};
`,Oe=r()(f.b)`
  font-style: italic;
  color: ${e=>e.theme.colors.text.medium};
  margin-left: ${e=>e.theme.size.pad.l};
`;function Te(e){const t=s.useContext(p.a),{container:n,onOpenFileDialog:a,onPathChange:i,onRemove:o,onRemoveDuplicates:r,onRemoveFailed:l}=e,{directories:c,files:d,existingDirectories:u,existingFiles:m}=n,h=c.length>0||d.length>0,f=u.length>0||m.length>0;return s.createElement(s.Fragment,null,s.createElement(_e,null,s.createElement(R.a,{"data-testid":"local-directories-header"},"Uploaded files"),s.createElement(Se,null,s.createElement(g.a,{isDisabled:t,onClick:a}))),h?s.createElement(s.Fragment,null,c.map(e=>s.createElement(H,{key:`dir-${e.name}`,directory:e,onNavigate:()=>i("uploadDirectory",[e.name]),onRemove:()=>{o({type:"uploadDirectory",parts:[e.name]})},onRemoveDuplicates:()=>r([e.name]),onRemoveFailed:()=>l([e.name])})),d.map(e=>s.createElement(Y,{key:`file-${e.name}`,file:e,onRemove:()=>o({type:"uploadFile",parts:[e.name]})}))):s.createElement(Oe,null,"Use the file explorer or drag-and-drop to upload more files"),f&&s.createElement(s.Fragment,null,s.createElement(R.a,null,"Previously uploaded files"),u.map(e=>s.createElement(be,{key:`dir-${e.name}`,directory:e,onNavigate:()=>i("existingDirectory",[e.name]),onRemove:()=>o({type:"existingDirectory",parts:[e.name]})})),m.map(e=>s.createElement(we,{key:`file-${e.name}`,file:e,onRemove:()=>o({type:"existingFile",parts:[e.name]})}))))}n.d(t,"a",(function(){return Ie}));const je=r.a.div`
  position: relative;
  flex-grow: 1;
`;function Ie(e){const t=s.useContext(p.a),n=s.useContext(i.ClientsContext),{container:a,datasetId:o,competitionId:r,onUpdate:d}=e,[u,m]=s.useState({type:"root"}),[g,f]=s.useState([]),{directories:b,files:v,existingDirectories:y,existingFiles:w}=a,{getRootProps:E,getInputProps:x,open:C,isDragActive:k}=Object(l.b)({disabled:t,noClick:!0,noKeyboard:!0,onDrop:e=>{Ne({bothClients:n,datasetId:o,competitionId:r,onUpdate:d,droppedFiles:e,container:a,setConflictFiles:f,setPath:m})}});if(g.length>0)return s.createElement(je,null,s.createElement(c.a,{description:"One or more files in your selection have the same names as existing\n          files. Do you want to replace the existing files?",cancelText:"Cancel",confirmText:"Replace files",onAction:e=>{"cancel"===e?f([]):(De({bothClients:n,datasetId:o,competitionId:r,temporaryFiles:g,setPath:m,onUpdate:d}),f([]))}}));if(0===b.length&&0===v.length&&0===y.length&&0===w.length)return s.createElement(re,{isDragActive:k,getRootProps:E,getInputProps:x},s.createElement("input",Object.assign({},x())),s.createElement(ge,{onOpenFileDialog:C}));const _=Object(h.c)(a,u);return"root"===u.type||void 0===_?s.createElement(re,{isDragActive:k,getRootProps:E,getInputProps:x},s.createElement("input",Object.assign({},x())),g&&g.map(e=>e.file.name),s.createElement(Te,{container:a,onPathChange:(e,t)=>m({type:e,parts:t}),onOpenFileDialog:C,onRemove:e=>d("uploadContainer","remove",{path:e}),onRemoveDuplicates:e=>{d("uploadContainer","removeDuplicates",{path:{type:"uploadDirectory",parts:e}})},onRemoveFailed:e=>{d("uploadContainer","removeFailed",{path:{type:"uploadDirectory",parts:e}})}})):s.createElement(re,{isDragActive:k,getRootProps:E,getInputProps:x},s.createElement("input",Object.assign({},x())),"uploadDirectory"===_.type?s.createElement(ee,{path:u.parts,directory:_,onPathChange:e=>m({type:"uploadDirectory",parts:e}),onOpenFileDialog:C,onRemove:e=>d("uploadContainer","remove",{path:e}),onRemoveDuplicates:e=>{d("uploadContainer","removeDuplicates",{path:{type:"uploadDirectory",parts:e}})},onRemoveFailed:e=>{d("uploadContainer","removeFailed",{path:{type:"uploadDirectory",parts:e}})}}):s.createElement(ke,{path:u.parts,directory:_,onPathChange:e=>m({type:"existingDirectory",parts:e}),onOpenFileDialog:C,onRemove:e=>d("uploadContainer","remove",{path:e})}))}const Ne=e=>{const{bothClients:t,droppedFiles:n,datasetId:a,competitionId:i,container:o,setPath:r,setConflictFiles:s,onUpdate:l}=e,c=n.filter(e=>Ue(e.path||e.name)).map(e=>{const t="string"==typeof e.path?e.path.split("/").filter(e=>e):[e.name];return{file:e,parts:t,hasNameConflict:Object(d.d)(o,t)}});c.some(e=>e.hasNameConflict)?s(c):De({bothClients:t,datasetId:a,competitionId:i,temporaryFiles:c,setPath:r,onUpdate:l})},De=e=>{const{bothClients:t,temporaryFiles:n,datasetId:a,competitionId:o,setPath:r,onUpdate:s}=e;n.map(e=>{const{parts:n,file:a}=e;return s("uploadContainer","remove",{path:{type:"existingFile",parts:n}}),s("uploadContainer","remove",{path:{type:"uploadFile",parts:n}}),s("uploadContainer","start",{path:n,size:a.size}),{uploadPromise:Object(u.c)(t.legacyClients.blobFilesClient.createNewBlob,i.LegacyClientBlobBucketName.DatasetVersionFilesV2,a),parts:n}}).forEach(e=>$e({bothClients:t,datasetId:a,competitionId:o,onUpdate:s,fileUpload:e})),r({type:"root"})},$e=e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const{datasetId:t,competitionId:n,bothClients:a,fileUpload:i,onUpdate:o}=e,{uploadPromise:r,parts:s}=i;r.onProgress=e=>{if(e.isDone&&e.hasFailed)return void o("uploadContainer","failed",{path:s});const{progressEvent:t}=e.progressProps;if(!t)return;const{loaded:n,total:a}=t;o("uploadContainer","progress",{path:s,percentComplete:100*n/a})};try{const e=yield r,{token:i}=e,{datasetsClient:l}=a.clients,c=yield l.detectDuplicate({blobFileToken:i,currentDatasetId:t||null,currentCompetitionId:n||null});if(null!==c){const{analyticsClient:t}=a.legacyClients;Object(m.b)(t,e.name,c),o("uploadContainer","duplicate",{path:s,token:i,duplication:c})}else o("uploadContainer","complete",{path:s,token:i})}catch(e){o("uploadContainer","failed",{path:s})}})),Me=["__MACOSX",".DS_Store","__pycache__"],Ue=e=>!Me.some(t=>e&&e.includes(t))},1806:function(e,t,n){"use strict";var a=n(1),i=n.n(a),o=n(0),r=n(1638),s=n(1664),l=n(1710),c=n(1713),d=n(1416),u=n(1608),m=n(383),p=n(1639),h=n(3),g=n(8),f=n(1425),b=n(174),v=n(27);const y=i.a.div`
  align-items: center;
  display: flex;
  ${e=>e.theme.font.main.size.m};
  ${e=>e.theme.font.main.family};
`,w=i.a.span`
  margin: 0;
`,E=[{label:"Public Kernels",value:"public",key:"public"},{label:"Your Work",value:"yourWork",key:"yourWork"}],x=v.z.Option,C=v.z.SingleValue;function k(e){const{data:t}=e,{label:n}=t;return o.createElement(x,Object.assign({},e),o.createElement(y,null,o.createElement(w,null,n)))}function _(e){const{data:t}=e,{label:n}=t;return o.createElement(C,Object.assign({},e),o.createElement(y,null,o.createElement(w,null,n)))}var S=n(384),O=n(1724),T=n(1634);const j=i.a.li`
  display: flex;
  align-items: center;

  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(4)};

  cursor: ${e=>e.isDisabled?"default":"pointer"};
  &:hover {
    background-color: ${e=>e.isDisabled?"transparent":e.theme.colors.hover.light};
  }
`,I=i()(S.Avatar)`
  /* override line height set by wrapping view styles */
  line-height: 1;
`,N=i.a.div`
  flex: 1 1 auto;
  min-width: 0;
  margin: 0 ${e=>e.theme.size.pad.m};

  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,D=i()(m.t.withComponent("a"))`
  text-decoration: none;
  &:hover {
    color: ${e=>e.theme.material.color.anchor.hover};
  }
`,$=i()(d.a)`
  margin-left: ${e=>e.theme.size.margin.s};
`,M=i()(m.b)`
  color: ${e=>e.theme.material.color.text[40]};
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,U=i.a.span`
  margin-right: ${e=>e.theme.size.pad.s};
`,P=i()(d.a)`
  margin: 0 ${e=>e.theme.size.pad.xs} 0 0;
`;class F extends o.Component{constructor(){super(...arguments),this.state={isHovered:!1},this.renderFile=e=>{const t=Object(T.f)(Object(T.e)(e.name));return o.createElement(U,{key:e.id},o.createElement(P,{icon:t,size:"inline"}),e.name)},this.onClick=e=>{const{onSelect:t}=this.props;this.titleLinkRef&&this.titleLinkRef.contains(e.target)||t()},this.onMouseOver=()=>{this.setState({isHovered:!0})},this.onMouseLeave=()=>{this.setState({isHovered:!1})}}render(){const{isDisabled:e,kernel:t}=this.props,{isHovered:n}=this.state,{title:a,owner:i,url:r,outputFiles:s}=t;return o.createElement(j,{isDisabled:e,key:name,onClick:e?void 0:this.onClick},o.createElement(I,{displayName:i.name,thumbnailUrl:i.imageUrl,userUrl:`/${i.slug}`,tier:Object(O.a)(i.performanceTier),tierMargin:-3}),o.createElement(N,null,o.createElement(D,{href:r,target:"_blank",ref:e=>this.titleLinkRef=e,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave},a,n&&o.createElement($,{icon:"open_in_new",size:"inline"})),o.createElement(M,null,s.map(e=>this.renderFile(e)))))}}const R=50,z=20,L=i.a.div`
  overflow-y: auto;
  flex-grow: 1;
`,A=i.a.div`
  display: flex;
  align-items: center;
  padding: ${e=>e.theme.size.pad.m};
`,V=i.a.input`
  border: 1px solid ${e=>e.theme.colors.content.border};
  border-radius: ${e=>e.theme.size.border.radius.input};
  padding: ${e=>e.theme.size.pad.s};
  margin-right: ${e=>e.theme.size.margin.m};
  color: ${e=>e.theme.colors.text.medium};
  flex: 1 1 auto;

  ${e=>e.theme.font.main.size.m};
  ${e=>e.theme.font.main.weight.normal};

  &::placeholder {
    color: ${e=>e.theme.colors.text.light};
  }
`,B=i()(f.a)`
  border-radius: ${e=>e.theme.size.border.radius.input};
  width: 140px;
  cursor: pointer;
`,K=i.a.div`
  flex-grow: 1;
  display: flex;
  justify-content: center;
  margin: ${e=>e.theme.size.margin.xl};
`,H=i.a.ul`
  padding: 0;
  margin: 0;
  list-style-type: none;
`,q=i.a.div`
  ${e=>e.theme.font.main.size.l};
  ${e=>e.theme.font.main.weight.light};
  color: ${e=>e.theme.colors.text.light};
  padding: ${e=>e.theme.size.pad.m};
  text-align: center;
`;let W=(()=>{class e extends o.Component{constructor(){super(...arguments),this.debouncedSearch=Object(b.a)(500,()=>this.onSearch()),this.state={isSearchingMore:!1,hasMore:!1},this.renderWaiting=()=>o.createElement(K,null,o.createElement(u.a,{size:"xlarge"})),this.renderList=e=>{const{isDisabled:t}=this.props;return o.createElement(H,null,e.map(e=>o.createElement(F,{isDisabled:t,kernel:e,onSelect:()=>this.onSelect(e),key:`kernel_${e.id}`})))},this.onSelect=e=>Object(h.__awaiter)(this,void 0,void 0,(function*(){const{onUpdate:t}=this.props;if(e.outputFiles.length<5)t("kernelOutputContainer","setKernel",{id:e.id});else{t("kernelOutputContainer","setLoadingFiles",{id:e.id});try{const{kernelsClient:n}=this.context.clients;t("kernelOutputContainer","setFiles",{files:(yield n.listKernelRunOutput({kernelRunId:e.lastKernelRunId,pageSize:R,pageToken:null})).items.map(Q)})}catch(e){t("kernelOutputContainer","failed",void 0)}}})),this.onScroll=e=>{const{container:t}=this.props;if(!Object(r.i)(t.state))return;const n=e.currentTarget,a=n&&n.scrollTop||document.body.scrollTop,i=n&&n.scrollHeight||document.body.scrollHeight,o=n.clientHeight||window.innerHeight;Math.ceil(a+o)>=i-30&&this.onSearchMore()},this.onSearchMore=()=>Object(h.__awaiter)(this,void 0,void 0,(function*(){const{container:e,onUpdate:t}=this.props,{isSearchingMore:n,hasMore:a}=this.state;if(!Object(r.i)(e.state)||n||!a)return;const{state:i}=e,{query:o,searchType:s,kernels:l}=i,c=l&&l.length>0?l[l.length-1].id:void 0;try{this.setState({isSearchingMore:!0});const e=yield this.searchKernels(s,o,c),n=e.length===z;this.setState({isSearchingMore:!1,hasMore:n}),t("kernelOutputContainer","addToKernelList",{moreKernels:e})}catch(e){t("kernelOutputContainer","failed",void 0),this.setState({isSearchingMore:!1})}})),this.onQueryKeyPress=e=>{13===e&&this.onSearch()},this.onQueryChange=e=>{const{onUpdate:t}=this.props;t("kernelOutputContainer","setQuery",{query:e}),this.debouncedSearch()},this.onSearchTypeChange=e=>{const{onUpdate:t}=this.props;t("kernelOutputContainer","setSearchType",{searchType:e?"yourWork":"public"}),this.debouncedSearch()},this.onSearch=()=>Object(h.__awaiter)(this,void 0,void 0,(function*(){const{container:e,onUpdate:t}=this.props;if(!Object(r.k)(e.state)&&!Object(r.i)(e.state))return;const{state:n}=e,{query:a,searchType:i}=n;t("kernelOutputContainer","setQuery",{query:a});try{const e=yield this.searchKernels(i,a,void 0),n=e.length===z;this.setState({isSearchingMore:!1,hasMore:n}),t("kernelOutputContainer","setKernelList",{kernels:e})}catch(e){t("kernelOutputContainer","failed",void 0)}}))}componentDidMount(){this.debouncedSearch()}render(){const{isDisabled:e,container:t}=this.props,{isSearchingMore:n}=this.state;if(!Object(r.k)(t.state)&&!Object(r.i)(t.state))return;const{state:a}=t,{query:i,searchType:s}=a,l="public"===s?E.find(e=>"public"===e.value):E.find(e=>"yourWork"===e.value);return o.createElement(L,{onScroll:e=>this.onScroll(e),"data-testid":"kernel-list-wrapper"},o.createElement(A,null,o.createElement(V,{disabled:e,placeholder:"Search notebooks",value:i,onChange:e=>this.onQueryChange(e.currentTarget.value),onKeyPress:e=>this.onQueryKeyPress(e.charCode)}),o.createElement(B,{isDisabled:e,value:l,onChange:e=>this.onSearchTypeChange("yourWork"===e.value),isSearchable:!1,options:E,components:{Option:k,SingleValue:_},styles:{control:e=>Object.assign(Object.assign({},e),{height:"26px","min-height":"26px",cursor:"pointer"}),option:e=>Object.assign(Object.assign({},e),{cursor:"pointer"}),dropdownIndicator:e=>Object.assign(Object.assign({},e),{paddingTop:0,paddingBottom:0})}})),Object(r.k)(t.state)&&this.renderWaiting(),Object(r.i)(t.state)&&this.renderList(t.state.kernels),n&&o.createElement(q,null,"Loading more kernels..."))}searchKernels(e,t,n){return Object(h.__awaiter)(this,void 0,void 0,(function*(){const a={kernelFilterCriteria:{competitionId:null,datasetId:null,datasourceType:null,forkParentScriptId:null,kernelType:null,language:null,page:0,userId:null,tagIds:null,startRow:0,outputType:"Data",excludeResultsFilesOutputs:!0,wantOutputFiles:!0,sortBy:"public"===e?"hotness":"dateRun",pageSize:z,group:"public"===e?"everyone":"profile",search:t.length>0?t:"",after:n||null,hasGpuRun:null,privacy:"all"},detailFilterCriteria:null},i=yield this.context.clients.kernelsClient.listKernels(a);return G(i.kernels)}))}}return e.contextType=g.ClientsContext,e})();const G=e=>{return e.map(e=>{if(null===e.currentUrlSlug||null===e.author)return null;return{id:e.id,lastKernelRunId:e.scriptVersionId,url:e.scriptUrl,owner:{id:e.author.id,imageUrl:e.author.thumbnailUrl,slug:e.author.userName,isOrganization:!1,name:e.author.displayName,performanceTier:e.author.performanceTier},title:e.title,outputFiles:e.outputFiles.map(Q)}}).filter(e=>!!e)},Q=e=>{return{id:e.kernelVersionOutputFileId,name:e.name,size:e.contentLength,type:"kernelOutputFile"}};var Y=n(385);const X=i.a.li`
  padding: 0 ${e=>e.theme.size.pad.m};
  ${e=>e.theme.font.main.size.l};
  &:hover {
    background-color: ${e=>e.isDisabled?"transparent":e.theme.colors.hover.light};
  }
`,J=i.a.div`
  display: flex;
  align-items: center;
  color: ${e=>e.theme.colors.text.light};
  padding: ${e=>e.theme.size.pad.xs};
`,Z=i()(d.a)`
  margin-right: ${e=>e.theme.size.pad.s};
`,ee=i.a.div`
  color: ${e=>e.theme.colors.text.medium};
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,te=i.a.span`
  ${e=>e.theme.font.main.size.s};
  color: ${e=>e.theme.colors.text.light};
  white-space: nowrap;
  margin: 0 ${e=>e.theme.size.pad.s};
`;class ne extends o.Component{constructor(){super(...arguments),this.state={isHovered:!1},this.onMouseOver=()=>{this.setState({isHovered:!0})},this.onMouseLeave=()=>{this.setState({isHovered:!1})}}render(){const{isDisabled:e,file:t}=this.props,{name:n,size:a}=t,i=Object(T.f)(Object(T.e)(n)),r=o.createElement(Z,{icon:i});return o.createElement(X,{isDisabled:e,key:n,onMouseOver:e?void 0:this.onMouseOver,onMouseLeave:e?void 0:this.onMouseLeave},o.createElement(J,null,r,o.createElement(ee,null,n),o.createElement(te,null,"(",Y(a),")")))}}const ae=i.a.div`
  overflow-y: auto;
  flex-grow: 1;
  height: 100%;
`,ie=i.a.div`
  display: flex;
  flex-direction: row;
  align-items: center;
`,oe=i()(p.a)`
  flex-grow: 1;
  flex-shrink: 1;
`,re=i()(s.c)`
  margin: 0 ${e=>e.theme.size.margin.m};
`,se=i.a.ul`
  padding: 0;
  margin: 0;
  list-style-type: none;
`,le=i.a.li`
  ${e=>e.theme.font.main.size.l};
  ${e=>e.theme.font.main.weight.light};
  padding: ${e=>e.theme.size.pad.m};
  background-color: ${e=>e.theme.material.color.brand.grey[100]};
  color: ${e=>e.theme.colors.text.light};
  margin-bottom: ${e=>e.theme.size.pad.s};
`,ce=i.a.div`
  ${e=>e.theme.font.main.size.l};
  ${e=>e.theme.font.main.weight.light};
  color: ${e=>e.theme.colors.text.light};
  padding: ${e=>e.theme.size.pad.m};
`,de=i.a.span`
  cursor: pointer;
  color: ${e=>e.theme.colors.kaggle.blueDark};
  :hover {
    color: ${e=>e.theme.colors.kaggle.blue};
  }
`,ue=i()(d.a)`
  margin-left: ${e=>e.theme.size.margin.s};
`,me=i.a.a`
  color: ${e=>e.theme.colors.text.medium};
  ${e=>e.theme.font.main.weight.normal};
  text-decoration: none;
  cursor: pointer;
  &:hover {
    color: ${e=>e.theme.colors.hover.link};
  }
`,pe=100;class he extends o.Component{constructor(){super(...arguments),this.renderLoading=()=>o.createElement(K,null,o.createElement(u.a,{size:"large"})),this.renderList=e=>{const{isDisabled:t,allowBackToSearch:n,onRemove:a,onBack:i}=this.props,r=e.length>pe?e.slice(0,pe):e,s=r.length<e.length;if(0===r.length)return o.createElement(ce,null,"Select at least one file in order to continue."," ",n&&o.createElement(o.Fragment,null,o.createElement(de,{onClick:i},"Search again")," to select a new Kernel output."));const l=r.map(e=>o.createElement(ne,{isDisabled:t,key:e.name,file:e,onRemove:()=>a(e.id)}));return o.createElement(se,null,s&&o.createElement(le,null,o.createElement(m.b,{emphasis:"medium"},"This preview only shows the first ",pe," files from the notebook output. The resulting dataset will contain all files.")),l)}}render(){const{isDisabled:e,kernel:t,allowBackToSearch:n,onBack:a}=this.props,{files:i,title:r,url:s}=t,l=void 0===i?this.renderLoading():this.renderList(i);return o.createElement(ae,null,o.createElement(ie,null,o.createElement(oe,null,"Kernel:"," ",o.createElement(me,{href:s,target:"_blank"},r,o.createElement(ue,{icon:"open_in_new",size:"inline"}))),n&&o.createElement(re,{onClick:a,isDisabled:e})),l)}}n.d(t,"a",(function(){return ve}));const ge=i.a.div`
  width: 100%;
  position: relative;
`,fe=i.a.div`
  margin-top: 48px;
`,be=i()(s.c)`
  position: absolute;
  top: ${e=>e.theme.size.margin.m};
  right: ${e=>e.theme.size.margin.m};
`;class ve extends o.Component{constructor(){super(...arguments),this.shouldComponentUpdate=e=>{const{container:t}=this.props;return Object(c.a)(t,e.container)}}render(){const{isDisabled:e,container:t,allowBackToSearch:n,onUpdate:a}=this.props;return Object(r.k)(t.state)||Object(r.i)(t.state)?o.createElement(W,{isDisabled:e,onUpdate:a,container:t}):Object(r.j)(t.state)||Object(r.h)(t.state)?o.createElement(ge,null,o.createElement(he,{kernel:{title:t.state.kernel.title,url:t.state.kernel.url,files:Object(r.h)(t.state)?t.state.files:void 0},isDisabled:e,allowBackToSearch:n,onRemove:e=>a("kernelOutputContainer","removeFile",{id:e}),onBack:()=>a("kernelOutputContainer","reset",void 0)})):o.createElement(ge,null,o.createElement(fe,null,o.createElement(l.a,{title:"Unable to load Kernels",description:"We ran into an issue retrieving the list of Kernels."})),n&&o.createElement(be,{onClick:()=>a("kernelOutputContainer","reset",void 0),isDisabled:e}))}}},1807:function(e,t,n){"use strict";var a=n(3),i=n(8),o=n(1),r=n.n(o),s=n(0),l=n(1750),c=n(1664),d=n(1713),u=n(1639),m=n(1416),p=n(385),h=n(1634),g=n(1638),f=n(1711),b=n(1608);r()(m.a)`
  color: ${e=>Object(u.e)(e.isDisabled,e.theme.colors.kaggle.blueDark,e.theme.colors.text.light)};
`;const v=e=>{const{isDisabled:t,onRemove:n,isHovered:a}=e;return a?s.createElement(u.c,{disabled:t,onClick:()=>n()},s.createElement(m.a,{icon:"close",size:"inline"})):s.createElement(u.b,null,s.createElement(b.a,{progress:t?.8:void 0}))};var y=n(1712);const w=r.a.li`
  padding: ${e=>e.theme.size.pad.xs}
    ${e=>e.theme.size.pad.m};
  ${e=>e.theme.font.main.size.l};
  &:hover {
    background-color: ${e=>e.isDisabled?"transparent":e.theme.colors.hover.light};
  }
`,E=r.a.div`
  display: flex;
  align-items: center;
  color: ${e=>e.theme.colors.text.light};
  padding: ${e=>e.theme.size.pad.xs};
`,x=r()(m.a)`
  margin: 0 ${e=>e.theme.size.pad.s} 0
    ${e=>e.theme.size.pad.xs};
`,C=r.a.div`
  color: ${e=>e.theme.colors.text.medium};
  flex: 1 1 auto;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,k=r.a.input`
  padding: 0;
  padding-bottom: 1px;
  color: ${e=>e.theme.colors.text.medium};
  background-color: transparent;
  border: 1px solid transparent;
  ${e=>e.theme.font.main.size.m};

  &:focus {
    outline: none;
  }

  &:hover {
    border: 1px solid ${e=>e.theme.colors.content.border};
    border-radius: ${e=>e.theme.size.border.radius.input};
  }
`,_=r.a.span`
  flex: 0 0 auto;
  ${e=>e.theme.font.main.size.s};
  color: ${e=>e.theme.colors.text.light};
  margin: 0 ${e=>e.theme.size.margin.s};
`,S=r.a.div`
  padding: 0 ${e=>e.theme.size.pad.xl} ${e=>e.theme.size.pad.xs} 30px;
  ${e=>e.theme.font.main.size.s};
`,O=r.a.a`
  text-decoration: none;
  color: ${e=>e.theme.colors.text.link};
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  &:hover {
    color: ${e=>e.theme.colors.hover.link};
  }
`;class T extends s.Component{constructor(){super(...arguments),this.state={isHovered:!1},this.renderItemStatus=e=>{const{onRemove:t,isDisabled:n}=this.props,{isHovered:a}=this.state,{name:i}=e;if("remoteUrlVersionedFile"===e.type)return s.createElement(u.c,{disabled:n,onClick:()=>t(i)},s.createElement(m.a,{icon:"close",size:"inline"}));const{state:o}=e;return Object(g.o)(o)?s.createElement(y.a,{isDisabled:n,onRemove:a?()=>t(i):void 0}):Object(g.n)(o)?s.createElement(v,{isDisabled:n,isHovered:a,onRemove:()=>t(i)}):Object(g.m)(o)?s.createElement(f.a,{isDisabled:n,onRemove:a?()=>t(i):void 0}):void 0},this.onMouseOver=()=>{this.setState({isHovered:!0})},this.onMouseLeave=()=>{this.setState({isHovered:!1})}}render(){const{isDisabled:e,file:t,onRename:n}=this.props,{name:a,url:i}=t,o=Object(h.f)(Object(h.e)(a)),r="remoteUrlVersionedFile"===t.type?t.size:Object(g.o)(t.state)?t.state.size:void 0,l="remoteUrlUploadFile"===t.type&&Object(g.o)(t.state)&&!e;return s.createElement(w,{isDisabled:e,onMouseOver:e?void 0:this.onMouseOver,onMouseLeave:e?void 0:this.onMouseLeave},s.createElement(E,null,s.createElement(x,{icon:o,size:"inline"}),s.createElement(C,null,l?s.createElement(k,{value:a,placeholder:"Enter a file name",onChange:e=>n(a,e.currentTarget.value)}):a),void 0!==r&&r<=0?s.createElement(_,null,"unknown"):r&&s.createElement(_,null,"(",p(r),")"),this.renderItemStatus(t)),s.createElement(S,null,s.createElement(O,{title:i,href:i,target:"_blank",rel:"noopener"},i," ",s.createElement(m.a,{icon:"open_in_new",size:"inline"}))))}}const j=r.a.div`
  width: 100%;
`,I=r.a.ul`
  padding: 0;
  margin: 0;
  list-style-type: none;
`;function N(e){const{isDisabled:t,showHelpMessage:n,files:a,onRemove:i,onRename:o}=e,r=a.map(e=>s.createElement(T,{isDisabled:t,key:e.url,file:e,onRemove:i,onRename:o}));return s.createElement(j,null,s.createElement(u.a,{"data-testid":"remote-files-header"},"Remote Files"),n&&s.createElement(u.d,null,"Create a dataset from remote URLs. URLs must point to a file."),s.createElement(I,null,r))}const D=r.a.ul`
  padding: 0;
  margin: 0;
  list-style-type: none;
`;function $(e){const{isDisabled:t,files:n,onRemove:a,onRename:i}=e,o=n.map(e=>s.createElement(T,{key:e.name,isDisabled:t,file:e,onRemove:a,onRename:i}));return s.createElement(s.Fragment,null,s.createElement(u.a,null,"Previous remote files"),s.createElement(D,null,o))}n.d(t,"a",(function(){return z}));const M=r.a.div`
  overflow-y: auto;
  flex-grow: 1;
`,U=r.a.div`
  display: grid;
  grid-template-columns: 1fr auto;
  grid-row-gap: ${e=>e.theme.material.spacing(2)};
  align-items: start;
  padding: ${e=>e.theme.material.spacing(3)};

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    grid-template-columns: 1fr;
  }
`,P=r.a.div`
  flex: 1 1 auto;
  display: flex;
  margin-right: ${e=>e.theme.size.pad.s};
`,F=r.a.input`
  flex-grow: 1;
  border: 1px solid
    ${e=>e.hasError?e.theme.colors.kaggle.redDark:e.theme.colors.content.border};
  border-radius: ${e=>e.theme.size.border.radius.input};
  padding: ${e=>e.theme.size.pad.s};
  margin-right: ${e=>e.theme.size.margin.m};
  color: ${e=>e.theme.colors.text.medium};

  ${e=>e.theme.font.main.size.m};
  ${e=>e.theme.font.main.weight.normal};

  &::placeholder {
    color: ${e=>e.theme.colors.text.light};
  }
`,R=r.a.div`
  color: ${e=>e.theme.colors.kaggle.redDark};
  margin: ${e=>e.theme.size.margin.s};
`;let z=(()=>{class e extends s.Component{constructor(){super(...arguments),this.state={urlToAdd:{value:"",isValid:!1,isDuplicate:!1}},this.shouldComponentUpdate=(e,t)=>{const{container:n}=this.props,{urlToAdd:a}=this.state;return a.value!==t.urlToAdd.value||a.isValid!==t.urlToAdd.isValid||a.isDuplicate!==t.urlToAdd.isDuplicate||Object(d.a)(n,e.container)},this.onRemove=e=>{const{onUpdate:t}=this.props;t("remoteUrlUploadContainer","remove",{name:e})},this.onRename=(e,t)=>{const{onUpdate:n}=this.props;n("remoteUrlUploadContainer","rename",{oldName:e,newName:t})},this.onUrlToAddKeyPress=e=>{13===e&&this.canAddUrl()&&this.onAddUrl()},this.onUrlToAddChange=e=>{const{container:t}=this.props;this.setState({urlToAdd:{value:e,isValid:Object(l.d)(e),isDuplicate:t.children.some(t=>t.url===e)}})},this.onAddUrl=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{container:e,onUpdate:t}=this.props,{urlToAdd:n}=this.state,{value:a}=n;this.setState({urlToAdd:{value:"",isValid:!1,isDuplicate:!1}}),this.urlInputRef&&this.urlInputRef.focus();const i=Object(l.e)(Object(l.c)(a,`file_${e.children.length+1}`),e);i&&(t("remoteUrlUploadContainer","add",{name:i,url:a}),yield this.onValidate(i,a))})),this.onValidate=(e,t)=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{onUpdate:n}=this.props,{datasetsClient:a}=this.context.clients;try{const i=yield a.getRemoteUrlFileInfo({url:t});n("remoteUrlUploadContainer","success",{name:e,size:i.size})}catch(t){n("remoteUrlUploadContainer","failed",{name:e})}})),this.canAddUrl=()=>{const{urlToAdd:e}=this.state,{isValid:t,isDuplicate:n}=e;return t&&!n}}render(){const{isDisabled:e,container:t}=this.props,{urlToAdd:n}=this.state,{children:a}=t,{value:i,isValid:o}=n,r=a.filter(e=>"remoteUrlVersionedFile"===e.type),l=a.filter(e=>"remoteUrlUploadFile"===e.type),d=!this.canAddUrl()&&i.length>0;return s.createElement(M,null,r.length>0&&s.createElement($,{isDisabled:e,files:r,onRemove:this.onRemove,onRename:this.onRename}),s.createElement(N,{isDisabled:e,showHelpMessage:0===r.length,files:l,onRemove:this.onRemove,onRename:this.onRename}),!e&&s.createElement(U,null,s.createElement(P,null,s.createElement(F,{ref:e=>{this.urlInputRef=e},placeholder:"Enter a URL to add a new file",value:i,hasError:d,onChange:e=>this.onUrlToAddChange(e.currentTarget.value),onKeyPress:e=>this.onUrlToAddKeyPress(e.charCode)}),d&&s.createElement(R,null,o?"URL already added":"Invalid URL provided")),s.createElement(c.b,{isDisabled:!this.canAddUrl(),onClick:this.onAddUrl})))}}return e.contextType=i.ClientsContext,e})()},1808:function(e,t,n){"use strict";var a=n(0),i=n(3),o=n(383),r=n(1468),s=n(8),l=n(1),c=n.n(l),d=n(1637),u=n(1633),m=n(1649);const p=c.a.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: ${e=>e.theme.material.spacing(6)};
`,h=c()(o.o)`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,g=c.a.img`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,f=c()(o.b)`
  text-align: center;
  margin-bottom: ${e=>e.theme.material.spacing(8)};
`,b=c()(o.b)`
  text-align: center;
  color: ${e=>u.a[e.theme.name].error};
`,v=()=>{const e=a.useContext(d.a),t=a.useContext(d.b),n=a.useContext(s.ClientsContext),{reference:r}=e,{selectedSource:l}=t,{clients:{competitionsClient:c}}=n,[u,b]=a.useState("waiting");if(!l||"competition"!==l.sourceType)return null;const v="competition"===r.type;return a.createElement(p,null,a.createElement(h,{emphasis:"high"},"Competition Rules"),a.createElement(g,{src:"/static/images/datasets/accept_comp_rules.png"}),a.createElement(f,{emphasis:"medium"},"To see this data you need to agree to the"," ",a.createElement(o.u,{href:`${l.sourceUrl}/rules`},"competition rules"),".",a.createElement("br",null),v&&a.createElement(a.Fragment,null,'By clicking "I understand and accept" you agree to be bound to these rules.')),v&&y(u,()=>Object(i.__awaiter)(void 0,void 0,void 0,(function*(){b("processing");try{yield c.userService.acceptRules({competitionId:l.sourceId}),window.location.reload()}catch(e){b("error")}}))),!v&&w(()=>Object(m.f)(l.sourceUrl,!0)))},y=(e,t)=>"error"===e?a.createElement(b,null,"An error occurred accepting the competition rules."):a.createElement(r.a,{useKM:!0,leadingIcon:"processing"===e?"check":void 0,disabled:"processing"===e,onClick:t},"I understand and agree"),w=e=>a.createElement(r.a,{onClick:e},"Go to competition"),E=c.a.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: ${e=>e.theme.material.spacing(6)};
`,x=c()(o.o)`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,C=c.a.img`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,k=c()(o.b)`
  text-align: center;
  margin-bottom: ${e=>e.theme.material.spacing(8)};
`,_=a.memo(e=>{const{message:t,title:n}=e,i=n||"Ooops, that's an error",r=t||a.createElement(a.Fragment,null,"There was a problem processing your request.",a.createElement("br",null),"If you keep having problems, please"," ",a.createElement(o.u,{href:"mailto: support@kaggle.com"},"contact support")," and we'll get you squared away.");return a.createElement(E,null,a.createElement(x,{emphasis:"high"},i),a.createElement(C,{src:"/static/images/datasets/error.png"}),a.createElement(k,{emphasis:"medium"},r))}),S=c()(o.b)`
  margin: ${e=>e.theme.material.spacing(6)};
  color: ${e=>u.a[e.theme.name].error};
`,O=a.memo(e=>{const{message:t}=e,n="An error occurred"+(t?": "+t:".");return a.createElement(S,null,n)});n.d(t,"a",(function(){return T}));const T=a.memo(e=>{const{message:t,title:n,isExtended:i}=e;return"To see the data you need to agree to the competition rules"===t?a.createElement(v,null):!0===i?a.createElement(_,{title:n,message:t}):a.createElement(O,{message:t})})},1809:function(e,t,n){"use strict";var a=n(3),i=n(1416),o=n(1608),r=n(8),s=n(1),l=n.n(s),c=n(0),d=n(174),u=n(1638),m=n(1714),p=n(1710),h=n(1713),g=n(1751);const f=l()(g.a)`
  width: ${e=>e.width};
`;function b(){return c.createElement(c.Fragment,null,c.createElement(j,null,"Preview"),c.createElement(f,{width:"50%"}," "),c.createElement(f,{width:"20%"}," "),c.createElement(f,{width:"40%"}," "),c.createElement(f,{width:"30%"}," "),c.createElement(f,{width:"50%"}," "),c.createElement(f,{width:"20%"}," "),c.createElement(f,{width:"40%"}," "),c.createElement(f,{width:"30%"}," "))}var v=n(385),y=n(1634);const w=l.a.ul`
  padding: 0;
  margin-left: ${e=>e.theme.size.margin.m};
  list-style-type: none;
`,E=l.a.li``,x=l.a.div`
  margin: ${e=>e.theme.size.margin.xs};
  display: flex;
  align-items: center;
`,C=l()(i.a)`
  margin-right: ${e=>e.theme.size.margin.s};
  color: ${e=>e.theme.colors.kaggle.gray};
`,k=l.a.div`
  color: ${e=>e.theme.colors.text.medium};
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  ${e=>e.theme.font.main.size.l};
`,_=l.a.span`
  ${e=>e.theme.font.main.size.m};
  color: ${e=>e.theme.colors.text.light};
  margin-left: ${e=>e.theme.size.margin.s};
`;class S extends c.Component{constructor(){super(...arguments),this.renderItem=e=>Object(u.b)(e)?this.renderFile(e):this.renderFolder(e),this.renderFolder=e=>c.createElement(E,{key:`folder-${e.repositoryPath}`},c.createElement(x,null,c.createElement(C,{icon:"folder"}),c.createElement(k,null,e.name)),e.children.length>0&&c.createElement(w,null,e.children.map(e=>this.renderItem(e)))),this.renderFile=e=>{const t=Object(y.f)(Object(y.e)(e.name));return c.createElement(E,{key:`file-${e.repositoryPath}`},c.createElement(x,null,c.createElement(C,{icon:t}),c.createElement(k,null,e.name),c.createElement(_,null,"(",v(e.size),")")))}}render(){const{content:e}=this.props;return c.createElement(c.Fragment,null,c.createElement(j,null,"Preview"),c.createElement(w,null,e.map(e=>this.renderItem(e))))}}n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return L}));const O=l.a.div`
  padding: 0 ${e=>e.theme.size.pad.m};
  width: 100%;
  overflow-y: auto;
`,T=l.a.div`
  display: grid;
  grid-template-columns: auto 1fr;
  grid-row-gap: ${e=>e.theme.material.spacing(1)};
  align-items: start;

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    grid-template-columns: 1fr;
  }
`,j=l.a.h4`
  ${e=>e.theme.font.main.size.l};
  ${e=>e.theme.font.main.weight.normal};
  color: ${e=>e.theme.colors.text.medium};
  margin: ${e=>e.theme.size.pad.l} 0;
`,I=l.a.div`
  ${e=>e.theme.font.main.size.m};
  ${e=>e.theme.font.main.weight.light};
  color: ${e=>e.theme.colors.text.light};
  margin-top: -${e=>e.theme.size.pad.m}; /* HACK */
  padding: 0 0 ${e=>e.theme.size.pad.l} 0;
`,N=l.a.div`
  color: ${e=>e.theme.colors.text.medium};
  margin: ${e=>e.theme.size.margin.s}
    ${e=>e.theme.size.margin.m} ${e=>e.theme.size.margin.s}
    0;
  flex-shrink: 0;
  ${e=>e.theme.font.main.size.l};

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    margin: 0;
  }
`,D=l.a.div`
  flex: 1 1 auto;
`,$=l.a.div`
  position: relative;
  display: flex;
`,M=l.a.input`
  flex-grow: 1;
  border: 1px solid
    ${e=>e.hasError?e.theme.colors.kaggle.redDark:e.theme.colors.content.border};
  border-radius: ${e=>e.theme.size.border.radius.input};
  padding: ${e=>e.theme.size.pad.s};
  color: ${e=>e.theme.colors.text.medium};
  ${e=>e.theme.font.main.size.l};

  &::placeholder {
    color: ${e=>e.theme.colors.text.light};
  }
`,U=l()(i.a)`
  position: absolute;
  right: ${e=>e.theme.size.margin.m};
  top: ${e=>e.theme.size.margin.s};
  ${e=>e.theme.font.main.size.l};
`,P=l()(U)`
  color: ${e=>e.theme.colors.kaggle.redDark};
`,F=l()(U)`
  color: ${e=>e.theme.colors.kaggle.green};
`,R=l()(o.a)`
  color: ${e=>e.theme.colors.kaggle.blueDark};
`,z=l.a.div`
  color: ${e=>e.theme.colors.kaggle.redDark};
  margin: ${e=>e.theme.size.margin.s} 0;
`;let L=(()=>{class e extends c.Component{constructor(){super(...arguments),this.debouncedValidation=Object(d.a)(500,()=>this.onValidateGithub()),this.shouldComponentUpdate=e=>{const{container:t}=this.props;return Object(h.a)(t,e.container)},this.renderStatusMessage=(e,t)=>{if(this.hasUrlError(e,t))return c.createElement(z,null,"This does not seem to be a valid GitHub repository.")},this.onUrlChange=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{onUpdate:t}=this.props;t("githubContainer","set",{url:e}),Object(m.c)(e)&&this.debouncedValidation()})),this.onValidateGithub=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{container:e,onUpdate:t}=this.props,{url:n}=e,a=Object(m.a)(n);if(a){const{datasetsClient:e}=this.context.clients;try{t("githubContainer","success",{content:(yield e.getGithubRepositoryInfo({ownerSlug:a.owner,repositorySlug:a.repository})).map(e=>A(e))})}catch(e){t("githubContainer","failed",void 0)}}})),this.hasUrlError=(e,t)=>Object(u.c)(e)&&0!==t.length}render(){const{container:e}=this.props,{url:t,state:n}=e,a=this.hasUrlError(n,t);return c.createElement(O,null,c.createElement(j,{"data-testid":"remote-github-header"},"Import GitHub repository"),c.createElement(I,null,"Create a dataset from a GitHub repository archive. Use the repo URL or any deep link."),c.createElement(T,null,c.createElement(N,null,"GitHub URL"),c.createElement(D,null,c.createElement($,null,c.createElement(M,{hasError:a,placeholder:"Enter a URL",value:t,onChange:e=>this.onUrlChange(e.currentTarget.value)}),this.renderStatusIcon(n,t)),this.renderStatusMessage(n,t))),Object(u.f)(n)&&c.createElement(S,{content:n.content}),Object(u.e)(n)&&c.createElement(b,null),Object(u.d)(n)&&c.createElement(p.a,{title:"Error retrieving the preview",description:"We ran into a problem retriving the repository contents from GitHub. You\n      can still go ahead and create your Dataset."}))}renderStatusIcon(e,t){return this.hasUrlError(e,t)?c.createElement(P,{icon:"priority_high"}):Object(u.e)(e)?c.createElement(R,null):Object(u.f)(e)?c.createElement(F,{icon:"check"}):void 0}}return e.contextType=r.ClientsContext,e})();const A=e=>{if("file"===e.type){const t=e;return{name:t.name,size:t.size,type:"githubFile",repositoryPath:t.repositoryPath}}{const t=e;return{name:t.name,type:"githubFolder",repositoryPath:t.repositoryPath,children:t.children.map(e=>A(e))}}}},1811:function(e,t,n){"use strict";var a=n(3),i=n(8),o=n(45),r=n(0),s=n(1634),l=n(1748),c=n(1),d=n.n(c),u=n(1762),m=n(1709);const p=d.a.div`
  flex: 1 1 auto;
  width: 100%;
  margin-top: ${e=>e.theme.size.pad.xl};
`,h=d.a.div`
  display: flex;
  align-items: center;
  justify-content: center;

  padding: ${e=>e.theme.size.pad.s} ${e=>e.theme.size.pad.m};
  color: ${e=>e.theme.colors.pure.white};
  ${e=>e.theme.font.main.size.m};
  ${e=>e.theme.font.main.weight.bold};
`,g=d.a.div`
  text-align: center;
  color: ${e=>e.theme.colors.text.light};
  margin-top: ${e=>e.theme.size.pad.s};
  ${e=>e.theme.font.main.size.m};
`;function f(e){const{isOpen:t,isDisabled:n,labels:a,percentComplete:i,estimatedTimeHumanized:o,path:s,statusMessage:l,onAction:c}=e;return r.createElement(m.a,{isOpen:t,isDisabled:n,path:s,labels:Object.assign(Object.assign({},a),{title:"We're processing your data"}),onAction:c},r.createElement(p,null,r.createElement(u.a,{total:100,loaded:100*i},r.createElement(h,null,l)),r.createElement(g,null,"We estimate this dataset will take ",o," to process.")))}var b=n(1416);const v=d()(b.a)`
  background-color: ${e=>e.theme.colors.hover.light};
  border-radius: 50%;
  box-shadow: 0px 0px 40px -5px ${e=>e.theme.colors.kaggle.green};
  color: ${e=>e.theme.colors.kaggle.green};
  padding: ${e=>e.theme.size.pad.l};
`;function y(e){const{isOpen:t,isDisabled:n,path:a,labels:i,onAction:o}=e;return r.createElement(m.a,{isOpen:t,isDisabled:n,path:a,labels:Object.assign(Object.assign({},i),{title:"Success"}),onAction:o},r.createElement(v,{icon:"check",size:"xlarge"}))}n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return k}));const w=10;class E extends r.Component{constructor(){super(...arguments),this.pollInterval=2e3,this.state={processingState:this.props.stubProcessingState||{type:"not-started"}},this.onUploadSuccess=e=>{this.setState({processingState:{type:"processing",dataset:e,timer:window.setInterval(this.pollStatus,this.pollInterval),failedPolls:0,progress:{creationStart:o().toString(),percentComplete:0}}})},this.onCloseRequest=()=>{const{onCloseRequest:e,resetOnClose:t}=this.props,{processingState:n}=this.state;e(n),!0===t&&this.resetState()},this.resetState=()=>{this.setState({processingState:{type:"not-started"}})},this.pollStatus=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{processingState:e}=this.state;if(C(e)){const{failedPolls:t,dataset:n}=e,{databundleVersionId:a}=n;try{const t=yield i.datasetsClient.getDatabundleVersionCreationStatus({databundleVersionId:a});"ready"===t.status?(clearInterval(e.timer),this.handleProcessingSuccess()):"failed"===t.status?(clearInterval(e.timer),this.handleProcessingFailure(t.userMessage)):this.updateProcessingProgress(t.creationPercentComplete)}catch(n){t>w?(clearInterval(e.timer),this.handleProcessingFailure("Failed to check creation status. Please try again later.")):this.setState({processingState:Object.assign(Object.assign({},e),{failedPolls:t+1})})}}})),this.handleProcessingSuccess=()=>{this.setState(e=>{const{processingState:t}=e;return C(t)?(clearInterval(t.timer),{processingState:Object.assign(Object.assign({},t),{type:"success"})}):e})},this.handleProcessingFailure=e=>{this.setState(t=>{const{processingState:n}=t;return C(n)?(clearInterval(n.timer),{processingState:Object.assign(Object.assign({},n),{type:"failed",userMessage:e})}):t})},this.updateProcessingProgress=e=>{this.setState(t=>{const{processingState:n}=t;return C(n)&&e?{processingState:Object.assign(Object.assign({},n),{type:"processing",progress:Object.assign(Object.assign({},n.progress),{percentComplete:e}),failedPolls:0})}:t})}}componentWillUnmount(){const{processingState:e}=this.state;C(e)&&clearInterval(e.timer)}render(){const{isOpen:e,isDisabled:t,renderUploader:n,successScreen:a,failureScreen:i,processingScreen:o}=this.props,{processingState:c}=this.state;if(x(c))return n({onCloseRequest:this.onCloseRequest,onCreateSuccess:this.onUploadSuccess});if(k(c)){const{dataset:n}=c,{buttonText:i,descriptionText:o}=a;return r.createElement(y,{isOpen:e,isDisabled:t,path:n.url,labels:{button:i,description:o},onAction:this.onCloseRequest})}if(_(c)){const{dataset:n,userMessage:a}=c,{buttonText:o,descriptionText:s}=i,d=a?s+" Reason: "+a:s;return r.createElement(l.b,{isOpen:e,isDisabled:t,path:n.url,labels:{button:o,description:d},onAction:this.onCloseRequest})}{const{buttonText:n,descriptionText:a}=o,{dataset:i,progress:l}=c,{creationStart:d,percentComplete:u}=l,m=Object(s.c)(d,i.databundleSize),p=Object(s.b)(i.databundleSize),h=(u+m)/2,g=Object(s.d)(h),b=Object(s.g)(h,0,.95);return r.createElement(f,{isOpen:e,isDisabled:t,labels:{button:n,description:a},estimatedTimeHumanized:p,statusMessage:g,percentComplete:b,path:i.url,onAction:this.onCloseRequest})}}}const x=e=>"not-started"===e.type,C=e=>"processing"===e.type,k=e=>"success"===e.type,_=e=>"failed"===e.type},1812:function(e,t,n){"use strict";var a=n(3),i=n(107),o=n(383),r=n(1972),s=n(1569),l=n(1625),c=n(8),d=n(1),u=n.n(d),m=n(0),p=n(1413),h=n(1685),g=n(1703),f=n(1856),b=n(1774),v=n(1726),y=n(1821),w=n(1660),E=n(1822),x=n(1826);function C({isLocked:e,forumTopicId:t,onToggle:n}){const[i,o]=m.useState(!1);return m.createElement(w.a,{text:e?"Unlock":"Lock",onClick:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){i||(o(!0),yield c.discussionsClient.updateForumTopicSettings({forumTopicId:t,settingToToggle:"isReadOnly"}),o(!1),n(!e))}))})}var k=n(1823),_=n(1825);function S({isStickied:e,forumTopicId:t,onToggle:n}){const[i,o]=m.useState(!1);return m.createElement(w.a,{text:e?"Unpin":"Pin",onClick:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){i||(o(!0),yield c.discussionsClient.updateForumTopicSettings({forumTopicId:t,settingToToggle:"isSticky"}),o(!1),n(!e))}))})}var O=n(1824),T=n(1885),j=n(1827),I=n(1763);n.d(t,"a",(function(){return J}));const N=u.a.div``,D=u.a.div`
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  display: flex;
  margin-bottom: ${e=>e.theme.material.spacing(10)};

  ${i.k} {
    border-radius: 0;
    border-left: 0;
    border-right: 0;
  }
`,$=u.a.div`
  padding: 0 28px 8px;
  width: 100%;
`,M=u.a.div`
  border-bottom: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  display: flex;
  justify-content: space-between;
  width: 100%;
  margin-top: 16px;
  padding-bottom: 12px;
`,U=u.a.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  margin-right: ${e=>e.theme.material.spacing(2)};
`,P=u.a.div`
  align-items: center;
  display: flex;
`,F=u.a.div`
  margin-right: ${e=>e.theme.material.spacing(2)};
`,R=u()(o.n)`
  margin-bottom: ${e=>e.theme.material.spacing(2)};
  display: flex;
  align-items: center;

  && {
    font-family: Zeitung, sans-serif;
    color: ${e=>e.theme.material.color.text[70]};
  }
`,z=u.a.div`
  background: ${e=>e.theme.material.color.brand.grey[50]};
  border-right: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  display: flex;
  flex-direction: column;
  justify-content: space-between;

  ${i.k} {
    display: none;
  }
`,L=u.a.div`
  padding: 0 20px 8px;
`,A=u.a.div`
  margin-top: ${e=>e.theme.material.spacing(6)};
`,V=u.a.div`
  margin-top: ${e=>e.theme.material.spacing(3)};
`,B=u()(r.a)`
  margin: ${e=>e.theme.material.spacing(5,0)};
  && {
    width: 100%;
  }
`,K=u()(o.e)`
  && {
    color: ${e=>e.theme.material.color.text[40]};
  }
`,H=u()(K)`
  display: none;

  ${i.k} {
    display: flex;
    margin-bottom: 4px;
  }
`,q=u.a.span`
  margin-right: 2px;
`,W=u.a.div`
  margin-top: ${e=>e.theme.material.spacing(5)};
`,G=u.a.div`
  margin-top: ${e=>e.theme.material.spacing(2)};
  padding-bottom: ${e=>e.theme.material.spacing(1)};

  & > a {
    display: inline-block;
    margin: ${e=>e.theme.material.spacing(2,2,0,0)};
    text-decoration: none;
  }
`,Q=u.a.div`
  margin-top: -17px;
  margin-bottom: ${e=>e.theme.material.spacing(8)};
`,Y=({tag:e})=>{const t=m.useCallback(()=>{c.logger.reportImmediate("discussions","topic-tag-click",{tagId:e.id,tagName:e.displayName})},[e]);return m.createElement("a",{href:e.listingUrl,onClick:t},m.createElement(s.a,{useKM:!0},e.displayName))},X=({tags:e})=>c.featureFlags.tagsExperimentUI&&0!==e.length?m.createElement(G,null,e.map(e=>m.createElement(Y,{key:e.id,tag:e}))):null;function J({user:e,initialModel:t,topicId:n}){var i,o,r,s,d,u,G,Y,J,Z,ee,te,ne,ae,ie,oe,re,se,le,ce,de;const[ue,me]=m.useState(null==t?void 0:t.isAdminStarred),[pe,he]=m.useState(t),[ge,fe]=m.useState(!1),[be,ve]=m.useState(!1),[ye,we]=m.useState(""),[Ee,xe]=m.useState(!1),[Ce,ke]=m.useState(""),[_e,Se]=m.useState((null==t?void 0:t.tags)||[]),Oe=Boolean(e&&e.isAdmin),Te="/product-feedback"===(null==t?void 0:t.parentUrl),je=m.useCallback(()=>we(""),[]);m.useEffect(()=>{n&&!pe&&c.discussionsClient.getForumTopicById({forumTopicId:n,includeComments:!0,selection:null}).then(e=>{he(e.forumTopic)})},[n]);const Ie=m.useCallback(()=>xe(!1),[]),Ne=m.useCallback(e=>pe?c.discussionsClient.discussionsService.updateTopic({topicId:pe.id,topicName:Ce,message:{blobFileTokens:Object(g.d)(e.attachments),markdown:e.markdown,html:e.html},tagIds:_e.map(e=>e.id)}).then(()=>(he(Object.assign(Object.assign({},pe),{name:Ce,firstMessage:Object.assign(Object.assign({},pe.firstMessage),{rawMarkdown:e.markdown,content:e.html,attachments:e.attachments}),tags:_e})),xe(!1),{messageId:pe.firstMessageId})):Promise.resolve({messageId:null}),[pe,Ce,_e]),De=c.featureFlags.discussionsUpvoteSpamWarning;m.useEffect(()=>{De&&!ge&&fe(!0)},[De]);const $e=m.useCallback(e=>{Se(e)},[]);if(!pe)return null;const Me=c.featureFlags.tagsExperimentUI?{border:"none"}:{};return m.createElement(N,null,m.createElement(D,null,m.createElement(z,null,m.createElement(f.a,{model:pe.firstMessage.author,useBlankAvatar:pe.firstMessage.isDeleted,competitionRank:null===(i=pe.firstMessage)||void 0===i?void 0:i.competitionRanking,authorType:null===(o=pe.firstMessage)||void 0===o?void 0:o.authorType}),m.createElement(L,null,Object(g.j)(e,pe&&pe.authorId)&&m.createElement(w.a,{text:"Edit",color:Ee?"blue":"grey",onClick:()=>{var e;ke(null!==(e=pe.name)&&void 0!==e?e:""),xe(!0)}}),De?null:m.createElement(w.a,{text:"Options",color:ge?"blue":"grey",onClick:()=>fe(!ge)}))),m.createElement($,null,m.createElement(M,{style:Me},Ee?m.createElement(B,{label:"Topic Title",value:Ce,onChange:e=>ke(e.target.value)}):m.createElement(m.Fragment,null,m.createElement(U,null,m.createElement(R,null,pe.name),m.createElement(H,null,m.createElement(q,null,"By")," ",m.createElement(h.a,{href:null!==(d=null===(s=null===(r=pe.firstMessage)||void 0===r?void 0:r.author)||void 0===s?void 0:s.userUrl)&&void 0!==d?d:"",authorType:null===(u=pe.firstMessage)||void 0===u?void 0:u.authorType},null===(Y=null===(G=pe.firstMessage)||void 0===G?void 0:G.author)||void 0===Y?void 0:Y.displayName)),m.createElement(K,null,"Posted in"," ",m.createElement(h.a,{href:pe.parentUrl||""},pe.parentName)," ",pe.firstMessage.postDate&&m.createElement(p.a,{time:pe.firstMessage.postDate})),m.createElement(X,{tags:pe.tags})),m.createElement(P,null,Oe&&Te&&m.createElement(l.a,{style:{marginLeft:"16px"},icon:ue?"star":"star_outline",onClick:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){me(!ue),ue?yield c.discussionsClient.issuesService.adminUnstarForumTopic({forumTopicId:pe.id}):yield c.discussionsClient.issuesService.adminStarForumTopic({forumTopicId:pe.id})}))}),m.createElement(F,null,m.createElement(y.a,{medal:pe.firstMessage.medal})),m.createElement(I.a,{canUpvote:null!==(Z=null===(J=pe.firstMessage.votes)||void 0===J?void 0:J.canUpvote)&&void 0!==Z&&Z,canDownvote:null!==(te=null===(ee=pe.firstMessage.votes)||void 0===ee?void 0:ee.canDownvote)&&void 0!==te&&te,messageId:pe.firstMessageId,userVote:Object(g.g)(pe.firstMessage.votes),onVoteChange:(e,t)=>{he(Object.assign(Object.assign({},pe),{firstMessage:Object.assign(Object.assign({},pe.firstMessage),{votes:Object(g.h)(pe.firstMessage.votes,t,e)})}))},numVotes:(null===(ne=pe.firstMessage.votes)||void 0===ne?void 0:ne.totalVotes)||0})))),c.featureFlags.tagsExperimentUI&&Ee?m.createElement(Q,null,m.createElement(T.a,{tags:_e,onSaveTags:$e,canRemoveLastTag:!0})):null,m.createElement(W,null,m.createElement(v.a,{allowAttachments:pe.allowAttachments,attachments:null!==(ie=null===(ae=pe.firstMessage)||void 0===ae?void 0:ae.attachments)&&void 0!==ie?ie:[],markdown:null!==(re=null===(oe=pe.firstMessage)||void 0===oe?void 0:oe.rawMarkdown)&&void 0!==re?re:"",htmlFallback:null!==(le=null===(se=pe.firstMessage)||void 0===se?void 0:se.content)&&void 0!==le?le:"",isEditing:Ee,confirmButtonText:"Update Topic",onCancel:Ie,onSave:Ne,topicId:pe.id,isTopicContent:!0,user:e})),ge&&pe.firstMessage&&m.createElement(A,null,!pe.isLocked&&m.createElement(w.a,{text:"Quote",onClick:()=>we(pe.firstMessage.rawMarkdown||"")}),pe.canDelete&&m.createElement(E.a,{topicId:pe.id,onDelete:()=>{window.location.href=pe.parentUrl||"/"}}),e&&m.createElement(w.a,{text:pe.isFollowed?"Unfollow":"Follow",onClick:()=>{c.notificationsClient.subscribeTo({subscribe:pe.isFollowed?"unsubscribe":"subscribeSingle",isImplicit:!1,id:pe.id,type:"forumTopic"}),he(Object.assign(Object.assign({},pe),{isFollowed:!pe.isFollowed}))}}),m.createElement(k.a,{isFlagged:pe.firstMessage.isFlagged,messageId:pe.firstMessage.id,onFlag:()=>he(Object.assign(Object.assign({},pe),{firstMessage:Object.assign(Object.assign({},pe.firstMessage),{isFlagged:!0})}))}),m.createElement(O.a,{numVotes:(null===(de=null===(ce=pe.firstMessage.votes)||void 0===ce?void 0:ce.voters)||void 0===de?void 0:de.length)||0,onClick:()=>ve(!be)}),Oe&&pe.firstMessageId&&!pe.isLocked&&m.createElement(_.a,{messageId:pe.firstMessageId,isSpammed:pe.firstMessage.isSpammed,onToggle:e=>he(Object.assign(Object.assign({},pe),{firstMessage:Object.assign(Object.assign({},pe.firstMessage),{isSpammed:e})}))}),Oe&&m.createElement(C,{forumTopicId:pe.id,isLocked:pe.isLocked,onToggle:e=>he(Object.assign(Object.assign({},pe),{isLocked:e}))}),Oe&&m.createElement(S,{forumTopicId:pe.id,isStickied:pe.isStickied,onToggle:e=>{he(Object.assign(Object.assign({},pe),{isStickied:e}))}}),Oe&&m.createElement(w.a,{text:pe.allowAttachments?"Disable Attachments":"Enable Attachments",onClick:()=>he(Object.assign(Object.assign({},pe),{allowAttachments:!pe.allowAttachments}))}),Oe&&pe.firstMessage&&m.createElement(x.a,{initialModel:pe.firstMessage.feedbackTrackingData,messageId:pe.firstMessage.id})),be&&pe.firstMessage&&m.createElement(V,null,m.createElement(j.a,{currentUser:e,currentUserVote:Object(g.g)(pe.firstMessage.votes),users:pe.firstMessage.votes&&pe.firstMessage.votes.voters||[]})))),m.createElement(b.a,{allowAttachments:pe.allowAttachments,user:e,isReadOnly:pe.isLocked,initialTopicId:pe.id,topicFirstMessageId:pe.firstMessageId,quotedComment:ye,clearQuotedComment:je,initialModel:pe.comments,initialSort:pe.commentSort}))}},1813:function(e,t,n){"use strict";var a=n(287),i=n(0),o=n(1645),r=n(1638),s=n(1752),l=n(1714);const c=e=>t=>{const{id:n}=e,{container:a}=t;return Object(r.g)(a)&&Object(r.h)(a.state)?{container:Object.assign(Object.assign({},a),{state:Object.assign(Object.assign({},a.state),{files:a.state.files.filter(e=>"kernelOutputFile"===e.type&&e.id!==n)})})}:t},d=e=>t=>{const{id:n}=e,{container:a}=t;if(Object(r.g)(a)&&Object(r.i)(a.state)){const e=a.state.kernels.find(e=>e.id===n);if(e)return{container:Object.assign(Object.assign({},a),{state:{type:"listFiles",kernel:e,files:e.outputFiles}})}}return t},u=e=>t=>{const{id:n}=e,{container:a}=t;if(Object(r.g)(a)&&Object(r.i)(a.state)){const e=a.state.kernels.find(e=>e.id===n);if(e)return{container:Object.assign(Object.assign({},a),{state:{type:"loadingFiles",kernel:e}})}}return t},m=e=>t=>{const{files:n}=e,{container:a}=t;if(Object(r.g)(a)&&Object(r.j)(a.state)){const e=a.state.kernel;if(e)return{container:Object.assign(Object.assign({},a),{state:{type:"listFiles",kernel:e,files:n}})}}return t},p=e=>t=>{const{moreKernels:n}=e,{container:a}=t;return Object(r.g)(a)&&Object(r.i)(a.state)?{container:Object.assign(Object.assign({},a),{state:Object.assign(Object.assign({},a.state),{kernels:[...a.state.kernels,...n]})})}:t},h=e=>t=>{const{kernels:n}=e,{container:a}=t;return Object(r.g)(a)&&(Object(r.i)(a.state)||Object(r.k)(a.state))?{container:Object.assign(Object.assign({},a),{state:Object.assign(Object.assign({},a.state),{type:"listKernels",kernels:n})})}:t},g=e=>t=>{const{query:n}=e,{container:a}=t;return Object(r.g)(a)&&(Object(r.i)(a.state)||Object(r.k)(a.state))?{container:Object.assign(Object.assign({},a),{state:{type:"loadingKernels",searchType:a.state.searchType,query:n}})}:t},f=e=>t=>{const{searchType:n}=e,{container:a}=t;return Object(r.g)(a)&&(Object(r.i)(a.state)||Object(r.k)(a.state))?{container:Object.assign(Object.assign({},a),{state:{type:"loadingKernels",searchType:n,query:a.state.query}})}:t},b=()=>({container:{type:"kernelOutputContainer",state:{type:"failed"}}}),v=()=>({container:{type:"kernelOutputContainer",state:{type:"loadingKernels",query:"",searchType:"public"}}});var y=n(1749),w=n(1750);n.d(t,"a",(function(){return E}));class E extends i.Component{constructor(){super(...arguments),this.state={container:this.props.defaultContainer},this.onUpdate=(e,t,n)=>{switch(e){case"uploadContainer":return void this.onUploadContainerUpdate(t,n);case"remoteUrlUploadContainer":return void this.onRemoteUploadContainerUpdate(t,n);case"githubContainer":return void this.onGithubContainerUpdate(t,n);case"kernelOutputContainer":return void this.onKernelOutputContainerUpdate(t,n)}},this.onUploadContainerUpdate=(e,t)=>{switch(e){case"start":return void this.setState(Object(y.j)(t));case"progress":return void this.setState(Object(y.e)(t));case"complete":return void this.setState(Object(y.a)(t));case"duplicate":return void this.setState(Object(y.b)(t));case"failed":return void this.setState(Object(y.c)(t));case"remove":return void this.setState(Object(y.h)(t));case"removeFailed":return void this.setState(Object(y.g)(t));case"removeDuplicates":return void this.setState(Object(y.f)(t));case"reset":return void this.setState(y.i)}},this.onRemoteUploadContainerUpdate=(e,t)=>{switch(e){case"add":return void this.setState(Object(w.a)(t));case"rename":return void this.setState(Object(w.g)(t));case"success":return void this.setState(Object(w.i)(t));case"failed":return void this.setState(Object(w.b)(t));case"remove":return void this.setState(Object(w.f)(t));case"reset":return void this.setState(w.h)}},this.onGithubContainerUpdate=(e,t)=>{switch(e){case"set":return void this.setState(Object(l.e)(t));case"failed":return void this.setState(l.b);case"success":return void this.setState(Object(l.f)(t));case"reset":return void this.setState(l.d)}},this.onKernelOutputContainerUpdate=(e,t)=>{switch(e){case"removeFile":return void this.setState(c(t));case"setKernel":return void this.setState(d(t));case"setLoadingFiles":return void this.setState(u(t));case"setFiles":return void this.setState(m(t));case"addToKernelList":return void this.setState(p(t));case"setKernelList":return void this.setState(h(t));case"setQuery":return void this.setState(g(t));case"setSearchType":return void this.setState(f(t));case"reset":return void this.setState(v);case"failed":return void this.setState(b)}},this.isContainerDirty=()=>{const{container:e}=this.state;if(Object(r.p)(e)){return Object(o.b)(e,()=>!0)>0}return Object(r.a)(e)?!!e.url:Object(r.l)(e)?e.children.length>0:!!Object(r.g)(e)&&Object(r.h)(e.state)},this.isContainerClosable=()=>{const{container:e}=this.state;return Object(r.p)(e)?0===e.files.length&&0===e.directories.length:Object(r.l)(e)?!e.children.some(e=>"remoteUrlUploadFile"===e.type):!Object(r.g)(e)||!Object(r.h)(e.state)},this.isContainerUploadable=()=>{const{container:e}=this.state;if("uploadContainer"===e.type){const t=Object(o.b)(e,()=>!0),n=0===Object(o.b)(e,e=>"uploadFile"===e.type&&!Object(s.a)(e.state));return t>0&&n}if(Object(r.a)(e))return Object(r.f)(e.state)||Object(r.d)(e.state);if(Object(r.l)(e)){const{children:t}=e,n=t.length>0,a=t.every(e=>"remoteUrlVersionedFile"===e.type||Object(r.o)(e.state));return n&&a}return!!Object(r.g)(e)&&(Object(r.h)(e.state)&&e.state.files.length>0)},this.doesContainerContainerDuplicates=()=>{const{container:e}=this.state;return"uploadContainer"===e.type&&Object(o.b)(e,e=>"uploadFile"===e.type&&"duplicate"===e.state.type)>0},this.doesContainerHaveErrors=()=>{const{container:e}=this.state;if("uploadContainer"===e.type)return Object(o.b)(e,e=>"uploadFile"===e.type&&"failed"===e.state.type)>0;if("remoteUrlUploadContainer"===e.type){const{children:t}=e;return t.some(e=>"remoteUrlUploadFile"===e.type&&"failed"===e.state.type)}return!1},this.inflightUploadMessage=()=>{const{container:e}=this.state;if("uploadContainer"===e.type){const t=Object(o.b)(e,e=>"uploadFile"===e.type);if(t>0){const n=this.getCompleteLocalUploadsCount(e),i=n===t;return{type:"loading",str:`Uploaded ${n} of ${t} ${a("files",t)}${i?".":"..."}`}}}},this.getCompleteLocalUploadsCount=e=>Object(o.b)(e,e=>"uploadFile"===e.type&&("duplicate"===e.state.type||"complete"===e.state.type))}render(){const{children:e}=this.props,{container:t}=this.state;return e({container:t,isContainerDirty:this.isContainerDirty(),isContainerClosable:this.isContainerClosable(),isContainerUploadable:this.isContainerUploadable(),doesContainerContainDuplicates:this.doesContainerContainerDuplicates(),doesContainerHaveErrors:this.doesContainerHaveErrors(),inflightUploadMessage:this.inflightUploadMessage(),onUpdate:this.onUpdate})}}},1814:function(e,t,n){"use strict";var a=n(1416),i=n(1608),o=n(384),r=n(1),s=n.n(r),l=n(0),c=n(383);const d=s.a.div`
  display: flex;
  align-items: center;
  color: ${e=>e.theme.colors.text.light};
  margin-right: ${e=>e.theme.material.spacing(3)};
`,u=s()(c.u)`
  display: flex;
  align-items: center;
  margin-right: ${e=>e.theme.material.spacing(3)};
`,m=s()(a.a)`
  margin-right: ${e=>e.theme.material.spacing(1)};
`;function p(e){const{isPrivate:t,tipText:n,privateText:a,publicText:i,onPrivacyChange:r}=e,s=a||"private",c=i||"public",p=l.createElement(l.Fragment,null,l.createElement(m,{icon:t?"lock":"lock_open",size:"small"}),t?s:c);return void 0!==r?l.createElement(u,{onClick:()=>r(!t)},n?l.createElement(o.Tooltip,{tip:n},p):p):l.createElement(d,null,n?l.createElement(o.Tooltip,{tip:n},p):p)}n.d(t,"a",(function(){return w}));const h=s.a.div`
  flex-shrink: 0;

  display: flex;
  justify-content: flex-end;
  align-items: center;
  border-top: 1px solid ${e=>e.theme.colors.content.borderLight};
  padding: ${e=>e.theme.size.pad.m};
`,g=s.a.div`
  flex: 1 1 auto;
  color: ${e=>e.theme.colors.kaggle.redDark};
  ${e=>e.theme.font.main.size.l};

  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,f=s.a.div`
  flex: 1 1 auto;
  color: ${e=>e.theme.colors.kaggle.blackLight};
  ${e=>e.theme.font.main.size.l};

  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`,b=s.a.div`
  display: flex;
  align-items: center;
`,v=s()(a.a)`
  color: ${e=>e.theme.colors.pure.white};
  margin-right: ${e=>e.theme.material.spacing(1)} !important;
`,y=s()(i.a)`
  color: ${e=>e.theme.colors.pure.white};
  margin-right: ${e=>e.theme.material.spacing(1)} !important;
  height: ${e=>e.theme.material.spacing(4)};
  width: ${e=>e.theme.material.spacing(4)};
  font-size: ${e=>e.theme.material.typography.caption.fontSize};
`;function w(e){const{canCreate:t,isPrivate:n,isLoading:a,statusMessage:i,createText:r,duplicateText:s,privacyTip:c,privateText:d,publicText:u,onCreate:m,onPrivacyChange:w}=e,x={key:"create",content:l.createElement(l.Fragment,null,a?l.createElement(y,null):l.createElement(v,{icon:"check_circle_filled",size:"inline"})," ",r)},C=s?[{key:"create-duplicate",content:s}]:[];return l.createElement(h,null,!!i&&"error"===i.type&&l.createElement(g,null,i.str),!!i&&"loading"===i.type&&l.createElement(f,null,i.str),l.createElement(b,null,l.createElement(p,{isPrivate:n,tipText:c,privateText:d,publicText:u,onPrivacyChange:w}),l.createElement(o.SplitButton,{isDisabled:!t||a,onAction:E(m),primaryAction:x,otherActions:C})))}const E=e=>t=>e(t)},1815:function(e,t,n){"use strict";var a=n(1),i=n.n(a),o=n(0),r=n(1416);const s=i.a.button`
  border: none;
  background: none;
  position: relative;
  margin-bottom: ${e=>e.theme.size.pad.m};
  color: ${e=>(e=>{const{isSelected:t,disabled:n,isHovering:a,theme:i}=e;return t?i.colors.kaggle.blueDark:n?i.colors.misc.grayLightest:a?i.colors.kaggle.blueLight:i.colors.misc.grayLight})(e)};
  cursor: ${e=>(e=>{const{disabled:t,isHovering:n}=e;return!t&&n?"pointer":"default"})(e)};
`;class l extends o.Component{constructor(){super(...arguments),this.state={isHovering:!1},this.onMouseEnter=()=>{this.setState({isHovering:!0})},this.onMouseLeave=()=>{this.setState({isHovering:!1})}}static getDerivedStateFromProps(e,t){const{isSelected:n,isDisabled:a}=e;return{isHovering:!n&&!a&&t.isHovering}}render(){const{icon:e,isDisabled:t,isSelected:n,onClick:a,className:i}=this.props,{isHovering:l}=this.state;return o.createElement(s,{disabled:n||t,isSelected:n,isHovering:l,className:i,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:a},o.createElement(r.a,{icon:e,size:"large"}))}}n.d(t,"a",(function(){return p}));const c=i.a.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  flex: 0 0 40px;

  padding: ${e=>e.theme.size.pad.m};
  border-right: 1px solid ${e=>e.theme.colors.content.border};
`,d=i()(l)``,u=i()(l)``,m=i.a.div`
  flex: 1 1 auto;
`;function p(e){const{tabs:t,selectedTab:n,onTabSelect:a}=e,i=t.filter(e=>!e.isEnd).map(({icon:e,key:t,isDisabled:i,isEnd:r})=>{const s={icon:e,isEnd:r,isDisabled:i,isSelected:t===n,onClick:()=>a(t)};return o.createElement(d,Object.assign({key:t},s))}),r=t.filter(e=>!0===e.isEnd).map(({icon:e,key:t,isDisabled:i,isEnd:r})=>{const s={icon:e,isEnd:r,isDisabled:i,isSelected:t===n,onClick:()=>a(t)};return o.createElement(u,Object.assign({key:t},s))});return o.createElement(c,null,i,o.createElement(m,null)," ",r)}},1816:function(e,t,n){"use strict";var a=n(3),i=n(0),o=n(1646),r=n(2020),s=n(1655),l=n(30),c=n(1729),d=n(1715),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this,n=this.props.refactoredComments?this.props.refactoredComments.reduce((function(e,t){return e+t.replies.length+1}),0):this.props.comments?this.props.comments.reduce((function(e,t){return e+t.replies.length+1}),0):0;return i.createElement("div",{className:"comment-list"},i.createElement(o.b,{minWidth:0,maxWidth:o.a.tabletMax},i.createElement(r.a,{closeButtonCallback:function(){return e.props.toggleSortPane()},shouldShowOffCanvas:this.props.showSortPane,shouldUseCloseButton:!0,shouldUseRightSide:!0},i.createElement("div",{className:"comment-list__sort-pane"},this.props.showKernelFilter&&i.createElement(s.a,{className:"comment-list__kernel-filter",onChange:this.props.kernelFilterChanged,options:t.kernelCommentFilters,searchable:!1,value:this.props.kernelFilter}),i.createElement("span",{className:"comment-list__sortby-label"},"Sort by"),i.createElement(s.a,{onChange:this.props.sortChanged,options:t.commentSorts,searchable:!1,value:this.props.sort})))),i.createElement("div",{className:"comment-list__header"},i.createElement("span",{className:"comment-list__title"},"Comments"," ",i.createElement("span",{className:"comment-list__title-count"},"(",n,")")),i.createElement("span",{className:"comment-list__spacer"}),i.createElement(o.b,{minWidth:o.a.desktopMin},i.createElement("div",{className:"comment-list__sort-pane-button"},this.props.showKernelFilter?i.createElement(s.a,{onChange:this.props.kernelFilterChanged,options:t.kernelCommentFilters,searchable:!1,value:this.props.kernelFilter}):null,n>0&&i.createElement("span",null,i.createElement("span",{className:"comment-list__sortby-label"},"Sort by"),i.createElement(s.a,{onChange:this.props.sortChanged,options:t.commentSorts,searchable:!1,value:this.props.sort})))),i.createElement(o.b,{minWidth:0,maxWidth:o.a.tabletMax},i.createElement("span",{className:"comment-list__sort-pane-button",onClick:function(){return e.props.toggleSortPane()}},"Filter/sort ",i.createElement("i",{className:"fa fa-angle-right"})))),[this.props.allowReplies&&(l.a.isAnonymous?i.createElement("div",{key:"comment-anonymous",className:"comment-list__login-warning"},"Please"," ",i.createElement("a",{className:"comment-list__link",href:"/account/login?returnUrl="+encodeURIComponent(this.props.url+"?replyTo="+this.props.topicId)},"sign in")," ","to leave a comment."):i.createElement(d.a,{key:"comment-loggedin-user-top-level",allowAttachments:this.props.allowAttachments,applyQuote:this.props.applyQuote,onCancelComment:this.props.cancelComment,currentUserTier:this.props.currentUserTier,newAttachments:this.props.topLevelPostAttachments,onAttachmentAdded:this.props.topLevelPostAttachmentAdded,onAttachmentDeleted:this.props.topLevelPostAttachmentDeleted,onSubmitted:this.props.onSubmitTopLevelPost,isSubmitting:this.props.isSubmittingTopLevelPost,showEditPreview:this.props.showTopLevelPostDraftPreview,minimizedEditorView:this.props.topLevelPostEditorMinimized,toggleEditPreview:this.props.toggleTopLevelPostDraftPreview,openEditor:function(){return e.props.setTopLevelPostEditorMinimized(!1)},markdownKey:this.props.markdownKey,markdownRef:this.props.markdownRef,topicId:this.props.topicId,attachments:[]})),i.createElement("div",{key:"comment-spacer-top-level",className:"comment-list__comment-linking-spacer"})],!this.props.allowReplies&&this.props.disallowRepliesReason&&[i.createElement("div",{key:"comment-disallowed",className:"comment-list__login-warning"},this.props.disallowRepliesReason),i.createElement("div",{key:"comment-spacer-top-level",className:"comment-list__comment-linking-spacer"})],this.props.refactoredComments?this.props.refactoredComments.slice(0,this.props.maxCommentsVisible).map((function(t){return[i.createElement(c.a,{allowAttachments:e.props.allowAttachments,allowReplies:e.props.allowReplies,canDelete:t.canDelete,canDownvote:e.props.canDownvote,currentUserTier:e.props.currentUserTier,feedbackTrackingData:t.feedbackTrackingData,key:t.id,parentId:void 0,refactoredComment:t,refactoredReplies:t.replies,replies:void 0,replySubmitted:e.props.commentReplySubmitted,topicId:e.props.topicId,topicUrl:e.props.url,id:t.id,replyTo:e.props.replyTo}),i.createElement("div",{key:"comment-spacer-"+t.id,className:"comment-list__comment-linking-spacer"})]})):null,!this.props.refactoredComments&&this.props.comments?this.props.comments.slice(0,this.props.maxCommentsVisible).map((function(t){return[i.createElement(c.a,Object(a.__assign)({},t,{allowAttachments:e.props.allowAttachments,allowReplies:e.props.allowReplies,canDelete:t.canDelete,canDownvote:e.props.canDownvote,currentUserTier:e.props.currentUserTier,key:t.id,parentId:void 0,refactoredComment:null,replies:t.replies,replySubmitted:e.props.commentReplySubmitted,topicId:e.props.topicId,topicUrl:e.props.url,replyTo:e.props.replyTo})),i.createElement("div",{key:"comment-spacer-"+t.id,className:"comment-list__comment-linking-spacer"})]})):null,this.props.maxCommentsVisible<n?i.createElement("div",{className:"comment-list__show-more-footer"},"Showing ",this.props.maxCommentsVisible," of ",n," comments."," ",i.createElement("a",{onClick:this.props.onShowMoreClicked},"Show More")):null)},t.commentSorts=[{label:"Hotness",value:"hot"},{label:"Most Votes",value:"top"},{label:"Newest",value:"new"},{label:"Oldest",value:"old"},{label:"Chronological",value:"chronological"}],t.kernelCommentFilters=[{label:"All Comments",value:"all"},{label:"Latest Version Comments",value:"version"}],t}(i.Component),m=n(1691),p=n(8),h=n(1774),g=n(370),f=n(147),b=n(1736);n.d(t,"a",(function(){return y}));var v=1e3,y=function(e){function t(t){var n=e.call(this,t)||this;n.changeKernelFilter=function(e){n.setState({kernelFilter:e},(function(){return n.loadData(n.props.topicId)}))},n.showMore=function(){var e=n.state.maxCommentsVisible+(n.props.pageSize||v);n.setState({maxCommentsVisible:e})},n.changeSort=function(e){Object(g.f)(window.location.pathname+window.location.search),n.setState({sort:e},(function(){return n.loadData(n.props.topicId)}))},n.loadData=function(e,t){void 0===t&&(t=null),null!=e?n.loadRefactoredData().then((function(){n.setState({dataLoaded:!0}),t()})):n.setState({dataLoaded:!0})};var i=new URLSearchParams(location.search).get("replyTo");return i&&Object(g.f)(window.location.pathname),n.state=Object(a.__assign)(Object(a.__assign)({},n.props.initialState),{cancelComment:function(){return n.setState({showTopLevelPostDraftPreview:!1},(function(){return n.props.setTopLevelPostEditorMinimized(!0)}))},commentReplySubmitted:function(e){return n.loadData(n.props.topicId,e)},dataLoaded:!!n.props.initialState,isSubmittingTopLevelPost:!1,kernelFilterChanged:function(e){return n.changeKernelFilter(e)},markdownKey:0,onSubmitTopLevelPost:function(){return n.onSubmitTopLevelPost()},showTopLevelPostDraftPreview:!1,maxCommentsVisible:n.props.pageSize||v,showSortPane:!1,sortChanged:function(e){return n.changeSort(e)},toggleTopLevelPostDraftPreview:function(){return n.setState({showTopLevelPostDraftPreview:!n.state.showTopLevelPostDraftPreview})},onShowMoreClicked:function(){return n.showMore()},toggleSortPane:function(){return n.setState({showSortPane:!n.state.showSortPane})},topLevelPostAttachments:[],topLevelPostAttachmentAdded:function(e,t,a){return n.addTopLevelPostAttachment(e,t,a)},topLevelPostAttachmentDeleted:function(e){return n.deleteTopLevelPostAttachment(e)},replyTo:+i}),n}return Object(a.__extends)(t,e),t.prototype.onSubmitTopLevelPost=function(){var e=this;this.state.isSubmittingTopLevelPost||this.setState({isSubmittingTopLevelPost:!0},(function(){var t=e.markdownRef.getValue();e.props.submitTopLevelPostToServer(t,e.props.allowAttachments?e.state.topLevelPostAttachments:[],(function(t){return e.onSuccessfulTopLevelPostSubmitted(t)}),(function(){return e.onFailedTopLevelPost()}))}))},t.prototype.onSuccessfulTopLevelPostSubmitted=function(e){var t=this;this.loadData(this.props.topicId,(function(){t.setState({isSubmittingTopLevelPost:!1,markdownKey:t.state.markdownKey+1,topLevelPostAttachments:[]}),t.props.setTopLevelPostEditorMinimized(!0),Object(f.i)(e)}))},t.prototype.onFailedTopLevelPost=function(){this.setState({isSubmittingTopLevelPost:!1})},t.prototype.addTopLevelPostAttachment=function(e,t,n){var a=this.state.topLevelPostAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({topLevelPostAttachments:a})},t.prototype.deleteTopLevelPostAttachment=function(e){var t=this.state.topLevelPostAttachments,n=t.filter((function(t){return t.name==e}))[0],a=t.indexOf(n);t.splice(a,1),this.setState({topLevelPostAttachments:t})},t.prototype.componentDidMount=function(){var e=this;this.state.dataLoaded?(this.loadRefactoredData(),Object(f.h)()):this.loadData(this.props.topicId,(function(){return e.setState({dataLoaded:!0},f.h)}))},t.prototype.componentDidUpdate=function(e){e.topicId!=this.props.topicId&&this.loadData(this.props.topicId)},t.prototype.render=function(){var e=this,t=this.props,n=(t.children,Object(a.__rest)(t,["children"]));return p.featureFlags.discussionsRefactorEnabled?i.createElement(h.a,{allowAttachments:this.props.allowAttachments,user:Object(b.a)(),isReadOnly:!this.props.allowReplies,readOnlyReason:this.props.disallowRepliesReason,initialTopicId:this.props.topicId,kernelId:this.props.kernelId,topicFirstMessageId:this.props.kernelId?void 0:this.state.comments[0].id,initialModel:this.state.refactoredComments,initialSort:this.state.commentSort}):this.state.dataLoaded?i.createElement(u,Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({},n),this.state),{markdownRef:function(t){e.markdownRef=t}})):i.createElement(m.a,{isLoading:!this.state.dataLoaded,text:"Loading Comments"})},t.prototype.getNewFilter=function(e){return"version"==e?"kernelVersion":"all"},t.prototype.loadRefactoredData=function(){var e=this,t=this.state.sort;return t||(t="noneSpecified"),p.discussionsClient.getForumMessagesInTopic({topicId:this.props.topicId,page:null,pageSize:null,selection:null,newUserSort:t,filter:this.getNewFilter(this.state.kernelFilter),includeFirstForumMessage:!1}).then((function(t){var n=null;t&&(n=t),e.setState({commentSort:n.commentSort,refactoredComments:n.comments})}))},t}(i.Component)},1817:function(e,t,n){"use strict";var a=n(147),i=n(1909),o=n(1),r=n.n(o),s=n(0),l=n(211),c=n(1810);var d=n(1735);n.d(t,"a",(function(){return m}));const u=r.a.div`
  font-family: ${e=>e.theme.material.typography.body2.fontFamily};
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  line-height: 22px;
  color: ${e=>e.theme.material.color.text[70]};
  word-break: break-word;

  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  ul,
  ol,
  p,
  hr,
  pre,
  blockquote,
  img {
    margin: ${e=>e.theme.material.spacing(5)} 0;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: ${e=>e.theme.material.color.text[100]};
    font-weight: 500;
  }

  h1 {
    font-size: 24px;
  }

  h2 {
    font-size: 22px;
  }

  h3 {
    font-size: 20px;
  }

  h4 {
    font-size: 18px;
  }

  h5 {
    font-size: 16px;
  }

  h6 {
    font-size: 14px;
  }

  hr {
    border: 0;
    border-top: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  }

  strong,
  b {
    font-weight: 800;
  }

  i,
  cite,
  em,
  var,
  address,
  dfn {
    font-style: italic;
  }

  a {
    color: ${e=>e.theme.material.color.brand.blue[800]};
    text-decoration: none;

    &:hover {
      color: ${e=>e.theme.material.color.brand.blue[600]};
    }
  }

  img {
    max-width: 100%;
  }

  ul,
  ol {
    margin: 0 0 0 16px;
  }

  ol {
    list-style-type: decimal;
    padding-left: ${e=>e.theme.material.spacing(4)};
  }

  ul {
    list-style-type: disc;
    padding-left: ${e=>e.theme.material.spacing(4)};
  }

  ul ol,
  ol ol {
    margin: 0;
    list-style-type: lower-latin;
  }

  ol ul,
  ul ul {
    list-style-type: circle;
  }

  li {
    margin: ${e=>e.theme.material.spacing(2)} 0;
  }

  p {
    &:first-child {
      margin-top: 0;
    }

    &:last-child {
      margin-bottom: 0;
    }
  }

  pre,
  code {
    font-family: ${e=>e.theme.material.typography.code.fontFamily};
  }

  blockquote,
  code,
  pre {
    overflow-x: auto;
    background: ${e=>e.theme.material.color.brand.grey[50]};
    border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
    border-radius: ${e=>e.theme.material.borderRadius.normal};
  }

  pre code {
    border: none;
  }

  blockquote,
  pre {
    padding: ${e=>e.theme.material.spacing(4)};
  }

  table {
    border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
    border-collapse: collapse;
    border-radius: ${e=>e.theme.material.borderRadius.normal};
    padding: 0;
    table-layout: fixed;
  }

  th,
  td {
    border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
    padding: ${e=>e.theme.material.spacing(2)};
  }

  th {
    background: ${e=>e.theme.material.color.brand.grey[50]};
  }

  td {
    background: ${e=>e.theme.material.color.white};
  }

  iframe {
    max-width: 100%;
  }

  del {
    text-decoration: line-through;
  }
`;function m({html:e,markdown:t}){const n=s.useRef(null),[o,r]=s.useState([]);return s.useLayoutEffect(()=>{n.current&&function(e,t){e&&(e.indexOf("$$")>-1||e.indexOf("\\[")>-1||e.indexOf("\\(")>-1)&&("undefined"!=typeof MathJax&&MathJax?MathJax.Hub?MathJax.Hub.Queue(["Typeset",MathJax.Hub,t]):console.warn("Unable to find MathJax.Hub, aborting the LaTeX rendering process."):console.warn("LaTeX content was detected inside markdown, but MathJax is not loaded. Use @await Components.MathJaxAsync(Html)"))}(e||Object(d.a)(t),n.current)},[e,t]),s.useLayoutEffect(()=>{if(n.current){const e=e=>/https?:\/\/(?:www\.)?kaggle\.com\/[^\/]+(?:\/)?$/.test(e),t=e=>{var t;return null===(t=e.textContent)||void 0===t?void 0:t.startsWith("@")},a=e=>(e.dataset.id||(e.dataset.id=Object(l.v4)()),e),i=e=>{const t=e.innerText.substring(1);return e.dataset.userName=t,e},o=Array.from(n.current.querySelectorAll("a")).filter(({href:t})=>e(t)).filter(t).map(a).map(i);r(o)}},[e,t]),e?s.createElement(s.Fragment,null,Object(a.j)(s.createElement(u,{ref:n}),e),o.map(e=>s.createElement(i.a,{key:e.dataset.id,targetRef:e},s.createElement(c.a,{userName:e.dataset.userName})))):t?s.createElement(s.Fragment,null,Object(a.j)(s.createElement(u,{ref:n}),Object(d.a)(t)),o.map(e=>s.createElement(i.a,{key:e.dataset.id,targetRef:e},s.createElement(c.a,{userName:e.dataset.userName})))):null}},1818:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(3),i=n(0),o=n(1708);function r(e){return i.createElement(o.a,Object(a.__assign)({banner:i.createElement("span",{className:"fa-stack"},i.createElement("i",{className:"fa fa-circle fa-stack-2x fa-inverse"}),i.createElement("i",{className:"fa fa-user-secret fa-stack-1x"})),tip:"Only visible in development."},e,{shouldRender:!1}))}},1819:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return r}));var a=n(30),i=function(){return{id:a.a.userId,name:a.a.userDisplayName,slug:a.a.userName,imageUrl:a.a.userThumbnailUrl,isAdmin:a.a.isAdmin}},o=function(){return{type:"uploadContainer",files:[],directories:[],existingFiles:[],existingDirectories:[]}},r=function(e,t){var n=e.children.filter((function(e){return"databundleVersionObject"===e.type})).map((function(e){return e})),a="databundleVersion"===e.type?e.databundleVersionType:void 0;if(n.some((function(e){return"file"===e.databundleVersionObjectType}))||"fileset"===a)return{type:"uploadContainer",files:[],directories:[],existingFiles:n.map((function(e){return{type:"existingFile",name:e.name?e.name:"",size:e.size,identifier:{type:"database",databundleVersionObjectId:e.id,blobFileId:e.blobFileId}}})),existingDirectories:[]};if(n.some((function(e){return"remoteUrlFile"===e.databundleVersionObjectType}))||"remoteUrlFileSet"===a)return{children:n.map((function(e){return{type:"remoteUrlVersionedFile",id:e.id,size:e.size,name:e.name?e.name:"",url:e.settings&&e.settings.remoteUrlSettings?e.settings.remoteUrlSettings.url:""}})),type:"remoteUrlUploadContainer"};if("remoteGitRepositoryFileSet"===a)return{type:"githubContainer",state:{type:"success",content:[]},url:"https://github.com/"+(e.settings&&e.settings.remoteGithubSettings?e.settings.remoteGithubSettings.ownerSlug:"")+"/"+(e.settings&&e.settings.remoteGithubSettings?e.settings.remoteGithubSettings.repositorySlug:"")};if(t&&t.owner&&t.outputFiles){var i=t.outputFiles.map((function(e){return{id:e.kernelVersionOutputFileId,name:e.name,size:e.contentLength,type:"kernelOutputFile"}}));return{type:"kernelOutputContainer",state:{type:"listFiles",kernel:{id:t.kernelId,lastKernelRunId:0,title:t.title,url:t.url,owner:{id:t.owner.id,imageUrl:t.owner.imageUrl,isOrganization:!1,name:t.owner.name,performanceTier:t.owner.userTier,slug:t.owner.slug},outputFiles:i},files:i}}}return o()}},1820:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d}));var a=n(3);class i{constructor(e){this.description="Not started",this.isUploading=!1,this.isPaused=!1,this.hasSucceeded=!1,this.hasFailed=!1,e&&Object.assign(this,e)}get hasStarted(){return!!this.uploadProgressEvent}get totalBytesLoaded(){return(this.uploadProgressEvent&&this.uploadProgressEvent.loaded||0)+(this.previousBytesReceived||0)}get isDone(){return this.hasSucceeded||this.hasFailed}get progressProps(){return{initiatedTimeStamp:this.initialProgressEventTimeStamp,initialOffsetAmount:this.previousBytesReceived,progressEvent:this.uploadProgressEvent}}}class o{constructor(){this.cancellationCallbacks=[],this._isCancellationRequested=!1}register(e){return this.isCancellationRequested&&e(),this.cancellationCallbacks.push(e),()=>{this.cancellationCallbacks=this.cancellationCallbacks.filter(t=>t!==e)}}get isCancellationRequested(){return this._isCancellationRequested}cancel(){if(!this.isCancellationRequested){this._isCancellationRequested=!0;for(const e of this.cancellationCallbacks)e&&e()}}}class r{constructor(){this.internalResolve=()=>{},this.internalPromise=Promise.resolve(),this.reset()}set(){this.internalResolve&&this.internalResolve()}wait(){return this.internalPromise}reset(){this.internalPromise=new Promise(e=>{this.internalResolve=e})}}class s{constructor(){this.isPaused=!1,this.resumeEvent=null,this.currentCancellationToken=new o}pause(){this.isPaused||(this.isPaused=!0,this.resumeEvent=new r,this.currentCancellationToken.cancel())}waitUntilResumed(){return Object(a.__awaiter)(this,void 0,void 0,(function*(){this.isPaused&&null!==this.resumeEvent&&(yield this.resumeEvent.wait())}))}resume(){this.isPaused&&null!==this.resumeEvent&&(this.isPaused=!1,this.currentCancellationToken=new o,this.resumeEvent.set(),this.resumeEvent=null)}}const l=e=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){return new Promise(t=>setTimeout(t,e))}));function c(t,n,o,r,s,l){return(r?function(t,n,o){return Object(a.__awaiter)(this,void 0,void 0,(function*(){o(new i({description:"Checking server for existing upload"}));const a=yield e(t,{method:"PUT",headers:{"Content-Range":`bytes */${n.size}`}});if(a.status>=200&&a.status<300)return{bytesReceived:n.size,completeBlob:yield a.json()};const r=a.headers.get("Range");if(r){const e=r.match(/bytes\s*=\s*([0-9]+)-([0-9]+)/);if(!e)throw new Error(`Unable to parse Range header: ${r}`);const t=parseInt(e[1],10);if(0!==t)throw new Error(`Unexpect Range start offset: ${t}`);const a=parseInt(e[2],10);if(a>=n.size)throw new Error(`Range end is larger than expected: ${a}`);return{bytesReceived:a+1}}return{bytesReceived:0}}))}(t,n,s):Promise.resolve({bytesReceived:0})).then(e=>new Promise((a,r)=>{if(e.bytesReceived===n.size&&n.size>0)return void a(e.completeBlob);const c=new i({previousBytesReceived:e.bytesReceived?e.bytesReceived:0}),d=new XMLHttpRequest;d.open("PUT",t),d.upload.onprogress=e=>{c.description="Uploading file",c.isUploading=!0,c.isPaused=!1,c.initialProgressEventTimeStamp||(c.initialProgressEventTimeStamp=e.timeStamp),c.uploadProgressEvent=e,s(c)},d.onerror=()=>{c.isUploading=!1,l&&l.isCancellationRequested||r(d.statusText)},d.onload=()=>{if(c.isUploading=!1,d.status>=200&&d.status<300){c.isUploading=!1,c.isPaused=!1,s(c);const e=JSON.parse(d.responseText);a(e)}else c.description="Upload was interrupted",s(c),r(d.statusText)},l&&l.register(()=>{d.abort(),c.description="Upload was paused",c.isUploading=!1,c.isPaused=!1,s(c),r("Upload was cancelled")}),e.bytesReceived>0?(d.setRequestHeader("Content-Range",`bytes ${e.bytesReceived}-${n.size-1}/${n.size}`),d.send(n.slice(e.bytesReceived,n.size,o))):d.send(n)}))}function d(e,t,n,o){return function(e,t,n,o,r,d,u){const m=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const a={name:o,contentLength:n.size,contentType:r,lastModifiedDate:d};return e({blobBucket:t},a)})),p=new s,h={progress:new i,onProgress:u},g=(e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){e(new i({description:"Initializing upload"}));const t=yield m();let a=2;for(let s=0;s<5e3;s++)try{const a=0!==s,l=yield c(t.createUrl,n,r,a,e,p.currentCancellationToken);let d=null;if(l.md5Hash){d="";const e=atob(l.md5Hash);for(let t=0;t<e.length;t++)d+=e.charCodeAt(t).toString(16)}const u={token:t.token,md5Hash:d,name:o,size:n.size};return e(new i({description:"Upload complete",uploadedBlobInfo:u,hasSucceeded:!0})),u}catch(t){if(p.isPaused){yield p.waitUntilResumed();continue}s>1&&(e(new i({description:"Error while uploading",isPaused:!0,nextRetryDate:new Date(Date.now()+1e3*a),totalRetries:s})),yield l(1e3*a),a=Math.min(2*a,30))}throw e(new i({description:"Upload failed, even after 5000 attempts",isUploading:!1})),new Error("Upload failed, even after 5000 attempts")})))((function(e){h.progress=e,h.onProgress&&h.onProgress(e)}));return Object.defineProperties(g,{pause:{value:()=>(p.pause(),()=>(p.resume(),g)),configurable:!1,writable:!1,enumerable:!0},progress:{get:()=>h.progress,configurable:!1,enumerable:!0},onProgress:{get:()=>h.onProgress,set:e=>h.onProgress=e,configurable:!1,enumerable:!0}})}(e,t,n,n.name,n.type,new Date(n.lastModified),o)}}).call(this,n(98))},1821:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),i=n.n(a),o=n(0);const r=i.a.img`
  height: ${e=>e.theme.material.spacing(7)};
  width: ${e=>e.theme.material.spacing(7)};
`;function s({medal:e}){return e?o.createElement(r,{src:`/static/images/medals/discussion/${e}l@1x.png`}):null}},1822:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(3),i=n(1893),o=n(1468),r=n(1971),s=n(383),l=n(8),c=n(1),d=n.n(c),u=n(0),m=n(1660);const p=d()(i.a)`
  &&& .mdc-dialog__surface {
    width: auto;
  }
`,h=d.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,g=d.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,f=d.a.div`
  display: flex;
  justify-content: flex-end;
`,b=d.a.div`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,v=d()(o.a)`
  && {
    background: #b34834;
  }
`;function y({topicId:e,messageId:t,onDelete:n}){const[i,c]=u.useState(!1),d=e?"Topic":"Comment",y=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){e?yield l.discussionsClient.deleteTopic({topicId:e}):t&&(yield l.discussionsClient.deleteMessage({messageId:t})),n(),c(!1)}));return u.createElement(u.Fragment,null,u.createElement(p,{open:i,onClose:()=>c(!1)},u.createElement(r.a,null,u.createElement(h,null,u.createElement(s.o,null,"Delete ",d,"?")),u.createElement(g,null,u.createElement(s.b,null,"You're about to delete this ",d.toLowerCase(),".")),u.createElement(f,null,u.createElement(b,null,u.createElement(o.a,{variant:"text",onClick:()=>c(!1)},"Cancel")),u.createElement(b,null,u.createElement(v,{onClick:()=>y()},"Delete"))))),u.createElement(m.a,{onClick:()=>c(!0),text:"Delete"}))}},1823:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(3),i=n(1893),o=n(383),r=n(1611),s=n(1468),l=n(1971),c=n(8),d=n(1),u=n.n(d),m=n(0),p=n(1660);const h=u()(i.a)`
  &&& .mdc-dialog__surface {
    background: ${e=>e.theme.material.color.white};
    width: ${e=>e.theme.material.spacing(100)};
  }
`,g=u.a.div`
  display: flex;
  flex-direction: column;
`,f=u.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,b=u.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,v=u.a.div`
  display: flex;
  justify-content: flex-end;
`,y=u.a.div`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,w=u.a.textarea`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  box-sizing: border-box;
  padding: ${e=>e.theme.material.spacing(5)};
  height: ${e=>e.theme.material.spacing(25)};
  outline: 0;
  resize: none;
  width: 100%;
  margin-top: ${e=>e.theme.material.spacing(5)};
`,E=[{value:"spam",reasonText:"Spammy message",promptText:m.createElement("div",null,"Anything else to add? (optional)")},{value:"abusive",reasonText:"Abusive language",promptText:m.createElement("div",null,"Anything else to add? (optional)")},{value:"upvotebegging",reasonText:"This post is explicitly asking for upvotes",promptText:m.createElement("div",null,"Anything else to add? (optional)")},{value:"votemanipulation",reasonText:"Votes for this post are being manipulated",promptText:m.createElement("div",null,"Please describe the vote manipulation")},{value:"other",reasonText:"Other",promptText:m.createElement("div",null,"What are your concerns?")}];function x({messageId:e,isFlagged:t,onFlag:n,renderLink:i,renderReported:d}){const[u,x]=m.useState(!1),[C,k]=m.useState("none"),[_,S]=m.useState(""),[O,T]=m.useState("initial");m.useEffect(()=>{u&&(k("none"),S(""),T("initial"))},[u]);let j=E;c.featureFlags.discussionsUpvoteSpamWarning||(j=j.filter(e=>"upvotebegging"!==e.value));const I=m.useCallback(()=>{x(!0)},[]);return t?d?d():m.createElement(p.a,{text:"Reported",color:"grey"}):m.createElement(m.Fragment,null,m.createElement(h,{open:u,onClose:()=>x(!1)},m.createElement(l.a,null,m.createElement(f,null,m.createElement(o.o,null,"Report Message")),"initial"===O&&m.createElement(m.Fragment,null,m.createElement(b,null,m.createElement(o.b,null,m.createElement(g,null,j.map(e=>m.createElement(r.a,{key:e.value,value:e.value,checked:C===e.value,onChange:()=>k(e.value)},e.reasonText))))),m.createElement(v,null,m.createElement(y,null,m.createElement(s.a,{variant:"text",onClick:()=>x(!1)},"Cancel")),m.createElement(y,null,m.createElement(s.a,{disabled:"none"===C,onClick:()=>T("explanation")},"Next")))),"explanation"===O&&function(){var t;return m.createElement(m.Fragment,null,m.createElement(b,null,m.createElement(o.b,null,null===(t=E.find(e=>e.value===C))||void 0===t?void 0:t.promptText),m.createElement(w,{onChange:e=>S(e.target.value)})),m.createElement(v,null,m.createElement(y,null,m.createElement(s.a,{variant:"text",onClick:()=>x(!1)},"Cancel")),m.createElement(y,null,m.createElement(s.a,{onClick:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){yield c.discussionsClient.toggleFlagMessage({messageId:e,scriptVersionId:null,datasetVersionId:null,reasonType:C,explanation:_}),n(),x(!1)}))},"Report"))))}())),i?i(I):m.createElement(p.a,{onClick:I,text:"Report"}))}},1824:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(0),i=n(1660);function o({numVotes:e,onClick:t}){return a.createElement(i.a,{onClick:t,text:1===e?"1 Upvoter":`${e} Upvoters`})}},1825:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(3),i=n(8),o=n(0),r=n(1660);function s({isSpammed:e,onToggle:t,messageId:n}){const[s,l]=o.useState(!1);return o.createElement(r.a,{text:e?"Unspam":"Spam",onClick:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){s||(l(!0),n&&(yield i.discussionsClient.toggleSpamMessage({messageId:n})),l(!1),t(!e))}))})}},1826:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(1893),i=n(1971),o=n(383),r=n(1611),s=n(1972),l=n(1468),c=n(8),d=n(1),u=n.n(d),m=n(0),p=n(1660);const h=u()(a.a)`
  &&& .mdc-dialog__surface {
    width: auto;
  }
`,g=u.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,f=u.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,b=u.a.div`
  display: flex;
  justify-content: flex-end;
`,v=u.a.div`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,y=u.a.div`
  display: flex;
  flex-direction: column;
`;function w({messageId:e,initialModel:t}){const[n,a]=m.useState(t||{buganizerId:null,followUpStatus:"none"}),[d,u]=m.useState(!1),[w,E]=m.useState(n.buganizerId),[x,C]=m.useState(n.followUpStatus);return m.useEffect(()=>{var e,t;E(null!==(e=null==n?void 0:n.buganizerId)&&void 0!==e?e:null),C(null!==(t=null==n?void 0:n.followUpStatus)&&void 0!==t?t:"none")},[n]),m.createElement(m.Fragment,null,m.createElement(h,{open:d,onClose:()=>u(!1)},m.createElement(i.a,null,m.createElement(g,null,m.createElement(o.o,null,"Forum Feedback Tracking")),m.createElement(f,null,m.createElement(o.b,null,m.createElement("div",null,"Follow up status:"),m.createElement(y,null,m.createElement(r.a,{value:"none",checked:"none"===x,onChange:()=>C("none")},"None"),m.createElement(r.a,{value:"inProgress",checked:"inProgress"===x,onChange:()=>C("inProgress")},"In Progress"),m.createElement(r.a,{value:"done",checked:"done"===x,onChange:()=>C("done")},"Done")),m.createElement("div",null,"Bug Number:"," ",m.createElement(s.a,{value:w&&w.toString()||"",onChange:e=>{const t=(e.target.value||"").trim();E(t?Number(t):null)}})))),m.createElement(b,null,m.createElement(v,null,m.createElement(l.a,{onClick:()=>{c.discussionsClient.updateFeedbackTrackingData({messageId:e,feedbackTrackingData:{buganizerId:w,followUpStatus:x}}).then(()=>{a({buganizerId:w,followUpStatus:x}),u(!1)})}},"Save"))))),m.createElement(p.a,{onClick:()=>u(!0),text:n.buganizerId?`Bug ${n.buganizerId}`:"No Bug"}))}},1827:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),i=n.n(a),o=n(0),r=n(2009);const s=i.a.div`
  display: flex;
  flex-wrap: wrap;
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  padding: ${e=>{const t=e.theme.material.spacing;return`${t(4)} ${t(4)} ${t(1)}`}};
`,l=i.a.div`
  margin-right: ${e=>e.theme.material.spacing(4)};
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`;function c({currentUser:e,users:t,currentUserVote:n}){return t=t.slice(),e&&(t=t.filter(t=>t.id!==e.id),1===n&&t.unshift(e)),o.createElement(s,null,t.map(e=>{const{thumbnailUrl:t,profileUrl:n,tier:a,displayName:i,id:s}=Object(r.b)(e);return o.createElement(l,{key:e.id},o.createElement(r.a,{thumbnailUrl:t,profileUrl:n,tier:a,displayName:i,id:s,size:"xlarge"}))}))}},1828:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(383),i=n(1416),o=n(1),r=n.n(o),s=n(0),l=n(1679);const c=r.a.div`
  display: inline-flex;
  cursor: pointer;
  flex-direction: column;
  min-width: ${e=>e.theme.material.spacing(40)};
  position: relative;
`,d=r.a.div`
  background: ${e=>e.theme.material.color.white};
  box-sizing: border-box;
  justify-content: space-between;
  display: flex;
  align-items: center;
  padding: 0 ${e=>e.theme.material.spacing(2)};
  height: ${e=>e.theme.material.spacing(7)};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>{const t=e.theme.material.borderRadius.normal;return e.isOpen?`${t} ${t} 0 0`:t}};
`,u=r.a.div`
  background: ${e=>e.theme.material.color.white};
  box-sizing: border-box;
  display: ${e=>e.isOpen?"flex":"none"};
  flex-direction: column;
  position: absolute;
  top: ${e=>e.theme.material.spacing(7)};
  width: 100%;
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-top: 0;
  border-radius: ${e=>{const t=e.theme.material.borderRadius.normal;return`0 0 ${t} ${t}`}};
  z-index: 1;
`,m=r.a.div`
  padding: 4px 8px;
`,p=r()(a.b)`
  && {
    color: ${e=>e.theme.material.color.text[70]};
  }
`;function h({options:e,selectedOption:t,onChange:n,className:a,isDisabled:r}){const[h,g]=s.useState(!1),f=s.useRef(document.createElement("div"));h&&r&&g(!1),s.useEffect(()=>{const e=e=>{if(!r){let t=e.target;const n=f.current;for(;t;){if(t===n)return;t=t.parentElement}g(!1)}};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[r]);const b=s.useCallback(()=>{r||g(!h)},[r,h]);return s.createElement(c,{className:a,ref:f},s.createElement(d,{isOpen:h,onClick:b},s.createElement(p,null,t),r?null:s.createElement(i.a,{color:o.defaultTheme.material.color.text[50],size:"small",icon:h?"arrow_drop_up":"arrow_drop_down"})),s.createElement(u,{isOpen:h},[...e].map(e=>s.createElement(l.a,{key:e},s.createElement(m,{onClick:()=>{n(e),g(!1)}},s.createElement(p,null,e))))))}},1829:function(e,t,n){"use strict";var a=n(0),i=n(383),o=n(1),r=n.n(o),s=n(9);const l={light:{default:{background:s.r,color:s.m,divider:s.c},hover:{background:s.f},selected:{background:s.b},disabled:{color:s.h}},dark:{default:{color:s.c,background:s.j,divider:s.i},hover:{background:s.j},selected:{background:s.j},disabled:{color:s.i}}};var c=n(1993),d=n(1675),u=n(2002),m=n(1886),p=n(1887),h=n(1625),g=n(174),f=n(1628);const b=a.createContext({listingTheme:{}}),v=r()(m.a)`
  width: 100%;
  max-width: 936px;
  min-width: 320px;
`,y=r()(p.a)`
  display: flex;
  height: 100%;
  align-items: center;
  justify-content: flex-end;
  @media ${o.BreakpointDown.PHONE} {
    display: none;
  }
`,w=r()(f.a)`
  margin-top: -24px;
  @media ${o.BreakpointDown.TABLET} {
    margin-top: -16px;
  }
`,E=r()(h.a)`
  top: -12px;
  right: -16px;
`,x=e=>{const{tabMap:t,sortByMap:n,searchQueryCallback:i,list:r}=e,s=a.useContext(o.ThemeContext),m=l[s.name],h=[...n.keys()][0],[f,x]=a.useState(h),[C,k]=a.useState(0),[_,S]=a.useState(""),O=a.useRef(Object(g.b)(250,e=>i(e)));return a.useEffect(()=>{const e={sortBy:n.get(f),tab:[...t.values()][C],query:_};O.current(e)},[f,C,_]),a.createElement(b.Provider,{value:{listingTheme:m}},a.createElement(v,null,a.createElement(p.a,{align:"middle",desktop:12,tablet:8,phone:4},a.createElement(c.a,{onChange:e=>{S(e.target.value)},actionItem:a.createElement(E,{icon:"filter_list",useKM:!0})})),a.createElement(p.a,{align:"middle",desktop:10,tablet:6,phone:4},a.createElement(d.a,{tabs:[...t.keys()],onSelectItem:e=>k(e),selectedIndex:C})),a.createElement(y,{align:"middle",desktop:2,tablet:2,phone:0},a.createElement(u.a,{options:[...n.keys()],onSelect:e=>x(e),value:f})),a.createElement(p.a,{span:12},a.createElement(w,{useKM:!0}),r)))};var C=n(8),k=n(446);const _=o.keyframes`
  {
    0% {
      background-position: -200px 0;
    }
    100% {
      background-position: calc(200px + 100%) 0;
    }
  }
`,S=r.a.div`
  background-color: ${e=>e.theme.colors.misc.grayLighter};
  background-image: linear-gradient(
    90deg,
    ${e=>e.theme.colors.misc.grayLighter},
    ${e=>e.theme.colors.misc.grayLightest},
    ${e=>e.theme.colors.misc.grayLighter}
  );
  background-size: 200px 100%;
  background-repeat: no-repeat;
  border-radius: ${e=>e.theme.size.border.radius.loadingBar};
  margin: ${e=>e.theme.size.margin.xs};
  animation: ${_} 1.2s ease-in-out 0s infinite normal none running;
`;var O=n(213);const T=r()(S)`
  width: ${e=>e.width||"100%"};
  height: ${e=>e.height||"100%"};
  border-radius: ${e=>e.borderRadius||"0%"};
`,j=r.a.div`
  height: 100%;
  width: 64px;
  margin: 6px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  @media ${o.BreakpointDown.PHONE} {
    display: none;
  }
`,I=r.a.div`
  height: 100%;
  width: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
`,N=r.a.div`
  height: 100%;
  width: 75px;
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
  align-items: flex-end;
`,D=e=>{const{className:t}=e;return a.createElement(O.a,{className:t},a.createElement(j,null,a.createElement(T,{width:"64px",height:"64px",borderRadius:"50%"})),a.createElement(I,null,a.createElement(T,{width:"80%",height:"20px"}),a.createElement(T,{width:"50%",height:"16px"}),a.createElement(T,{width:"60%",height:"16px"})),a.createElement(N,null,a.createElement(T,{width:"100%",height:"20px"}),a.createElement(T,{width:"0%",height:"16px"}),a.createElement(T,{width:"70%",height:"16px"})))};var $=n(75);const M=e=>{const{children:t,className:n,type:i,divider:o,style:r,variant:s,loadMoreCallback:l,moreToLoad:c,isLoading:d}=e,u=a.useRef(null),m=a.useRef(null),p=a.useRef(Object(k.b)(e=>{e[0].isIntersecting&&l()},{root:u.current,threshold:1}));return d?m.current&&p.current.unobserve(m.current):m.current&&p.current.observe(m.current),a.useEffect(()=>(m.current&&p.current.observe(m.current),()=>{m.current&&p.current.unobserve(m.current)}),[]),a.createElement("div",null,a.createElement("div",{ref:u}),a.createElement($.a,{useKM:!0,type:i,variant:s,divider:o,style:r,className:n},t,!d&&a.createElement("div",{key:"sentinelRef",ref:m}),c&&a.createElement(D,{className:n})))};var U=n(261),P=n(549),F=n(547),R=n(290),z=n(1837);const L=r.a.div`
  ${e=>e.theme.font.main.family};
  display: inline-flex;
`,A=r.a.div`
  ${e=>e.theme.font.main.family};
  max-width: 60vw;
`,V=e=>({"data-tip":!0,"data-for":e});let B=0;class K extends a.PureComponent{constructor(){super(...arguments),this.tooltipId=`tooltip_components_${B++}`}render(){const{tip:e,type:t,bodyOverride:n,place:i}=this.props,o=n||L;return a.createElement(o,Object.assign({},Object(z.a)(this.props),V(this.tooltipId)),this.props.children,a.createElement(R,{id:this.tooltipId,effect:"solid",type:t,place:i||"top"},a.createElement(A,null,e&&Array.isArray(e)?a.createElement(a.Fragment,null,e.map(e=>a.createElement("p",null,e))):e)))}}var H=n(1905),q=n(548),W=n(1994),G=n(1413),Q=n(1453),Y=n(1452),X=n(3),J=n(1438);const Z=r.a.a`
  text-decoration: none;
`,ee=e=>{const{href:t}=e,n=Object(X.__rest)(e,["href"]);return a.createElement(Z,{href:t},a.createElement(J.a,Object.assign({},n)))};var te=n(1606),ne=n(2003);class ae extends a.Component{constructor(){super(...arguments),this.onDeletionConfirmation=()=>{Object(C.reportEvent)("kernels","listing-clicked-delete-confirmation"),this.props.onDelete(this.props.kernelId)},this.onDeletionCancel=()=>{Object(C.reportEvent)("kernels","listing-clicked-delete-cancel"),this.props.onCancel()}}render(){return a.createElement(ne.a,{title:"Confirm Deletion",acceptLabel:"Yes, delete",cancelLabel:"Cancel",open:this.props.isOpen,onAccept:this.onDeletionConfirmation,onCancel:this.onDeletionCancel},a.createElement("div",null,a.createElement("span",null,"You are about to delete the following Notebook:",a.createElement("br",null),"'",this.props.notebookTitle,"'",a.createElement("br",null),"This cannot be reversed. Are you sure?"),this.props.hasLinkedSubmission&&a.createElement("div",{style:{fontWeight:500}},a.createElement("br",null),"WARNING!",a.createElement("br",null),"This Notebook was used to make a Competition Submission.",a.createElement("br",null),"If you delete this Notebook, it may invalidate the linked Submission(s).")))}}const ie=r()(h.a)`
  height: 36px;
  width: 36px;
`,oe=e=>{const{notebook:t}=e,[n,i]=a.useState(!1),[o,r]=a.useState(!1);return t.canCurrentUserDeleteKernel||t.canCurrentUserEditKernel?a.createElement(a.Fragment,null,a.createElement(Q.a,null,a.createElement(ie,{icon:"more_horiz",size:"small",onClick:()=>{i(!0)}}),a.createElement(Y.a,{open:n,onClose:()=>i(!1)},t.canCurrentUserEditKernel&&a.createElement(ee,{icon:"edit",href:t.scriptEditUrl},"Edit"),t.canCurrentUserDeleteKernel&&a.createElement(te.a,null),t.canCurrentUserDeleteKernel&&a.createElement(J.a,{icon:"delete",onClick:()=>r(!0)},"Delete"))),o&&a.createElement(ae,{kernelId:t.id,notebookTitle:t.title,hasLinkedSubmission:t.hasLinkedSubmission,isOpen:o,onDelete:()=>{(e=>Object(X.__awaiter)(void 0,void 0,void 0,(function*(){yield C.kernelsClient.deleteKernel({kernelId:e.id})})))(t),r(!1),e.onNotebookDeleted(t)},onCancel:()=>{r(!1)}})):null},re=r()(U.a)`
  width: calc(100% - 210px);
  @media ${o.BreakpointDown.PHONE} {
    width: calc(100% - 72px);
  }
`,se=r()(i.u)`
  color: ${s.j};
  border-bottom: 1px solid;
  &:visited {
    color: ${s.i};
    border-bottom: 1px solid;
  }
  &:hover {
    color: ${s.j};
    border-bottom: 2px solid;
  }
`,le=r()(P.a)`
  display: flex;
  height: 100%;
  width: 130px;
  .km-list--three-line && {
    justify-content: space-evenly;
  }
  @media ${o.BreakpointDown.PHONE} {
    width: 72px;
  }
`,ce=r.a.span`
  height: 36px;
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
`,de=r()(i.s)`
  @media ${o.BreakpointDown.PHONE} {
    display: none;
  }
`,ue=r()(F.a)`
  @media ${o.BreakpointDown.PHONE} {
    display: none;
  }
`,me=r.a.span`
  max-width: 40%;
`,pe=r.a.span`
  max-width: 40%;
  @media ${o.BreakpointDown.TABLET} {
    display: none;
  }
`,he=r.a.span`
  overflow-x: hidden;
  text-overflow: ellipsis;
`,ge=r.a.span``,fe=r.a.span`
  flex-direction: row;
  white-space: pre;
  overflow-x: hidden;
  text-overflow: ellipsis;
`,be=e=>{const{dataSources:t}=e,n=t.filter(e=>!e.isPrivate),i=n.length-1,o=n.slice(1).map(e=>e.name).join(", ");return a.createElement(me,null,a.createElement(he,null,n.length>0?n[0].name:"No data sources"),i>0?a.createElement(ge,null,a.createElement(K,{tip:o}," +"+i)):"")},ve=e=>{const{categories:t}=e;if(0===t.length)return a.createElement("div",null);const n=t.map(e=>a.createElement(se,{key:e.name,href:e.tagUrl},e.name)).reduce((e,t)=>[e,", ",t]);return a.createElement(pe,null," · ",n)},ye=e=>{const{notebook:t}=e;return a.createElement("span",null,t.forkParentInfo&&a.createElement("span",null,"Notebook copied with edits from"," ",a.createElement(se,{href:t.forkParentInfo.kernelUrl},t.forkParentInfo.authorDisplayName)," · "),a.createElement("span",null,"Updated"," ",a.createElement(G.a,{time:new Date(t.lastRunTime),condense:!0})))},we=e=>{const{notebook:t}=e;return a.createElement(fe,null,a.createElement(be,{dataSources:t.dataSources}),t.isPrivate&&a.createElement("span",null," · Private"),t.bestPublicScore&&a.createElement("span",null," · Score: "+t.bestPublicScore),a.createElement(ve,{categories:t.categories}))},Ee=e=>{const{notebook:t,onNotebookDeleted:n}=e;return a.createElement(O.a,{divider:!0},a.createElement(ue,null,a.createElement(H.a,{profileUrl:t.author.profileUrl,thumbnailUrl:t.author.thumbnailUrl,tier:t.author.performanceTier,size:"xxlarge"})),a.createElement(re,{href:t.scriptUrl},a.createElement(q.a,{primaryText:t.title,secondaryText:a.createElement(ye,{notebook:t}),tertiaryText:a.createElement(we,{notebook:t})})),a.createElement(le,null,a.createElement(W.a,{upOnly:!0,dense:!0,hasUpvote:t.currentUserHasVotedForThisScript,totalVotes:t.totalVotes,onUpvote:e=>e?C.kernelsClient.createKernelUpvote({kernelId:t.id}):C.kernelsClient.deleteKernelUpvote({kernelId:t.id})}),a.createElement(ce,null,t.medal&&a.createElement(de,null,a.createElement("img",{style:{height:"9px",width:"9px"},src:`/static/images/medals/competitions/${t.medal}s@1x.png`})," "+t.medal.charAt(0).toUpperCase()+t.medal.slice(1)+" medal"),t.isMyUncommittedDraft&&a.createElement(de,null,"Draft Notebook"),a.createElement(oe,{notebook:t,onNotebookDeleted:n}))))},xe=e=>{const{kernelsList:t,emptyListPlaceholder:n,loadMoreCallback:i,moreToLoad:o,isLoading:r,onNotebookDeleted:s}=e,l=t.map(e=>a.createElement(Ee,{notebook:e,key:e.id,onNotebookDeleted:s})),c=!o&&0===t.length;return a.createElement(M,{type:"avatar-list",variant:"three-line",loadMoreCallback:i,moreToLoad:o,isLoading:r},c?n:l)};n.d(t,"a",(function(){return Te}));const Ce=r()(i.a)`
  text-align: center;
`,ke=new Map(Object.entries({everyone:"No notebooks to show.",profile:"You haven't created any notebooks yet.",collaboration:"You don't have any notebooks shared with you yet.",upvoted:"You don't have any favorites yet. Upvote notebooks to see them here."})),_e=new Map(Object.entries({Hotness:"hotness","Most Votes":"voteCount","Most Comments":"commentCount","Recently Created":"dateCreated","Recently Run":"dateRun",Relevance:"relevance"})),Se=new Map(Object.entries({All:"everyone","Your Work":"profile","Shared With You":"collaboration",Favorites:"upvoted"})),Oe=e=>a.createElement(Ce,{emphasis:"disabled"},e),Te=()=>{const[e,t]=a.useState([]),[n,i]=a.useState([]),o=a.useRef(1),r=a.useRef(!0),s=a.useRef(!1),l=a.useRef({sortBy:"hotness",tab:"everyone",query:""});a.useEffect(()=>{t(e.concat(n))},[n]);const c=(e,t)=>{C.kernelsClient.listKernels(((e,t)=>({kernelFilterCriteria:{competitionId:null,userId:null,sortBy:e.sortBy,pageSize:20,group:e.tab,outputType:"",startRow:0,page:t,datasetId:null,datasourceType:null,forkParentScriptId:null,kernelType:null,language:null,tagIds:null,excludeResultsFilesOutputs:!1,wantOutputFiles:!0,search:e.query,after:null,hasGpuRun:null,privacy:"all"},detailFilterCriteria:null}))(e,t)).then(e=>{20!==e.kernels.length?r.current=!1:r.current=!0,o.current=t+1,s.current=!1,i([...e.kernels.values()])})};return a.createElement(x,{list:a.createElement(xe,{kernelsList:e,emptyListPlaceholder:Oe(ke.get(l.current.tab)),loadMoreCallback:()=>{1!==o.current&&(s.current=!0,c(l.current,o.current))},moreToLoad:r.current,isLoading:s.current,onNotebookDeleted:n=>{t(e.filter(e=>e!==n))}}),tabMap:Se,sortByMap:_e,searchQueryCallback:e=>{o.current=1,r.current=!0,l.current=e,s.current=!0,t([]),c(l.current,o.current)}})}},1832:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return k}));var a=n(3),i=n(1413),o=n(1416),r=n(1),s=n(287),l=n(175),c=n(1707),d=n(97),u=n(1647),m=n(1657),p=n(1776),h=n(575),g=n(1421),f=n(10);var b=l.default.a.withConfig({displayName:"KernelListItem_StyledListItemAuthorLink",componentId:"sc-10x2qmo"})(E||(E=Object(a.__makeTemplateObject)(["\n  && {\n    color: ",";\n  }\n"],["\n  && {\n    color: ",";\n  }\n"])),f.b.TextLink),v=Object(l.default)(o.a).withConfig({displayName:"KernelListItem_TaskIcon",componentId:"sc-aw594o"})(x||(x=Object(a.__makeTemplateObject)(["\n  margin: 0 "," 0\n    ",";\n  vertical-align: top;\n"],["\n  margin: 0 "," 0\n    ",";\n  vertical-align: top;\n"])),(function(e){return e.theme.material.spacing(1)}),(function(e){return e.theme.material.spacing(2)}));function y(e){switch(e.toLowerCase()){case"python":return"Py";case"r":return"R";case"rmd":case"rmarkdown":case"markdown":return"Rmd";case"julia":return"Ju";case"sqlite":return"SQL";default:return null}}function w(t,n,a,i){return t?e.createElement("span",{onClick:function(){return Object(d.c)("kernels","listing-item-clicked-data-source",{location:i})}},a.dataSources.length>1?e.createElement("span",null,n?"with ":"",e.createElement("a",{href:a.scriptInputUrl},"multiple data sources")):0===a.dataSources.length?e.createElement("span",null,n?"with ":"","no data sources"):e.createElement("span",null,n?"in ":"",a.dataSources[0].dataSourceUrl?e.createElement("a",{href:a.dataSources[0].dataSourceUrl},a.dataSources[0].name):a.dataSources[0].name)):null}var E,x,C=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderOptionalTaskSubmission=function(t){if(!t)return null;var a=t.taskUrl,i=t.isAcceptedSolution;return e.createElement("a",{href:a,onClick:function(){return Object(d.c)("kernels","notebook-list-submission-click",{isAcceptedSolution:i,location:n.props.location})}},i?e.createElement(v,{color:r.defaultTheme.material.color.status.success[1e3],icon:e.createElement("svg",{viewBox:"0 0 24 24",width:"12px",height:"12px"},e.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),e.createElement("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),size:"xxsmall"}):e.createElement(v,{color:r.defaultTheme.material.color.text[700],icon:"assignment",size:"xxsmall"}),i?"Accepted":"Task"," Submission")},n.onFilterChanged=function(e,t,a){a.preventDefault(),n.props.parentContainer.onFilterChanged(e,t,!1,!0)},n}return Object(a.__extends)(n,t),n.prototype.renderOptionalMedal=function(){var t=this.props.scriptData.medal;return t?e.createElement("img",{className:"kernel-list-item__medals",src:("/static/images/medals/notebooks/"+t+"s@1x.png").toLowerCase(),title:""+t}):null},n.prototype.renderOptionalForkSection=function(){var t,n,a,i=this.props.scriptData,o=(t=i.forkDiffLinesInserted+i.forkDiffLinesChanged,n=i.forkDiffLinesDeleted+i.forkDiffLinesChanged,(a=function(e){return s("line",e,!0)})(t)+" inserted / "+a(n)+" deleted");return this.props.scriptData.isFork?e.createElement(h.b,{tip:o},e.createElement("a",{href:i.forkDiffUrl,className:"kernel-list-item__fork"},e.createElement("span",{className:"fa fa-clone"}))):null},n.prototype.renderOptionalUncommittedDraftBadge=function(){return this.props.scriptData.isMyUncommittedDraft?e.createElement(c.a,{option:"warning",icon:"fa-edit"},"Uncommitted Draft"):null},n.prototype.renderOptionalCollaboratorsSection=function(){var t=this.props.profileUserId,n=this.props.scriptData,a=n.author;if(!n.hasCollaborators)return null;var i=t&&t!==a.id;return e.createElement("span",null,i&&e.createElement("a",{href:a.profileUrl},a.displayName),e.createElement("span",null,e.createElement(h.b,{tip:e.createElement("span",null,"This Notebook has collaborators.")},e.createElement("span",{className:"fa fa-users kernel-list-item__collaboration-icon"}))))},n.prototype.renderOptionalDetailTags=function(){return[this.renderOptionalScoreSection(),this.renderOptionalCategoriesSection()].filter((function(e){return!!e}))},n.prototype.renderOptionalScoreSection=function(){var t=this,n=this.props.scriptData.bestPublicScore;return n?e.createElement("div",{className:"kernel-list-item__score",key:"score",onClick:function(){return Object(d.c)("kernels","listing-item-clicked-score",{location:t.props.location})}},e.createElement("i",{className:"fa fa-bullseye"}),n):null},n.prototype.renderOptionalCategoriesSection=function(){var t=this.props.scriptData.categories;if(!t||0===t.length)return null;var n=this.props.onCategoryClick,a=t.map((function(e){return{name:e.name||"",onClick:function(){n(e)}}}));return e.createElement(p.a,{tags:a,key:"tags"})},n.prototype.renderOutputToolTip=function(t,n,a,i){var o=this;return e.createElement(h.a,{tipText:i,key:t},n?e.createElement("a",{onClick:function(e){Object(d.c)("kernels","listing-item-clicked-output",{location:o.props.location}),o.onFilterChanged("outputType",n,e)},className:"kernel-list-item__info-block--link"},a):e.createElement("div",{className:"kernel-list-item__info-block--link"},a))},n.prototype.renderOutputBlock=function(t){var n=0,a=0;return t.forEach((function(e){"Visualization"===e.extension?n=e.count:"Data"==e.extension&&(a=e.count)})),n>0&&a>0?this.renderOutputToolTip("Combined","Visualization,Data",e.createElement("img",{src:"/static/images/kernel-viz-and-data-output.svg"}),"This Notebook outputs "+s("visualization",n,!0)+" and "+t[0].count+" data "+s("file",a)+"."):n>0?this.renderOutputToolTip("Visualization","Visualization",e.createElement("span",{className:"fa fa-bar-chart"}),"This Notebook outputs "+s("visualization",n,!0)+"."):a>0?this.renderOutputToolTip("Data","Data",e.createElement("span",{className:"fa fa-table"}),"This Notebook outputs "+t[0].count+" data "+s("file",a)+"."):this.renderOutputToolTip("None",null,e.createElement("span",{className:"kernel-list-item__info-block--bullet"}," • "),"This Notebook doesn't output any visualizations or data files.")},n.prototype.renderLanguageBlock=function(t,n){var a=this,i="markdown"==n?"markdown":t,o="markdown"==n?"R":t;return e.createElement(h.a,{tipText:"This Notebook is written in "+i},e.createElement("a",{className:"kernel-list-item__info-block--link",onClick:function(e){Object(d.c)("kernels","listing-item-clicked-language",{location:a.props.location}),a.onFilterChanged("language",o,e)}},y(i)))},n.prototype.renderCommentBlock=function(t,n){var a=this;return e.createElement(h.a,{tipText:"This Notebook has "+t+" "+s("comment",t)+"."},e.createElement("a",{className:"kernel-list-item__info-block--comment",href:t>0?n:null,onClick:function(){return Object(d.c)("kernels","listing-item-clicked-comments",{location:a.props.location})}},e.createElement("span",{className:"fa fa-comment-o"})," ",t))},n.prototype.render=function(){var t=this,n=this.props.scriptData,a=null===n.author||null===n.author.id;return this.props.isHidden||a?null:e.createElement("div",{className:"kernel-list-item"},e.createElement("div",{className:"kernel-list-item__meta"},e.createElement("div",{className:"kernel-list-item__votes"},this.props.scriptData.isPrivate?e.createElement(g.VoteButton,{totalVotes:0,hasAlreadyVotedUp:!1,showVoters:!1,voteUpUrl:null,voteDownUrl:null,canDownvote:!1,canUpvote:!1,isPrivate:!0}):e.createElement(g.VoteButton,{totalVotes:n.totalVotes,hasAlreadyVotedUp:n.currentUserHasVotedForThisScript,voteUpUrl:"/kernels/vote?id="+n.id,canDownvote:!1,canUpvote:!0,voteDownUrl:null,hasAlreadyVotedDown:null,onVoteUpSuccess:function(){Object(d.c)("kernels","listing-item-upvoted",{location:t.props.location}),u.a.upvoteScript(n.id)}})),e.createElement("div",{className:"kernel-list-item__image-wrapper"},e.createElement(m.a,{id:n.author.id,thumbnailUrl:n.author.thumbnailUrl,userUrl:n.author.profileUrl,displayName:n.author.displayName,tierInt:n.author.performanceTier,width:36,tierMargin:.01})))," ",e.createElement("div",{className:"kernel-list-item__synopsis"},e.createElement("div",{className:"kernel-list-item__info"},e.createElement("span",{className:"kernel-list-item__name"},this.renderOptionalMedal(),this.renderOptionalForkSection(),e.createElement("div",{className:"kernel-list-item__name "+(n.isMyUncommittedDraft&&"kernel-list-item__name--uncommitted")},n.title),this.renderOptionalUncommittedDraftBadge()),e.createElement("div",{className:"kernel-list-item__details"},this.renderOptionalCollaboratorsSection(),e.createElement(i.a,{time:n.scriptVersionDateCreated||n.lastRunTime,condense:!0})," ",w(this.props.showScriptProjectColumn,!0,n,this.props.location),this.renderOptionalTaskSubmission(n.taskSubmissionInfo),this.renderOptionalDetailTags().map((function(e){return e})))),e.createElement("div",{className:"kernel-list-item__info-blocks"},this.renderOutputBlock(n.outputTypes),this.renderLanguageBlock(n.languageName,n.aceLanguageName),this.renderCommentBlock(n.totalComments,n.scriptCommentsUrl)))," ",this.props.showEditIconContainer?e.createElement("div",{className:"kernel-list-item__edit-container"},e.createElement(h.b,{tip:"Edit Notebook"},e.createElement("a",{href:this.props.scriptData.scriptEditUrl,className:"kernel-list-item__edit-button",onClick:function(){Object(d.c)("kernels","listing-item-clicked-edit",{location:t.props.location})}},e.createElement("span",{className:"fa fa-pencil"})))):this.props.showEditIconPlaceholder&&e.createElement("div",{className:"kernel-list-item__no-edit-placeholder"}),this.props.showDeleteIconContainer?e.createElement("div",{className:"kernel-list-item__delete-container"},this.props.onDeleteClick&&e.createElement(h.b,{tip:"Delete Notebook"},e.createElement("button",{className:"kernel-list-item__delete-button",onClick:function(){t.props.onDeleteClick(n)}},e.createElement("span",{className:"fa fa-trash-o"})))):this.props.showDeleteIconPlaceholder&&e.createElement("div",{className:"kernel-list-item__no-delete-placeholder"}),!this.props.showEditIconPlaceholder&&!this.props.showDeleteIconPlaceholder&&e.createElement("div",{className:"kernel-list-item__placeholder"}))},n}(e.Component),k=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){var t=this.props.scriptData;return null===t.author||null===t.author.id?null:e.createElement("div",{className:"mobile-kernel-list-item"},e.createElement("div",{className:"mobile-kernel-list-item__image-wrapper"},e.createElement(m.a,{id:t.author.id,thumbnailUrl:t.author.thumbnailUrl,userUrl:t.author.profileUrl,displayName:t.author.displayName,tierInt:t.author.performanceTier,width:32})),e.createElement("div",{className:"mobile-kernel-list-item__content"},e.createElement("div",{className:"mobile-kernel-list-item__author"},e.createElement(i.a,{time:t.lastRunTime,condense:!0,hideAgo:!0}),e.createElement(b,{href:t.author.profileUrl}," ",t.author.displayName),e.createElement("br",null)),e.createElement("div",{className:"mobile-kernel-list-item__title"},t.title),e.createElement("div",{className:"mobile-kernel-list-item__project"},e.createElement("span",{className:"mobile-kernel-list-item__lang"},y(t.languageName),"  "),w(this.props.showScriptProjectColumn,!1,t,this.props.location))))},n}(e.Component)}).call(this,n(0))},1833:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return s}));var i=n(3),o=n(1777),r=n(22),s=function(t){function n(e){var n=t.call(this,e)||this;n.onMouseUp=function(e){if(n.state.isExtended){var t=a(".category-smartlist-filter");t.is(e.target)||0!==t.has(e.target).length||n.onClose()}},n.onClose=function(){n.setState({isExtended:!1})},n.onValueClick=function(){n.state.isExtended?n.onClose():n.setState({isExtended:!0})},n.onUpdateCategories=function(e){n.updateCategories(e.tags,!0)},n.updateCategories=function(e,t){var a=e.map((function(e){return e.id})),i=e.length>1?e.length+" tags":e.length>0?e.length+" tag":"Tags";n.setState({tags:e,value:a,displayValue:i},(function(){t&&n.props.onChange(n.state.value)}))},n.addCategory=function(e){if(!n.state.tags.some((function(t){return t.id==e.id}))){var t=Object(i.__assign)({},n.state);t.tags.push(e),n.updateCategories(t.tags,!0)}};var o=e.value?e.value:[],r=o.length>1?o.length+" tags":o.length>0?o.length+" tag":"Tags";return n.state=Object(i.__assign)(Object(i.__assign)({},e),{isExtended:!1,displayValue:r,tags:[]}),n}return Object(i.__extends)(n,t),n.prototype.componentDidMount=function(){a(document.body).on("mouseup",this.onMouseUp)},n.prototype.componentWillUnmount=function(){a(document.body).off("mouseup",this.onMouseUp)},n.prototype.UNSAFE_componentWillReceiveProps=function(e){e.value&&this.setState({value:e.value})},n.prototype.renderValue=function(){var t=this,n=this.state.displayValue||"Tags";return e.createElement("div",{className:"Select-control category-smartlist-filter__control",onClick:function(){return t.onValueClick()}},e.createElement("span",{className:"Select-multi-value-wrapper"},e.createElement("div",{className:"Select-value"},e.createElement("span",{className:"Select-value-label"},n))),e.createElement("span",{className:"Select-arrow-zone"},e.createElement("span",{className:"Select-arrow"})))},n.prototype.renderDropout=function(){return e.createElement("div",{className:"Select-menu-outer category-smartlist-filter__dropout"},e.createElement(o.a,{tags:this.state.tags,categoryIds:this.state.value,showCounts:!0,type:this.state.categoryType,onChange:this.onUpdateCategories}))},n.prototype.render=function(){return e.createElement("div",{className:r("Select","Select--single","KaggleSelect","KaggleBoxlessSelectSafe","smart-list__filter","smart-list__filter--boxless","has-value","category-smartlist-filter",{"is-open":this.state.isExtended},{"is-focused":this.state.isExtended})},this.renderValue(),this.state.isExtended&&this.renderDropout())},n}(e.Component)}).call(this,n(0),n(129))},1834:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var a=n(3),i=n(8),o=n(1),r=n.n(o),s=n(1760),l=n(1701),c=n(10),d=r.a.div.withConfig({displayName:"AcceleratorQuotaMonitor_QuotaGroupDiv",componentId:"sc-1ltmxf6"})(v||(v=Object(a.__makeTemplateObject)(["\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-top: 0;\n"],["\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-top: 0;\n"]))),u=r.a.div.withConfig({displayName:"AcceleratorQuotaMonitor_QuotaDividerContainer",componentId:"sc-ayp6m2"})(y||(y=Object(a.__makeTemplateObject)(["\n  width: 25px;\n  padding: 0 10px 0 10px;\n"],["\n  width: 25px;\n  padding: 0 10px 0 10px;\n"]))),m=r.a.div.withConfig({displayName:"AcceleratorQuotaMonitor_QuotaDivider",componentId:"sc-1vbainl"})(w||(w=Object(a.__makeTemplateObject)(["\n  width: 1px;\n  background-color: ",";\n  height: 20px;\n  margin-left: 8px;\n"],["\n  width: 1px;\n  background-color: ",";\n  height: 20px;\n  margin-left: 8px;\n"])),c.b.ContentBorder),p=r.a.div.withConfig({displayName:"AcceleratorQuotaMonitor_QuotaDiv",componentId:"sc-1bat4dt"})(E||(E=Object(a.__makeTemplateObject)(["\n  align-items: center;\n  color: rgba(0, 0, 0, 0.4);\n  display: flex;\n  font-size: 12px;\n  height: 20px;\n  width: 100%;\n  max-width: 485px;\n  justify-content: space-between;\n  margin-bottom: 24px;\n"],["\n  align-items: center;\n  color: rgba(0, 0, 0, 0.4);\n  display: flex;\n  font-size: 12px;\n  height: 20px;\n  width: 100%;\n  max-width: 485px;\n  justify-content: space-between;\n  margin-bottom: 24px;\n"]))),h=r.a.a.withConfig({displayName:"AcceleratorQuotaMonitor_QuotaLink",componentId:"sc-11jvqc3"})(x||(x=Object(a.__makeTemplateObject)(["\n  color: rgba(0, 0, 0, 0.4);\n  text-decoration: none;\n"],["\n  color: rgba(0, 0, 0, 0.4);\n  text-decoration: none;\n"]))),g=r.a.div.withConfig({displayName:"AcceleratorQuotaMonitor_QuotaLimitInfo",componentId:"sc-1xins89"})(C||(C=Object(a.__makeTemplateObject)(["\n  width: 45%;\n"],["\n  width: 45%;\n"]))),f=r.a.div.withConfig({displayName:"AcceleratorQuotaMonitor_QuotaUsageInfo",componentId:"sc-6pxvv4"})(k||(k=Object(a.__makeTemplateObject)(["\n  display: flex;\n  height: 100%;\n"],["\n  display: flex;\n  height: 100%;\n"]))),b=r.a.div.withConfig({displayName:"AcceleratorQuotaMonitor_QuotaBarContainer",componentId:"sc-1s9mlk4"})(_||(_=Object(a.__makeTemplateObject)(["\n  width: 100%;\n  height: 0px;\n"],["\n  width: 100%;\n  height: 0px;\n"])));var v,y,w,E,x,C,k,_,S=function(t){function n(e){var n=t.call(this,e)||this;return n.state={quotaStats:null,tpuUiEnabled:!1},n}return Object(a.__extends)(n,t),n.prototype.componentDidMount=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return this.loadData(),[2]}))}))},n.prototype.loadData=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e=this;return Object(a.__generator)(this,(function(t){return i.kernelsClient.getAcceleratorQuotaStatistics({}).then((function(t){e.setState({quotaStats:t})})).catch((function(){return e.setState({quotaStats:null})})),this.setState({tpuUiEnabled:!0}),[2]}))}))},n.prototype.render=function(){var t=this.state.quotaStats;if(!t)return null;var n=Object(l.h)(t.quotaRefreshTime),a=O("GPU",t.gpuQuota,"/"+this.props.username+"/account/gpu",n),i=this.state.tpuUiEnabled&&O("TPU",t.tpuQuota,null,n);return e.createElement(d,null,a,!!a&&!!i&&e.createElement(u,null,e.createElement(m,null)),i)},n}(e.Component),O=function(t,n,a,i){if(!n.hasEverRun)return null;var o=Object(l.c)(n.totalTimeAllowed);if(!o)return null;var r=Object(l.d)(n.timeUsed),c=Object(l.d)(n.timeReserved);if(null===r||null===c)return null;var d,u,m=Object(l.d)(n.totalTimeAllowed),v=Object(l.f)(m,r),y=t+" quota: "+(u=24*(d=v).days+d.hours,d.minutes>0?u+"h "+d.minutes+"m":u+"h")+" remaining",w=a?e.createElement(h,{href:a},y):e.createElement(e.Fragment,null,y);return e.createElement(p,null,e.createElement(g,null,w),e.createElement(f,null,e.createElement(b,null,e.createElement(s.a,{barHeight:"4px",hoursAllowed:o,timeReserved:c,timeUsed:r,timeUntilRefresh:i}))))}}).call(this,n(0))},1836:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return c}));var i=n(3),o=n(1413),r=n(8),s=n(1707),l=n(30),c=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={kernels:[]},n.cancelKernelRun=function(e){Object(r.reportEvent)("kernels","listing-recent-kernels-clicked-stop",{location:"notebooks"}),a.Scripts.cancelScript({scriptVersionId:e.scriptVersionId});var t=n.state.kernels.map((function(t){return t.id!==e.id?t:Object(i.__assign)(Object(i.__assign)({},t),{isRunning:!1,lastRunTime:e.scriptVersionDateCreated})}));n.setState({kernels:t})},n.renderKernel=function(t){return e.createElement("div",{className:"recent-kernels__item",key:t.id},e.createElement("div",{className:"recent-kernels__item__title"},e.createElement("a",{href:t.scriptUrl,onClick:function(){return Object(r.reportEvent)("kernels","listing-recent-kernels-clicked-title",{location:"notebooks"})}},t.title),t.isPrivate&&e.createElement(s.a,{icon:"fa-eye-slash",option:"info"},"Private")),e.createElement("div",{className:"recent-kernels__item__details"},t.isRunning?e.createElement("span",null,"running for"," ",e.createElement(o.a,{time:t.scriptVersionDateCreated,hideAgo:!0})):e.createElement("span",null,"run ",e.createElement(o.a,{time:t.scriptVersionDateCreated})),t.versionNumber?e.createElement("span",null," · version ",t.versionNumber):null,e.createElement("span",null," ","·"," ",e.createElement("a",{href:t.scriptEditUrl,onClick:function(){return Object(r.reportEvent)("kernels","listing-recent-kernels-clicked-edit")}},"Edit")),t.isRunning?e.createElement("span",null," ","· ",e.createElement("a",{onClick:function(){return n.cancelKernelRun(t)}},"Stop ",t.versionNumber?"batch":"interactive"," session")):null))},n}return Object(i.__extends)(n,t),n.prototype.componentDidMount=function(){this.fetchKernels()},n.prototype.fetchKernels=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return l.a.userId&&0!==l.a.userId?[4,r.kernelsClient.listRecentKernels(this.props)]:(this.state.kernels.length>0&&this.setState({kernels:[]}),[2]);case 1:return e=t.sent(),this.setState({kernels:e.kernels}),e.kernels.length>0&&Object(r.reportEvent)("kernels","listing-recent-kernels-shown",{location:"notebooks"}),[2]}}))}))},n.prototype.render=function(){return this.state.kernels.length>0?e.createElement("div",{className:"recent-kernels"},e.createElement("div",{className:"recent-kernels__header"},"Your Recent Notebooks"),this.state.kernels.map(this.renderKernel)):null},n}(e.Component)}).call(this,n(0),n(286))},1837:function(e,t,n){"use strict";function a(e){return{style:e.style,className:e.className}}n.d(t,"a",(function(){return a}))},1838:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(3),i=n(1627),o=n(2061),r=n(8),s=n(0),l=n(1637),c=n(1992),d=n(1970),u=n(1681);let m=(()=>{class e extends s.Component{constructor(){super(...arguments),this.state=Object.assign(Object.assign({},l.c),{dataLoadingState:{type:"loading"},selection:{}}),this.queue=Object(i.b)(),this.loadData=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{reference:e,isMobile:t}=this.props,{clients:{datasetsClient:n,kernelsClient:a},legacyClients:{analyticsClient:i}}=this.context;try{let o;i.logger.report("datasets","data-explorer-v3-loadData",{reference:e,treeOnLeft:r.featureFlags.datasetsDataExplorerV3TreeLeft});const s=Object.assign(Object.assign({},l.c.uxSettings),{treeCollapsed:t||l.c.uxSettings.treeCollapsed});switch(e.type){case"dataset":const t=yield n.getDatabundleExternal({verificationInfo:{databundleVersionId:e.databundleVersionId,competitionId:null,datasetId:e.id,datasetHashLink:e.hashLink?e.hashLink:null}});o=Object(d.a)(t.dataSource.databundleVersion,!0),this.setState({dataLoadingState:{type:"success"},dataSources:[t.dataSource],expanded:{},previewCache:{},itemColumnCache:{},uxSettings:s,selection:{selectedObject:o,selectedSource:t.dataSource,selectedTableQuery:void 0}});break;case"competition":const i=yield n.getDatabundleExternal({verificationInfo:{databundleVersionId:e.databundleVersionId,competitionId:e.id,datasetId:null,datasetHashLink:null}});o=Object(d.a)(i.dataSource.databundleVersion,!0),this.setState({dataLoadingState:{type:"success"},dataSources:[i.dataSource],expanded:{},previewCache:{},itemColumnCache:{},uxSettings:s,selection:{selectedObject:o,selectedSource:i.dataSource,selectedTableQuery:void 0}});break;case"notebook":const r=yield a.getKernelRunDataSources({kernelRunId:e.kernelRunId,includeOutputFiles:!0}),l=r.dataSources.length>0?r.dataSources[0]:void 0;o=l?Object(d.a)(l.databundleVersion,!0):l,this.setState({dataLoadingState:{type:"success"},dataSources:r.dataSources,expanded:{},previewCache:{},itemColumnCache:{},uxSettings:s,selection:{selectedObject:o,selectedSource:l,selectedTableQuery:void 0}})}o&&this.state.selection&&this.dispatch({type:"select",newItem:o,selectionContainer:Object.assign(Object.assign({},this.state.selection),{select:this.select,setTableQuery:this.setTableQuery}),updateUrl:!1})}catch(e){const t=Object(u.a)("DefaultDataExplorer",e,i);this.setState({dataLoadingState:{type:"error",message:t}})}})),this.dispatch=e=>{this.setState(t=>{const{reference:n,userSettings:a,externalCallbacks:i}=this.props,{dataLoadingState:o,dataSources:r,expanded:s,previewCache:l,itemColumnCache:d,uxSettings:u,selection:m}=t,p=Object(c.a)({dataLoadingState:o,reference:n,dataSources:r,expanded:s,previewCache:l,itemColumnCache:d,uxSettings:u,userSettings:a,dispatch:this.dispatch,dispatchAsync:this.dispatchAsync,externalCallbacks:i},e,this.context);return{dataLoadingState:p.dataLoadingState,dataSources:p.dataSources,expanded:p.expanded,previewCache:p.previewCache,itemColumnCache:p.itemColumnCache,uxSettings:p.uxSettings,userSettings:p.userSettings,selection:m}})},this.dispatchAsync=e=>{const{reference:t,userSettings:n,externalCallbacks:a}=this.props,{dataLoadingState:i,dataSources:o,expanded:r,previewCache:s,itemColumnCache:l,uxSettings:d}=this.state;"showMessage"===e.type&&this.queue.notify({title:e.message}),Object(c.b)({dataLoadingState:i,reference:t,dataSources:o,expanded:r,previewCache:s,itemColumnCache:l,uxSettings:d,userSettings:n,dispatch:this.dispatch,dispatchAsync:this.dispatchAsync,externalCallbacks:a},e,this.context)},this.select=(e,t)=>{this.setState({selection:{selectedObject:t,selectedSource:e,selectedTableQuery:void 0}})},this.setTableQuery=e=>{this.setState(t=>Object.assign(Object.assign({},t),{selection:Object.assign(Object.assign({},t.selection),{selectedTableQuery:e})}))}}componentDidMount(){this.loadData()}componentDidUpdate(e){e.reference.type===this.props.reference.type&&e.reference.id===this.props.reference.id&&e.isMobile===this.props.isMobile||(this.setState(Object.assign(Object.assign({},l.c),{dataLoadingState:{type:"loading"},selection:{}})),this.loadData())}render(){const{reference:e,userSettings:t,children:n,externalCallbacks:a}=this.props,{dataLoadingState:i,dataSources:r,expanded:c,previewCache:d,itemColumnCache:u,uxSettings:m,selection:p}=this.state;return s.createElement(l.a.Provider,{value:{dataLoadingState:i,reference:e,dataSources:r,expanded:c,previewCache:d,itemColumnCache:u,uxSettings:m,userSettings:t,dispatch:this.dispatch,dispatchAsync:this.dispatchAsync,externalCallbacks:a}},s.createElement(o.a,{messages:this.queue.messages}),s.createElement(l.b.Provider,{value:Object.assign(Object.assign({},p),{select:this.select,setTableQuery:this.setTableQuery})},n))}}return e.contextType=r.ClientsContext,e})()},1839:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a,i,o,r=n(3),s=n(1),l=n.n(s),c=n(10),d=l.a.div.withConfig({displayName:"ActivityContentBox_Wrapper",componentId:"sc-7l03gg"})(a||(a=Object(r.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 220px;\n\n  background-color: ",";\n  border-radius: ",";\n  border: 1px solid ",";\n\n  font-size: ",";\n\n  @media screen and (max-width: ",") {\n    border-radius: 0;\n    min-height: 0;\n  }\n"],["\n  display: flex;\n  flex-direction: column;\n  min-height: 220px;\n\n  background-color: ",";\n  border-radius: ",";\n  border: 1px solid ",";\n\n  font-size: ",";\n\n  @media screen and (max-width: ",") {\n    border-radius: 0;\n    min-height: 0;\n  }\n"])),c.b.PureWhite,c.g.BorderRadius,c.b.ContentBorder,c.d.FontSizeM,c.a.ScreenTabletMax),u=l.a.h3.withConfig({displayName:"ActivityContentBox_ActivityTitle",componentId:"sc-aejcu8"})(i||(i=Object(r.__makeTemplateObject)(["\n  color: ",";\n  font-weight: ",";\n  margin: ",";\n"],["\n  color: ",";\n  font-weight: ",";\n  margin: ",";\n"])),c.b.TextLight,c.d.FontWeightMedium,c.g.PadM),m=l.a.div.withConfig({displayName:"ActivityContentBox_ActivityChildWrapper",componentId:"sc-10paxrz"})(o||(o=Object(r.__makeTemplateObject)(["\n  flex-grow: 1;\n\n  display: flex;\n  flex-direction: column;\n"],["\n  flex-grow: 1;\n\n  display: flex;\n  flex-direction: column;\n"])));function p(t){var n=t.title,a=t.children,i=t.className,o="string"==typeof n?e.createElement(u,null,n):n;return e.createElement(d,{className:i},o,e.createElement(m,null,a))}}).call(this,n(0))},1840:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t,n)=>{const{legacyClients:{analyticsClient:a}}=e;a.logger.report("datasets",`task-${t}`,n)}},1841:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(383),i=n(1416),o=n(1),r=n.n(o),s=n(287),l=n(0),c=n(1413),d=n(1668);const u=r.a.div`
  margin: ${d.n} 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,m=r()(a.e)`
  color: ${d.d};
`,p=e=>{const{item:t,onSelect:n,onVote:a}=e,{title:r,subtitle:p,author:h,submissionCount:g,deadline:f,voteButton:b,hasAcceptedSubmission:v}=t,{displayName:y,slug:w}=h,{totalVotes:E,hasVotedUp:x,isDisabled:C}=b;return l.createElement(d.f,{onClick:n},l.createElement(d.g,null,l.createElement(d.k,null,r),l.createElement(u,null,l.createElement(m,null,p)),l.createElement(d.h,null,l.createElement(d.j,{href:`/${w}`,target:"_blank",rel:"noopener",onClick:e=>{e.stopPropagation()}},y)," · ",s("Submission",g,!0),v&&l.createElement(l.Fragment,null," · ",l.createElement(i.a,{color:o.defaultTheme.material.color.status.success[1e3],icon:l.createElement("svg",{viewBox:"0 0 24 24",width:"12px",height:"12px"},l.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),l.createElement("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),size:"xxsmall"})," Accepted Submission"),f&&l.createElement(l.Fragment,null," · ",l.createElement(c.a,{time:f})))),l.createElement(d.i,null,l.createElement(d.m,{totalVotes:E,state:x?"voted-up":"no-vote",onVote:C?void 0:e=>{a(),e.stopPropagation()}})))}},1846:function(e,t,n){"use strict";var a=n(1416),i=n(383),o=n(2018),r=n(1),s=n.n(r),l=n(0),c=n(1855),d=n(1769),u=n(27);const m=s.a.div`
  display: flex;
  align-items: center;
  ${e=>e.theme.font.main.family};
  ${e=>e.theme.font.main.size.l};
`,p=s.a.img`
  border-radius: ${e=>e.theme.size.border.radius.thumbnail};
  margin-right: ${e=>e.theme.size.pad.s};
  width: 25px;
  height: 25px;
`,h=s.a.span`
  margin: 0;
`,g=u.z.Option,f=u.z.SingleValue;function b(e){const{data:t}=e,{label:n,thumbnailUrl:a}=t;return l.createElement(g,Object.assign({},e),l.createElement(m,null,a&&l.createElement(p,{src:a,alt:`${n} thumbnail`}),l.createElement(h,null,n)))}function v(e){const{data:t}=e,{label:n,thumbnailUrl:a}=t;return l.createElement(f,Object.assign({},e),l.createElement(m,null,a&&l.createElement(p,{src:a,alt:`${n} thumbnail`}),l.createElement(h,null,n)))}var y=n(384),w=n(385),E=n(1762);const x=s.a.div`
  display: flex;
`,C=s.a.div`
  display: flex;
  align-items: center;

  padding: 0 ${e=>e.theme.size.pad.m};

  white-space: nowrap;
  ${e=>e.theme.font.main.size.l};
  color: ${e=>e.theme.colors.kaggle.gray};

  border: 1px solid ${e=>e.theme.colors.content.borderLight};
  border-right: 0;
  border-radius: ${e=>e.theme.size.border.radius.button} 0 0
    ${e=>e.theme.size.border.radius.button};
`,k=s.a.div`
  flex: 1 1 auto;
  min-width: 0;
`,_=s.a.span`
  display: flex;
  justify-content: center;
  align-items: center;

  width: 100%;

  ${e=>e.theme.font.main.size.l};
  ${e=>e.theme.font.main.family};
`;function S(e){const{title:t,usedBytes:n,totalBytes:a,tooltip:i}=e;return l.createElement(x,null,l.createElement(C,null,i?l.createElement(y.Tooltip,{tip:i},t):t),l.createElement(k,null,l.createElement(E.a,{loaded:n>=a?a:n,total:a},l.createElement(_,null,w(n)," / ",w(a)))))}n.d(t,"a",(function(){return P}));const O=s.a.div`
  flex: 1 1 auto;
  min-width: 0;
  padding: ${e=>e.theme.size.pad.m};
`,T=s.a.div`
  display: flex;
  margin: ${e=>e.theme.size.pad.s};
`,j=s.a.label`
  flex: 0 0 auto;
  margin: ${e=>e.theme.size.pad.s} 0;
  width: 200px;
  ${e=>e.theme.font.main.size.l};
`,I=s.a.div`
  flex: 1 1 auto;
  min-width: 0;
`,N=s.a.div`
  margin: ${e=>e.theme.size.pad.xs} 0;
`,D=s.a.div`
  margin: 0 0 12px 0;
`,$=s()(a.a)`
  color: ${e=>e.theme.material.color.brand.grey[500]};
  margin-right: 8px;
  vertical-align: middle;
`,M=s()(i.a)`
  display: inline;
  margin-right: 16px;
  vertical-align: middle;
`,U=s()(o.a)`
  .mdc-switch {
    vertical-align: middle;
  }
`;class P extends l.Component{constructor(){super(...arguments),this.renderPrivacySetting=()=>{const{isDisabled:e,isPrivate:t,onPrivacyChange:n}=this.props,a=t?"Private":"Public",i=t?"lock":"lock_open";return l.createElement(T,null,l.createElement(j,null,"Privacy"),l.createElement(I,null,l.createElement(D,null,l.createElement($,{icon:i,size:"medium"}),l.createElement(M,null,a),l.createElement(U,{disabled:e,checked:!t,onChange:()=>{n(!t)}})),this.renderQuota()))},this.renderQuota=()=>{const{isPrivate:e,limits:t}=this.props,{usedBytes:n,totalBytes:a}=t;return l.createElement(N,null,l.createElement(S,{title:e?"Private Quota":"Public Quota",totalBytes:a,usedBytes:n}))},this.renderLicenseSetting=()=>{const{isDisabled:e,licenseGroups:t,licenseId:n,onLicenseIdChange:a}=this.props;return l.createElement(T,null,l.createElement(j,null,"License"),l.createElement(I,null,l.createElement(c.a,{licenseGroups:t,licenseId:n,isDisabled:e,onLicenseIdChange:a})))},this.renderOwnerSetting=()=>{const{isDisabled:e,owner:t,allowedOwners:n,onOwnerChange:a}=this.props,i=n.map(e=>({label:e.name,value:`${e.isOrganization?"o":"u"}:${e.id}`,thumbnailUrl:e.imageUrl,isOrganization:e.isOrganization,id:e.id})),o=i.find(e=>e.id===t.id&&e.isOrganization===t.isOrganization);return l.createElement(T,null,l.createElement(j,null,"Owner"),l.createElement(I,null,l.createElement(d.a,{isDisabled:e,value:o,onChange:e=>{const t=this.findOwner(e);void 0!==t&&a(t)},isSearchable:!1,options:i,components:{Option:b,SingleValue:v}})))},this.findOwner=e=>{const{allowedOwners:t}=this.props;return t.find(t=>t.id===e.id&&t.isOrganization===e.isOrganization)}}render(){const{isPrivate:e}=this.props;return l.createElement(O,null,this.renderPrivacySetting(),!e&&this.renderLicenseSetting(),this.renderOwnerSetting())}}},1850:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a,i=n(3),o=n(1),r=n.n(o).a.span.withConfig({displayName:"Hint_HintView",componentId:"sc-14tk452"})(a||(a=Object(i.__makeTemplateObject)(["\n  color: #a8a8a8;\n\n  font-size: 0.8rem;\n  padding: 4px 0;\n\n  & i {\n    color: #e19337;\n    margin-right: 8px;\n  }\n"],["\n  color: #a8a8a8;\n\n  font-size: 0.8rem;\n  padding: 4px 0;\n\n  & i {\n    color: #e19337;\n    margin-right: 8px;\n  }\n"]))),s=function(t){return t.hide?null:e.createElement(r,{style:t.style},e.createElement("i",{className:"fa fa-info-circle"}),t.children)}}).call(this,n(0))},1851:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>"dataSource"===e.type?"../input/"+e.slug:t?"utilityScript"===t.sourceType?"../usr/lib/"+t.slug+"/"+e.relativeUrl:"notebookOutput"===t.sourceType?"./"+e.relativeUrl:"../input/"+t.slug+"/"+e.relativeUrl:e.relativeUrl},1852:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n(370);const i=(e,t)=>{const n=new URLSearchParams(location.search);t?n.set(e,t):n.delete(e),Object(a.f)(`${location.pathname}?${n.toString()}`)},o=e=>{return new URLSearchParams(location.search).get(e)}},1853:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{if(e===t)return!0;if(void 0===e||void 0===t)return!1;const{column:n,numericFilter:a,stringFilter:i,booleanFilter:o,dateTimeFilter:r}=e,{column:s,numericFilter:l,stringFilter:c,booleanFilter:d,dateTimeFilter:u}=t,m=n.firestorePath===s.firestorePath,p=a===l||void 0!==a&&void 0!==l&&a.operator===l.operator&&a.operand===l.operand,h=i===c||void 0!==i&&void 0!==c&&i.operator===c.operator&&i.operands.length===c.operands.length&&i.operands.map(e=>c.operands.includes(e)).reduce((e,t)=>e&&t,!0),g=o===d||void 0!==o&&void 0!==d&&o.value===d.value,f=r===u||void 0!==r&&void 0!==u&&r.operator===u.operator&&r.operand.seconds===u.operand.seconds&&r.operand.nanos===u.operand.nanos;return m&&p&&h&&g&&f}},1854:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{switch(e.type){case"file":return null!==e.tableInfo;case"table":return!0;default:return!1}}},1855:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(0),i=n(1769),o=n(1770);function r(e){const{isDisabled:t,licenseGroups:n,licenseId:r,onLicenseIdChange:s,optionComponent:l,singleValueComponent:c}=e,d=n.filter(e=>Array.isArray(e.licenses)&&e.licenses.length>0).map(e=>({label:e.name,options:e.licenses.map(e=>({value:e.id,rawHtml:e.description}))})),u=d.reduce((e,t)=>[...e,...t.options],[]).find(e=>e.value===r);return a.createElement(i.a,{isDisabled:t,isSearchable:!1,value:u,onChange:e=>{s(e.value)},options:d,components:{Option:e=>a.createElement(o.b,Object.assign({},e,{content:l||a.createElement(o.c,null)})),SingleValue:e=>a.createElement(o.d,Object.assign({},e,{content:c||a.createElement(o.c,null)}))},styles:{placeholder:e=>Object.assign(Object.assign({},e),{fontSize:"1.25em"})}})}},1856:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(383),i=n(1909),o=n(1),r=n.n(o),s=n(0),l=n(2009),c=n(1810),d=n(2037),u=n(1685),m=n(1703);const p=r.a.div`
  display: flex;
  flex-direction: column;
  flex-shrink: 0;
  justify-content: space-between;
  width: ${e=>e.theme.material.spacing(50)};
`,h=r.a.div`
  display: flex;
  flex-direction: column;
  padding: 24px 16px 0 24px;
`,g=r()(a.q)`
  margin-top: ${e=>e.theme.material.spacing(3)};
  word-break: break-word;
  && {
    font-weight: 500;
  }
`,f=r()(a.b)`
  margin-top: 4px;
  && {
    color: ${e=>e.theme.material.color.text[40]};
  }
`;function b({model:e,useBlankAvatar:t,competitionRank:n,authorType:a}){if(!e)return null;const{thumbnailUrl:o,profileUrl:r,tier:b,displayName:v,id:y}=Object(l.b)(t?null:e);return s.createElement(p,null,s.createElement(h,null,s.createElement(l.a,{thumbnailUrl:o,profileUrl:r,tier:b,displayName:v,id:y,size:"xxlarge"}),s.createElement(g,null,s.createElement(i.b,null,({targetRef:t,setTargetRef:n})=>s.createElement(s.Fragment,null,s.createElement(u.a,{ref:n,href:e.userUrl||"",authorType:a},Object(m.f)(e.displayName)),s.createElement(i.a,{targetRef:t},s.createElement(c.a,{userId:e.id}))))),n&&s.createElement(f,null,s.createElement(d.a,{num:n})," place")))}},1857:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1),i=n.n(a),o=n(0),r=n(107);const s=i.a.div`
  position: relative;
  width: 100%;
`,l=i.a.div`
  align-items: center;
  background: ${e=>e.theme.material.color.brand.grey[50]};
  box-sizing: border-box;
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>{const t=e.theme.material.borderRadius.normal;return`${t} ${t} 0 0`}};
  display: flex;
  height: ${e=>e.theme.material.spacing(12)};
  padding: ${e=>e.theme.material.spacing(0,2,0,6)};
  font-size: 14px;
  color: ${e=>e.theme.material.color.text[40]};

  ${r.k} {
    border-radius: 0;
    border-left: 0;
    border-right: 0;
  }
`,c=i.a.div`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>{const t=e.theme.material.borderRadius.normal;return`0 0 ${t} ${t}`}};
  border-top: 0;
  overflow: hidden;

  ${r.k} {
    border-radius: 0;
    border-left: 0;
    border-right: 0;
  }
`,d=({header:e,children:t})=>o.createElement(s,null,o.createElement(l,null,e),o.createElement(c,null,t))},1858:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return r}));var i=n(3),o=n(1789),r=function(t){function n(e){var n=t.call(this,e)||this;return n.isSubscribed=function(){return"unsubscribe"!=n.state.subscribeState},n.onClick=function(){n.isSubscribed()?(n.setState({expanded:!1}),n.subscribe("unsubscribe")):(n.setState({expanded:!0}),n.subscribe("subscribeSingle"))},n.onSubscribeClick=function(e){n.subscribe(e),n.setState({expanded:!1})},n.subscribe=function(e){e!=n.state.subscribeState&&(n.setState({subscribeState:e}),a.Requests.subscribeTo({type:n.props.type,subscribe:e,id:n.props.id,isImplicit:!1}))},n.handleMouseOver=function(e){n.setState({expanded:!0})},n.handleMouseLeave=function(e){n.setState({expanded:!1})},n.handleOutsideClick=function(e){n.state.expanded&&n.dropdownWrapper&&!n.dropdownWrapper.contains(e.target)&&n.setState({expanded:!1})},n.state={subscribeState:n.props.initialSubscribeState,expanded:!1},n}return Object(i.__extends)(n,t),n.prototype.componentDidMount=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return document.addEventListener("mousedown",this.handleOutsideClick),[2]}))}))},n.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleOutsideClick)},n.prototype.render=function(){var t=this;return e.createElement(o.a,{text:this.props.text,wrapperStyle:this.props.wrapperStyle,className:this.props.className,childText:this.props.childText,subscribeState:this.state.subscribeState,onClick:this.onClick,onSubscribeClick:this.onSubscribeClick,expanded:this.state.expanded,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,wrapperRef:function(e){return t.dropdownWrapper=e}})},n}(e.Component)}).call(this,n(0),n(286))},1859:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(383),i=n(1608),o=n(1),r=n.n(o),s=n(0),l=n(1668);const c=r()(l.c)`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 256px;
`,d=r()(a.b)`
  margin-top: ${l.b};
`,u=e=>{const{text:t,className:n}=e;return s.createElement(c,{className:n},s.createElement(i.a,{size:"medium"}),s.createElement(d,null,t))}},1860:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(383),i=n(1416),o=n(1),r=n.n(o),s=n(0),l=n(1668);const c=r()(l.c)`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 256px;
`,d=r()(a.b)`
  margin-top: ${l.b};
  color: ${e=>e.theme.material.color.status.error[900]};
`,u=e=>{const{text:t,className:n}=e;return s.createElement(c,{className:n},s.createElement(i.a,{color:o.defaultTheme.material.color.status.error[900],icon:"warning"}),s.createElement(d,null,t))}},1884:function(e,t,n){"use strict";var a=n(1852),i=n(1743),o=n(1742);const r=(e,t)=>{if(e.path===t.path)return[e];const n=Object(o.a)(e);for(const a of n){const n=r(a,t);if(n)return[e,...n]}};var s=n(1744);n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));const l="select",c=(e,t)=>{const{newItem:n,selectionContainer:o,updateUrl:c}=t,{dataSources:d,expanded:u}=e,m=d.find(e=>void 0!==r(e,n));if(!m)return e;const p=Object(s.a)(n,u),h=Object(i.a)(n),g="notebook"===e.reference.type&&e.reference.isEditor;return c&&!g&&((e=>!!e.relativeUrl&&e.relativeUrl.indexOf("/")<0)(n)?Object(a.b)(l,n.relativeUrl):Object(a.b)(l,null)),h&&"notExpanded"===p?e.dispatch({type:"expand",item:n,source:m}):h&&"expanded"===p&&e.dispatch({type:"expand",item:n,state:"notExpanded",source:m}),o.select(m,n),e}},1885:function(e,t,n){"use strict";var a=n(1610),i=n(1569),o=n(1625),r=n(1468),s=n(1),l=n.n(s),c=n(0),d=n(548),u=n(549),m=n(383),p=n(1893),h=n(2005),g=n(1971),f=n(2006),b=n(8),v=n(1895);const y=l()(r.a)`
  & + button {
    margin-left: ${e=>e.theme.material.spacing(4)};
  }
`,w=l.a.div`
  padding: ${e=>e.theme.material.spacing(8,0)};
  & > div {
    margin: 0;
  }
`,E=l()(i.a)`
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`,x=e=>b.tagsClient.searchTags({searchType:"searchResult",searchQuery:e,showSystemTags:!1,skip:0,take:10}).then(e=>e.tags),C=e=>{const{onChange:t,tags:n,canRemoveLastTag:i}=e,o=n.length>=5,r=new Set(n.map(e=>e.id)),s=c.useCallback(e=>{o||!e||r.has(e.id)||t([...n,e])},[t,n,o]),l=c.useCallback(e=>{t(n.filter(t=>t.id!==e.id))},[t,n]),p=c.useCallback(e=>r.has(e.id),[n]),h=c.useCallback(e=>c.createElement(c.Fragment,null,c.createElement(d.a,{primaryText:e.name}),"number"==typeof e.totalCount?c.createElement(u.a,null,c.createElement(m.e,null,"x",e.totalCount.toLocaleString())):null),[]);return c.createElement(c.Fragment,null,c.createElement(w,null,c.createElement(v.a,{label:"Search for tags",loadOptions:x,onSelect:s,optionRenderer:h,disabled:o,shouldExcludeOption:p})),c.createElement(a.a,null,n.map(e=>c.createElement(E,{useKM:!0,key:e.id,onRemove:1!==n.length||i?()=>{l(e)}:void 0},e.name))))},k=e=>{const{onCancel:t,onSave:n,open:a,tags:i,canRemoveLastTag:o=!0}=e,[r,s]=c.useState(i),l=c.useCallback(()=>{n(r)},[n,r]),d=c.useCallback(()=>{s(i),t()},[i,t]);return c.createElement(p.a,{open:a},c.createElement(h.a,null,"Add Tags"),c.createElement(g.a,null,c.createElement(m.b,null,"Select up to ",5," tags:"),c.createElement(C,{tags:r,onChange:s,canRemoveLastTag:o})),c.createElement(f.a,null,c.createElement(y,{useKM:!0,emphasis:"low",onClick:d},"Cancel"),c.createElement(y,{useKM:!0,autoFocus:!0,onClick:l},"Save")))};n.d(t,"a",(function(){return T}));const _=l.a.div`
  align-items: center;
  display: flex;
  flex-direction: row;
`,S=l()(a.a)`
  margin-top: ${e=>e.theme.material.spacing(-2)};
  padding: 0 !important;
  & > a {
    margin-top: ${e=>e.theme.material.spacing(2)};
    text-decoration: none;
  }
`,O=e=>{const{tags:t,onEdit:n}=e;return c.createElement(_,null,c.createElement(S,null,t.map(e=>c.createElement("a",{key:e.id,href:e.listingUrl,target:"_blank"},c.createElement(i.a,{useKM:!0},e.displayName)))),c.createElement(o.a,{icon:"edit",size:"medium",useKM:!0,onClick:n,title:"Edit Tags",style:{width:"34px",height:"34px"}}))},T=e=>{const{tags:t,onSaveTags:n,canRemoveLastTag:a=!0}=e,[i,o]=c.useState(!1),s=c.useCallback(()=>{o(!0)},[]),l=c.useCallback(e=>{o(!1),n(e)},[n]),d=c.useCallback(()=>{o(!1)},[]);return c.createElement(c.Fragment,null,t.length>0?c.createElement(O,{onEdit:s,tags:t}):c.createElement(r.a,{variant:"outlined",useKM:!0,onClick:s},"Add Tags"),c.createElement(k,{onCancel:d,onSave:l,open:i,tags:t,canRemoveLastTag:a}))}},1886:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),i=n.n(a),o=n(1432),r=n(0);n(1431);const s=i()(o.a)`
  && {
    padding: ${e=>e.padding?e.padding:"0px"};
  }
`,l=e=>{const{align:t,children:n,className:a,fixedColumnWidth:i,padding:o}=e;return r.createElement(s,{align:t,className:a,fixedColumnWidth:i,padding:o},n)}},1887:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),i=n.n(a),o=n(1432),r=n(0);n(1431);const s=i()(o.b)``,l=e=>{const{align:t,children:n,className:a,desktop:i,order:o,phone:l,span:c,tablet:d}=e;return r.createElement(s,{align:t,className:a,desktop:i,order:o,phone:l,span:c,tablet:d},n)}},1888:function(e,t,n){"use strict";(function(e,a,i){n.d(t,"a",(function(){return p}));var o=n(3),r=n(1889),s=n(1419),l=n(8),c=e.Scripts,d=e.Competitions,u=3,m=!0,p=function(e){function t(t){var n=e.call(this,t)||this;n.handleKeyDown=function(e){if(27==e.keyCode&&n.handleClose(),38==e.keyCode&&n.handleSelectionMove(-1),40==e.keyCode&&n.handleSelectionMove(1),13==e.keyCode){var t=document.getElementById("category-search-result-"+n.state.selectedResultIndex);t&&t.click()}},n.handleSelectionMove=function(e){if(n.state.searchResults&&0!=n.state.searchResults.length){var t=(null!=n.state.selectedResultIndex?n.state.selectedResultIndex:e<0?n.state.searchResults.length:-1)+e;t<0&&(t=n.state.searchResults.length-1),t>n.state.searchResults.length-1&&(t=0),n.setState({selectedResultIndex:t})}},n.handleIndexSelection=function(e){n.setState({selectedResultIndex:e})},n.handleMouseUp=function(e){var t=i(".category__search-box-container");t.is(e.target)||0!==t.has(e.target).length||n.handleClose()},n.onAddingNewCategoryChanged=function(e){n.setState({isAddingNewCategory:e}),n.executeSearch("")},n.onDeleteCategory=function(e,t){if("dataset"==n.props.type){if(!n.props.datasetId)return void n.error("Dataset Id not set");l.bothClients.clients.datasetsClient.deleteDatasetCategories({datasetId:n.props.datasetId,categoryIds:[e.id]}).then((function(e){n.removeCategoryFromList(t,(function(){n.props.onDatasetCategoryChange&&e.updatedUsabilityRating&&n.props.onDatasetCategoryChange(n.state,e.updatedUsabilityRating),n.success("The tag has been removed successfully.")}))})).catch((function(e){n.error(e.message)}))}else if("notebook"==n.props.type){if(!n.props.ownerSlug||!n.props.scriptSlug)return void n.error("Slugs not set");c.removeCategory({userName:n.props.ownerSlug,kernelSlug:n.props.scriptSlug,categoryId:e.id}).then((function(e){n.removeCategoryFromList(t,(function(){n.success("The tag has been removed successfully.")}))})).catch((function(){n.error("An error occurred while removing your tag.")}))}else if("competition"==n.props.type){if(!n.props.competitionId)return void n.error("Competition Id not set");d.removeCategory({competitionId:n.props.competitionId,categoryId:e.id}).then((function(e){n.removeCategoryFromList(t,(function(){n.success("The tag has been removed successfully.")}))})).catch((function(){n.error("An error occurred while removing your tag.")}))}else n.error("Unsupported type: "+n.props.type)},n.onAddCategory=function(e){if(n.handleClose(),"dataset"==n.props.type){if(!n.props.datasetId)return void n.error("Dataset Id is not set");l.bothClients.clients.datasetsClient.addDatasetCategories({datasetId:n.props.datasetId,categoryIds:[e.id]}).then((function(t){n.addCategoryToList(e,(function(){n.props.onDatasetCategoryChange&&t.updatedUsabilityRating&&n.props.onDatasetCategoryChange(n.state,t.updatedUsabilityRating),n.success("The tag has been added successfully.")}))})).catch((function(e){n.error(e.message)}))}else if("notebook"==n.props.type){if(!n.props.ownerSlug||!n.props.scriptSlug)return void n.error("Slugs not set");c.addCategory({userName:n.props.ownerSlug,kernelSlug:n.props.scriptSlug,categoryId:e.id}).then((function(t){"error"!==t.status?n.addCategoryToList(e,(function(){n.success("The tag has been added successfully.")})):n.error(t.message)})).catch((function(){n.error("An error occurred while adding your tag.")}))}else if("competition"==n.props.type){if(!n.props.competitionId)return void n.error("Competition Id not set");d.addCategory({competitionId:n.props.competitionId,categoryId:e.id}).then((function(t){n.addCategoryToList(e,(function(){n.success("The tag has been added successfully.")}))})).catch((function(){n.error("An error occurred while removing your tag.")}))}else n.error("Unsupported type: "+n.props.type)},n.onSearchQueryChanged=function(e){n.searchQuery=e,n.searchTimer&&clearInterval(n.searchTimer),n.searchTimer=window.setTimeout((function(){return n.executeSearch(n.searchQuery)}),200)},n.handleClose=function(){n.setState({isAddingNewCategory:!1,isSearchingNewCategory:!1,searchResults:null})},n.handleSearch=function(){n.executeSearch(n.searchQuery)},n.handleSearchResults=function(e){var t=e.tags.filter((function(e){return!n.state.tags.some((function(t){return t.id==e.id}))}));n.setState({searchResults:t,isSearchingNewCategory:!1,selectedResultIndex:0})},n.executeSearch=function(e){n.setState({isSearchingNewCategory:!0}),n.searchTimer&&clearInterval(n.searchTimer),""===e||n.searchQuery&&n.searchQuery.trim()&&!(e.length<u)?l.bothClients.clients.tagsClient.searchTags({searchType:n.props.type,searchQuery:e,showSystemTags:!1,skip:0,take:10}).then((function(e){n.handleSearchResults(e)})):n.setState({isSearchingNewCategory:!1,selectedResultIndex:0})};t.children;var a=Object(o.__rest)(t,["children"]);return n.state=Object(o.__assign)(Object(o.__assign)({},a),{isAddingNewCategory:!1,isSearchingNewCategory:!1,showCounts:m,selectedResultIndex:0,onDeleteCategory:n.onDeleteCategory,onAddCategory:n.onAddCategory,onAddingNewCategoryChanged:n.onAddingNewCategoryChanged,onSearchNewCategory:n.handleSearch,onSearchQueryChanged:n.onSearchQueryChanged,onIndexSelection:n.handleIndexSelection}),n}return Object(o.__extends)(t,e),t.prototype.componentDidMount=function(){i(document.body).on("keydown",this.handleKeyDown),i(document.body).on("mouseup",this.handleMouseUp)},t.prototype.componentWillUnmount=function(){i(document.body).off("keydown",this.handleKeyDown),i(document.body).off("mouseup",this.handleMouseUp)},t.prototype.removeCategoryFromList=function(e,t){var n=Object(o.__assign)({},this.state);n.tags.splice(e,1),this.setState(n,t)},t.prototype.addCategoryToList=function(e,t){for(var n=Object(o.__assign)({},this.state),a=0,i=0;i<n.tags.length&&!n.tags[i].isInherited;i++)a=i+1;n.tags.splice(a,0,e),this.setState(n,t)},t.prototype.error=function(e){s.a.clear(),s.a.error({dangerousHtmlMessage:e})},t.prototype.success=function(e){s.a.clear(),s.a.success({dangerousHtmlMessage:e})},t.prototype.render=function(){return a.createElement(r.a,this.state)},t}(a.Component)}).call(this,n(286),n(0),n(129))},1889:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var a,i,o,r,s=n(3),l=n(1641),c=n(1636),d=n(1891),u=n(1890),m=n(1),p=n.n(m),h=n(10),g=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onAddTag=function(){e.props.onAddingNewCategoryChanged(!0)},e}return Object(s.__extends)(n,t),n.prototype.render=function(){var t=this;return e.createElement(c.b,{className:"category__box",contentClassName:"category__content"},!this.props.hideTagsHeader&&e.createElement(f,null,"Tags"),e.createElement(b,null,this.props.tags.map((function(n,a){return e.createElement(u.a,{key:a,category:n,index:a,canDelete:t.props.canEdit,onDeleteCategory:t.props.onDeleteCategory,showCount:t.props.showCounts})}))),this.props.canEdit&&e.createElement(v,null,this.props.isAddingNewCategory?e.createElement(d.a,Object(s.__assign)({},this.props,{searchThrottleMillis:100})):e.createElement(l.a,{text:"Add Tag",className:"category__add-button",onClick:this.onAddTag})))},n}(e.Component),f=p.a.div.withConfig({displayName:"CategoryList_CategoryTitle",componentId:"sc-bph43s"})(a||(a=Object(s.__makeTemplateObject)(["\n    ","\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    margin-right: ",";\n"],["\n    ","\n    color: ",";\n    font-size: ",";\n    font-weight: ",";\n    margin-right: ",";\n"])),h.c.Inter,h.b.TextLight,h.d.FontSizeM,h.d.FontWeightMedium,h.g.PadXl),b=p.a.div.withConfig({displayName:"CategoryList_CategoryContent",componentId:"sc-1ew2rc"})(i||(i=Object(s.__makeTemplateObject)(["\n  flex: 1;\n  line-height: 28px;\n  white-space: normal;\n"],["\n  flex: 1;\n  line-height: 28px;\n  white-space: normal;\n"]))),v=p.a.div.withConfig({displayName:"CategoryList_CategoryAdd",componentId:"sc-6ff4qr"})(r||(r=Object(s.__makeTemplateObject)(["\n  margin: 0 ",";\n  position: relative;\n\n  ",";\n"],["\n  margin: 0 ",";\n  position: relative;\n\n  ",";\n"])),h.g.PadM,h.f.mobile(o||(o=Object(s.__makeTemplateObject)(["\n    margin: 0;\n    margin-top: ",";\n  "],["\n    margin: 0;\n    margin-top: ",";\n  "])),h.g.PadM))}).call(this,n(0))},1890:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var a,i,o,r,s,l,c,d,u,m,p,h=n(3),g=n(1665),f=n(1),b=n.n(f),v=n(10),y=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onRemove=function(){e.props.onDeleteCategory(e.props.category,e.props.index)},e}return Object(h.__extends)(n,t),n.prototype.render=function(){var t=this.props,n=t.category,a=t.showCount,i=t.canDelete,o=n.tagUrl?E:w;return e.createElement(j,{alignLeft:!0,tipContent:e.createElement(x,null,e.createElement(C,null,n.name,!n.isInherited&&a&&e.createElement(k,null,"x ",n.totalCount)),n.fullPath&&e.createElement("p",null,n.fullPath),n.isInherited&&e.createElement(_,null,"Automatic Tag"))},e.createElement(o,null,n.tagUrl?e.createElement(O,{href:n.tagUrl||"javascript:void(0)"},e.createElement(S,null,n.name)):e.createElement(S,null,n.name),i&&!n.isInherited&&e.createElement(T,{className:"fa fa-times",onClick:this.onRemove})))},n}(e.Component),w=b.a.div.withConfig({displayName:"CategoryButton_Category",componentId:"sc-4a2inu"})(a||(a=Object(h.__makeTemplateObject)(["\n    ","\n    border-radius: ",";\n    color: ",";\n    display: inline;\n    font-size: ",";\n    height: 24px;\n    line-height: 20px;\n    margin: 0 "," "," 0;\n    padding: 6px ",";\n    background-color: ",";\n"],["\n    ","\n    border-radius: ",";\n    color: ",";\n    display: inline;\n    font-size: ",";\n    height: 24px;\n    line-height: 20px;\n    margin: 0 "," "," 0;\n    padding: 6px ",";\n    background-color: ",";\n"])),v.c.Inter,v.g.BorderRadius,v.b.TextWhite,v.d.FontSizeS,v.g.PadS,v.g.PadS,v.g.PadS,v.b.GrayLight),E=b()(w).withConfig({displayName:"CategoryButton_CategoryWithLink",componentId:"sc-52a4wm"})(i||(i=Object(h.__makeTemplateObject)(["\n  cursor: pointer;\n\n  :hover {\n    background-color: ",";\n  }\n"],["\n  cursor: pointer;\n\n  :hover {\n    background-color: ",";\n  }\n"])),v.b.KaggleBlackLight),x=b.a.div.withConfig({displayName:"CategoryButton_CategoryTooltip",componentId:"sc-q29dwu"})(o||(o=Object(h.__makeTemplateObject)(["\n    ","\n    font-size: ",";\n    text-align: left;\n"],["\n    ","\n    font-size: ",";\n    text-align: left;\n"])),v.c.Inter,v.d.FontSizeS),C=b.a.p.withConfig({displayName:"CategoryButton_CategoryTooltipText",componentId:"sc-7zapx4"})(r||(r=Object(h.__makeTemplateObject)(["\n  font-weight: ",";\n"],["\n  font-weight: ",";\n"])),v.d.FontWeightMedium),k=b.a.span.withConfig({displayName:"CategoryButton_CategoryTooltipCount",componentId:"sc-7jbp5p"})(s||(s=Object(h.__makeTemplateObject)(["\n  color: ",";\n  margin: 0 0 0 ",";\n"],["\n  color: ",";\n  margin: 0 0 0 ",";\n"])),v.b.TextLight,v.g.PadS),_=b.a.p.withConfig({displayName:"CategoryButton_CategoryTooltipInherited",componentId:"sc-124zcex"})(l||(l=Object(h.__makeTemplateObject)(["\n  color: ",";\n  font-style: italic;\n"],["\n  color: ",";\n  font-style: italic;\n"])),v.b.TextLight),S=b.a.span.withConfig({displayName:"CategoryButton_CategoryName",componentId:"sc-c10946"})(c||(c=Object(h.__makeTemplateObject)(["\n    ","\n    color: ",";\n\n    :hover {\n        color: ",";\n    }\n"],["\n    ","\n    color: ",";\n\n    :hover {\n        color: ",";\n    }\n"])),v.c.Inter,v.b.TextWhite,v.b.TextWhite),O=b.a.a.withConfig({displayName:"CategoryButton_CategoryNameLink",componentId:"sc-1dctsba"})(d||(d=Object(h.__makeTemplateObject)(["\n  text-decoration: none;\n"],["\n  text-decoration: none;\n"]))),T=b.a.span.withConfig({displayName:"CategoryButton_CategoryRemove",componentId:"sc-1ylxnp3"})(u||(u=Object(h.__makeTemplateObject)(["\n  cursor: pointer;\n  padding: 0 0 0 ",";\n"],["\n  cursor: pointer;\n  padding: 0 0 0 ",";\n"])),v.g.PadS),j=b()(g.a).withConfig({displayName:"CategoryButton_CategoryTooltipWrapper",componentId:"sc-1a3efpg"})(p||(p=Object(h.__makeTemplateObject)(["\n  .tooltip-multiline__after,\n  .tooltip-multiline__before {\n    ",";\n  }\n"],["\n  .tooltip-multiline__after,\n  .tooltip-multiline__before {\n    ",";\n  }\n"])),v.f.nonDesktop(m||(m=Object(h.__makeTemplateObject)(["\n            display: none;\n        "],["\n            display: none;\n        "]))))}).call(this,n(0))},1891:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a,i,o,r,s,l,c,d,u,m=n(3),p=n(1423),h=n(1),g=n.n(h),f=n(10),b=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.focus=function(e){e&&e.focus()},n.createMouseOverHandler=function(e){return function(){n.props.onIndexSelection(e)}},n.createClickHandler=function(e){return function(){n.props.onAddCategory(e)}},n.handleSearchChange=p.throttle((function(e){n.props.onSearchQueryChanged(e.currentTarget.value)}),n.props.searchThrottleMillis,{trailing:!1}),n.renderSearchResults=function(){return n.props.searchResults.map((function(t,a){var i=n.props.selectedResultIndex===a?S:_;return e.createElement(i,{id:"category-search-result-"+t.id,key:t.id,onClick:n.createClickHandler(t),onMouseOver:n.createMouseOverHandler(a),title:t.fullPath},e.createElement(C,null,t.name),n.props.showCounts&&e.createElement(k,null,"x ",t.totalCount))}))},n}return Object(m.__extends)(n,t),n.prototype.render=function(){var t=this.props.searchResults&&this.props.searchResults.length>0;return e.createElement(v,{className:"category__search-box-container"},e.createElement(w,{ref:this.focus,type:"text",placeholder:"Search Tags",onChange:this.handleSearchChange}),e.createElement(E,{onClick:this.props.onSearchNewCategory},e.createElement("i",{className:"fa "+(this.props.isSearchingNewCategory?"fa-circle-o-notch fa-spin":"fa-search")})),e.createElement(x,null,t?this.renderSearchResults():e.createElement(y,null,"We couldn't find anything matching your search (existing tags excluded).")))},n}(e.Component),v=g.a.div.withConfig({displayName:"CategorySearchBox_SearchBoxWrapper",componentId:"sc-1vrrq79"})(a||(a=Object(m.__makeTemplateObject)(["\n  display: inline-flex;\n  height: 24px;\n  width: 200px;\n"],["\n  display: inline-flex;\n  height: 24px;\n  width: 200px;\n"]))),y=g.a.div.withConfig({displayName:"CategorySearchBox_SearchNotFoundText",componentId:"sc-h2v2hz"})(i||(i=Object(m.__makeTemplateObject)(["\n    ","\n    font-size: ",";\n    line-height: 20px;\n    padding: "," ",";\n"],["\n    ","\n    font-size: ",";\n    line-height: 20px;\n    padding: "," ",";\n"])),f.c.Inter,f.d.FontSizeS,f.g.PadXs,f.g.PadS),w=g.a.input.withConfig({displayName:"CategorySearchBox_SearchBox",componentId:"sc-12a41zc"})(o||(o=Object(m.__makeTemplateObject)(["\n    ","\n    border: 1px solid ",";\n    border-radius: "," 0 0 ",";\n    font-size: ",";\n    font-weight: ",";\n    line-height: 20px;\n    padding: 6px ",";\n    position: relative;\n\n    :focus {\n        outline: none;\n    }\n"],["\n    ","\n    border: 1px solid ",";\n    border-radius: "," 0 0 ",";\n    font-size: ",";\n    font-weight: ",";\n    line-height: 20px;\n    padding: 6px ",";\n    position: relative;\n\n    :focus {\n        outline: none;\n    }\n"])),f.c.Inter,f.b.KaggleGray,f.g.BorderRadius,f.g.BorderRadius,f.d.FontSizeS,f.d.FontWeightMedium,f.g.PadS),E=g.a.div.withConfig({displayName:"CategorySearchBox_SearchButton",componentId:"sc-yoflgk"})(r||(r=Object(m.__makeTemplateObject)(["\n    ","\n    border: 1px solid ",";\n    border-left: 0;\n    border-radius: 0 "," "," 0;\n    cursor: pointer;\n    font-size: ",";\n    line-height: 20px;\n    padding: 2px ",";\n\n    :hover {\n        background-color: ",";\n    }\n"],["\n    ","\n    border: 1px solid ",";\n    border-left: 0;\n    border-radius: 0 "," "," 0;\n    cursor: pointer;\n    font-size: ",";\n    line-height: 20px;\n    padding: 2px ",";\n\n    :hover {\n        background-color: ",";\n    }\n"])),f.c.Inter,f.b.KaggleGray,f.g.BorderRadius,f.g.BorderRadius,f.d.FontSizeS,f.g.PadS,f.b.HoverLight),x=g.a.div.withConfig({displayName:"CategorySearchBox_SearchResults",componentId:"sc-exbusq"})(s||(s=Object(m.__makeTemplateObject)(["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  box-shadow: 0 0 6px rgba(0, 0, 0, 0.06), 0 6px 12px rgba(0, 0, 0, 0.12);\n  position: absolute;\n  top: ",";\n  width: 200px;\n  z-index: ",";\n"],["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  box-shadow: 0 0 6px rgba(0, 0, 0, 0.06), 0 6px 12px rgba(0, 0, 0, 0.12);\n  position: absolute;\n  top: ",";\n  width: 200px;\n  z-index: ",";\n"])),f.b.ContentBackground,f.b.KaggleBlack,f.g.BorderRadius,f.g.PadXl,f.i.Z100),C=g.a.span.withConfig({displayName:"CategorySearchBox_SearchResultName",componentId:"sc-1nye3mg"})(l||(l=Object(m.__makeTemplateObject)([""],[""]))),k=g.a.span.withConfig({displayName:"CategorySearchBox_SearchResultCount",componentId:"sc-1mo36m1"})(c||(c=Object(m.__makeTemplateObject)(["\n  color: ",";\n  font-weight: ",";\n  margin: 0 ",";\n"],["\n  color: ",";\n  font-weight: ",";\n  margin: 0 ",";\n"])),f.b.TextLight,f.d.FontWeightNormal,f.g.PadS),_=g.a.div.withConfig({displayName:"CategorySearchBox_SearchResult",componentId:"sc-qyp6eg"})(d||(d=Object(m.__makeTemplateObject)(["\n    ","\n    color: ",";\n    cursor: pointer;\n    font-size: ",";\n    font-weight: ",";\n    line-height: 20px;\n    padding: "," ",";\n"],["\n    ","\n    color: ",";\n    cursor: pointer;\n    font-size: ",";\n    font-weight: ",";\n    line-height: 20px;\n    padding: "," ",";\n"])),f.c.Inter,f.b.TextMedium,f.d.FontSizeS,f.d.FontWeightMedium,f.g.PadXs,f.g.PadS),S=g()(_).withConfig({displayName:"CategorySearchBox_SelectedSearchResult",componentId:"sc-xbdazt"})(u||(u=Object(m.__makeTemplateObject)(["\n  background-color: ",";\n"],["\n  background-color: ",";\n"])),f.b.HoverLight)}).call(this,n(0))},1892:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(3),i=n(8);const o=(t,n)=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const a=new FormData;return a.append("scriptVersionId",String(t)),a.append("fileName",n),yield e("/competitions/kernels/submit",{method:"POST",headers:new Headers({"X-XSRF-TOKEN":Object(i.getAntiForgeryToken)()}),body:a})}))}).call(this,n(98))},1893:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),i=n.n(a),o=n(1623),r=n(0);n(576),n(1420);const s=i()(o.a)`
  &&.mdc-dialog {
    z-index: 1000;
  }

  && .mdc-dialog__container {
    max-width: 100%;
    padding: 0 10px;
  }

  && .mdc-dialog__surface {
    /* When additional widths are added update this value */
    width: 720px;
    max-width: 100%;
  }
`,l=e=>{const{className:t,open:n,onOpen:i,onClose:o,width:l}=e;return r.createElement(a.ThemeProvider,{theme:Object.assign(Object.assign({},a.defaultTheme),{session:Object.assign(Object.assign({},a.defaultTheme.session),{themeName:"light"})})},r.createElement(s,{className:t,open:n,onOpen:i,onClose:o,width:l},e.children))}},1894:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(3);function i(e){var t,n;if(e&&e.length){var i={},o=e.replace(/\?/g,"").split("&");try{for(var r=Object(a.__values)(o),s=r.next();!s.done;s=r.next()){var l=s.value,c=Object(a.__read)(l.split("="),2),d=c[0],u=c[1];i[d]=u,i[d.toLowerCase()]=u}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return i}return{}}function o(e){return"?"+Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}},1895:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n(3),i=n(9),o=n(75),r=n(1453),s=n(1972),l=n(1607),c=n(213),d=n(1),u=n.n(d),m=n(0),p=n(174);const h=u.a.div`
  margin: ${e=>e.theme.material.spacing(2)};
  width: 100%;
  overflow-y: visible;

  .searchTextField {
    background-color: ${i.c};
    color: ${i.i};
    width: 100%;
  }

  .mdc-menu-surface {
    width: 100%;
    max-height: 400px;
  }
`,g=u()(o.a)`
  width: ${e=>e.width};
`;let f=0,b=0;const v=e=>{const[t,n]=m.useState(""),[i,o]=m.useState([]),[d,u]=m.useState(!1),v=m.useRef();m.useEffect(()=>{v.current=Object(p.a)(200,t=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){u(!0),o([]),f++;const n=f,a=yield e.loadOptions(t),i=e.shouldExcludeOption?a.filter(t=>{var n;return!(null===(n=e.shouldExcludeOption)||void 0===n?void 0:n.call(e,t))}):a;n>b&&(b=n,u(!1),o(i))})))},[e.shouldExcludeOption]);const y=m.useRef(null),w=e.optionRenderer||(e=>m.createElement("div",null,e));return m.createElement(h,null,m.createElement(r.a,{ref:y},m.createElement(s.a,{value:t,label:e.label,onChange:e=>{var t;n(e.target.value),null===(t=v.current)||void 0===t||t.call(v,e.target.value)},leadingIcon:"search",className:"searchTextField",disabled:!!e.disabled}),m.createElement(l.a,{open:!!t||d,onClose:()=>n(""),anchorCorner:"bottomLeft",hoistToBody:!0,style:{zIndex:1001}},m.createElement(g,{className:"fullWidthSelectBoxList",variant:"dense",width:y.current?y.current.getBoundingClientRect().width+"px":"initial"},d&&m.createElement(c.a,null,"Searching..."),!d&&i.map(t=>m.createElement(c.a,{key:t.id,onClick:()=>{e.onSelect(t),n("")}},w(t))),!d&&t&&0===i.length&&m.createElement(c.a,null,"No results found.")))))}},1896:function(e,t,n){"use strict";(function(e,a,i){n.d(t,"a",(function(){return f}));var o=n(3),r=n(0),s=n(1437),l=n(1419),c=n(1691),d=n(30),u=n(1659),m=n(1650),p=n(1788),h=n(1721),g=n(8),f=function(t){function n(n){var o=t.call(this,n)||this;return o.markdownConverter=e.getSanitizingConverter(),l.a.clear(),o.state={onAttachmentAdded:function(e,t,n){return o.addAttachment(e,t,n)},onAttachmentDeleted:function(e){return o.deleteAttachment(e)},applyQuote:null,dataLoaded:!1,editSubmitted:function(){return o.submitEdit()},editTitleDraftChanged:function(e){return o.changeEditTitleDraft(e)},markdownKey:0,onFeedbackTrackingClosed:function(){return o.setState({showFeedbackTracking:!1})},onFeedbackTrackingSubmit:function(e){g.discussionsClient.updateFeedbackTrackingData({messageId:o.state.comment.id,feedbackTrackingData:e}),o.setState(a.extend(!0,{},o.state,{comment:{feedbackTrackingData:e},showFeedbackTracking:!1}))},onFlagFormClosed:function(){return o.setState({showFlagForm:!1})},onFlagSubmit:function(e,t){g.discussionsClient.toggleFlagMessage({messageId:o.state.comment.id,scriptVersionId:null,datasetVersionId:null,reasonType:e,explanation:t}),o.setState(a.extend(!0,{},o.state,{comment:{isFlagged:!0},showFlagForm:!1}))},onConfirmedDelete:function(){i.Requests.deleteTopic({topicId:o.props.topicId}),o.setState({showDeleteConfirm:!1,isDeleted:!0})},onCanceledDelete:function(){o.setState({showDeleteConfirm:!1})},isNew:!1,newAttachments:[],submitTopLevelPostToServer:function(e,t,n,a){return o.submitTopLevelPostToServer(e,t,n,a)},showDeleteConfirm:!1,showEditForm:!1,showEditPreview:!1,showFeedbackTracking:!1,showFlagForm:!1,showOptions:!1,showUpvoters:!1,toggleEditPreview:function(){return o.setState({showEditPreview:!o.state.showEditPreview})},setTopLevelPostEditorMinimized:function(e){o.setState({topLevelPostEditorMinimized:e})},topLevelPostEditorMinimized:new URLSearchParams(location.search).get("replyTo")!==o.props.topicId.toString()},o}return Object(o.__extends)(n,t),n.prototype.UNSAFE_componentWillMount=function(){this.loadData(this.props.topicId)},n.prototype.UNSAFE_componentWillReceiveProps=function(e){e.topicId&&e.topicId!=this.props.topicId&&this.loadData(e.topicId)},n.prototype.render=function(){var e=this;return this.state.dataLoaded?r.createElement(p.a,Object(o.__assign)(Object(o.__assign)(Object(o.__assign)({},this.props),this.state),{comment:Object(o.__assign)(Object(o.__assign)({},this.state.comment),{leftOptions:this.leftOptions(),rightOptions:this.rightOptions(),titleOptions:this.titleOptions()}),markdownTopicRef:function(t){e.markdownTopicRef=t}})):r.createElement(c.a,{isLoading:!this.state.dataLoaded,text:"Loading Topic"})},n.prototype.addAttachment=function(e,t,n){var a=this.state.newAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({newAttachments:a})},n.prototype.changeEditDraft=function(e){this.setState({editDraft:e})},n.prototype.changeEditTitleDraft=function(e){this.setState({editTitleDraft:e})},n.prototype.deleteAttachment=function(e){var t=this,n=this.state.newAttachments.filter((function(t){return t.name==e}))[0],i=this.state.newAttachments.indexOf(n);if(-1!==i)return this.state.newAttachments.splice(i,1),void this.setState({newAttachments:this.state.newAttachments});n=this.state.comment.attachments.filter((function(t){return t.name==e}))[0],i=this.state.comment.attachments.indexOf(n),this.state.comment.attachments.splice(i,1),a.ajax("/forums/attachments/delete/"+n.id,{contentType:"application/json",type:"POST"}).done((function(){return t.setState({comment:a.extend(!0,{},t.state.comment,{attachments:t.state.comment.attachments})})}))},n.prototype.leftOptions=function(){var e=this,t=[{onClick:function(){return e.onQuoteClick()},text:"Quote"},{onClick:function(e){e.shiftKey||e.ctrlKey||e.metaKey||(e.preventDefault(),Object(h.a)(window.location.href.split("#")[0]),a("html, body").animate({scrollTop:0},200,"swing",(function(){return window.location.hash=""})))},text:"Permalink"}];this.state.canDelete&&t.push({onClick:function(){return e.setState({showDeleteConfirm:!0})},text:"Delete"}),d.a.isAnonymous||(this.state.canFollow&&t.push({onClick:function(){return i.Requests.subscribeTo({id:e.props.topicId,subscribe:e.state.isFollowed?"unsubscribe":"subscribeSingle",isImplicit:!1,type:"forumTopic"}).then((function(){return e.setState({isFollowed:!e.state.isFollowed})}))},text:this.state.isFollowed?"Unfollow":"Follow"}),this.state.comment.isFlagged?t.push({className:"topic__option--disabled",text:"Reported"}):t.push({onClick:function(){return e.setState({showFlagForm:!0})},text:"Report"}));var n=this.state.comment.upvoters.length;return n>0&&t.push({className:this.state.showUpvoters?"topic__option--selected":null,onClick:function(){return e.setState({showUpvoters:!e.state.showUpvoters})},text:r.createElement(u.a,{count:n,word:"Upvoter"})}),t},n.prototype.loadData=function(e){var t=this;a.ajax("/topics/"+e+".json").done((function(e){document.title=e.title+" | Kaggle",t.setState(a.extend(!0,{},t.state,e,{dataLoaded:!0,editDraft:e.comment.rawMarkdown||s(e.comment.content)}))}))},n.prototype.onQuoteClick=function(){this.setState({topLevelPostEditorMinimized:!1,applyQuote:{author:this.state.comment.author.displayName,content:this.state.comment.rawMarkdown||s(this.state.comment.content)}})},n.prototype.rightOptions=function(){var e=this,t=[];return d.a.isAdmin||this.props.isCompetitionHost?(d.a.isAdmin&&t.push({onClick:function(){return a.post("/forums/topics/"+e.props.topicId+"/spam").done((function(){return e.setState({isDeletedLegacy:!!e.state.isSpammed&&e.state.isDeletedLegacy,isSpammed:!e.state.isSpammed})}))},text:this.state.isSpammed?"Unspam":"Spam"},{onClick:function(){return a.post("/forums/topics/"+e.props.topicId+"/readonly/toggle").done((function(){return e.setState({isLocked:!e.state.isLocked})}))},text:this.state.isLocked?"Unlock":"Lock"},{onClick:function(){return a.post("/forums/topics/"+e.props.topicId+"/file-uploads/toggle").done((function(){return e.setState({allowAttachments:!e.state.allowAttachments})}))},text:this.state.allowAttachments?"Disable Attachments":"Enable Attachments"},{onClick:function(){e.setState({showFeedbackTracking:!0})},text:this.state.comment.feedbackTrackingData&&this.state.comment.feedbackTrackingData.buganizerId?"Bug "+this.state.comment.feedbackTrackingData.buganizerId:"No bug"}),t.splice(2,0,{onClick:function(){return a.ajax("/forums/topics/sticky/toggle?forumTopicId="+e.props.topicId,{contentType:"application/json",type:"POST"}).done((function(){return e.setState({isPinned:!e.state.isPinned})}))},text:this.state.isPinned?"Unpin":"Pin"}),t):t},n.prototype.submitEdit=function(){var e=this;if(this.state.editTitleDraft.length<3||this.state.editTitleDraft.length>255)l.a.error("Title must be between 3 and 255 characters (inclusive)");else{var t=this.markdownTopicRef;t||console.warn("MarkdownContainer not found. Please start using MarkdownContainer because MarkdownEditor will be deprecated.");var n=t?t.getValue():this.state.editDraft;l.a.clear(),a.ajax({data:{blobFileTokens:this.state.newAttachments.map((function(e){return e.blobToken})),message:this.markdownConverter.makeHtml(n),rawMarkdown:n,title:this.state.editTitleDraft},headers:Object(m.a)(),type:"PUT",url:"/messages/"+this.state.comment.id}).done((function(t){e.setState(a.extend(!0,{},e.state,{comment:{content:t,rawMarkdown:n},editDraft:n,showEditForm:!1,showEditPreview:!1,title:e.state.editTitleDraft,markdownKey:e.state.markdownKey+1}))})).fail((function(){l.a.clear(),l.a.error({dangerousHtmlMessage:'We had trouble saving your edit. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"})}))}},n.prototype.submitTopLevelPostToServer=function(e,t,n,i){l.a.clear(),a.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:t.map((function(e){return e.blobToken})),message:this.markdownConverter.makeHtml(e),rawMarkdown:e}),type:"POST",url:"/topics/"+this.state.id+"/replies"}).done((function(e){l.a.clear(),n(e)})).fail((function(){l.a.clear(),l.a.error({dangerousHtmlMessage:'We had trouble submitting your reply. Please try again or <a href="mailto: support@kaggle.com">contact support</a> if you continue experiencing issues.',type:"error"}),i()}))},n.prototype.titleOptions=function(){var e=this;if(d.a.isAnonymous)return[];var t=[];return(d.a.isAdmin||this.state.comment.isUserAuthor)&&t.push({className:this.state.showEditForm?"topic__author-option--selected":null,onClick:function(){return e.setState({editTitleDraft:e.state.title,showEditForm:!e.state.showEditForm,showEditPreview:!1})},text:"Edit"}),t.push({className:this.state.showOptions?"topic__author-option--selected":null,onClick:function(){return e.setState({showOptions:!e.state.showOptions})},text:"Options"}),t},n}(r.Component)}).call(this,n(288),n(129),n(286))},1897:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return c}));var i=n(3),o=n(0),r=n(30),s=n(1419),l=n(1788),c=function(t){function n(n){var a=t.call(this,n)||this;return a.markdownConverter=e.getSanitizingConverter(),r.a.isAnonymous&&(window.location.href="/account/login?returnUrl="+encodeURIComponent(window.location.pathname)+"&message="+encodeURIComponent("You need to login to post a new topic")),a.state={editDraft:"",editTitleDraft:"",isSubmittingEdit:!1,newAttachments:[],showEditPreview:!1},a}return Object(i.__extends)(n,t),n.prototype.render=function(){var e=this;return o.createElement(l.a,{allowAttachments:this.props.allowAttachments,onAttachmentAdded:function(t,n,a){return e.addAttachment(t,n,a)},onAttachmentDeleted:function(t){return e.deleteAttachment(t)},comment:{allowReplies:!1,attachments:[],authorType:this.props.authorType,author:{displayName:r.a.userDisplayName,thumbnailUrl:r.a.userThumbnailUrl,userUrl:r.a.userProfileUrl,tier:this.props.authorTier},competitionRanking:this.props.authorRanking,markdownKey:this.props.markdownKey,refactoredComment:null,onCancelEdit:null},editDraft:this.state.editDraft,editSubmitted:function(){return e.submitTopic()},editTitleDraft:this.state.editTitleDraft,editTitleDraftChanged:function(t){return e.changeEditTitleDraft(t)},isSubmittingEdit:this.state.isSubmittingEdit,isNew:!0,newAttachments:this.state.newAttachments,parentName:this.props.parentName,parentUrl:this.props.parentUrl,showEditForm:!0,showEditPreview:this.state.showEditPreview,toggleEditPreview:function(){return e.setState({showEditPreview:!e.state.showEditPreview})},markdownKey:this.props.markdownKey,markdownTopicRef:function(t){e.markdownTopicRef=t},setTopLevelPostEditorMinimized:function(e){},topLevelPostEditorMinimized:!1})},n.prototype.addAttachment=function(e,t,n){var a=this.state.newAttachments;a.push({name:e,totalBytes:n,blobToken:t}),this.setState({newAttachments:a})},n.prototype.changeEditDraft=function(e){this.setState({editDraft:e})},n.prototype.changeEditTitleDraft=function(e){this.setState({editTitleDraft:e})},n.prototype.deleteAttachment=function(e){var t=this.state.newAttachments.filter((function(t){return t.name==e}))[0],n=this.state.newAttachments.indexOf(t);this.state.newAttachments.splice(n,1),this.setState({newAttachments:this.state.newAttachments})},n.prototype.submitTopic=function(){var e=this;this.state.editTitleDraft.length<3||this.state.editTitleDraft.length>255?s.a.error("Title must be between 3 and 255 characters (inclusive)"):(s.a.clear(),this.setState({isSubmittingEdit:!0},(function(){var t=e.markdownTopicRef;t||console.warn("MarkdownContainer not found. Please start using MarkdownContainer because MarkdownEditor will be deprecated.");var n=t?t.getValue():e.state.editDraft;a.ajax({contentType:"application/json",data:JSON.stringify({blobFileTokens:e.state.newAttachments.map((function(e){return e.blobToken})),subject:e.state.editTitleDraft,content:e.markdownConverter.makeHtml(n),rawMarkdown:n}),type:"POST",url:"/forums/"+e.props.forumId+"/topics"}).done((function(t){e.setState({isSubmittingEdit:!1}),isNaN(t)?window.location.assign("/"):e.props.topicSubmitted(t)}))})))},n}(o.Component)}).call(this,n(288),n(129))},1898:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n(3),i=n(1413),o=n(0),r=n(577),s=n(1421),l=n(30),c=n(1646),d=n(1657),u=n(1656),m=n(1858),p=n(1419),h=n(1702),g=n(1647),f=n(22),b=function(t){function n(n){var h=t.call(this,n)||this;return h.renderItem=function(e,t,n){return o.createElement(r.a,{borderless:!0,className:f("topic-list-item",e.isSticky?"topic-list-item--sticky":null),href:e.topicUrl,key:e.topicUrl,onClick:function(a){n&&n("discussion-"+e.id,e.topicUrl,t+1,e.isPrivate),e.isKernel||a.shiftKey||a.ctrlKey||a.metaKey||(a.preventDefault(),h.props.onTopicClicked(e))},title:e.title},o.createElement(s.VoteButton,{canDownvote:e.userAvatar.id!=l.a.userId&&h.props.canDownvote,canUpvote:e.userAvatar.id!=l.a.userId,hasAlreadyVotedDown:-1===e.currentUserVote,hasAlreadyVotedUp:1===e.currentUserVote,totalVotes:e.votes,voteDownUrl:e.downvoteUrl,voteUpUrl:e.upvoteUrl,voteResumeUrl:e.voteResumeUrl,onVoteUpSuccess:g.a.upvoteForumTopicList,onVoteDownSuccess:g.a.downvoteForumTopicList}),o.createElement(c.b,{minWidth:c.a.desktopMin},o.createElement("div",{className:"topic-list-item__avatar"},o.createElement(d.a,Object(a.__assign)({},e.userAvatar,{hideTooltip:!0})))),o.createElement(c.b,{minWidth:c.a.desktopMin},e.isKernel?o.createElement("a",{className:"fa fa-bar-chart topic-list-item__kernel-link",href:e.kernelUrl,title:e.title,onClick:function(e){e.stopPropagation()}}):e.medal?o.createElement("img",{className:"topic-list-item__medal",src:("/static/images/medals/discussion/"+e.medal+"l@1x.png").toLowerCase(),title:e.medal}):o.createElement("span",{className:"topic-list-item__medal"})),o.createElement("div",{className:"topic-list-item__title",onClick:function(t){e.isKernel||t.shiftKey||t.ctrlKey||t.metaKey||(t.preventDefault(),h.props.onTopicClicked(e))}},o.createElement("span",{className:"topic-list-item__title-text"},e.title),o.createElement("div",{className:"topic-list-item__subtitle"},o.createElement("a",{className:"topic-list-item__link topic-list-item__link"+("host"==e.authorType?"--competition-host":"datasetCreator"==e.authorType?"--dataset-creator":"admin"==e.authorType?"--site-admin":"--topic-author"),href:e.userAvatar.userUrl,title:e.userAvatar.displayName,onClick:function(e){e.stopPropagation()}},e.userAvatar.displayName)," ",e.isKernel?"last run ":"",e.postDate?o.createElement(i.a,{condense:e.parentName&&e.parentUrl&&"/"!==e.parentUrl,time:e.postDate}):null,o.createElement(c.b,{minWidth:c.a.desktopMin},e.parentName&&e.parentUrl&&"/"!==e.parentUrl?o.createElement("span",null," ","in"," ",o.createElement("a",{className:"topic-list-item__link topic-list-item__link--forum-link",href:e.parentUrl,title:e.parentName,onClick:function(e){e.stopPropagation()}},e.parentName)):null))),o.createElement("div",{className:"topic-list-item__last-comment"},o.createElement("div",{className:"topic-list-item__last-comment-text"},"last comment",o.createElement(c.b,{minWidth:c.a.desktopMin},o.createElement("span",null," by"))),o.createElement(c.b,{minWidth:c.a.desktopMin},o.createElement("a",{className:"topic-list-item__link"+("host"==e.lastCommenterType?" topic-list-item__link--competition-host":"datasetCreator"==e.lastCommenterType?" topic-list-item__link--dataset-creator":"admin"==e.lastCommenterType?" topic-list-item__link--site-admin":"topic"==e.lastCommenterType?" topic-list-item__link--topic-author":"")+" topic-list-item__last-commenter",href:e.lastCommenterUrl,title:e.lastCommenterName,onClick:function(a){n&&n("discussion-"+e.id,e.lastCommenterUrl,t+1),a.stopPropagation()}},e.lastCommenterName," ")),o.createElement("div",{className:"topic-list-item__last-comment-time"},e.lastCommentPostDate?o.createElement(i.a,{condense:!0,time:e.lastCommentPostDate}):null)),o.createElement("div",{className:"topic-list-item__comment-count"+(e.hasAdminResponse?" topic-list-item__comment-count-admin-response":"")},o.createElement("span",{className:"fa fa-comment topic-list-item__comment-count-icon"}),e.commentCount))},h.onClickFollow=function(){return Object(a.__awaiter)(h,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return[4,e.Requests.subscribeTo({id:this.props.id,subscribe:this.state.isFollowing?"unsubscribe":"subscribeSingle",isImplicit:!1,type:"forum"})];case 1:return t.sent(),this.setState({isFollowing:!this.state.isFollowing}),[2]}}))}))},h.renderTitle=function(e,t){h.state.isSubscribed,h.state.isFollowing;return o.createElement("span",null,(t&&t.isLoadingMoreData?"Loading":t&&t.data&&t.data.totalRows?Object(u.b)(t.data.totalRows):e&&e.length?"Many":0)+("all"===t.values.kind?" topics and kernels":" topics"),h.props.id&&!l.a.isAnonymous?o.createElement("span",null,o.createElement(m.a,{initialSubscribeState:h.props.subscription,id:h.props.id,text:"forum",childText:"all topics",type:"forum"})):null)},p.a.clear(),h.state={isSubscribed:n.isSubscribed,isFollowing:n.isFollowing,totalRows:0},h}return Object(a.__extends)(n,t),n.prototype.render=function(){return o.createElement(h.a,{dataPathToList:"topics",dataUrl:this.props.dataUrl,filtersOptions:this.getFiltersOptions(),groups:l.a.isAnonymous?[]:n.groups,itemRenderer:this.renderItem,mobileSortUpperBound:c.a.tabletMax,pluralItemDescription:"topics",sortOptions:n.sortOptions,titleResolver:this.renderTitle,data:this.props.initialTopics,values:this.props.paramValues,searchIndex:"topics",searchableGroups:["all","owned"]})},n.prototype.getFiltersOptions=function(){var e=[];return this.props.isRootLevel&&e.unshift({default:"all",kind:"select",parameter:"category",options:[{label:"All Categories",value:"all"},{label:"Forums",value:"forums"},{label:"Competitions",value:"competitions"},{label:"Datasets",value:"datasets"}]}),e},n.groups=[{label:"All",value:"all"},{label:"Mine",value:"owned"},{separator:!0},{label:"Upvoted",value:"upvoted"}],n.sortOptions=[{label:"Hotness",value:"hot"},{label:"Recent Comments",value:"recent"},{label:"Recently Posted",value:"new"},{label:"Most Votes",value:"top"},{label:"Most Comments",value:"active"},{label:"Relevance",value:"relevance"}],n}(o.Component)}).call(this,n(286))},1902:function(e,t,n){"use strict";var a=n(383),i=n(1),o=n.n(i),r=n(385),s=n(0),l=n(1637),c=n(1743),d=n(1742),u=n(1744);var m=n(1723);var p=n(1608),h=n(1416),g=n(1689);const f=s.memo(e=>{const t=s.useContext(l.a),{parentItem:n,source:a,count:i,totalCount:o,isLoadingMore:r}=e,c=o-i;return s.createElement(g.d,{role:"button",onClick:()=>{t.dispatchAsync({type:"loadMoreChildren",item:n,source:a})}},s.createElement(g.f,{selected:!1}),s.createElement(g.a,{selected:!1},r?s.createElement(p.a,{size:g.c}):s.createElement(h.a,{icon:"more_horiz",size:g.c})),s.createElement(g.g,{tip:"Click here to load more items"},s.createElement(g.e,{selected:!1},c," more")))});var b=n(1684),v=n(384),y=n(1634),w=n(1851),E=n(1633),x=n(1452),C=n(1438),k=n(1453),_=n(8),S=n(1649);const O=o()(x.a)`
  background-color: ${e=>E.a[e.theme.name].background};
  width: 220px;

  * {
    ${Object(i.colorStyle)({light:null,dark:`${i.darkPalette.text[100]} !important`})};
  }

  && {
    ${Object(i.menuBackground)()};
  }

  > ul {
    ${Object(i.menuBackground)()};
  }
`,T=o.a.div`
  width: ${e=>e.theme.material.spacing(6)};
`,j=o()(h.a)`
  margin-right: ${e=>e.theme.material.spacing(4)};
  color: ${e=>E.a[e.theme.name].textHigh};
`,I=e=>s.createElement(C.a,{selected:!1,disabled:e.disabled},s.createElement(j,{icon:e.icon?e.icon:s.createElement(T,null)}),s.createElement(a.b,{emphasis:"medium"},e.text),e.children),N=s.memo(e=>{const t=s.useContext(l.a),n=[{icon:"open_in_new",text:"Open in new tab",callback:()=>{if("dataSource"===e.dataObject.type){const t=e.dataObject;Object(S.f)(t.sourceUrl,!0)}}},{icon:"delete",text:"Remove",callback:()=>{var n;const a=null===(n=null==t?void 0:t.externalCallbacks)||void 0===n?void 0:n.onRemoveDataSource;if(a&&"dataSource"===e.dataObject.type){a(e.dataObject)}}}];_.featureFlags.datasetsDataExplorerV3CheckForUpdates&&n.splice(1,0,{icon:"cached",text:"Check for updates",callback:()=>{var n;const a=null===(n=null==t?void 0:t.externalCallbacks)||void 0===n?void 0:n.onCheckDataSourceUpdates;if(a&&"dataSource"===e.dataObject.type){a(e.dataObject)}}});const a=[{icon:"cloud_download",text:"Download",callback:()=>{var n,a;"notebookOutput"===e.dataSource.sourceType&&"file"===e.dataObject.type&&(null===(n=t.externalCallbacks)||void 0===n?void 0:n.onDownloadOutputFile)?null===(a=t.externalCallbacks)||void 0===a||a.onDownloadOutputFile(e.dataObject):t.dispatchAsync({type:"downloadObject",item:e.dataObject,source:e.dataSource})}}],i="file"===e.dataObject.type?a:n;return s.createElement(k.a,null,s.createElement(O,{open:e.isOpen,onClose:e.onClose,onSelect:e=>{const t=i[e.detail.index];t.callback&&t.callback()},anchorCorner:"topRight",fixed:!1},i.map(e=>s.createElement(I,{key:e.text,icon:e.icon,text:e.text,disabled:e.disabled}))))}),D=o.a.div`
  display: flex;
`,$=o.a.div`
  display: flex;
  flex: 0 0 auto;
`,M=o.a.div`
  height: 16px;
  width: 16px;
  margin-left: ${e=>e.theme.material.spacing(2)};
  color: ${e=>E.a[e.theme.name].textLow};

  &:hover {
    color: ${e=>E.a[e.theme.name].textHigh};
  }
`,U=o.a.span`
  color: ${e=>E.a[e.theme.name].textHigh};
`,P=["databundle","databundleVersion","dataSource"],F=e=>{var t;const n=s.useContext(l.a),[a,i]=s.useState(!1),[o,r]=s.useState(!1);s.useEffect(()=>{o&&setTimeout(()=>r(!1),1e3)},[o]);const c="dataSource"===e.dataObject.type&&"utilityScript"===e.dataObject.sourceType,d="notebookOutput"===e.dataSource.sourceType&&"file"===e.dataObject.type,u=P.includes(e.dataObject.type)||d;return s.createElement(D,null,o&&s.createElement(U,null,"Copied"),s.createElement($,null,!c&&s.createElement(v.Tooltip,{tip:"Copy file path"},s.createElement(M,{role:"button",onClick:t=>{const n=Object(w.a)(e.dataObject,e.dataSource);Object(y.a)(n),r(!0),t.stopPropagation()}},s.createElement(h.a,{icon:"content_copy",size:g.c}))),u&&s.createElement(v.Tooltip,{tip:"More actions"},s.createElement(M,{role:"button",onClick:e=>{i(!0),e.stopPropagation()}},s.createElement(h.a,{icon:"more_vert",size:g.c})))),"directory"===e.dataObject.type&&"notebookOutput"===e.dataSource.sourceType&&"notebook"===n.reference.type&&n.reference.isEditor&&(null===(t=n.externalCallbacks)||void 0===t?void 0:t.onLoadOutputDirectory)&&s.createElement(v.Tooltip,{tip:"Refresh directory contents"},s.createElement(M,{role:"button",onClick:t=>{var a,i;(null===(a=n.externalCallbacks)||void 0===a?void 0:a.onLoadOutputDirectory)&&(null===(i=n.externalCallbacks)||void 0===i||i.onLoadOutputDirectory(e.dataObject)),t.stopPropagation()}},s.createElement(h.a,{icon:"sync",size:g.c}))),u&&s.createElement(N,{isOpen:a,dataObject:e.dataObject,dataSource:e.dataSource,onClose:()=>i(!1)}))},R=o.a.div`
  display: flex;
`,z=o()(g.i)`
  ${$} {
    display: none;
  }

  &:hover ${$}, &:focus ${$} {
    display: flex;
  }
`,L=o.a.div`
  display: flex;
  flex: 1 1 auto;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,A=o()(h.a)`
  color: ${e=>e.theme.colors.kaggle.red};
  margin-left: 4px;
  margin-top: 4px;
  vertical-align: text-bottom;
`,V=s.memo(e=>{const t=s.useContext(l.a),n=s.useContext(l.b),{item:a,source:i,selected:o,expanded:r,showNavIndentation:d,databundleVersionType:u,labelItemsBySlug:m,enableContextMenu:f,showRefreshAvailable:v}=e,{reference:y}=t,w=Object(c.a)(a),E="expanded"===r?s.createElement(h.a,{icon:"arrow_drop_down",size:g.c}):"loading"===r?s.createElement(p.a,{size:g.c}):s.createElement(h.a,{icon:"arrow_right",size:g.c}),x=Object(b.b)(a),C="notebook"!==y.type?Object(b.c)(u,"xxsmall",b.a):void 0,k=B(a,m);return s.createElement(z,{role:"button",selected:o,onClick:e=>{t.dispatch({type:"select",newItem:a,selectionContainer:n,updateUrl:!0}),e.stopPropagation()}},d&&s.createElement(g.f,{selected:o,onClick:e=>{t.dispatch({type:"expand",item:a,source:i}),e.stopPropagation()}},w&&E),s.createElement(g.a,{selected:o},x,C&&s.createElement(g.h,null,C)),s.createElement(L,null,s.createElement(g.g,{tip:a.name},s.createElement(g.e,{selected:o},k)),v&&s.createElement(A,{icon:"circle",size:"xxsmall",onClick:()=>{var n,a;(null===(n=t.externalCallbacks)||void 0===n?void 0:n.onCheckDataSourceUpdates)&&(null===(a=t.externalCallbacks)||void 0===a||a.onCheckDataSourceUpdates(e.source))}})),f&&s.createElement(R,null,s.createElement(F,{dataObject:a,dataSource:i})))}),B=(e,t)=>t&&"dataSource"===e.type?e.slug:e.name,K=o()(a.b)`
  margin-left: ${e=>e.theme.material.spacing(1)};
`.withComponent("span"),H=e=>s.createElement(g.i,{selected:!1},s.createElement(g.a,{selected:!1},s.createElement(h.a,{icon:e.icon,size:g.c})),s.createElement(g.e,{selected:!1},e.text,e.size&&s.createElement(K,{emphasis:"low"},"(",r(e.size),")")));n.d(t,"a",(function(){return Z}));const q=o.a.div``,W=o.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,G=o()(a.o)``,Q=o()(a.t)`
  margin-top: ${e=>e.theme.material.spacing(2)};
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
`,Y=o.a.ul`
  list-style-type: none;
  margin-right: ${e=>e.theme.material.spacing(1)};
  padding: 0;
`,X=o.a.ul`
  list-style-type: none;
  margin-left: ${e=>e.theme.material.spacing(g.b)};
  padding: 0;
`,J=o.a.ul``,Z=e=>{var t,n;const{hideHeader:a,hideSize:i,labelItemsBySlug:o,enableContextMenu:c,rootLabel:u,headerLabel:p}=e,h=s.useContext(l.a),g=s.useContext(l.b),{dataSources:f,expanded:b}=h,{selectedObject:v,selectedSource:y}=g,w=null===(n=null===(t=null==y?void 0:y.databundleVersion)||void 0===t?void 0:t.databundleVersionInfo)||void 0===n?void 0:n.databundleVersionType,E=((e,t)=>{const{reference:n,dataSources:a}=e,{selectedSource:i}=t;switch(n.type){case"dataset":case"competition":return i?Object(d.a)(i.databundleVersion).map(e=>({item:e,source:i})):[];case"notebook":return 1!==a.length||"notebookOutput"!==a[0].sourceType&&("utilityScript"!==a[0].sourceType||n.isEditor)?a.map(e=>({item:e,source:e})):Object(d.a)(a[0].databundleVersion).map(e=>({item:e,source:a[0]}))}})(h,g),x=((e,t)=>{const{reference:n,dataSources:a}=e,{selectedSource:i}=t;switch(n.type){case"dataset":case"competition":return i?Object(m.a)(i.databundleVersion):0;case"notebook":return a.length}})(h,g),C=!y||"dataset"!==h.reference.type&&"competition"!==h.reference.type?void 0:{item:y,source:y},k=(e=>{const{dataSources:t}=e;return t.map(e=>{var t,n;return(null===(n=null===(t=e.databundleVersion)||void 0===t?void 0:t.filesetInfo)||void 0===n?void 0:n.totalSize)||0}).reduce((e,t)=>e+t,0)})(h),_=k>0&&!(!0===i),S=1===f.length&&("utilityScript"===f[0].sourceType||"notebook"===h.reference.type&&h.reference.isEditor&&"notebookOutput"===f[0].sourceType);return s.createElement(q,null,!a&&s.createElement(W,null,s.createElement(G,null,p||"Data Explorer"),_&&s.createElement(Q,{emphasis:"low"},r(k))),u&&s.createElement(H,{icon:"folder",text:u,size:a&&_?k:void 0}),ee(E,x,b,v,!0,S,Boolean(o),Boolean(c),C,w))},ee=(e,t,n,a,i,o,r,l,p,h)=>{const g=e.some(e=>Object(c.a)(e.item)),b=e.map(e=>{var t;const c=void 0!==a&&a.path===e.item.path,p=Object(u.a)(e.item,n),f="expanded"===p||"loadingMore"===p,b=f?Object(d.a)(e.item).map(t=>({item:t,source:Object.assign(Object.assign({},e.source),{refreshAvailable:void 0})})):void 0,v=f?Object(m.a)(e.item):0;return s.createElement(J,{key:e.item.path},s.createElement(V,{item:e.item,source:e.source,selected:c,expanded:p,showNavIndentation:g||!i||o,databundleVersionType:h,labelItemsBySlug:r,enableContextMenu:l,showRefreshAvailable:null!==(t=e.source.refreshAvailable)&&void 0!==t&&t}),b&&ee(b,v,n,a,!1,!1,r,l,e,h))}),v=!!p&&"loadingMore"===Object(u.a)(p.item,n),y=p&&e.length<t?[...b,s.createElement(f,{key:"more",count:e.length,totalCount:t,parentItem:p.item,source:p.source,isLoadingMore:v})]:b;return i?s.createElement(Y,null,y):s.createElement(X,null,y)}},1903:function(e,t,n){"use strict";var a=n(3),i=n(8),o=n(0),r=n(174),s=n(1770),l=n(1720),c=n(1813),d=n(1638),u=n(1690),m=n(1783),p=n(1784),h=n(1645),g=n(1698),f=n(384),b=n(1416),v=n(1),y=n.n(v);const w=y.a.button`
  padding: 8px 8px;
  border: none;
  border-radius: ${e=>e.theme.size.border.radius.button};
  background-color: ${e=>e.theme.colors.content.borderLight};
  font-size: 14px;
  color: ${e=>e.theme.colors.kaggle.gray};
  cursor: ${e=>e.disabled?"default":"pointer"};
  margin-right: 10px;

  &:hover {
    color: ${e=>e.disabled?e.theme.colors.kaggle.gray:e.theme.colors.kaggle.black};
  }
`;function E({isDisabled:e,onClick:t}){return o.createElement(w,{disabled:e,onClick:t,"data-testid":"back-button"},o.createElement(b.a,{icon:"arrow_back",size:"inline"}))}var x=n(1781),C=n(1782),k=n(1632),_=n(1815),S=n(1814),O=n(1780),T=n(1740);const j=y.a.div`
  padding: ${e=>e.theme.size.pad.m};
`,I=y.a.input`
  border: 1px solid
    ${e=>e.hasError?e.theme.colors.kaggle.redDark:e.theme.colors.content.border};
  border-radius: ${e=>e.theme.size.border.radius.input};
  padding: ${e=>e.theme.size.pad.s};
  margin: 0 0 ${e=>e.theme.size.pad.s} 0;
  color: ${e=>e.theme.colors.text.medium};
  width: 93%;
  ${e=>e.theme.font.main.size.xl};
  ${e=>e.theme.font.main.weight.normal};

  &:focus {
    outline: none;
  }

  &::placeholder {
    color: ${e=>e.theme.colors.text.light};
  }
`,N=y.a.div`
  display: flex;
  align-items: center;
`,D=y.a.span`
  color: ${e=>e.hasError?e.theme.colors.kaggle.redDark:e.theme.colors.kaggle.gray};
  ${e=>e.theme.font.main.size.l};
  line-height: 1;
  border: 1px solid transparent;
`,$=y.a.input`
  padding: 0;
  color: ${e=>e.hasError?e.theme.colors.kaggle.redDark:e.theme.colors.kaggle.gray};
  ${e=>e.theme.font.main.size.l};
  border-radius: ${e=>e.theme.size.border.radius.input};
  border: 1px solid transparent;
  margin-left: -2px;
  margin-top: -1px;
  flex: 1 1 auto;

  &:focus {
    outline: none;
  }

  &:hover {
    border: 1px solid
      ${e=>e.hasError?e.theme.colors.kaggle.redDark:e.theme.colors.content.border};
  }
`;function M(e){const t=o.useContext(k.a),{title:n,slug:a,ownerSlug:i,onTitleChange:r,onSlugChange:s}=e;return o.createElement(j,null,o.createElement(I,{disabled:t,hasError:n.hasError,value:n.text,placeholder:"Enter Dataset Title",onChange:e=>r(e.currentTarget.value)}),o.createElement(N,null,o.createElement(D,{hasError:a.hasError},"www.kaggle.com/",i,"/"),o.createElement($,{disabled:t,hasError:a.hasError,value:a.text,onChange:e=>s(e.currentTarget.value)})))}var U=n(1846),P=n(1809),F=n(1806),R=n(1805),z=n(1807);function L(e){const t=o.useContext(k.a),{renderProp:n,selectedTab:a,settings:i,config:r,onLicenseIdChange:s,onOwnerChange:c,onPrivacyChange:u,onFlagsChange:m}=e,{container:p,onUpdate:h}=n,{owner:f,licenseId:b,isPrivate:v,flags:y}=i,{allowedOwners:w,limits:E,licenseGroups:x}=r;if("uploadContainer"===a&&Object(d.p)(p))return o.createElement(R.a,{container:p,onUpdate:h});if("kernelOutputContainer"===a&&Object(d.g)(p))return o.createElement(F.a,{isDisabled:t,container:p,allowBackToSearch:!0,onUpdate:h});if("remoteUrlUploadContainer"===a&&Object(d.l)(p))return o.createElement(z.a,{isDisabled:t,container:p,onUpdate:h});if("githubContainer"===a&&Object(d.a)(p))return o.createElement(P.a,{container:p,onUpdate:h});if("adminFlags"===a)return o.createElement(l.a,{flags:y,onFlagsChange:m});if("settings"===a){const{totalBytes:e,prevUsedBytes:n}=Object(T.f)(E,v),a=n+Object(g.a)(p);return o.createElement(U.a,{isDisabled:t,allowedOwners:w,licenseGroups:x,limits:{totalBytes:e,usedBytes:a},isPrivate:v,licenseId:b,owner:f,onLicenseIdChange:s,onOwnerChange:c,onPrivacyChange:u})}return o.createElement("div",null,"Invalid state")}var A=n(1697);const V=o.memo(e=>{const{confirmModalType:t,onCloseRequest:n,onCreate:a,onDisableConfirmClose:i,onDisableConfirmCreate:r}=e;return"closeRequest"===t.type?o.createElement(A.a,{description:"If you close this dialog, all your work in this window will be lost. Do you want to continue?",confirmText:"Confirm",cancelText:"Back",onAction:e=>{"confirm"===e?n():i()}}):"publicUpload"===t.type?o.createElement(A.a,{description:o.createElement("div",null,o.createElement("div",null,"Ready To Go Public?"),o.createElement("br",null),o.createElement("div",null,"Public datasets enjoy the engagement from the entire Kaggle community. They cannot be changed back to private, but may be deleted. Hit the Back button and toggle to private if you are not ready yet.")),confirmText:"Create",cancelText:"Back",onAction:e=>{"confirm"===e?a(t.createType):r()}}):o.createElement(o.Fragment,null)});function B(e){const{isOpen:t,creation:n,onCloseRequest:a,onBackClicked:i}=e;return o.createElement(k.a.Provider,{value:n.isLoading},o.createElement(f.Modal,{size:"l",isOpen:t,onCloseRequest:a},i&&K(e),o.createElement(O.h,null,!i&&o.createElement(O.a,{isDisabled:e.creation.isLoading,onClose:e.onCloseRequest}),H(e))))}const K=e=>o.createElement(O.e,null,e.onBackClicked&&o.createElement(E,{onClick:e.onBackClicked}),o.createElement(O.f,null,"Create a New Dataset"),o.createElement(O.c,{isDisabled:e.creation.isLoading,onClose:e.onCloseRequest})),H=e=>{const{renderProp:t,defaultTabs:n,selectedTab:a,settings:i,config:r,creation:s,confirmModalType:l,onCloseRequest:c,onCreate:d,onDisableConfirmClose:u,onDisableConfirmCreate:m,onTabSelect:p,onSlugChange:h,onTitleChange:g,onLicenseIdChange:f,onOwnerChange:b,onPrivacyChange:v,onFlagsChange:y}=e;if("error"===r)return o.createElement(x.a,null);if("loading"===r)return o.createElement(C.a,null);const{container:w,isContainerUploadable:E,isContainerDirty:k,doesContainerContainDuplicates:T,doesContainerHaveErrors:j,inflightUploadMessage:I}=t,{title:N,slug:D,owner:$,isPrivate:U}=i,{limits:P}=r,F=W(w,P,U),R=!Y(N.value)&&!X(D.value)&&E&&!F&&!s.isLoading,z=G(N,k),A=Q(D,k),B=z||(A||(F||(j?"You must resolve errors before creating your dataset":s.errorMessage))),K=()=>B?{type:"error",str:B}:I,H=n.map(e=>Object.assign(Object.assign({},e),{isDisabled:q(s.isLoading,e.key,w,k)}));return l?o.createElement(V,{confirmModalType:l,onCloseRequest:c,onCreate:e=>{d(w,e)},onDisableConfirmClose:u,onDisableConfirmCreate:m}):o.createElement(o.Fragment,null,o.createElement(_.a,{tabs:H,selectedTab:a,onTabSelect:e=>p(e)}),o.createElement(O.b,null,o.createElement(O.d,null,o.createElement(M,{title:{text:N.value,hasError:!!z},slug:{text:D.value,hasError:!!A},ownerSlug:$.slug,onSlugChange:h,onTitleChange:g})),o.createElement(O.g,null,o.createElement(L,{renderProp:t,selectedTab:a,settings:i,config:r,onLicenseIdChange:f,onOwnerChange:b,onPrivacyChange:e=>v(e,"settings"),onFlagsChange:y})),o.createElement(S.a,{isPrivate:U,privacyTip:`Toggle to change to ${U?"public":"private"}`,statusMessage:K(),canCreate:R,isLoading:s.isLoading,createText:T?"Skip duplicates":"Create",duplicateText:T?"Include duplicates":void 0,onCreate:e=>d(w,e),onPrivacyChange:e=>v(e,"status")})))},q=(e,t,n,a)=>e||"settings"!==t&&"adminFlags"!==t&&n.type!==t&&a,W=(e,t,n)=>{const a=Object(T.e)(t,n,e);if("success"!==a.status)return a.message},G=(e,t)=>{const{value:n,wasEdited:a}=e;if(a||t)return Y(n)},Q=(e,t)=>{const{value:n,wasEdited:a}=e;if(a||t)return X(n)},Y=e=>0===e.trim().length?"Please enter a title for your dataset.":e.trim().length<T.d||e.trim().length>T.b?`The title must be between ${T.d} and ${T.b} characters in length.`:void 0,X=e=>0===e.trim().length?"Please enter a URL for your dataset.":e.trim().length<T.c||e.trim().length>T.a?`The URL must be between ${T.c} and ${T.a} characters in length.`:void 0;n.d(t,"a",(function(){return Z}));const J={type:"uploadContainer",files:[],directories:[],existingFiles:[],existingDirectories:[]};let Z=(()=>{class e extends o.Component{constructor(){super(...arguments),this.state={selectedTab:this.props.defaultContainer?this.props.defaultContainer.type:"uploadContainer",settings:{title:{value:"",wasEdited:!1},slug:{value:"",wasEdited:!1},owner:this.props.defaultOwner?this.props.defaultOwner:{isOrganization:!1,id:this.props.user.id,imageUrl:this.props.user.imageUrl,name:this.props.user.name,slug:this.props.user.slug},isPrivate:!0!==this.props.isPublicByDefault,licenseId:s.a,flags:l.b},isConfirmingCloseRequest:!1,isConfirmingPublicUpload:{value:!1},config:"loading",creation:{isLoading:!1},lastPrivacyChangeMechanism:""},this.loadConfig=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{datasetsClient:e}=this.context.clients;try{const t=yield e.getDatasetUploaderConfig({currentDatasetVersionId:null,ownerOrganizationId:null});this.setState({config:{allowedOwners:t.allowedOwners,limits:t.limits,licenseGroups:t.licenseGroups}})}catch(e){this.setState({config:"error"})}})),this.renderContents=e=>{const{isOpen:t,user:n,onBackClicked:a}=this.props,{selectedTab:i,config:r,settings:s,creation:l,isConfirmingCloseRequest:c,isConfirmingPublicUpload:d}=this.state;return o.createElement(B,{isOpen:t,confirmModalType:c?{type:"closeRequest"}:d.value&&!l.isLoading?{type:"publicUpload",createType:d.createType}:void 0,renderProp:e,defaultTabs:Object(m.b)(n),selectedTab:i,settings:s,config:r,creation:l,onBackClicked:a,onCloseRequest:()=>this.onCloseRequest(e),onCreate:this.onCreate,onDisableConfirmClose:()=>this.setState({isConfirmingCloseRequest:!1}),onDisableConfirmCreate:()=>this.setState({isConfirmingPublicUpload:{value:!1}}),onTabSelect:this.onTabSelect(e),onTitleChange:this.onTitleChange,onSlugChange:this.onSlugChange,onLicenseIdChange:this.onLicenseIdChange,onOwnerChange:this.onOwnerChange,onPrivacyChange:this.onPrivacyChange,onFlagsChange:this.onFlagsChange})},this.onCloseRequest=e=>{const{onCloseRequest:t}=this.props,{isConfirmingCloseRequest:n,creation:a}=this.state;a.isLoading||(n||e.isContainerClosable?t():this.setState({isConfirmingCloseRequest:!0}))},this.onLicenseIdChange=e=>{this.setState(t=>{const{settings:n}=t;return{settings:Object.assign(Object.assign({},n),{licenseId:e})}})},this.onOwnerChange=e=>{this.setState(t=>{const{settings:n}=t;return{settings:Object.assign(Object.assign({},n),{owner:e})}},this.loadNewLimitsForOwner)},this.onFlagsChange=e=>{const{settings:t}=this.state;this.setState({settings:Object.assign(Object.assign({},t),{flags:e})})},this.loadNewLimitsForOwner=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{id:e}=this.props.user,{owner:t}=this.state.settings,n=t.isOrganization?e:t.id,a=t.isOrganization?t.id:null;try{const{datasetsClient:e}=this.context.clients,t=yield e.getDatasetLimits({userId:n,organizationId:a,excludeDatasetVersionId:null});this.setState(e=>{const{settings:n}=e;return{settings:Object.assign(Object.assign({},n),{limits:t})}})}catch(e){}})),this.onPrivacyChange=(e,t)=>{const{legacyClients:n}=this.context,{analyticsClient:a}=n;Object(u.d)(a,e,t),this.setState(n=>{const{settings:a}=n;return{settings:Object.assign(Object.assign({},a),{isPrivate:e}),lastPrivacyChangeMechanism:t}})},this.onTitleChange=e=>{this.setState(t=>{const{settings:n}=t,{slug:a}=n,i=a.wasEdited?a.value:ee(e);return{settings:Object.assign(Object.assign({},n),{title:{value:e,wasEdited:!0},slug:Object.assign(Object.assign({},n.slug),{value:i})})}})},this.onSlugChange=e=>{this.setState(t=>({settings:Object.assign(Object.assign({},t.settings),{slug:{value:e,wasEdited:!0}})}))},this.onTabSelect=e=>t=>{const{container:n,onUpdate:a}=e,{selectedTab:i}=this.state;this.setState({selectedTab:t}),("settings"!==i&&"adminFlags"!==i||n.type!==t)&&("githubContainer"!==t||Object(d.a)(n)?"remoteUrlUploadContainer"!==t||Object(d.l)(n)?"uploadContainer"!==t||Object(d.p)(n)?"kernelOutputContainer"!==t||Object(d.g)(n)||a("kernelOutputContainer","reset",void 0):a("uploadContainer","reset",void 0):a("remoteUrlUploadContainer","reset",void 0):a("githubContainer","reset",void 0))},this.onCreate=(e,t)=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{showPublicCreationWarning:n}=this.props,{settings:a,isConfirmingPublicUpload:i,creation:o}=this.state,{isPrivate:r}=a;if(o.isLoading)return;const s="create"===t?ne(e):e;if("create"!==t||"uploadContainer"!==s.type||0!==Object(h.b)(s,()=>!0)){if(!r&&n){const{legacyClients:e}=this.context,{analyticsClient:t}=e;Object(u.e)(t,i.value)}r||!n||i.value?this.setState({creation:{isLoading:!0},isConfirmingPublicUpload:{value:!1}},()=>this.onCreateRequest(s,t)):this.setState({isConfirmingPublicUpload:{value:!0,createType:t}})}else this.onCreationError("Please specify at least one non-duplicate file.")})),this.onCreateRequest=Object(r.a)(1e3,!0,(e,t)=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{referrer:n,user:a,taskId:i,showPublicCreationWarning:o}=this.props,{lastPrivacyChangeMechanism:r,settings:s}=this.state,{title:l,slug:c,isPrivate:d,licenseId:m,owner:h,flags:g}=s,f=Object(p.b)(e,{title:l.value,slug:c.value,isPrivate:d,licenseId:m,owner:h,referrer:n,flags:a.isAdmin?g:null,taskId:i}),{legacyClients:b,clients:v}=this.context,{analyticsClient:y}=b,w="uploadContainer"===e.type&&(e.directories.length>0||e.existingDirectories.length>0);Object(u.a)(y,"dataset",t,w,r,void 0!==o&&o,f);try{const{datasetsClient:t}=v,n=yield t.createDatasetRequestV2(f);if("ok"===n.status){const{onCreateSuccess:t}=this.props;t(te(n,e))}else this.onCreationError(n.errorMessage?n.errorMessage:"An internal error occurred.")}catch(e){if("string"==typeof e.message)this.onCreationError(e.message);else{if("string"!=typeof e)throw e;this.onCreationError(e)}}}))),this.onCreationError=e=>{this.setState({creation:{errorMessage:e,isLoading:!1}})}}componentDidMount(){const{isOpen:e}=this.props;e&&this.loadConfig()}render(){const{defaultContainer:e}=this.props,t=e||J;return o.createElement(c.a,{defaultContainer:t},this.renderContents)}}return e.contextType=i.ClientsContext,e})();const ee=e=>{const t=e.toLowerCase().trim().replace(/[^\w ]+/g,"").replace(/[_ ]+/g,"-");return t.endsWith("-")?t.substring(0,t.length-1):t},te=(e,t)=>{if("ok"===e.status){const{url:n,datasetVersionReference:a,databundleVersionReference:i}=e,{databundleVersionId:o}=i,{datasetVersionId:r}=a;return{url:n,databundleSize:Object(g.a)(t),databundleVersionId:o,versionId:r}}throw new Error("Failed to create dataset")},ne=e=>{if(Object(d.p)(e)){const{files:t,directories:n}=e;return Object.assign(Object.assign({},e),{files:t.filter(e=>"duplicate"!==e.state.type),directories:n.map(e=>ae(e))})}return e},ae=e=>{const{files:t,directories:n}=e;return Object.assign(Object.assign({},e),{files:t.filter(e=>"duplicate"!==e.state.type),directories:n.map(e=>ae(e))})}},1904:function(e,t,n){"use strict";var a=n(1468),i=n(1416),o=n(384),r=n(1),s=n.n(r),l=n(1613),c=n(0),d=n(1637),u=n(1633),m=n(1649),p=n(1652),h=n(383),g=n(287),f=n(1634),b=n(1745),v=n(1684),y=n(1689);const w=s.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,E=s.a.div`
  display: flex;
  margin: ${e=>e.theme.material.spacing(1)} 0;
  cursor: ${e=>e.onClick?"pointer":"initial"};
`,x=s()(h.b)`
  flex: 0 0 auto;
  color: ${e=>u.a[e.theme.name].text};
`,C=s()(h.b)`
  flex: 1 1 auto;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  color: ${e=>u.a[e.theme.name].text};
  margin-left: ${e=>e.theme.material.spacing(2)};
`,k=s()(h.b)`
  flex: 1 1 auto;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  font-weight: ${e=>e.theme.material.typography.fontWeight.medium};
`,_=s()(i.a)`
  flex: 0 0 auto;
`,S=e=>{const t=c.useContext(r.ThemeContext),{title:n,totalCount:a,titleIcon:i,items:o}=e;if(0===o.length)return null;const[s,l]=c.useState(!0),d=c.createElement(_,{size:"xsmall",icon:s?"arrow_right":"arrow_drop_down",color:u.a[t.name].text}),m=o.length>3?o.slice(0,3):o,p=o.length>m.length?a-m.reduce((e,t)=>e+t.count,0):void 0;return c.createElement(w,null,c.createElement(E,{key:"title",onClick:()=>l(!s)},c.createElement(y.f,{selected:!1},d),c.createElement(y.a,{selected:!1},i),c.createElement(k,{emphasis:"low"},n)),!s&&c.createElement(c.Fragment,null,m.map((e,t)=>c.createElement(E,{key:`summary-item-${t}`},c.createElement(y.f,{selected:!1}),c.createElement(y.a,{selected:!1},e.icon),c.createElement(C,{key:e.label},e.label),c.createElement(x,null,Object(f.l)(e.count)))),p&&c.createElement(E,null,c.createElement(y.f,{selected:!1}),c.createElement(y.a,{selected:!1}),c.createElement(C,{key:"other"},"Other"),c.createElement(x,null,Object(f.l)(p)))))},O=s()(h.o)`
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`,T=e=>{const{databundleVersion:{fileSummaryInfo:t,columnSummaryInfo:n}}=e;return c.createElement(c.Fragment,null,c.createElement(O,null,"Summary"),t&&t.fileTypes.length>0&&c.createElement(S,{title:`${Object(f.l)(t.totalFileCount)} ${g("file",t.totalFileCount)}`,totalCount:t.totalFileCount,titleIcon:c.createElement(i.a,{icon:"folder",size:"xsmall"}),items:t.fileTypes.map(e=>({count:e.fileCount,label:e.extension,icon:Object(v.e)(e.extension,"xsmall")}))}),n&&n.columnTypes.length>0&&c.createElement(S,{title:`${Object(f.l)(n.totalColumnCount)} ${g("column",n.totalColumnCount)}`,totalCount:n.totalColumnCount,titleIcon:c.createElement(i.a,{icon:"calendar_view_week",size:"xsmall"}),items:n.columnTypes.map(e=>({count:e.columnCount,label:e.columnType||"unknown",icon:c.createElement(i.a,{icon:Object(b.a)(j(e.columnType)),size:"xsmall"})}))}))},j=e=>{if(!e)return{columnType:"unknown",columnExtendedType:null};const t=e.toLowerCase();return{columnExtendedType:t,columnType:t||"unknown"}};var I=n(1902);n.d(t,"g",(function(){return N})),n.d(t,"f",(function(){return D})),n.d(t,"e",(function(){return $})),n.d(t,"a",(function(){return M})),n.d(t,"c",(function(){return U})),n.d(t,"b",(function(){return F})),n.d(t,"d",(function(){return R}));const N=(e,t)=>e?"0px":t?"326px":"226px",D=s.a.div`
  display: flex;
  flex-direction: column;
  max-height: ${e=>Object(p.b)(e.mobile,e.maximized)};
  margin: 0 ${e=>e.left?e.theme.material.spacing(4):e.theme.material.spacing(2)} 0
    ${e=>e.collapsed||e.left?"0":e.theme.material.spacing(4)};
  width: ${e=>N(e.collapsed,e.maximized)};
  min-width: ${e=>N(e.collapsed,e.maximized)};
  max-width: ${e=>N(e.collapsed,e.maximized)};
  background-color: ${e=>u.a[e.theme.name].background};
  box-sizing: border-box;
  transition: width 0.2s;

  ${e=>e.mobile&&`\n    position: relative;\n    transition: transform 0.2s;\n    margin: 0;\n    z-index: ${e.theme.zindex[100]};\n    border-radius: 0;\n    border-left: 1px solid ${u.a[e.theme.name].border};\n    border-right: 1px solid ${u.a[e.theme.name].border};\n  `}
  ${e=>e.mobile&&!e.collapsed&&`\n    transform: translateX(calc(-100% - 1px));\n    padding: ${e.theme.material.spacing(4)};\n    box-shadow: -3px 0 5px ${u.a[e.theme.name].shadow};\n  `}
  ${e=>e.mobile&&e.collapsed&&"\n    transform: translateX(0%);\n    padding: 0;\n  "}
`,$=s.a.div`
  flex: 1 1 auto;
  border-bottom: 1px solid ${e=>u.a[e.theme.name].border};
  max-height: fit-content;
  min-height: ${"48px"};
  overflow-x: hidden;
  overflow-y: auto;
  padding-bottom: ${e=>e.theme.material.spacing(6)};
  position: relative;

  ${e=>Object(p.a)(e)}
`,M=s()(a.a)`
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`,U=s.a.div`
  position: absolute;
  top: ${e=>e.theme.material.spacing(4)};
  right: ${e=>e.theme.material.spacing(4)};
  cursor: pointer;
`,P=s.a.div`
  flex: 0 0 auto;
  border-bottom: 1px solid ${e=>u.a[e.theme.name].border};
  padding-top: ${e=>e.theme.material.spacing(6)};
  padding-bottom: ${e=>e.theme.material.spacing(2)};
`,F=s.a.div`
  flex: 0 0 auto;
  padding-top: ${e=>e.theme.material.spacing(6)};
  padding-bottom: ${e=>e.theme.material.spacing(6)};
`,R=e=>{var t,n,a,s,p;const h=c.useContext(d.a),g=c.useContext(d.b),f=c.useContext(r.ThemeContext),b=Object(l.a)(r.BreakpointDown.XS),{reference:v,dataSources:y,uxSettings:w,externalCallbacks:E,dispatch:x}=h,{selectedSource:C}=g,{maximized:k,treeCollapsed:_}=w,{treeOnLeft:S}=e,O=null===(n=null===(t=null==C?void 0:C.databundleVersion)||void 0===t?void 0:t.databundleVersionInfo)||void 0===n?void 0:n.databundleVersionType,j=void 0!==(null===(s=null===(a=null==C?void 0:C.databundleVersion)||void 0===a?void 0:a.fileSummaryInfo)||void 0===s?void 0:s.fileTypes)||void 0!==(null===(p=null==C?void 0:C.databundleVersion)||void 0===p?void 0:p.columnSummaryInfo),N=void 0!==(null==E?void 0:E.onDownloadAll),R=(null==E?void 0:E.onCreateVersion)&&("competition"===v.type||"dataset"===v.type),z=R&&(null==E?void 0:E.onUpdateVersion)&&("remoteGitRepositoryFileSet"===O||"remoteUrlFileSet"===O),L=N||R||z;return Object(m.i)("Escape",()=>{k&&x({type:"maximize",maximized:!1})}),c.createElement(D,{collapsed:_,maximized:k,mobile:b,left:S},!_&&c.createElement(c.Fragment,null,c.createElement($,null,c.createElement(I.a,null)),b&&c.createElement(U,null,c.createElement(o.Tooltip,{tip:_?"Show tree":"Hide tree"},c.createElement(i.a,{icon:_?"chevron_left":"chevron_right",size:"xsmall",color:u.a[f.name].text70,onClick:()=>x({type:"collapseTree",collapsed:!_})}))),j&&("competition"===v.type||"dataset"===v.type)&&1===y.length&&(null==C?void 0:C.databundleVersion)&&c.createElement(P,null,c.createElement(T,{databundleVersion:C.databundleVersion})),L&&c.createElement(F,null,N&&c.createElement(M,{useKM:!0,leadingIcon:"get_app",onClick:null==E?void 0:E.onDownloadAll},"Download All"),R&&c.createElement(M,{useKM:!0,emphasis:"medium",leadingIcon:"add",onClick:null==E?void 0:E.onCreateVersion},"New Version"),z&&c.createElement(M,{useKM:!0,emphasis:"medium",leadingIcon:"refresh",onClick:null==E?void 0:E.onUpdateVersion},"Update"))))}},1906:function(e,t,n){"use strict";var a=n(1416),i=n(1452),o=n(1438),r=n(383),s=n(1453),l=n(1468),c=n(8),d=n(1),u=n.n(d),m=n(0),p=n(1429),h=n(174),g=n(1785),f=n(1679);const b=["👍","👎","👊","✊","🤛","🤜","✋","🤝","🤘","💪","👌","👐","👇","👈","👉","☝️","🙏","🙌","✌️","🖖","👋","💯","✔️","❌","🎉","💥","🔥","✨","👀","🎶","☀️","💕","💔","❤️","🖤","💙","💚","💜","💛","😄","😃","😏","😧","😲","😊","😑","🤕","🤒","😨","😳","😦","☹️","😬","😁","😀","😍","😯","😂","😆","🤥","😷","🤓","😐","😮","😔","😣","😌","🙄","😴","😪","🙁","🙂","😈","😭","😛","😜","😎","😓","😅","🤔","😫","😤","😒","😩","😉","😟","😋","🤐","🤠","🐱","😿","😻","😹","😾","🙀","😸","😼","🙉","🙈","🙊"],v=16,y=160,w=u.a.div`
  display: inline-flex;
`,E=u.a.div`
  display: flex;
  overflow: hidden;
  width: ${y}px;
  margin: ${e=>e.theme.material.spacing(0,2)};
`,x=u.a.div`
  display: flex;
  flex-shrink: 0;
  will-change: transform;
  transition: transform 120ms cubic-bezier(0.4, 0, 0.2, 1);
  transform: ${e=>`translateX(-${e.offset}px)`};
`,C=u.a.div`
  height: ${128}px;
  width: ${y}px;
  margin-right: ${v}px;
  flex-shrink: 0;

  & > span {
    cursor: pointer;
    font-size: 24px;
    height: ${32}px;
    width: ${32}px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }
`,k=u()(f.a)`
  && {
    user-select: none;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 0;
  }
`,_=u.a.div`
  display: flex;
  justify-content: center;
  flex-grow: 1;
  margin-bottom: ${e=>e.theme.material.spacing(1)};
`,S=u.a.div`
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 24px;
  cursor: pointer;
  width: 24px;
  color: ${e=>e.theme.material.color.text[40]};
  font-size: 24px;

  ${e=>e.isSelected&&`color: ${e.theme.material.color.brand.blue[500]}`};
`,O=u.a.div`
  flex-direction: column;
  display: flex;
`;function T({onSelect:e}){const[t,n]=m.useState(0),i=Math.ceil(b.length/20)-1;return m.createElement(w,null,m.createElement(k,{onClick:()=>{n(0===t?i:t-1)}},m.createElement(a.a,{color:d.defaultTheme.material.color.text[50],icon:"navigate_before"})),m.createElement(O,null,m.createElement(_,null,(()=>{const e=[];for(let a=0;a<=i;a++)e.push(m.createElement(S,{key:a,isSelected:t===a,onClick:()=>n(a)},"•"));return e})()),m.createElement(E,null,m.createElement(x,{offset:t*(v+y)},(()=>{let t=0;const n=[];for(;20*t<b.length;){const a=20*t,i=20*(t+1),o=b.slice(a,i);n.push(m.createElement(C,null,o.map(t=>m.createElement("span",{role:"button",onClick:()=>e(t)},t)))),t+=1}return n})()))),m.createElement(k,{onClick:()=>{n(t===i?0:t+1)}},m.createElement(a.a,{color:d.defaultTheme.material.color.text[50],icon:"navigate_next"})))}var j=n(1735),I=n(1817);n.d(t,"b",(function(){return Q})),n.d(t,"a",(function(){return Y}));const N="Comment here. Be patient, be friendly, and focus on ideas. We're all here to learn and improve!",D="Topic Content...",$=u.a.div`
  & .mde-textarea {
    ${e=>e.isTextAreaHidden&&"display: none !important"};
    ${e=>e.theme.font.main.family};
    font-size: ${e=>e.theme.material.typography.body2.fontSize};
    font-weight: 400;
  }

  & .mde-textarea textarea {
    line-height: 22px !important;
    border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
    border-radius: ${e=>e.theme.material.borderRadius.normal};
    box-shadow: none;
    box-sizing: border-box;
    outline: none;
    padding: ${e=>e.theme.material.spacing(5)};
    width: 100%;
  }

  & .mde-textarea textarea::placeholder {
    color: ${e=>e.theme.material.color.text[40]};
  }

  & .mde-textarea__suggestions {
    margin-top: 48px !important;
  }

  & .mde-textarea__suggestions__list {
    border-radius: 4px;
    overflow: hidden;
    box-shadow: ${e=>e.theme.material.elevation[2]};
  }
`,M=u.a.div`
  align-items: center;
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`,U=u.a.div`
  display: flex;
  align-items: center;
  flex-wrap: wrap;
`,P=u.a.div`
  display: flex;
  align-items: center;
`,F=u.a.div`
  align-items: center;
  border-right: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  display: flex;
  padding: ${e=>e.theme.material.spacing(1)};

  &:last-child {
    border: 0;
  }
`,R=u()(a.a)`
  cursor: pointer;
  padding: ${e=>e.theme.material.spacing(1)};

  && {
    color: ${e=>e.theme.material.color.text[50]};
  }
`,z=u.a.img`
  cursor: pointer;
  padding: ${e=>e.theme.material.spacing(1)};

  && {
    color: ${e=>e.theme.material.color.text[50]};
  }
`,L=u()(i.a)`
  && {
    background: ${e=>e.theme.material.color.white};
  }
`,A=u()(o.a)`
  && {
    width: ${e=>e.theme.material.spacing(50)};
  }
`,V=u.a.div`
  padding: ${e=>e.theme.material.spacing(5)};
  border: 1px solid #fff;
`,B=u.a.div`
  display: flex;
  align-items: center;
  width: 248px;
  height: 54px;

  &:hover {
    background: ${e=>e.theme.material.color.brand.grey[50]};
  }
`,K=u.a.img`
  height: 30px;
  width: 30px;
  margin: 0 12px;
  border-radius: 4px;
`,H=u.a.div`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  padding-right: 12px;
`,q=u()(r.b)`
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,W=u()(r.e)`
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,G=u()(r.b)`
  padding: ${e=>e.theme.material.spacing(0,0,4,2)};

  &,
  & * {
    color: #e23e3e;
  }
`,Q=({children:e})=>m.createElement(G,null,e);function Y({value:e,onChange:t,onBlur:n,focusOnInitialRender:a,focusOnChange:i,topicId:r,isTopicContent:d,warnings:u}){const[b,v]=m.useState(!1),[y,w]=m.useState(!1),[E,x]=m.useState(!1),[C]=m.useState([]),[k]=m.useState([]),[_,S]=m.useState(!1),[O,G]=m.useState(""),[{pushInputToUndoStack:Q}]=m.useState({pushInputToUndoStack:Object(h.a)(500,e=>{for(C.push(e),C.length>100&&C.shift();k.length;)k.pop()})}),[Y]=m.useState({previousValue:e}),X=m.useRef(document.createElement("textarea")),J=t=>{t.focus(),t.value="",t.value=e};m.useLayoutEffect(()=>{const t=X.current;i&&t&&document.activeElement!==t&&e!==Y.previousValue&&J(t),Y.previousValue=e},[e]),m.useLayoutEffect(()=>{const e=X.current;a&&e&&J(e)},[]);const Z=d?D:N,ee=()=>{const e=X.current,t=e.parentElement;""===e.value&&(e.value=Z),e.style.height="auto",t.style.height="auto";const n=e.scrollHeight+2;e.style.height=n+"px",t.style.height=n+"px",d&&(e.style.minHeight="200px",t.style.minHeight="200px"),e.value===Z&&(e.value="")},te=e=>{Q(e),t(e)},ne=(e,t)=>{const n=X.current,a=n.selectionStart,i=n.selectionEnd,o=n.value;n.value=[o.slice(0,a),e,o.slice(a,i),t,o.slice(i)].join(""),ee(),n.focus(),n.setSelectionRange(a+e.length,i+e.length),te(n.value)};m.useEffect(()=>{const e=X.current,t=()=>{te(e.value),ee()};return e.addEventListener("input",t),window.addEventListener("resize",ee),ee(),()=>{e.removeEventListener("input",t),window.removeEventListener("resize",ee)}},[e]);const ae=Object(h.a)(500,(e,t)=>{c.usersClient.searchUsersSuggestions({query:e,topicId:r||null,pageSize:4}).then(e=>{t(e.map(e=>Object.assign(Object.assign({},e),{display:"@"+e.userName,id:e.profileUrl})))})});return m.createElement($,{isTextAreaHidden:_},m.createElement(M,null,m.createElement(U,null,m.createElement(F,null,m.createElement(f.a,{title:"Undo"},m.createElement(R,{icon:"undo",onClick:()=>{const e=C.pop();void 0!==e&&(k.push(e),t(C[C.length-1]||""))}})),m.createElement(f.a,{title:"Redo"},m.createElement(R,{icon:"redo",onClick:()=>{const e=k.pop();void 0!==e&&(C.push(e),t(e))}}))),m.createElement(F,null,m.createElement(s.a,null,m.createElement(L,{dense:!0,anchorCorner:"bottomLeft",open:b,onClose:()=>v(!1),onSelect:e=>{const{index:t}=e.detail;ne(Array(t+1).fill("#").join("")+" ","")}},m.createElement(o.a,null,"Heading 1"),m.createElement(o.a,null,"Heading 2"),m.createElement(o.a,null,"Heading 3"),m.createElement(o.a,null,"Heading 4"),m.createElement(o.a,null,"Heading 5"),m.createElement(o.a,null,"Heading 6")),m.createElement(f.a,{onClick:()=>v(!0),title:"Insert Heading"},m.createElement(R,{icon:"format_size"}))),m.createElement(f.a,{onClick:()=>ne("**","**"),title:"Bold"},m.createElement(R,{icon:"format_bold"})),m.createElement(f.a,{onClick:()=>ne("*","*"),title:"Italicize"},m.createElement(R,{icon:"format_italic"})),m.createElement(f.a,{onClick:()=>ne("~~","~~"),title:"Strikethrough"},m.createElement(R,{icon:"format_strikethrough"}))),m.createElement(F,null,m.createElement(f.a,{onClick:()=>ne("[","](url)"),title:"Insert Link"},m.createElement(R,{icon:"insert_link"})),m.createElement(f.a,{onClick:()=>ne("> ",""),title:"Insert Quote"},m.createElement(z,{src:"/static/images/legacy-material-quote-24px.svg",alt:"Insert Quote"})),m.createElement(f.a,{onClick:()=>{-1===(()=>{const e=X.current;return e.value.slice(e.selectionStart,e.selectionEnd)})().indexOf("\n")?ne("`","`"):ne("```\n","\n```")},title:"Insert Code Block"},m.createElement(R,{icon:"code"}))),m.createElement(F,null,m.createElement(f.a,{onClick:()=>ne("1. ",""),title:"Insert Numbered List"},m.createElement(R,{icon:"format_list_numbered"})),m.createElement(f.a,{onClick:()=>ne("- ",""),title:"Insert Bulleted List"},m.createElement(R,{icon:"format_list_bulleted"}))),m.createElement(F,null,m.createElement(f.a,{onClick:()=>{ne("| "," |  |\n| --- | --- |\n|  |  |\n")},title:"Insert Table"},m.createElement(R,{icon:"table_chart"})),m.createElement(s.a,null,m.createElement(L,{dense:!0,anchorCorner:"bottomLeft",open:y,onClose:()=>w(!1),onSelect:e=>{const{index:t}=e.detail;0===t?Object(g.a)().then(e=>{const t=e[0];t&&t.name.match(/.+\.(png|jpg|jpeg)$/)&&Object(g.b)(t).then(({gcsInfo:e})=>{ne("![",`](${e.mediaLink})`)})}):1===t&&ne("![","](url to embed)")}},m.createElement(A,null,"Upload image from computer"),m.createElement(A,null,"Embed image from url")),m.createElement(f.a,{title:"Insert Image",onClick:()=>w(!0)},m.createElement(R,{icon:"insert_photo"}))),m.createElement(s.a,null,m.createElement(L,{open:E,onClose:()=>x(!1)},m.createElement(T,{onSelect:e=>ne(e,"")})),m.createElement(f.a,{title:"Insert Emoticon",onClick:()=>x(!0)},m.createElement(R,{icon:"insert_emoticon"}))))),m.createElement(P,null,e&&m.createElement(l.a,{useKM:!0,emphasis:"low",onClick:()=>{_?S(!1):(G(Object(j.a)(e)),S(!0))}},_?"Edit":"Preview"))),u||null,_&&m.createElement(V,null,m.createElement(I.a,{html:O})),m.createElement(p.b,{allowSpaceInQuery:!0,className:"mde-textarea",inputRef:X,onBlur:n,value:e,placeholder:Z},m.createElement(p.a,{trigger:"@",data:ae,onAdd:(e,t)=>{const n=X.current,a=n.value,i=n.selectionEnd;let o=i,r=i;for(;"@"!==a[o]&&o>=0;)o--;for(;" "!==a[r]&&r<a.length;)r++;const s=a.slice(r),l=[a.slice(0,o),t,s.startsWith(" ")?"":" ",s];te(l.join("")),requestAnimationFrame(()=>{const e=o+t.length+1;n.setSelectionRange(e,e)})},renderSuggestion:e=>m.createElement(B,null,m.createElement(K,{src:e.thumbnailUrl,alt:e.displayName}),m.createElement(H,null,m.createElement(q,null,e.displayName),m.createElement(W,null,e.userName)))})))}},1910:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(383),i=n(1468),o=n(1),r=n.n(o),s=n(0),l=n(1634);const c=1e3,d=r()(a.b)`
  align-self: center;
`,u=r.a.div`
  ${Object(o.primaryBorder)()};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  display: grid;
  grid-template-columns: 1fr auto;
  width: 100%;
`,m=r.a.div`
  align-self: center;
  border-left: 1px solid ${e=>e.theme.colors.border};
  width: fit-content;
`,p=r()(d)`
  overflow: hidden;
  text-overflow: ellipsis;
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(4)};
`;class h extends s.Component{constructor(){super(...arguments),this.state={recentlyCopied:!1},this.onCopy=()=>{const{text:e,onCopy:t}=this.props;t&&t(e),Object(l.a)(e),this.setState({recentlyCopied:!0}),setTimeout(()=>this.setState({recentlyCopied:!1}),c)}}render(){const{text:e,className:t}=this.props,{recentlyCopied:n}=this.state;return s.createElement(u,{className:t},s.createElement(p,{useKM:!0},e),s.createElement(m,null,s.createElement(i.a,{leadingIcon:"content_copy",variant:"text",onClick:this.onCopy,disabled:n},n?"Copied":"Copy")))}}},1911:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(383),i=n(384),o=n(1),r=n.n(o),s=n(0);const l=r()(a.e.withComponent("a"))`
  display: inline-flex;
  align-items: center;

  padding: ${e=>e.theme.size.pad.xs};
  margin-right: ${e=>e.theme.size.pad.xs};
  border-radius: ${e=>e.theme.size.border.radius.button};
  text-decoration: none;
  cursor: pointer;
  line-height: 1.2;
  white-space: nowrap;

  ${e=>{const{appearance:t}=e;return"light"===t?`\n      color: ${e.theme.colors.pure.white};\n      border: 1px solid ${e.theme.colors.pure.white};\n    `:`\n    color: ${e.theme.colors.kaggle.blueDark};\n    border: 1px solid ${e.theme.colors.kaggle.blueDark};\n  `}}
  &:hover {
    color: ${e=>e.theme.colors.kaggle.blue};
    border: 1px solid ${e=>e.theme.colors.kaggle.blue};
  }
`,c=r.a.div`
  text-align: left;
  max-width: 240px;
  ${e=>e.theme.font.main.size.m};
  ${e=>e.theme.font.main.height.normal};
`,d=r.a.div`
  ${e=>e.theme.font.main.weight.normal};
  color: ${e=>e.theme.colors.pure.white};
  margin-bottom: ${e=>e.theme.size.pad.xs};
`,u=r.a.div`
  ${e=>e.theme.font.main.weight.normal};
  color: ${e=>e.theme.colors.misc.grayLight};
  white-space: normal;
`,m=e=>{const{action:t,appearance:n,name:a,className:o}=e,r="string"==typeof t?t:void 0,m="function"==typeof t?t:void 0,p=s.createElement(c,null,s.createElement(d,null,"Maintained"),s.createElement(u,null,"This dataset is maintained by ",a," to ensure the latest data is current and accurate."));return s.createElement(i.Tooltip,{tip:p},s.createElement(l,{href:r,appearance:n,onClick:m,className:o},"Maintained by ",a))}},1912:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return"/datasets?maintainerOrgId="+e}},1913:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(8),i=n(1),o=n.n(i),r=n(1613),s=n(0),l=n(1637),c=n(1633),d=n(1838),u=n(1991),m=n(1904),p=n(1808),h=n(2030),g=n(1747);const f=o.a.div`
  position: relative;
  overflow-x: hidden;
  margin: ${e=>e.theme.material.spacing(4)}
    ${e=>e.maximized?e.theme.material.spacing(4):"0px"};
`,b=o.a.div`
  display: flex;
  width: ${e=>e.mobile?`calc(100% + ${Object(m.g)(e.collapsed,e.maximized)})`:"100%"};
  border: ${e=>e.mobile?"1px":"0"} solid
    ${e=>c.a[e.theme.name].border};
  border-radius: ${e=>e.theme.material.borderRadius.large};
`,v=o.a.div`
  flex: 1 1 auto;
  min-width: 0;
`,y=e=>{const t=Object(r.a)(i.BreakpointDown.XS),{databundleVersionId:n,datasetId:o,datasetVersionId:c,datasetHashLink:y,userId:w,canEdit:E,treeOnLeft:x,onCreateVersion:C,onUpdateVersion:k,onExportToSheets:_,onUpdateUsabilityRating:S}=e,O=!t&&(void 0===x?a.featureFlags.datasetsDataExplorerV3TreeLeft:x),T=s.createElement(m.d,{treeOnLeft:O});return s.createElement(d.a,{reference:{type:"dataset",id:o,databundleVersionId:n,datasetVersionId:c,hashLink:y},userSettings:{userId:w,canEdit:E},isMobile:t,externalCallbacks:{onExportToSheets:_,onUpdateUsabilityRating:S,onCreateVersion:C,onUpdateVersion:k}},s.createElement(l.a.Consumer,null,e=>"loading"===e.dataLoadingState.type?s.createElement(g.a,null):"error"===e.dataLoadingState.type?s.createElement(p.a,{message:e.dataLoadingState.message}):s.createElement(h.a,{maximized:e.uxSettings.maximized},s.createElement(f,{maximized:e.uxSettings.maximized},s.createElement(b,{maximized:e.uxSettings.maximized,collapsed:e.uxSettings.treeCollapsed,mobile:t},O&&T,s.createElement(v,null,s.createElement(u.a,{treeOnLeft:O})),!O&&T)))))}},1914:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a,i,o=n(3),r=n(1),s=n.n(r),l=n(10),c=s.a.div.withConfig({displayName:"EmptyState_EmptyStateContainer",componentId:"sc-17rksgv"})(a||(a=Object(o.__makeTemplateObject)(["\n  flex-grow: 1;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  margin: "," 0;\n"],["\n  flex-grow: 1;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  margin: "," 0;\n"])),l.g.PadM),d=s()(c).withConfig({displayName:"EmptyState_EmptyStateText",componentId:"sc-lwnxuf"})(i||(i=Object(o.__makeTemplateObject)(["\n  color: ",";\n"],["\n  color: ",";\n"])),l.b.TextLight);function u(t){var n=t.placeholder,a=t.children;return!1===("boolean"!=typeof t.isEmpty||t.isEmpty)?a:"string"==typeof n?e.createElement(d,null,n):e.createElement(c,null,n)}}).call(this,n(0))},1926:function(e,t,n){"use strict";var a=n(3),i=n(1893),o=n(1468),r=n(8),s=n(1),l=n.n(s),c=n(0),d=n(370),u=n(1903),m=n(1690),p=n(1811);let h=(()=>{class e extends c.Component{componentDidUpdate(e){const{isOpen:t}=this.props;if(e.isOpen!==t){const{analyticsClient:e}=this.context.legacyClients;Object(m.c)(e,"dataset",t)}}render(){const{isOpen:e,onCloseRequest:t}=this.props;return c.createElement(p.a,{isOpen:e,successScreen:{buttonText:"Close",descriptionText:"Your dataset was uploaded, it will show up in the submission list once it's fully processed. Click the button below to return."},failureScreen:{buttonText:"Close",descriptionText:"Unfortunately we could not create your dataset."},processingScreen:{buttonText:"Close",descriptionText:"Please wait while we're processing your dataset."},resetOnClose:!0,renderUploader:g(this.props),onCloseRequest:t})}}return e.contextType=r.ClientsContext,e})();const g=e=>t=>{const{isOpen:n,user:a,taskId:i,referrer:o}=e,{onCloseRequest:r,onCreateSuccess:s}=t;return c.createElement(u.a,{key:n?"open":"closed",isOpen:n,taskId:i,isPublicByDefault:!0,user:a,referrer:o,onBackClicked:e.onBackClicked,onCloseRequest:r,onCreateSuccess:s})};var f=n(1840),b=n(383),v=n(2011),y=n(1860),w=n(1859),E=n(1668),x=n(1841);const C=l.a.div`
  display: flex;
  align-items: center;
  padding: ${E.b} ${E.o};
`,k=l()(b.o)`
  flex: 1 1 0;
`,_=l()(o.a)``,S=l.a.ul`
  list-style: none;
`,O=e=>{const{state:t,canCreate:n,onSelect:a,onVote:i,onCreate:o}=e;return"loading"===t?c.createElement(w.a,{text:"Loading tasks..."}):"error"===t?c.createElement(y.a,{text:"An error occured while loading the tasks."}):0===t.length?c.createElement(v.a,{title:"Get things done with Tasks",description:"Keep track of pending work within your dataset and collaborate with the Kaggle community to find solutions. Tasks are a great method to improve your Dataset and find answers to questions you always wanted to know.",buttonText:"Create New Task",imageUrl:"/static/images/datasets/task_empty.gif",onButtonClick:n?o:void 0}):c.createElement(E.c,null,c.createElement(C,null,c.createElement(k,null,"Tasks"),n&&c.createElement(_,{useKM:!0,emphasis:"medium",onClick:o},"Create New Task")),c.createElement(S,null,t.map(e=>c.createElement(x.a,{key:e.id,item:e,onSelect:()=>a(e),onVote:()=>i(e)}))))};let T=(()=>{class e extends c.Component{constructor(){super(...arguments),this.state={list:"loading"},this.loadList=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{datasetId:e}=this.props,{clients:{datasetsClient:t}}=this.context;try{const n=yield t.getDatasetTasks({datasetId:e});this.setState({list:n.tasks}),Object(f.a)(this.context,"load-dataset-tasks",{datasetId:e})}catch(t){this.setState({list:"error"}),Object(f.a)(this.context,"load-dataset-tasks-error",{datasetId:e,error:t})}})),this.onVote=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:t}}=this.context,{list:n}=this.state;if("error"===n||"loading"===n)return;this.toggleVoteButtonForItem(n,e,!0);const{hasVotedUp:a,totalVotes:i}=e.voteButton;try{yield t.taskVote({taskId:e.id,isUpvote:!a});const o=!a,r=o?i+1:i-1;Object(f.a)(this.context,"vote",{newHasVotedUp:o,newVoteCount:r,taskId:e.id}),this.setState({list:n.map(t=>t===e?Object.assign(Object.assign({},t),{voteButton:{hasVotedUp:o,totalVotes:r,isDisabled:!1}}):t)})}catch(t){Object(f.a)(this.context,"vote-error",{error:t,taskId:e.id}),this.toggleVoteButtonForItem(n,e,!1)}})),this.toggleVoteButtonForItem=(e,t,n)=>{this.setState({list:e.map(e=>e===t?Object.assign(Object.assign({},e),{voteButton:Object.assign(Object.assign({},e.voteButton),{isDisabled:n})}):e)})}}render(){const{canCreate:e,onSelect:t,onCreate:n}=this.props,{list:a}=this.state;return c.createElement(O,{state:a,canCreate:e,onSelect:t,onVote:this.onVote,onCreate:n})}componentDidMount(){this.loadList()}}return e.contextType=r.ClientsContext,e})();var j=n(2038),I=n(174),N=n(1972),D=n(1734),$=n(1416);const M=l.a.button`
  border: none;
  background: none;
  position: relative;
  margin: ${e=>e.theme.material.spacing(2)} 0;
  cursor: ${e=>F(e)};

  &:focus {
    outline: none;
  }
`,U=e=>{const{icon:t,title:n,isDisabled:a,isSelected:i,onClick:o}=e,[r,l]=c.useState(!1),d=c.useContext(s.ThemeContext);return c.createElement(M,{disabled:i||a,isSelected:i,isHovering:r,title:n,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:o},c.createElement($.a,{icon:t,size:"medium",color:P(d,r,i,i||a)}))},P=(e,t,n,a)=>n?e.material.color.brand.blue[800]:a?e.material.color.brand.grey[200]:t?e.material.color.brand.blue[400]:e.material.color.brand.grey[500],F=e=>{const{disabled:t,isHovering:n}=e;return!t&&n?"pointer":"default"},R=l.a.div`
  display: flex;
  flex: 1 1 auto;
`,z=l.a.div`
  display: flex;
  flex-direction: column;
  flex: 0 0 40px;
  align-items: center;

  padding: ${e=>e.theme.material.spacing(2)};
  border-right: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
`,L=l.a.div`
  flex: 1 1 auto;
`,A=l.a.div`
  flex: 1 1 auto;
  display: flex;
`;var V=n(2019);const B=l()(w.a)`
  && {
    border: 0 !important;
  }
`,K=l()(y.a)`
  && {
    border: 0 !important;
  }
`,H=l.a.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 256px;
`,q=l()(b.b)`
  margin-top: ${E.b};
  color: ${E.d};
`,W=e=>{const{state:t,selectedItem:n,onSelect:a}=e;if("loading"===t)return c.createElement(B,{text:"Loading..."});if("error"===t)return c.createElement(K,{text:"An error occured while loading your results."});if(0===t.length)return c.createElement(H,null,c.createElement($.a,{color:s.defaultTheme.material.color.brand.blue[900],icon:"info"}),c.createElement(q,null,"Sorry, we couldn't find any public results."));const i=n?Object(V.b)(n):void 0;return c.createElement(c.Fragment,null,t.map(e=>{const t=Object(V.b)(e),n=t===i;return c.createElement(V.a,{key:t,item:e,selected:n,compact:!0,onSelect:()=>a(e)})}))},G=l.a.div`
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
`,Q=l.a.div`
  flex: 0 0 auto;
  display: flex;
  border-bottom: 1px solid ${E.a};
  padding: ${E.b};
`,Y=l.a.div`
  flex: 0 0 auto;
  border-bottom: 1px solid ${E.a};
  padding: ${E.b} ${E.o};
`,X=l.a.div`
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
`,J=l.a.div`
  flex: 1 1 auto;
  position: relative;
  height: 0;
  overflow-x: hidden;
  overflow-y: auto;
`,Z=l.a.div`
  display: flex;
  flex: 0 0 auto;
  border-top: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
  padding: ${E.b};
`,ee=l()(o.a)`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,te=l()(b.e)`
  flex: 1 1 auto;
  align-self: center;
  color: ${e=>e.theme.material.color.text[50]};
`,ne=l()(b.u)`
  font-weight: ${e=>e.theme.material.typography.fontWeight.medium};
`,ae=l()(e=>{const{tabs:t,selectedTab:n,onChangeTab:a}=e,i=t.filter(e=>!e.isEnd).map(e=>c.createElement(U,{key:`${e.title}-${e.title===n.title}`,title:e.title,icon:e.icon,isDisabled:e.isDisabled,isSelected:e.title===n.title,onClick:()=>a(e)})),o=t.filter(e=>!0===e.isEnd).map(e=>c.createElement(U,{key:`${e.title}-${e.title===n.title}`,title:e.title,icon:e.icon,isDisabled:e.isDisabled,isSelected:e.title===n.title,onClick:()=>a(e)}));return c.createElement(R,null,c.createElement(z,null,i,c.createElement(L,null),o),c.createElement(A,null,n.pane))})`
  flex: 1 1 auto;
`,ie=l()(b.o)`
  flex: 1 1 auto;
`,oe=l()(N.a)`
  width: 100%;
  height: 34px !important;

  && .mdc-text-field__input {
    height: 32px !important;
  }

  && .mdc-floating-label {
    top: ${e=>e.theme.material.spacing(2)};
  }

  && .mdc-floating-label--float-above {
    display: none !important;
  }

  && .mdc-notched-outline--notched .mdc-notched-outline__notch {
    display: none !important;
  }
`,re=e=>{const{searchQuery:t,mode:n,listState:a,selectedItem:i,onChangeMode:o,onChangeSearchQuery:r,onNewNotebook:s,onNewDataset:l,onSelectNotebook:d,onSelectDataset:u,onSubmitNotebook:m,onSubmitDataset:p,onClose:h}=e,g=c.createElement(W,{state:a,selectedItem:i,onSelect:"dataset"===n?u:d}),f={title:"Notebooks",icon:"code",pane:"notebook"===n?c.createElement(X,null,c.createElement(Y,null,c.createElement(oe,{value:t,label:"Search your public Notebooks",onChange:e=>r(e.currentTarget.value)})),c.createElement(J,null,g),c.createElement(Z,null,c.createElement(te,null,"Can't find your Notebook?"," ",c.createElement(ne,{target:"_blank",href:pt},"Learn more")),c.createElement(ee,{useKM:!0,emphasis:"medium",onClick:s},"New Notebook"),c.createElement(ee,{useKM:!0,disabled:"error"===a||"loading"===a||void 0===i,onClick:m},"Submit"))):c.createElement("div",null,"Undefined state")},b={title:"Datasets",icon:"table_chart",pane:"dataset"===n?c.createElement(X,null,c.createElement(Y,null,c.createElement(oe,{value:t,label:"Search your public Datasets",onChange:e=>r(e.currentTarget.value)})),c.createElement(J,null,g),c.createElement(Z,null,c.createElement(te,null,"Can't find your Dataset?"," ",c.createElement(ne,{target:"_blank",href:pt},"Learn more")),c.createElement(ee,{useKM:!0,emphasis:"medium",onClick:l},"New Dataset"),c.createElement(ee,{useKM:!0,disabled:"error"===a||"loading"===a||void 0===i,onClick:p},"Submit"))):c.createElement("div",null,"Undefined state")},v=[f,b],y="dataset"===n?b:f;return c.createElement(G,null,c.createElement(Q,null,c.createElement(ie,null,"Submit to Task"),c.createElement(D.a,{onClose:h})),c.createElement(ae,{tabs:v,selectedTab:y,onChangeTab:e=>o("Datasets"===e.title?"dataset":"notebook")}))},se=100;let le=(()=>{class e extends c.Component{constructor(){super(...arguments),this.state={searchQuery:"",mode:"notebook",listState:"loading",selectedItem:void 0},this.onChangeMode=e=>{this.setState({mode:e,listState:"loading",selectedItem:void 0},()=>this.search())},this.onChangeSearchQuery=e=>{this.setState({searchQuery:e},()=>this.search())},this.search=Object(I.a)(500,()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:e}}=this.context,{taskId:t}=this.props,{searchQuery:n,mode:a}=this.state,i={datasetTaskId:t,submissionType:a,search:n,offset:0,limit:se};this.setState({listState:"loading",selectedItem:void 0});try{const n=yield e.getPossibleTaskSubmissions(i);Object(f.a)(this.context,"load-possible-submissions",{taskId:t,request:i}),this.setState(e=>{if(e.mode===n.submissionType){return Object.assign(Object.assign({},e),{listState:n.results,selectedItem:void 0})}return e})}catch(e){Object(f.a)(this.context,"load-possible-submissions-error",{taskId:t,request:i,error:e}),this.setState(e=>e.mode===i.submissionType?Object.assign(Object.assign({},e),{listState:"error",selectedItem:void 0}):e)}}))),this.onSelectDataset=e=>{const{taskId:t}=this.props;Object(f.a)(this.context,"select-possible-submission-dataset",{taskId:t,datasetId:e.id}),this.setState(t=>"dataset"===t.mode?Object.assign(Object.assign({},t),{selectedItem:e}):t)},this.onSelectNotebook=e=>{const{taskId:t}=this.props;Object(f.a)(this.context,"select-possible-submission-notebook",{taskId:t,kernelId:e.id}),this.setState(t=>"notebook"===t.mode?Object.assign(Object.assign({},t),{selectedItem:e}):t)},this.onSubmitDataset=()=>{const{onSubmit:e}=this.props,{mode:t,selectedItem:n}=this.state;"dataset"===t&&n&&e(n)},this.onSubmitNotebook=()=>{const{onSubmit:e}=this.props,{mode:t,selectedItem:n}=this.state;"notebook"===t&&n&&e(n)}}componentDidMount(){this.search()}render(){const{taskId:e,onNewDataset:t,onNewNotebook:n,onClose:a}=this.props,{searchQuery:i,mode:o,listState:r,selectedItem:s}=this.state;return c.createElement(re,{key:e,searchQuery:i,mode:o,listState:r,selectedItem:s,onChangeMode:this.onChangeMode,onChangeSearchQuery:this.onChangeSearchQuery,onNewDataset:t,onNewNotebook:n,onSelectDataset:this.onSelectDataset,onSelectNotebook:this.onSelectNotebook,onSubmitDataset:this.onSubmitDataset,onSubmitNotebook:this.onSubmitNotebook,onClose:a})}}return e.contextType=r.ClientsContext,e})();const ce=l()(E.c)`
  display: flex;
  align-items: center;
  padding: ${E.b} ${E.o};
`,de=l.a.div`
  flex: 1 0 0;
`,ue=l()(b.t)``,me=l()(b.e)`
  color: ${E.d};
  margin-top: ${e=>e.theme.material.spacing(1)};
`,pe=l()($.a)`
  margin-right: ${E.b};
  width: 24px;
  height: 24px;
  flex: 0 0 24px;
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    display: none;
  }
`,he=l()($.a)`
  margin-right: ${E.b};
  flex: 0 0 24px;
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    display: none;
  }
`,ge=["You cannot submit the dataset as a solution to its own task.","You must be signed in to submit a solution.","This dataset has been submitted already.","This notebook has been submitted already.","As the task creator you cannot accept your own submission."],fe=e=>{const{result:t}=e;if("error"===t.type){const e=void 0!==t.message&&ge.some(e=>e===t.message);return c.createElement(ce,null,c.createElement(he,{icon:"error",size:"medium",color:s.defaultTheme.material.color.status.error[900]}),c.createElement(de,null,c.createElement(ue,null,"Submission failed",t.message&&`: ${t.message}`),!e&&c.createElement(me,null,"Please try again. If this keeps happening, please contact support@kaggle.com and we'll sort you out.")))}return c.createElement(ce,null,c.createElement(pe,{color:s.defaultTheme.material.color.status.success[1e3],icon:c.createElement("svg",{viewBox:"0 0 24 24",width:"18px",height:"18px"},c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),size:"xsmall"}),c.createElement(de,null,c.createElement(ue,null,"You just made a submission"),"existingDataset"===t.type&&c.createElement(me,null,"You submitted an existing dataset, it will show up in the list after reloading."),"existingNotebook"===t.type&&c.createElement(me,null,"You submitted an existing notebook, it will show up in the list after reloading."),"newDataset"===t.type&&c.createElement(me,null,"You submitted a brand new dataset, it will show up in the submission list once we're done processing the data."),"newNotebook"===t.type&&c.createElement(me,null,"You submitted an brand new kernel, it will show up in the submission list right once you made the kernel public.")))};var be=n(384),ve=n(1768);const ye=l.a.div`
  padding: ${E.b} ${E.o};
  border-bottom: 1px solid ${E.a};
`,we=l.a.div`
  padding: ${E.o};
`,Ee=l.a.div`
  max-width: 600px;
`,xe=l.a.div`
  max-width: 270px;
`,Ce=l.a.div`
  padding: ${E.b} ${E.o};
  border-top: 1px solid ${E.a};
  display: flex;
  align-items: center;
`,ke=l()(o.a)`
  margin-right: ${e=>e.theme.material.spacing(2)};
`,_e=l()(b.o)``,Se=l.a.div`
  margin-bottom: ${E.o};
`,Oe=l()(b.t)`
  margin-bottom: ${E.b};
`,Te=l.a.span`
  color: ${E.d};
`,je=l()($.a)`
  margin-left: ${e=>e.theme.material.spacing(1)};
  vertical-align: text-bottom;
`,Ie=l()(be.Tooltip)`
  vertical-align: text-bottom;
`,Ne=l()(b.b)`
  color: ${e=>e.theme.material.color.status.error[900]};
`,De=l()(N.a)`
  width: 100%;
  height: 44px !important;

  && .mdc-notched-outline__notch {
    display: none !important;
  }

  && .mdc-text-field__input {
    height: 42px !important;
  }
`,$e=e=>{const{title:t,subtitle:n,description:a,isCreation:i,editingState:o,deadline:r,onChangeDeadline:l,onChangeTitle:d,onChangeSubtitle:u,onChangeDescription:m,onSave:p,onDiscard:h}=e,g=c.useContext(ve.a),f=i?"Create New Task":"Edit Task",b="saving"===o?"Saving...":i?"Create Task":"Save Task",v=r.value?r.value.toISOString().slice(0,10):void 0,y="saving"===o||void 0!==t.error||void 0!==n.error||void 0!==a.error||void 0!==r.error||!t.value,w="error"===o?"There was a problem saving your task, please try again.":t.error||n.error||a.error||r.error;return c.createElement(E.c,null,c.createElement(ye,null,c.createElement(_e,null,f)),c.createElement(we,null,c.createElement(Ee,null,c.createElement(Se,null,c.createElement(Oe,null,"Title"),c.createElement(De,{label:"Enter Title",value:t.value,status:t.error?"invalid":"normal",disabled:"saving"===o,onChange:e=>d(e.currentTarget.value)})),c.createElement(Se,null,c.createElement(Oe,null,"Subtitle ",c.createElement(Te,null,"(optional)")),c.createElement(De,{label:"Enter Subtitle",value:n.value,status:n.error?"invalid":"normal",disabled:"saving"===o,onChange:e=>u(e.currentTarget.value)})),c.createElement(Se,null,c.createElement(Oe,null,"Description"),g(a.value||Fe,e=>m(e)))),c.createElement(xe,null,c.createElement(Se,null,c.createElement(Oe,null,"Submission Deadline ",c.createElement(Te,null,"(optional)"),c.createElement(Ie,{type:"dark",tip:c.createElement(c.Fragment,null,"Deadlines are in UTC.",c.createElement("br",null),"Most Tasks don't need a deadline.")},c.createElement(je,{icon:c.createElement("svg",{viewBox:"0 0 24 24",width:"16px",height:"16px"},c.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z",fill:"currentColor"})),size:"xsmall",color:s.defaultTheme.material.color.brand.blue[700]}))),c.createElement(De,{label:"Enter Deadline",type:"date",value:v,status:r.error?"invalid":"normal",disabled:"saving"===o,onChange:e=>l(e.currentTarget.value?new Date(e.currentTarget.value):void 0)})))),c.createElement(Ce,null,c.createElement(ke,{useKM:!0,onClick:p,disabled:y},b),!i&&c.createElement(ke,{useKM:!0,onClick:h,disabled:"saving"===o,emphasis:"medium"},"Discard Changes"),w&&c.createElement(Ne,null,w)))},Me=6,Ue=100,Pe=255,Fe="## Task Details\nEvery task has a story. Tell users what this task is all about and why you created it.\n\n## Expected Submission\nWhat should users submit? Should they solve the task primarily using Notebooks or Datasets? What should the solution contain?\n\n## Evaluation\nWhat makes a good solution? How do you evaluate which submission is better than another?\n\n### Further help\nIf you need additional inspiration, check out these existing high-quality tasks:\n- https://www.kaggle.com/sudalairajkumar/novel-corona-virus-2019-dataset/tasks?taskId=508 (Predict the Spreading of Coronavirus)\n- https://www.kaggle.com/paultimothymooney/open-elections-data-usa/tasks?taskId=12 (Create CSV files from PDF files)\n- https://www.kaggle.com/leonardopena/top50spotify2019/tasks?taskId=198 (Top 50 Spotify Songs 2019)\n\n";let Re=(()=>{class e extends c.Component{constructor(){super(...arguments),this.state={title:{value:this.props.existingTask?this.props.existingTask.title:""},subtitle:{value:this.props.existingTask&&this.props.existingTask.subtitle?this.props.existingTask.subtitle:void 0},description:{value:this.props.existingTask?this.props.existingTask.description:""},deadline:{value:this.props.existingTask&&this.props.existingTask.deadline?new Date(this.props.existingTask.deadline):void 0},editingState:"editing"},this.onSave=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{existingTask:e,datasetId:t,onFinish:n}=this.props,{title:a,subtitle:i,description:o,deadline:r}=this.state,{clients:s}=this.context,{datasetsClient:l}=s,c=o.value===Fe?"":o.value;try{if(this.setState({editingState:"saving"}),e)yield l.editTask({taskId:e.id,title:a.value,subtitle:i.value?i.value:null,description:c,deadline:r.value?r.value.toISOString():null}),this.setState({editingState:"editing"}),Object(f.a)(this.context,"save",{mode:"existing",taskId:e.id,datasetId:t}),n(e.id);else{const e=yield l.createTask({datasetId:t,title:a.value,subtitle:i.value?i.value:null,description:c,deadline:r.value?r.value.toISOString():null});this.setState({editingState:"editing"}),Object(f.a)(this.context,"save",{mode:"create",datasetId:t}),n(e.taskId)}}catch(e){Object(f.a)(this.context,"save-error",{datasetId:t,error:e}),this.setState({editingState:"error"})}})),this.onDiscard=()=>{const{existingTask:e,onFinish:t}=this.props;Object(f.a)(this.context,"edit-discard"),t(e?e.id:void 0)},this.onChangeTitle=e=>{this.setState({title:{value:e}},this.validate)},this.onChangeSubtitle=e=>{this.setState({subtitle:{value:e}},this.validate)},this.onChangeDescription=e=>{this.setState({description:{value:e}},this.validate)},this.onChangeDeadline=e=>{this.setState({deadline:{value:e}},this.validate)},this.validate=()=>{const{title:e,subtitle:t,description:n,deadline:a}=this.state,i=e.value?e.value.length<Me||e.value.length>Ue?`Title must be between ${Me} and ${Ue} characters.`:void 0:"Title is required.",o=t.value&&t.value.length>Pe?`Subtitle must be less than ${Pe}  characters.`:void 0,r=n.value?n.value===Fe?"Please change the description template.":void 0:"Description is required.",s=new Date,l=a.value&&a.value<s?"Deadline (in UTC) can not be in the past.":void 0;this.setState(e=>Object.assign(Object.assign({},e),{title:{value:e.title.value,error:i},subtitle:{value:e.subtitle.value,error:o},description:{value:e.description.value,error:r},deadline:{value:e.deadline.value,error:l}}))}}render(){const{existingTask:e}=this.props,{title:t,subtitle:n,description:a,deadline:i,editingState:o}=this.state;return c.createElement($e,{title:t,subtitle:n,description:a,deadline:i,isCreation:void 0===e,editingState:o,onChangeTitle:this.onChangeTitle,onChangeSubtitle:this.onChangeSubtitle,onChangeDescription:this.onChangeDescription,onChangeDeadline:this.onChangeDeadline,onSave:this.onSave,onDiscard:this.onDiscard})}}return e.contextType=r.ClientsContext,e})();var ze=n(2057),Le=n(2010),Ae=n(2005),Ve=n(1971),Be=n(2006),Ke=n(1980),He=n(287),qe=n(1413),We=n(1670);const Ge=l()(i.a)`
  z-index: 100 !important;
`,Qe=l.a.div`
  padding: ${E.o};
`,Ye=l.a.div`
  display: flex;
  margin-bottom: ${E.b};
`,Xe=l.a.div`
  flex: 1 0;
  min-width: 0;
`,Je=l.a.div`
  flex: 0 0;
  margin-left: ${e=>e.theme.material.spacing(20)};
`,Ze=l.a.div`
  padding: ${E.b} ${E.o};
  border-top: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
  display: flex;
`,et=l.a.div`
  flex-grow: 1;
`,tt=l()(o.a)`
  margin-right: ${e=>e.theme.material.spacing(2)};
  flex-grow: 0;
`,nt=l()(b.n)`
  margin-bottom: ${e=>e.theme.material.spacing(2)};
  overflow: hidden;
  text-overflow: ellipsis;
`,at=l()(b.b)`
  color: ${E.d};
  margin-bottom: ${E.b};
  overflow: hidden;
  text-overflow: ellipsis;
`,it=l()(b.b)`
  color: ${e=>e.theme.material.color.text[70]} !important;
  margin-right: ${e=>e.theme.material.spacing(30)};

  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    margin-right: 0 !important;
  }

  h1 {
    color: ${e=>e.theme.material.color.text[70]} !important;
    font-size: ${e=>e.theme.material.typography.h5.fontSize};
    font-weight: ${e=>e.theme.material.typography.h5.fontWeight};
    line-height: ${e=>e.theme.material.typography.h5.lineHeight};
    margin-top: 0 !important;
    margin-bottom: ${e=>e.theme.material.spacing(4)} !important;
  }

  h2 {
    color: ${e=>e.theme.material.color.text[70]} !important;
    font-size: ${e=>e.theme.material.typography.h6.fontSize};
    font-weight: ${e=>e.theme.material.typography.h6.fontWeight};
    line-height: ${e=>e.theme.material.typography.h6.lineHeight};
    margin-top: 0 !important;
    margin-bottom: ${e=>e.theme.material.spacing(3)} !important;
  }

  h3 {
    color: ${e=>e.theme.material.color.text[70]} !important;
    font-size: ${e=>e.theme.material.typography.subhead.fontSize};
    font-weight: ${e=>e.theme.material.typography.subhead.fontWeight};
    line-height: ${e=>e.theme.material.typography.subhead.lineHeight};
    margin-top: 0 !important;
    margin-bottom: ${e=>e.theme.material.spacing(2)} !important;
  }
`,ot=l()(b.b)`
  color: ${E.d};
`,rt=l()(b.u)`
  color: ${E.d};

  :visited {
    color: ${E.d};
  }
  :hover {
    color: ${e=>e.theme.material.color.anchor.hover};
  }
`,st=l()(ze.a)`
  background-color: ${e=>e.theme.material.color.brand.blue[100]};
  margin-bottom: ${e=>e.theme.material.spacing(2)};
  margin-left: -${e=>e.theme.material.spacing(6)};
  padding: ${e=>e.theme.material.spacing(4)}
    ${e=>e.theme.material.spacing(6)};
`,lt=e=>{const{task:t,canEdit:n,canSubmit:a,canCurate:i,onSubmit:o,onVote:r,onEdit:s,onDelete:l,onCurate:d,onRecurate:u}=e,{title:m,subtitle:p,description:h,author:g,submissionCount:f,deadline:v,voteButton:y,tags:w,removedTags:x}=t,{displayName:C,slug:k}=g,{hasVotedUp:_,totalVotes:S,isDisabled:O}=y,T=w&&w.tags,j=x&&x.tags,[I,N]=c.useState(!1),D=c.useContext(We.a),$=n||a||i,M=T&&T.filter(e=>15112===e.id||15113===e.id||15114===e.id||15115===e.id),U=j&&j.filter(e=>15112===e.id||15113===e.id||15114===e.id||15115===e.id),P=M.map(e=>e.id);let F=P;U&&(F=F.concat(U.map(e=>e.id)));const R=T&&-1!==T.findIndex(e=>15111===e.id),z=T&&-1!==T.findIndex(e=>15112===e.id)||j&&-1!==j.findIndex(e=>15112===e.id),L=T&&-1!==T.findIndex(e=>15113===e.id)||j&&-1!==j.findIndex(e=>15113===e.id),A=T&&-1!==T.findIndex(e=>15114===e.id)||j&&-1!==j.findIndex(e=>15114===e.id),V=T&&-1!==T.findIndex(e=>15115===e.id)||j&&-1!==j.findIndex(e=>15115===e.id);return c.createElement(E.c,null,c.createElement(Qe,null,c.createElement(Ye,null,c.createElement(Xe,null,c.createElement(nt,null,m),p&&c.createElement(at,null,p),c.createElement(ot,null,c.createElement(rt,{href:`/${k}`,target:"_blank",rel:"noopener"},C)," · ",He("Submission",f,!0),v&&c.createElement(c.Fragment,null," · ",c.createElement(qe.a,{time:v})))),c.createElement(Je,null,c.createElement(Le.a,{totalVotes:S,state:_?"voted-up":"no-vote",onVote:O?void 0:r}))),n&&M&&M.length>0&&!R&&c.createElement(st,{variant:"notice",graphic:"assignment_late",leftAction:{onClick:()=>u(F,!0),label:"Fixed"},rightAction:{onClick:()=>u(P,!1),label:"Dismiss"}},"This task would benefit from additional details for improvment:"," ",M.map(e=>e.displayName).join(", "),c.createElement("br",null),"Learn more with our"," ",c.createElement(b.u,{href:"/product-feedback/121068"},"Task Documentation")),c.createElement(it,null,D(h))),$&&c.createElement(c.Fragment,null,c.createElement(Ze,null,a&&c.createElement(tt,{useKM:!0,onClick:o},"Submit"),n&&c.createElement(c.Fragment,null,c.createElement(tt,{useKM:!0,emphasis:"medium",onClick:s},"Edit Task"),c.createElement(et,null),c.createElement(tt,{useKM:!0,emphasis:"low",onClick:()=>N(!0)},"Delete Task"),c.createElement(Ge,{open:I,onClose:e=>{"delete"===e.detail.action&&l(),N(!1)}},c.createElement(Ae.a,null,"Are you sure you want to delete this task?"),c.createElement(Ve.a,null,"All saved information and submissions to this task will be deleted with this action. Are you sure you want to proceed?"),c.createElement(Be.a,null,c.createElement(Ke.a,{action:"delete",variant:"text"},"Delete"),c.createElement(Ke.a,{action:"cancel",isDefaultAction:!0,variant:"unelevated"},"Cancel"))))),i&&!R&&c.createElement(Ze,null,c.createElement(b.b,null,"(Admin Tools)"),c.createElement(tt,{useKM:!0,onClick:()=>d(15111)},"Reviewed"),!z&&c.createElement(tt,{useKM:!0,emphasis:"medium",onClick:()=>d(15112)},"Needs Description"),!L&&c.createElement(tt,{useKM:!0,emphasis:"low",onClick:()=>d(15113)},"Submission Format"),!A&&c.createElement(tt,{useKM:!0,emphasis:"low",onClick:()=>d(15114)},"Evaluation Criteria"),!V&&c.createElement(tt,{useKM:!0,onClick:()=>d(15115)},"Under Construction"))))};n.d(t,"b",(function(){return pt})),n.d(t,"a",(function(){return gt}));const ct=l.a.div`
  width: 100%;
  display: flex;
  justify-content: flex-end;
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`,dt=l.a.div`
  margin-top: ${e=>e.theme.material.spacing(4)};
`,ut=l.a.div`
  height: 480px;
  display: flex;
  background-color: ${e=>e.theme.material.color.white};
`,mt=l()(i.a)`
  z-index: 100 !important;
`,pt="https://www.kaggle.com/product-feedback/121068",ht="datasetTabState";let gt=(()=>{class e extends c.Component{constructor(){super(...arguments),this.state={internalState:this.props.taskId?{type:"loading"}:{type:"list"}},this.onBackToList=()=>{Object(f.a)(this.context,"back-to-list"),this.setState({internalState:{type:"list"}}),this.replaceTaskIdInUrl(void 0)},this.onSelect=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:t}}=this.context;Object(f.a)(this.context,"select",{taskId:e}),this.setState({internalState:{type:"loading"}});try{const n=yield t.getTask({taskId:e});this.setState({internalState:{type:"view",task:n,modal:"none",submissionResult:void 0,submissionListKey:0}}),this.replaceTaskIdInUrl(e)}catch(t){Object(f.a)(this.context,"select-error",{taskId:e,error:t}),this.setState({internalState:{type:"error"}})}})),this.onEdit=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){Object(f.a)(this.context,"edit",{taskId:e.id}),this.setState({internalState:{type:"edit",task:e}})})),this.onCreate=()=>{Object(f.a)(this.context,"create"),this.setState({internalState:{type:"create"}})},this.onShowSubmitModal=()=>{Object(f.a)(this.context,"show-submit-modal"),this.setState(e=>"view"===e.internalState.type?Object.assign(Object.assign({},e),{internalState:Object.assign(Object.assign({},e.internalState),{modal:"submission",submissionResult:void 0})}):e)},this.onCloseSubmissionModal=()=>{Object(f.a)(this.context,"close-submit-modal"),this.setState(e=>"view"===e.internalState.type&&"submission"===e.internalState.modal?Object.assign(Object.assign({},e),{internalState:Object.assign(Object.assign({},e.internalState),{modal:"none",submissionResult:void 0})}):e)},this.onCloseDatasetUploaderModal=e=>{const{internalState:t}=this.state;e&&"view"===t.type?Object(f.a)(this.context,"submission-new-dataset",{taskId:t.task.id}):Object(f.a)(this.context,"close-uploader-modal"),this.setState(t=>"view"===t.internalState.type&&"datasetUploader"===t.internalState.modal?Object.assign(Object.assign({},t),{internalState:Object.assign(Object.assign({},t.internalState),{modal:"none",submissionResult:e?{type:"newDataset"}:void 0,submissionListKey:t.internalState.submissionListKey+1})}):t)},this.onShowDatasetUploader=()=>{Object(f.a)(this.context,"show-uploader-modal"),this.setState(e=>"view"===e.internalState.type?Object.assign(Object.assign({},e),{internalState:Object.assign(Object.assign({},e.internalState),{modal:"datasetUploader",submissionResult:void 0})}):e)},this.onViewSubmission=e=>{Object(f.a)(this.context,"view-submission",{item:e}),window.open(`/${e.url}`,"_blank")},this.onVote=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{internalState:t}=this.state,{clients:{datasetsClient:n}}=this.context;if("view"===t.type)try{yield n.taskVote({taskId:e.id,isUpvote:!e.voteButton.hasVotedUp}),Object(f.a)(this.context,"vote",{isUpvote:!e.voteButton.hasVotedUp,taskId:e.id}),this.setState(e=>"view"!==e.internalState.type?e:Object.assign(Object.assign({},e),{internalState:{type:"view",modal:e.internalState.modal,submissionListKey:e.internalState.submissionListKey,submissionResult:e.internalState.submissionResult,task:Object.assign(Object.assign({},e.internalState.task),{voteButton:Object.assign(Object.assign({},e.internalState.task.voteButton),{hasVotedUp:!e.internalState.task.voteButton.hasVotedUp,totalVotes:e.internalState.task.voteButton.hasVotedUp?e.internalState.task.voteButton.totalVotes-1:e.internalState.task.voteButton.totalVotes+1})})}}))}catch(t){Object(f.a)(this.context,"vote-error",{taskId:e.id,error:t})}})),this.onDelete=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{onChangeTaskCount:t}=this.props,{clients:{datasetsClient:n}}=this.context;this.setState({internalState:{type:"loading"}});try{yield n.deleteTask({taskId:e.id}),this.setState({internalState:{type:"list"}}),Object(f.a)(this.context,"delete",{taskId:e.id}),t(-1)}catch(t){Object(f.a)(this.context,"delete-error",{taskId:e.id,error:t}),this.setState({internalState:{type:"error"}})}})),this.onCurate=(e,t)=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const n={tagId:t,taskId:e.id};yield r.tagsClient.tagDatasetTask(n),Object(f.a)(this.context,"task-curation",{taskId:e.id,tagId:t}),yield this.onSelect(e.id)})),this.onRecurate=(e,t,n)=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const a={rereview:n,tagIds:t,taskId:e.id};yield r.tagsClient.untagDatasetTask(a),Object(f.a)(this.context,"task-curation-reaction",{taskId:e.id,fixed:n,tagIds:t}),yield this.onSelect(e.id)})),this.onFinishTaskEdit=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{onChangeTaskCount:t}=this.props,{internalState:n}=this.state,{clients:{datasetsClient:a}}=this.context,i="create"===n.type;if(e){this.setState({internalState:{type:"loading"}});try{const n=yield a.getTask({taskId:e});this.setState({internalState:{type:"view",task:n,modal:"none",submissionResult:void 0,submissionListKey:0}}),Object(f.a)(this.context,"finish-edit",{taskId:e}),i&&(t(1),this.replaceTaskIdInUrl(e))}catch(t){Object(f.a)(this.context,"finish-edit-error",{taskId:e}),this.setState({internalState:{type:"error"}})}}else this.setState({internalState:{type:"list"}})})),this.onNewNotebookSubmission=()=>{const{dataset:{datasetVersionId:e}}=this.props,{internalState:t}=this.state;if("view"!==t.type)return;Object(f.a)(this.context,"submission-new-notebook",{taskId:t.task.id});const n=`/notebooks/welcome?datasetVersionId=${e}`;window.open(n,"_self")},this.onExistingItemSubmission=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:t}}=this.context,{internalState:n}=this.state;if("view"===n.type)try{yield t.createTaskSubmission({datasetTaskId:n.task.id,kernelId:"notebook"===e.type&&e.notebookInfo?e.notebookInfo.kernelId:null,datasetId:"dataset"===e.type&&e.datasetInfo?e.datasetInfo.datasetId:null}),this.setState({internalState:{type:"view",modal:"none",task:n.task,submissionResult:"notebook"===e.type?{type:"existingNotebook"}:{type:"existingDataset"},submissionListKey:n.submissionListKey+1}}),Object(f.a)(this.context,`submission-existing-${e.type}`,{taskId:n.task.id})}catch(t){const a=t instanceof Error?t.message:"string"==typeof t?t:void 0;Object(f.a)(this.context,`submission-existing-${e.type}-error`,{taskId:n.task.id,error:t,message:a}),this.setState({internalState:{type:"view",modal:"none",task:n.task,submissionResult:{type:"error",message:a},submissionListKey:n.submissionListKey+1}})}})),this.onAcceptSubmission=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:t}}=this.context,{internalState:n}=this.state;if("view"===n.type){try{yield t.acceptTaskSubmission({taskSubmissionId:e.id}),Object(f.a)(this.context,"accept",{taskId:n.task.id,submissionId:e.id})}catch(t){Object(f.a)(this.context,"accept-error",{taskId:n.task.id,submissionId:e.id})}this.setState({internalState:{type:"view",modal:"none",task:n.task,submissionResult:void 0,submissionListKey:n.submissionListKey+1}})}})),this.onUnaccept=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:e}}=this.context,{internalState:t}=this.state;if("view"===t.type){try{yield e.unacceptTaskSubmissions({taskId:t.task.id}),Object(f.a)(this.context,"unaccept",{taskId:t.task.id})}catch(e){Object(f.a)(this.context,"unaccept-error",{taskId:t.task.id})}this.setState({internalState:{type:"view",modal:"none",task:t.task,submissionResult:void 0,submissionListKey:t.submissionListKey+1}})}})),this.onDeleteSubmission=e=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{clients:{datasetsClient:t}}=this.context,{internalState:n}=this.state;if("view"===n.type){try{yield t.deleteTaskSubmission({taskSubmissionId:e.id}),Object(f.a)(this.context,"delete",{taskId:n.task.id,submissionId:e.id})}catch(t){Object(f.a)(this.context,"delete-error",{taskId:n.task.id,submissionId:e.id})}this.setState({internalState:{type:"view",modal:"none",task:n.task,submissionResult:void 0,submissionListKey:n.submissionListKey+1}})}})),this.replaceTaskIdInUrl=e=>{const t=window.history.state,n=new URLSearchParams(location.search);e?n.set("taskId",e.toString()):n.delete("taskId");const a=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+n.toString(),i=t&&t[ht]?t[ht].currentTab:"tasks",o={};o[ht]={path:a,currentTab:i,taskId:e},Object(d.c)(o,"",a)},this.renderBackToList=()=>c.createElement(ct,null,c.createElement(o.a,{variant:"text",onClick:this.onBackToList},"Back to task list"))}componentDidMount(){const{taskId:e}=this.props;e&&this.onSelect(e)}render(){var e;const{dataset:{datasetId:t,canCreateTask:n},user:a}=this.props,{internalState:i}=this.state;if("list"===i.type)return c.createElement(T,{datasetId:t,canCreate:n,onSelect:e=>this.onSelect(e.id),onCreate:this.onCreate});if("create"===i.type)return c.createElement(c.Fragment,null,this.renderBackToList(),c.createElement(Re,{datasetId:t,onFinish:this.onFinishTaskEdit}));if("edit"===i.type)return c.createElement(c.Fragment,null,this.renderBackToList(),c.createElement(Re,{datasetId:t,existingTask:i.task,onFinish:this.onFinishTaskEdit}));if("view"===i.type){const{task:t,modal:n,submissionResult:o}=i,r=void 0!==a.id&&0!==a.id&&(!t.deadline||new Date(t.deadline)>new Date),s=a&&a.isAdmin||t.author.id===a.id,l=a&&a.isAdmin||t.author.id===a.id,d=a.isAdmin,u=s?this.onAcceptSubmission:void 0,m=s?this.onUnaccept:void 0,p=s?this.onDeleteSubmission:void 0;return c.createElement(c.Fragment,null,this.renderBackToList(),c.createElement(lt,{task:t,onEdit:()=>this.onEdit(t),onSubmit:this.onShowSubmitModal,onDelete:()=>this.onDelete(t),onVote:()=>this.onVote(t),onCurate:e=>this.onCurate(t,e),onRecurate:(e,n)=>this.onRecurate(t,e,n),canEdit:l,canSubmit:r,canCurate:d}),o&&c.createElement(dt,null,c.createElement(fe,{result:o})),c.createElement(dt,null,c.createElement(j.a,{key:i.submissionListKey,source:{type:"task",id:t.id},canSubmit:r,taskAuthorId:null===(e=t.author)||void 0===e?void 0:e.id,onSubmit:this.onShowSubmitModal,onSelect:this.onViewSubmission,onAccept:u,onUnaccept:m,onDelete:p}),c.createElement(mt,{open:"submission"===n,onClose:this.onCloseSubmissionModal},c.createElement(ut,null,"submission"===n&&c.createElement(le,{taskId:t.id,onSubmit:this.onExistingItemSubmission,onNewDataset:this.onShowDatasetUploader,onNewNotebook:this.onNewNotebookSubmission,onClose:this.onCloseSubmissionModal}))),c.createElement(h,{referrer:"tasks",isOpen:"datasetUploader"===n,user:a,key:"datasetUploader"===n?"open":"closed",taskId:t.id,onCloseRequest:e=>this.onCloseDatasetUploaderModal("success"===e.type||"processing"===e.type),onBackClicked:this.onShowSubmitModal})))}return"loading"===i.type?c.createElement(w.a,{text:"Loading..."}):c.createElement(y.a,{text:"An error occurred."})}}return e.contextType=r.ClientsContext,e})()},1934:function(e,t,n){"use strict";var a=n(383),i=n(8),o=n(1),r=n.n(o),s=n(0),l=n(2355),c=n(1416);const d=r.a.div`
  background-color: ${e=>e.theme.material.color.white};
  border: 1px solid ${e=>e.theme.colors.border};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;
  width: auto;
  padding: ${e=>e.theme.material.spacing(3)}
    ${e=>e.theme.material.spacing(6)};
`,u=r.a.div`
  align-items: center;
  display: grid;
  grid-template-columns: ${e=>e.theme.material.spacing(8)} auto;
`,m=r.a.div`
  align-items: center;
`;function p(e){const{left:t,right:n}=e,a=s.useContext(o.ThemeContext);return s.createElement(d,null,s.createElement(u,null,s.createElement(c.a,{icon:"error",color:a.material.color.brand.blue[700],size:"small"}),t),n&&s.createElement(m,null,n))}n.d(t,"a",(function(){return y}));const h="datasets",g="hash-link",f=r.a.div``,b=r()(a.b)`
  display: inline;
`,v=r()(a.u)`
  display: inline;
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  line-height: ${e=>e.theme.material.typography.body2.lineHeight};
`;let y=(()=>{class e extends s.Component{render(){const{onRedirectToSettings:e}=this.props,{analyticsClient:t}=this.context.legacyClients;return s.createElement(p,{left:s.createElement(f,null,s.createElement(b,null,"New: With link sharing, you can share links to private datasets."," "),s.createElement(v,{href:l.a,title:"documentation",target:"_blank",rel:"noopener",onClick:()=>{t.logger.report(h,`${g}-promo-learn`)}},"Learn more")),right:s.createElement(v,{onClick:()=>{t.logger.report(h,`${g}-promo-settings`),e()}},"Go to Settings")})}}return e.contextType=i.ClientsContext,e})()},1967:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(3),i=n(30),o=n(97),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.generateUrl=function(e){return t.props.competitionId?e+"?competitionId="+t.props.competitionId:t.props.datasetVersionId?e+"?datasetVersionId="+t.props.datasetVersionId:t.props.kernelVersionId?e+"?scriptVersionId="+t.props.kernelVersionId:e},t}return Object(a.__extends)(t,e),t.prototype.show=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(t){return e=this.generateUrl("/notebooks/welcome"),i.a.isAnonymous&&Object(o.c)("kernels","anonymousKernelCreation",{url:e}),this.navigateTo(e),[2]}))}))},t.prototype.navigateTo=function(e){window.location.href=e},t.prototype.render=function(){return null},t}(e.Component)}).call(this,n(0))},1968:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n(3),i=n(1419),o=n(2028),r=n(8),s=n(209),l=function(t){function n(e){var n=t.call(this,e)||this;return n.onLoadCollaborators=function(e){var t=[];return!e||e.length<3?Promise.resolve({options:t}):r.searchClient.fullSearchWeb({query:e+" in:users",page:1,resultsPerPage:20}).then((function(e){return e.documents.filter((function(e){return"user"===e.documentType})).map((function(e){t.push({label:e.authorDisplayName+" ("+e.url.substr(1)+")",displayName:e.authorDisplayName,value:"i:"+e.databaseId,isOrganization:!1,thumbnailUrl:e.thumbnailImageUrl,id:e.databaseId,slug:e.url,userTier:e.userInfo.performanceTier})})),n.collaboratorSearchOptions=n.collaboratorSearchOptions.concat(t),{options:t}}))},n.onAddCollaborator=function(e){if(null!=e){var t=e.split(":");if(2==t.length){var o=Number(t[1]),r=n.collaboratorSearchOptions.filter((function(e){return!e.isOrganization&&e.id==o})),s=r.length>0?r[0]:null;if(s){if(n.state.collaborators.some((function(e){return e.isUser&&e.userId==s.id}))||n.state.owner.isUser&&n.state.owner.userId==s.id)return i.a.clear(),void i.a.warning("The selected user is already in the list of collaborators.");var l={isUser:!0,isGroup:!1,userId:s.id,name:s.displayName,profileUrl:"/"+s.slug,slug:s.slug,thumbnailUrl:s.thumbnailUrl,userTier:s.userTier,type:n.state.allowReaders?"reader":"writer"},c=n.state.collaborators;n.setState({somethingChanged:!0,collaborators:Object(a.__spread)(c,[l])})}}}},n.onChangeCollaboratorType=function(e,t,i){var o=n.state.collaborators,r=o[t];n.setState({somethingChanged:!0,collaborators:Object(a.__spread)(o.slice(0,t),[Object(a.__assign)(Object(a.__assign)({},r),{type:i})],o.slice(t+1))})},n.onRemoveCollaborator=function(e,t){var i=n.state.collaborators;n.setState({somethingChanged:!0,collaborators:Object(a.__spread)(i.slice(0,t),i.slice(t+1))})},n.onSave=function(){return Object(a.__awaiter)(n,void 0,void 0,(function(){var e,t,n,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return e=this.state,t=e.collaborators,n=e.owner,[4,this.props.onSave({collaborators:t,owner:n})];case 1:return i=o.sent(),this.setState(Object(a.__assign)(Object(a.__assign)({},i),{somethingChanged:!1,lastSavedCollaborators:i.collaborators,privateDataSources:this.props.privateDataSources})),[2]}}))}))},n.onReset=function(){n.setState({somethingChanged:!1,collaborators:n.state.lastSavedCollaborators}),n.props.onCancel&&n.props.onCancel()},n.state=Object(a.__assign)(Object(a.__assign)({},e),{somethingChanged:!1,allowReaders:null===e.allowReaders||e.allowReaders,allowWriters:null===e.allowWriters||e.allowWriters,lastSavedCollaborators:e.collaborators.filter((function(e){return!0})),onLoadCollaborators:n.onLoadCollaborators,onAddCollaborator:n.onAddCollaborator,onChangeCollaboratorType:n.onChangeCollaboratorType,onRemoveCollaborator:n.onRemoveCollaborator,onReset:n.onReset,onSaveInternal:n.onSave}),s(n.state.allowWriters||n.state.allowReaders,"Either readers or writers must be allowed"),n.collaboratorSearchOptions=[],n}return Object(a.__extends)(n,t),n.prototype.render=function(){return e.createElement(o.a,this.state)},n}(e.Component)}).call(this,n(0))},1969:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(3),i=n(22),o=n(209),r=function(t){function n(e){var n=t.call(this,e)||this;n.onPageChanged=function(e,t){var a=n.state.currentPageName,i=n.getPage(a),o=n.props.onPageChanged,r=t.ctrlKey||t.shiftKey||t.metaKey||t.button&&1==t.button;n.props.preventLoadOnClick&&!r&&t.preventDefault(),n.setState({currentPageName:n.getPageName(e)},(function(){o&&o(e,i)}))},o(e.pages&&e.pages.length>0,"must have at least one page");var i=Object(a.__assign)(Object(a.__assign)({},e),{currentPageName:e.initialPageName?e.initialPageName:n.getPageName(e.pages[0])});return n.state=i,n}return Object(a.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({pages:e.pages,currentPageName:e.initialPageName?e.initialPageName:this.getPageName(e.pages[0])})},n.prototype.getPage=function(e){var t=this;return this.props.pages.find((function(n){return t.getPageName(n)==e}))},n.prototype.getPageName=function(e){return e.menuEntry.tab||e.menuEntry.title},n.prototype.renderNavigation=function(){var t=this;return e.createElement("div",{className:"navbox__nav-wrapper"},e.createElement("nav",{className:"navbox__nav"},this.props.pages.map((function(n,a){var o=t.state.currentPageName===t.getPageName(n),r=t.props.hideSelectedBar?"navbox__nav-item--selected":"navbox__nav-item--selected-with-bar",s=o?r:"navbox__nav-item";return e.createElement(e.Fragment,{key:"navbox-"+a},e.createElement("a",{className:i(s,n.menuEntry.additionalClassName),href:n.menuEntry.href,onClick:function(e){return t.onPageChanged(n,e)},title:n.menuEntry.title},e.createElement("span",{className:"navbox__nav-item-content"},n.menuEntry.text,n.menuEntry.count||n.menuEntry.showZeroCountExplicitly?" ("+(n.menuEntry.count||0)+")":null)),t.props.inlinePages&&o&&t.renderPage())}))))},n.prototype.renderPage=function(){var t=this.getPage(this.state.currentPageName);return t||console.error("Page named "+this.state.currentPageName+" not found."),e.createElement("div",{className:"navbox__page"},t&&t.element)},n.prototype.render=function(){return e.createElement("div",{className:"navbox__container"},this.renderNavigation(),!this.props.inlinePages&&this.renderPage())},n}(e.Component)}).call(this,n(0))},1970:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1852),i=n(1684),o=n(1884),r=n(1742);const s=(e,t)=>{const n=t?Object(r.a)(e):Object(r.a)(e).filter(e=>!Object(i.g)(e)),s=Object(a.a)(o.a);if(s){const e=n.find(e=>e.relativeUrl===s);if(e)return e}if(n.length>0){for(const e of n)if("file"===(null==e?void 0:e.type)&&(null==e?void 0:e.name)&&e.name.toLowerCase().indexOf("readme")>=0)return e;for(const e of n)if("directory"!==(null==e?void 0:e.type))return e;return n[0]}}},1971:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1623),i=n(0);n(576),n(1420);const o=e=>{const{children:t,className:n}=e;return i.createElement(a.d,{className:n},t)}},1972:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),i=n.n(a),o=n(1450),r=n(0);n(1439),n(1440),n(1441),n(1448);const s=i()(o.a)`
  &:not(.mdc-text-field--focused):hover {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.hover} !important;
    }
  }

  &&& {
    min-width: ${e=>e.theme.material.spacing(32)};
    transition: all 0.3s ease;

    .mdc-text-field__input {
      font-family: "Inter", sans-serif;
      color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.focused};

      caret-color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.focused};
    }

    .mdc-floating-label,
    .mdc-text-field__icon {
      color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.focused};
    }

    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.default};
    }
  }

  &&&.mdc-text-field--focused {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.focused};
    }
  }

  &&&.mdc-text-field--invalid {
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing {
      border-color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.error};
    }

    .mdc-floating-label,
    .mdc-text-field__icon {
      color: ${e=>e.theme.material.color.mode[e.theme.name].textinput.error};
    }
  }

  &&&.mdc-text-field--disabled {
    opacity: 0.38;
  }
`,l=e=>{const{onChange:t,disabled:n,label:a,leadingIcon:i,pattern:o,required:l,status:c,trailingIcon:d,trailingIconAction:u,type:m,value:p,name:h,className:g,onBlur:f,onFocus:b,autoFocus:v}=e;return r.createElement(s,{autoFocus:v,onChange:t,disabled:n,icon:i,invalid:"invalid"===c||e.invalid,label:a,pattern:o,required:l,trailingIcon:d&&{icon:d,tabIndex:0,onClick:u},type:m,value:p,outlined:!0,name:h,className:g,onBlur:f,onFocus:b})}},1973:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=(e,t)=>({type:"uploadContainer",files:[],directories:[],existingFiles:t.map(e=>o(e)),existingDirectories:e.map(e=>r(e))}),i=e=>({type:"remoteUrlUploadContainer",children:e.map(e=>({type:"remoteUrlUploadFile",name:e.name,url:e.url,state:{type:"success",size:0}}))}),o=e=>({type:"existingFile",name:e.name,size:e.size,identifier:{type:"firestore",gcsPath:e.gcsPath||""}}),r=e=>({type:"existingDirectory",name:e.name,directories:e.directories.map(e=>r(e)),files:e.files.map(e=>o(e))})},1974:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(3),i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){var t=this;return e.createElement("ul",{className:"horizontal-list"},this.props.list.filter((function(e){return e})).map((function(n,a){return e.createElement("li",{key:a,className:"horizontal-list-item horizontal-list-item--"+(t.props.separator||"bullet")+" "+(!t.props.overrideStyling&&"horizontal-list-item--default")},n)})))},n}(e.Component)}).call(this,n(0))},1975:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(3),i=n(0),o=n(1897),r=n(1896),s=n(1898),l=n(97),c=n(1812),d=n(1786),u=n(1757),m=n(8),p=n(1736),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.topicId,n=e.isNew;return m.featureFlags.discussionsRefactorEnabled?t?i.createElement(c.a,{user:Object(p.a)(),topicId:t}):n?i.createElement(d.a,{allowAttachments:this.props.allowAttachments,user:Object(p.a)(),forumUrl:this.props.parentUrl,forumId:this.props.forumId}):i.createElement(u.a,{forumId:this.props.forumId,initialSubscriptionState:this.props.subscription,initialSort:this.props.paramValues.sortBy}):t?i.createElement(r.a,{topicId:this.props.topicId,isCompetitionHost:this.props.isCompetitionHost}):n?i.createElement(o.a,Object(a.__assign)({},function(e){e.isNew,e.isSitewide,e.onTopicClicked,e.canDownvote,e.id,e.initialTopics,e.isRootLevel,e.isSubscribed,e.paramValues,e.topicId,e.dataUrl;return Object(a.__rest)(e,["isNew","isSitewide","onTopicClicked","canDownvote","id","initialTopics","isRootLevel","isSubscribed","paramValues","topicId","dataUrl"])}(this.props))):i.createElement(s.a,Object(a.__assign)({},function(e){e.isNew,e.topicSubmitted,e.allowAttachments,e.authorRanking,e.authorTier,e.authorType,e.forumId,e.parentName,e.parentUrl,e.topicId;return Object(a.__rest)(e,["isNew","topicSubmitted","allowAttachments","authorRanking","authorTier","authorType","forumId","parentName","parentUrl","topicId"])}(this.props)))},t.prototype.componentDidMount=function(){Object(l.c)("discussions","view",{ForumId:this.props.forumId,TopicId:""})},t}(i.Component)},1976:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0);n(85);const i=e=>{const{children:t,className:n="",onClick:i,tabIndex:o}=e;return a.createElement("li",{className:`mdc-list-item ${n}`,tabIndex:o,onClick:i,role:"listitem"},t)}},1977:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),i=n.n(a),o=n(0);const r=i.a.a`
  align-items: center;
  cursor: pointer;
  display: flex;
  flex: 1;
  height: 100%;
  text-decoration: none;
  max-width: calc(100% - ${e=>e.theme.material.spacing(8)});

  &:focus {
    outline: none;
  }
`,s=e=>{const{children:t,className:n,href:a,target:i}=e;return o.createElement(r,{className:n,href:a,target:i},t)}},1978:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),i=n.n(a),o=n(0),r=n(160);const s=i()(r.a)`
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  width: 100%;
`,l=e=>{const{children:t,fallbackImage:n,graphic:a,alt:i}=e;return o.createElement("span",{className:"mdc-list-item__graphic"},a&&o.createElement(s,{graphic:a,alt:i,fallbackImage:n}),t&&t)}},1979:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(1),i=n.n(a),o=n(0),r=n(383);const s=i.a.span`
  height: 100%;
`,l=i()(r.t)`
  && {
    margin-right: 8px;
    margin-top: -4px;
  }
`,c=i()(r.e)`
  display: block;
  &::before {
    content: "";
    display: inline-block;
    height: 20px;
  }
`,d=i()(r.e)`
  display: block;
  &::before {
    content: "";
    display: inline-block;
    height: 16px;
  }
`,u=e=>{const{primaryText:t,secondaryText:n,tertiaryText:a}=e;return o.createElement(s,{className:"mdc-list-item__text"},o.createElement(l,{className:"mdc-list-item__primary-text"},t),o.createElement(c,{emphasis:"low"},n),o.createElement(d,{emphasis:"low"},a))}},1980:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),i=n.n(a),o=n(1623),r=n(0);n(576),n(1420);const s=i()(o.c)`
  --mdc-theme-primary: ${e=>e.theme.material.color.brand.blue[800]};

  && {
    font-size: 14px;
    min-width: ${e=>e.theme.material.spacing(16)};
    text-transform: none;

    .mdc-button__label {
      font-weight: 500;
      font-family: "Inter", sans-serif;
      letter-spacing: 0px;
    }
  }

  &.mdc-button {
    .mdc-button__label {
      font-weight: ${e=>e.theme.material.color.brand.blue[800]};
    }

    &:hover {
      .mdc-button__label {
        color: ${e=>e.theme.material.color.brand.blue[700]};
      }
    }

    &:active {
      .mdc-button__label {
        color: ${e=>e.theme.material.color.brand.blue[700]};
      }
    }

    &:disabled {
      .mdc-button__label {
        color: ${e=>e.theme.material.color.brand.grey[400]};
      }
    }
  }

  &.mdc-button--outlined:not(:disabled) {
    background-color: transparent;
    border-color: ${e=>e.theme.material.color.brand.grey[200]};

    &:hover {
      background-color: transparent;

      .mdc-button__label {
        color: ${e=>e.theme.material.color.brand.blue[700]};
      }
    }

    &:active {
      background-color: ${e=>e.theme.material.color.brand.blue[100]};
      border-color: ${e=>e.theme.material.color.brand.blue[200]};

      .mdc-button__label {
        color: ${e=>e.theme.material.color.brand.blue[700]};
      }
    }

    &:disabled {
      background-color: transparent;
      border-color: ${e=>e.theme.material.color.brand.grey[100]};
      .mdc-button__label {
        color: ${e=>e.theme.material.color.brand.grey[400]};
      }
    }
  }

  &.mdc-button--unelevated {
    &:hover {
      .mdc-button__label {
        color: ${e=>e.theme.material.color.white};
      }
    }

    &:active {
      .mdc-button__label {
        color: ${e=>e.theme.material.color.white};
      }
    }

    &:disabled {
      background-color: ${e=>e.theme.material.color.brand.grey[100]};
      color: ${e=>e.theme.material.color.brand.grey[500]};
    }
  }
`,l=e=>{const{action:t,children:n,className:a,disabled:i,isDefaultAction:o,leadingIcon:l,trailingIcon:c}=e,d=e.variant||"unelevated";return r.createElement(s,{action:t,className:a,disabled:i,icon:l,isDefaultAction:o,outlined:"outlined"===d,trailingIcon:c,unelevated:"unelevated"===d},n)}},1982:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(3),i=n(1647),o=n(1983),r=function(t){function n(e){var n=t.call(this,e)||this;n.onVote=function(){setTimeout((function(){n.setState({hasUpvoted:!0}),n.props.onVote&&n.props.onVote(),"dataset"==n.props.entity?Object(i.d)(null,"suggestions"):"script"==n.props.entity&&Object(i.c)(null,"suggestions")}))};var o=Object(a.__assign)(Object(a.__assign)({},e),{hasUpvoted:!1,subText:e.subText||"Show your appreciation with an upvote",onVote:n.onVote});return n.state=o,n}return Object(a.__extends)(n,t),n.prototype.render=function(){return e.createElement(o.a,Object(a.__assign)(Object(a.__assign)({},this.props),this.state))},n}(e.Component)}).call(this,n(0))},1983:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(3),i=n(1421),o=n(575),r=n(22),s=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.renderUpvoter=function(t,n){return e.createElement("div",{key:n,className:"upvote-suggestion__voter"},e.createElement(o.a,{tipText:t.displayName,size:"small"},e.createElement("a",{href:t.profileUrl,className:"upvote-suggestion__voter-link"},e.createElement("img",{src:t.avatarThumbnailUrl,alt:t.userName,className:"upvote-suggestion__voter-img"}))))},n.prototype.renderAlreadyUpvoted=function(){return e.createElement("div",{className:r("upvote-suggestion",this.props.additionalClassNames)},e.createElement("div",{className:"upvote-suggestion__already-upvoted"},"Thanks for showing your appreciation and casting your vote."))},n.prototype.renderNotYetUpvoted=function(){var t=this;return e.createElement("div",{className:r("upvote-suggestion",this.props.additionalClassNames)},e.createElement("div",{className:"upvote-suggestion__text"},e.createElement("div",{className:"upvote-suggestion__main-text"},this.props.mainText),e.createElement("div",{className:"upvote-suggestion__sub-text"},this.props.subText)),e.createElement("div",{className:"upvote-suggestion__button"},e.createElement(i.VoteButton,{canUpvote:!0,canDownvote:!1,voteUpUrl:this.props.upVoteUrl,voteDownUrl:null,totalVotes:this.props.voteCount,hasAlreadyVotedUp:!1,hasAlreadyVotedDown:!1,onVoteUpSuccess:function(){return t.props.onVote()}})),e.createElement("div",{className:"upvote-suggestion__voters"},this.props.upVoters.map((function(e,n){return n<15&&t.renderUpvoter(e,n)}))))},n.prototype.render=function(){return this.props.hasUpvoted?this.renderAlreadyUpvoted():this.renderNotYetUpvoted()},n}(e.Component)}).call(this,n(0))},1984:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return R}));var a,i,o,r,s,l,c,d,u,m,p,h,g,f=n(3),b=n(10),v=n(386),y=n(30),w=n(1631),E=n(1657),x=n(1),C=n.n(x),k=n(1644),_=C.a.div.withConfig({displayName:"CollaborationModal_CollaboratorsContainer",componentId:"sc-1520a1"})(a||(a=Object(f.__makeTemplateObject)(["\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n  width: 500px;\n  height: 500px;\n  font-size: ",";\n  font-weight: ",";\n  display: flex;\n  flex-flow: column nowrap;\n"],["\n  padding: 0 0 0 0;\n  margin: 0 0 0 0;\n  width: 500px;\n  height: 500px;\n  font-size: ",";\n  font-weight: ",";\n  display: flex;\n  flex-flow: column nowrap;\n"])),b.d.FontSizeM,b.d.FontWeightMedium),S=C.a.div.withConfig({displayName:"CollaborationModal_CollaboratorsHeader",componentId:"sc-oabd6n"})(i||(i=Object(f.__makeTemplateObject)(["\n  color: ",";\n  align-items: center;\n  background-color: ",";\n  border-radius: "," "," 0 0;\n  border-bottom: 1px solid ",";\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 0 0 "," * 2;\n  justify-content: space-between;\n  width: 100%;\n"],["\n  color: ",";\n  align-items: center;\n  background-color: ",";\n  border-radius: "," "," 0 0;\n  border-bottom: 1px solid ",";\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 0 0 "," * 2;\n  justify-content: space-between;\n  width: 100%;\n"])),b.b.TextMedium,b.b.ContentHeaderBackground,b.g.BorderRadius,b.g.BorderRadius,b.b.ContentBorderLight,b.g.PadL),O=C.a.div.withConfig({displayName:"CollaborationModal_CollaboratorsHeaderTitle",componentId:"sc-ykovqd"})(o||(o=Object(f.__makeTemplateObject)(["\n  color: ",";\n  line-height: ",";\n  margin: ",";\n  text-align: left;\n  flex: 0 1 auto;\n"],["\n  color: ",";\n  line-height: ",";\n  margin: ",";\n  text-align: left;\n  flex: 0 1 auto;\n"])),b.b.TextLight,b.d.FontSizeM,b.g.PadM),T=C.a.div.withConfig({displayName:"CollaborationModal_CollaboratorsHeaderClose",componentId:"sc-i4k2iq"})(r||(r=Object(f.__makeTemplateObject)(["\n  cursor: pointer;\n  color: ",";\n  flex: 0 0 auto;\n  margin: ",";\n"],["\n  cursor: pointer;\n  color: ",";\n  flex: 0 0 auto;\n  margin: ",";\n"])),b.b.TextLight,b.g.PadM),j=C()(v.b).withConfig({displayName:"CollaborationModal_CollaboratorsHeaderCloseIcon",componentId:"sc-1jb6qte"})(s||(s=Object(f.__makeTemplateObject)(["\n  cursor: pointer;\n  width: 16px;\n"],["\n  cursor: pointer;\n  width: 16px;\n"]))),I=C.a.div.withConfig({displayName:"CollaborationModal_CollaboratorsList",componentId:"sc-8rt31z"})(l||(l=Object(f.__makeTemplateObject)(["\n  overflow-x: hidden;\n  overflow-y: auto;\n  height: 452px;\n"],["\n  overflow-x: hidden;\n  overflow-y: auto;\n  height: 452px;\n"]))),N=C.a.div.withConfig({displayName:"CollaborationModal_Collaborator",componentId:"sc-1nb8bwv"})(c||(c=Object(f.__makeTemplateObject)(["\n  display: flex;\n  border-bottom: 1px solid ",";\n"],["\n  display: flex;\n  border-bottom: 1px solid ",";\n"])),b.b.ContentBorderLight),D=C.a.div.withConfig({displayName:"CollaborationModal_CollaboratorIcon",componentId:"sc-1rpmd2s"})(d||(d=Object(f.__makeTemplateObject)(["\n  align-self: center;\n  flex: 0 0 auto;\n  width: 48px;\n  margin: "," ",";\n"],["\n  align-self: center;\n  flex: 0 0 auto;\n  width: 48px;\n  margin: "," ",";\n"])),b.g.PadXs,b.g.PadM),$=C.a.div.withConfig({displayName:"CollaborationModal_CollaboratorName",componentId:"sc-etst25"})(u||(u=Object(f.__makeTemplateObject)(["\n  align-self: center;\n  flex: 2 2 auto;\n  font-weight: ",";\n"],["\n  align-self: center;\n  flex: 2 2 auto;\n  font-weight: ",";\n"])),b.d.FontWeightMedium),M=C.a.span.withConfig({displayName:"CollaborationModal_CollaboratorSelf",componentId:"sc-1pmqjs8"})(m||(m=Object(f.__makeTemplateObject)(["\n  margin-left: ",";\n"],["\n  margin-left: ",";\n"])),b.g.PadXs),U=C.a.a.withConfig({displayName:"CollaborationModal_CollaboratorLink",componentId:"sc-13fdhor"})(p||(p=Object(f.__makeTemplateObject)(["\n  text-decoration: none;\n  color: "," !important;\n  &:hover {\n    color: "," !important;\n  }\n"],["\n  text-decoration: none;\n  color: "," !important;\n  &:hover {\n    color: "," !important;\n  }\n"])),b.b.TextLink,b.b.TextLinkHover),P=C.a.div.withConfig({displayName:"CollaborationModal_CollaboratorOwner",componentId:"sc-3v5h8l"})(h||(h=Object(f.__makeTemplateObject)(["\n  color: ",";\n  align-self: center;\n  flex: 0 0 auto;\n  font-weight: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  align-self: center;\n  flex: 0 0 auto;\n  font-weight: ",";\n  margin-right: ",";\n"])),b.b.TextLight,b.d.FontWeightNormal,b.g.PadL),F=C()(P).withConfig({displayName:"CollaborationModal_RemoveCollaboratorIcon",componentId:"sc-1v41mqv"})(g||(g=Object(f.__makeTemplateObject)(["\n  color: ",";\n  cursor: pointer;\n"],["\n  color: ",";\n  cursor: pointer;\n"])),b.b.KaggleRed),R=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.state={showRemovalConfirmation:!1},n.onRemoveCollaboratorConfirm=function(){var e=n.props,t=e.collaborators,a=e.owner,i=t.filter((function(e){return e.userId!==y.a.userId}));n.props.onRemoveCurrentUser({collaborators:i,owner:a}),n.props.onClose()},n.onRemoveCollaboratorClick=function(){n.setState({showRemovalConfirmation:!0})},n.renderRemovalConfirmation=function(){return e.createElement(k.a,{isShown:n.state.showRemovalConfirmation,isDangerousAction:!0,title:"Confirm Removal",children:"This action will remove you as a collaborator. Are you sure you want to continue?",confirmText:"Yes, remove me",onConfirm:n.onRemoveCollaboratorConfirm,onCancel:function(){n.setState({showRemovalConfirmation:!1})}})},n}return Object(f.__extends)(n,t),n.prototype.renderCollaborator=function(t,n){var a=t.isUser&&!y.a.isAnonymous&&t.userId===y.a.userId,i=null;return"owner"===t.type?i=e.createElement(P,null,"Owner"):a&&(i=e.createElement(F,null,e.createElement(v.b,{name:"times",onClick:this.onRemoveCollaboratorClick}))),e.createElement(N,{key:"collaborator-"+n},e.createElement(D,null,e.createElement(E.a,{thumbnailUrl:t.thumbnailUrl,displayName:t.name,id:t.userId,userUrl:t.profileUrl,key:t.userId,tierInt:t.userTier,width:32,hideTooltip:!0})),e.createElement($,null,e.createElement(U,{href:t.profileUrl},t.name),a&&e.createElement(M,null,"(you)")),i)},n.prototype.render=function(){var t=this,n=this.props.collaborators.filter((function(e){return"reader"==e.type&&t.props.showReaders||"writer"==e.type&&t.props.showWriters}));return e.createElement(w.a,{modalIsShown:this.props.isShown,onClose:function(){return t.props.onClose()},className:"collaboration-modal"},e.createElement(e.Fragment,null,e.createElement(_,null,e.createElement(S,null,e.createElement(O,null,"Collaborators"),e.createElement(T,null,e.createElement(j,{name:"close",onClick:function(){return t.props.onClose()}}))),e.createElement(I,null,this.renderCollaborator(this.props.owner,-1),n.map((function(e,n){return t.renderCollaborator(e,n)})))),this.renderRemovalConfirmation()))},n}(e.Component)}).call(this,n(0))},1991:function(e,t,n){"use strict";var a=n(383),i=n(1416),o=n(384),r=n(8),s=n(1),l=n.n(s),c=n(1613),d=n(0),u=n(1637),m=n(1682);var p=n(385),h=n(1634);const g=(e,t)=>{var n,a,i,o,r;if(e)switch(e.type){case"file":return p(e.fileInfo.size);case"directory":const s=e,l=(null===(a=null===(n=s.directoryInfo)||void 0===n?void 0:n.directories)||void 0===a?void 0:a.totalChildren)||0,c=(null===(o=null===(i=s.directoryInfo)||void 0===i?void 0:i.files)||void 0===o?void 0:o.totalChildren)||0;return l>0&&c>0?`${Object(h.l)(l)} directories, ${Object(h.l)(c)} files`:c>0?`${Object(h.l)(c)} files`:l>0?`${Object(h.l)(l)} directories`:!0===t?"empty":void 0;case"table":const d=e;if(null===(r=d.tableInfo)||void 0===r?void 0:r.totalRows)return`${Object(h.l)(d.tableInfo.totalRows)} rows`}};var f=n(1779);var b=n(1758),v=n(1746),y=n(1633),w=n(1808),E=n(1747),x=n(1652),C=n(1449);l.a.div`
  height: fit-content;
`;const k=l.a.div`
  flex: 1 1 auto;
  overflow: auto;
  max-height: fit-content;

  ${e=>Object(x.a)(e)}
`,_=l.a.div`
  background-color: ${e=>y.a[e.theme.name].background};
  border-top: 1px solid ${e=>y.a[e.theme.name].border};
  flex: 1 1 auto;
  overflow-x: auto;
  min-height: ${"550px"};
  max-height: fit-content;

  ${e=>Object(x.a)(e)}
`,S=l.a.div`
  /* Note: no material border color found */
  border-bottom: 1px solid ${e=>y.a[e.theme.name].border};
  background-color: ${e=>y.a[e.theme.name].background};
  display: flex;
  flex-direction: row;
  height: fit-content;
  width: fit-content;
`,O=s.css`
  font-size: ${e=>e.theme.material.typography.body3.fontSize};
  /* Note: no material border color found */
  border-right: 1px solid ${e=>y.a[e.theme.name].border};
  flex: 1 1 auto;
  width: ${"150px"};
  min-width: ${"150px"};
  padding: ${"8px"} ${"12px"};
  color: ${e=>y.a[e.theme.name].text};
  text-align: left;
  vertical-align: top;
  word-break: break-word;
`,T=l.a.div`
  ${O}
`,j=l()(T)`
  text-align: center;
  display: flex;
  justify-content: center;
  flex-direction: column;
`,I=l()(a.o)`
  color: ${e=>y.a[e.theme.name].blue};
`,N=l()(a.e)``,D=l()(a.i)`
  color: ${e=>y.a[e.theme.name].blue};
  font-family: "Inter", sans-serif;
`,$=l()(a.o)``,M=l()(C.a)`
  /* Prevent flickering on the tooltip hover inspired by
   * https://stackoverflow.com/questions/37902708/google-charts-tooltip-flickering
   */
  .google-visualization-tooltip {
    pointer-events: none;
  }
`,U=l()(a.b.withComponent("span"))`
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
`,P=l()(k)`
  display: flex;
`,F=l.a.audio`
  flex: 1 1 auto;
  max-width: 100%;
  max-height: 100%;
  margin: ${e=>e.theme.material.spacing(6)};
`,R=d.memo(e=>{const{data:t,maximized:n}=e;return d.createElement(P,{maximized:n},d.createElement(F,{src:t.url,controls:!0,autoPlay:!1,"data-testid":"preview-audio"},"Your browser does not support the audio player."))});var z=n(1468),L=n(1767);const A=l()(z.a)`
  margin-left: ${e=>e.theme.material.spacing(6)};
`,V=d.memo(e=>{const{reference:t,dataSources:n,selectedObject:a,selectedSource:i,userSettings:o}=e,[r,s]=d.useState(!1),[l,c]=d.useState(!1),[u,m]=d.useState(0);return d.useEffect(()=>{s(!1);const e=n.filter(e=>"competition"===e.sourceType);"notebook"===t.type&&"file"===(null==a?void 0:a.type)&&"notebookOutput"===(null==i?void 0:i.sourceType)&&e.length>=1&&o.userId&&o.canEdit&&(s(!0),m(e[0].sourceId))},[n,t,a]),r?d.createElement(d.Fragment,null,d.createElement(A,{onClick:()=>c(!0)},"Submit"),o.userId&&u&&d.createElement(L.a,{competitionId:u,userId:o.userId,kernelId:"notebook"===t.type?t.id:void 0,kernelRunId:"notebook"===t.type?t.kernelRunId:void 0,fileName:null==a?void 0:a.relativeUrl,shouldShow:l,onHide:()=>c(!1),client:"data-viewer-file"})):null});var B=n(1670),K=n(1413),H=n(1684);const q=l.a.div`
  flex: 1 1 auto;
  margin: ${e=>e.theme.material.spacing(6)};
  overflow: auto;
  ${e=>Object(x.a)(e)}
`,W=l.a.div`
  display: flex;
`,G=l.a.img`
  flex: 0 0 auto;
  height: 68px;
  width: 68px;
  margin-right: ${e=>e.theme.material.spacing(4)};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
`,Q=l.a.div`
  flex: 0 0 auto;
  height: 68px;
  width: 68px;
  margin-right: ${e=>e.theme.material.spacing(4)};
  display: flex;
  align-items: center;
`,Y=l.a.div`
  flex: 1 1 auto;
  overflow-x: hidden;
`,X=l()(a.n)`
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;

  &:hover {
    color: ${e=>y.a[e.theme.name].blueHover};
  }
`,J=l()(a.t)`
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,Z=l()(a.b)`
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,ee=l.a.a`
  text-decoration: none;
`,te=l()(a.t)`
  margin-top: ${e=>e.theme.material.spacing(3)};
`,ne=l()(a.b)`
  margin-top: ${e=>e.theme.material.spacing(3)};
`,ae=l()(a.b.withComponent("div"))`
  margin-top: ${e=>e.theme.material.spacing(3)};
  max-height: ${"400px"};
  overflow-x: hidden;
  overflow-y: auto;

  ${e=>Object(x.a)(e,2)}
`,ie=l()(i.a)`
  margin-left: ${e=>e.left?0:e.theme.material.spacing(2)};
  margin-right: ${e=>e.left?e.theme.material.spacing(2):0};
  cursor: pointer;
`,oe=d.memo(e=>{const t=d.useContext(u.a),n=d.useContext(s.ThemeContext),a=Object(c.a)(s.BreakpointDown.XS),{reference:i,uxSettings:r,dispatch:l}=t,{treeCollapsed:m}=r,{dataSource:p,treeOnLeft:h}=e,{name:g,subtitle:f,description:b,imageUrl:v,sourceUrl:w,lastUpdated:E,versionNumber:x,sourceType:C,state:k}=p,_=E&&x?d.createElement(d.Fragment,null,"Last Updated: ",d.createElement(K.a,{time:E})," (Version ",x,")"):E?d.createElement(d.Fragment,null,"Last Updated: ",d.createElement(K.a,{time:E})):x?d.createElement(d.Fragment,null,"Version ",x):void 0,S="competition"===C?"Competition":"dataset"===C?"Dataset":"notebook"===C?"Notebook":"utilityScript"===C?"Script":"Data",O="deleted"===k?"This data has been deleted.":"privateButVisible"===k?"This data is private, you have access to it.":"private"===k?"This data is private.":void 0,T="dataset"===p.sourceType||"competition"===p.sourceType,j="notebook"!==i.type||a?d.createElement(o.Tooltip,{tip:m?"Show tree":"Hide tree"},d.createElement(ie,{icon:m?h?"chevron_right":"chevron_left":h?"chevron_left":"chevron_right",size:"medium",left:h||!1,color:y.a[n.name].text70,onClick:()=>l({type:"collapseTree",collapsed:!m})})):null;return d.createElement(q,null,d.createElement(W,null,T?d.createElement(G,{src:v}):d.createElement(Q,null,Object(H.b)(p,"xlarge")),d.createElement(Y,null,d.createElement(ee,{href:w,target:"_blank",rel:"noopener"},d.createElement(X,{emphasis:"high"},g)),f&&d.createElement(J,{emphasis:"medium"},f),_&&d.createElement(Z,{emphasis:"low"},_)),j),O&&d.createElement(ne,{emphasis:"low"},O),b&&d.createElement(d.Fragment,null,d.createElement(te,null,"About this ",S),d.createElement(ae,null,d.createElement(B.a.Consumer,null,e=>e(b)))))});var re=n(1625),se=n(1768);const le=l.a.div`
  display: flex;
`,ce=l()(a.t)`
  flex: 1 1 auto;
`,de=l()(re.a)`
  flex: 0 0 auto;
  margin: -${e=>e.theme.material.spacing(4)};
`,ue=l()(a.e)`
  margin-top: ${e=>e.theme.material.spacing(2)};
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,me=l()(a.b.withComponent("div"))`
  margin-top: ${e=>e.theme.material.spacing(4)};
`,pe=l()(me)`
  overflow-y: auto;
  overflow-x: hidden;
  ${e=>Object(x.a)(e)};
`,he=l()(a.u)`
  margin-left: ${e=>e.theme.material.spacing(1)};
`,ge=e=>{const t=d.useContext(s.ThemeContext),{item:n,canEdit:a,isEdit:i,description:o,remoteUrl:r,onDescriptionChange:l,onToggleEdit:c}=e;return d.createElement(d.Fragment,null,d.createElement(le,null,d.createElement(ce,null,"About this ",fe(n)),a&&d.createElement(de,{useKM:!0,icon:"create",size:"small",color:y.a[t.name].textHigh,onClick:c})),r&&d.createElement(ue,{emphasis:"medium"},"Remote source:",d.createElement(he,{href:r,target:"_blank",rel:"noopener"},r)),i&&d.createElement(pe,null,d.createElement(se.a.Consumer,null,e=>e(o,e=>l(e),t.material.spacing(28)))),!i&&d.createElement(me,null,d.createElement(B.a.Consumer,null,e=>e(o||"This file does not have a description yet."))))},fe=e=>{switch(e.type){case"file":return"file";case"table":return"table";case"directory":return"directory";case"tableColumn":return"column";case"dataSource":case"databundle":case"databundleVersion":return"data source";default:return"item"}},be=l.a.div`
  border-top: 1px solid ${e=>y.a[e.theme.name].border};
`,ve=l.a.div`
  flex: 0 0 auto;
  border-top: 1px solid ${e=>y.a[e.theme.name].border};
  border-bottom: 1px solid ${e=>y.a[e.theme.name].border};
  background-color: ${e=>e.isEdit?y.a[e.theme.name].background:y.a[e.theme.name].backgroundAlt};
  max-height: ${e=>e.isEdit?"332px":"148px"};
  overflow-y: auto;
  padding: ${e=>e.theme.material.spacing(4)}
    ${e=>e.theme.material.spacing(6)};
  ${e=>Object(x.a)(e)};
`,ye=l.a.div`
  display: flex;
  justify-content: flex-end;
  margin-top: ${e=>e.theme.material.spacing(4)};
`,we=l()(z.a)`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,Ee=e=>{const{item:t,remoteUrl:n,canEdit:a,onSave:i}=e,[o,r]=d.useState(!1),[s,l]=d.useState(t.description||"");return t.description||a?d.createElement(ve,{isEdit:o},d.createElement(ge,{canEdit:a,description:s,isEdit:o,item:t,remoteUrl:n,onDescriptionChange:l,onToggleEdit:()=>{r(!o),l(t.description||"")}}),o&&d.createElement(ye,null,d.createElement(we,{variant:"outlined",onClick:()=>{r(!1),l(t.description||"")}},"Cancel"),d.createElement(we,{onClick:()=>{r(!1),i(s)}},"Save"))):d.createElement(be,null)},xe=l.a.div`
  border: 1px solid ${e=>y.a[e.theme.name].border};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  cursor: pointer;
  position: relative;
  height: 140px;
  overflow: hidden;
  margin: ${e=>e.theme.material.spacing(2)};
  padding: 0;
  width: 160px;
`,Ce=l.a.div`
  background: ${e=>y.a[e.theme.name].backgroundTransparent};
  bottom: 0;
  left: 0;
  right: 0;
  padding: ${e=>e.theme.material.spacing(2)};
  position: absolute;
`,ke=l.a.div`
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 80%;
`,_e=l()(a.c)`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,Se=l()(a.e)`
  color: ${e=>y.a[e.theme.name].textHigh};
  margin-top: ${e=>e.theme.material.spacing(1)};
`,Oe=l.a.img`
  object-fit: cover;
  width: 100%;
  height: 100%;
`,Te=d.memo(e=>{var t,n;const a=d.useContext(s.ThemeContext),{object:i,preview:o,onClick:l}=e,c=o&&"success"===o.type&&(null===(t=o.data.dataUrl)||void 0===t?void 0:t.url)&&Ui(o.data.dataUrl.type)===r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataUrlType.IMAGE?d.createElement(Oe,{src:null===(n=o.data.dataUrl)||void 0===n?void 0:n.url}):d.createElement(ke,null,Object(H.b)(i,"xlarge",y.a[a.name].textLow)),u=g(i,!0);return d.createElement(xe,{key:i.name,onClick:l?()=>l():void 0},c,d.createElement(Ce,null,d.createElement(_e,null,i.name),u&&d.createElement(Se,null,u)))}),je=l.a.div`
  flex: 1 1 auto;
  overflow: auto;
  ${e=>Object(x.a)(e)}
`,Ie=l.a.div`
  display: flex;
  flex-wrap: wrap;
  justify-content: start;
  padding: ${e=>e.theme.material.spacing(2)};
`,Ne=l()(a.b)`
  margin: ${e=>e.theme.material.spacing(6)};
`,De=l.a.div`
  margin: 0 ${e=>e.theme.material.spacing(4)}
    ${e=>e.theme.material.spacing(4)} ${e=>e.theme.material.spacing(4)};
`,$e=l.a.a`
  margin-left: ${e=>e.theme.material.spacing(1)};
  cursor: pointer;
  text-decoration: underline;
`,Me=e=>{const{directory:t,source:n}=e,i=d.useContext(u.a),o=d.useContext(u.b),{previewCache:r,dispatch:s,dispatchAsync:l}=i,c=t.directoryInfo.directories.totalChildren+t.directoryInfo.files.totalChildren,m=t.directoryInfo.directories.count+t.directoryInfo.files.count;return d.useEffect(()=>{t.directoryInfo.files.children.forEach(e=>{const t=Object(b.a)(e,void 0,void 0),a=Object(v.a)(t,r),i=Object(H.d)(e.name);"noPreview"===a.type&&Object(H.f)(i)&&l({type:"loadPreview",item:e,source:n})})},[t.directoryInfo.files.children]),c>0&&0===m?d.createElement(E.a,null):0===c?d.createElement(je,null,d.createElement(Ne,null,"This directory is empty.")):d.createElement(je,null,d.createElement(Ie,null,t.directoryInfo.directories.children.map(e=>d.createElement(Te,{key:e.name,object:e,onClick:()=>s({type:"select",newItem:e,selectionContainer:o,updateUrl:!0})})),t.directoryInfo.files.children.map(e=>{const t=Object(b.a)(e,void 0,void 0),n=Object(v.a)(t,r);return d.createElement(Te,{key:e.name,object:e,preview:n,onClick:()=>s({type:"select",newItem:e,selectionContainer:o,updateUrl:!0})})})),m<c&&d.createElement(De,null,d.createElement(a.e,{emphasis:"low"},"This preview shows ",m," out of ",c," items.",d.createElement($e,{onClick:()=>l({type:"loadMoreChildren",item:t,source:n})},"Load more"))))},Ue=l.a.img`
  flex: 1 1 auto;
  max-width: 100%;
  max-height: 100%;
  object-fit: scale-down;
`,Pe=d.memo(e=>{const{data:t,maximized:n}=e;return d.createElement(k,{maximized:n},d.createElement(Ue,{src:t.url,"data-testid":"preview-image"}))});var Fe=n(1469),Re=n.n(Fe),ze=n(2057),Le=n(1649);const Ae=l()(ze.a)`
  box-sizing: border-box;
  border-bottom: 1px solid ${e=>y.a[e.theme.name].border};
  background-color: ${e=>y.a[e.theme.name].backgroundAlt};
`,Ve=d.memo(e=>{const{message:t,item:n,source:a}=e,i=d.useContext(u.a),{reference:o}=i,r="dataset"===o.type?{onClick:()=>{Object(Le.f)(`/notebooks/welcome?datasetVersionId=${o.datasetVersionId}`,!1)},label:"Create Notebook"}:void 0;return d.createElement(Ae,{variant:"notice",graphic:"error_outline",leftAction:{onClick:()=>i.dispatchAsync({type:"downloadObject",item:n,source:a}),label:"Download"},rightAction:r},t)}),Be=l.a.div`
  flex: 1 1 auto;
  white-space: pre;
  padding: ${e=>e.theme.material.spacing(2)};
`,Ke=d.memo(e=>{const{data:t,item:n,source:i,maximized:o}=e,r=t.totalBytes>t.previewBytes,s=JSON.parse(t.data),l=Array.isArray(s)&&s.length>100||"object"==typeof s&&Object.keys(s).length>100?1:2;return d.createElement(k,{maximized:o},r&&d.createElement(Ve,{message:Ti,item:n,source:i}),d.createElement(Be,null,d.createElement(a.f,null,d.createElement(Re.a,{src:s,collapsed:l}))))}),He=l.a.div`
  flex: 1 1 auto;
  padding: ${e=>e.theme.material.spacing(4)};
`,qe=l()(a.b.withComponent("div"))``,We=d.memo(e=>{const{data:t,item:n,source:a,maximized:i}=e,o=t.totalBytes>t.previewBytes;return d.createElement(k,{maximized:i},o&&d.createElement(Ve,{message:Oi,item:n,source:a}),d.createElement(He,null,d.createElement(qe,null,d.createElement(B.a.Consumer,null,e=>e(t.data)))))}),Ge=l()(k)`
  display: flex;
`,Qe=l.a.iframe`
  flex: 1 1 auto;
  min-height: 400px;
  max-width: 100%;
  max-height: 100%;
  object-fit: scale-down;
`,Ye=d.memo(e=>{const{data:t,maximized:n}=e;return d.createElement(Ge,{maximized:n},d.createElement(Qe,{src:t.url,"data-testid":"preview-pdf"}))});var Xe=n(1910),Je=n(1851),Ze=n(75),et=n(1972),tt=n(1568),nt=n(1626),at=n(1602);n(85);const it=l()(at.b)``,ot=e=>{const{children:t}=e;return d.createElement(it,null,t)},rt=l.a.div`
  background: ${e=>y.a[e.theme.name].background};
  box-shadow: ${e=>e.theme.material.elevation[5]};
  border: 1px solid ${e=>y.a[e.theme.name].borderAlt};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  display: grid;
  grid-template-rows: auto 1fr;
  grid-row-gap: ${e=>e.theme.material.spacing(1)};
  padding: ${e=>e.theme.material.spacing(3)};
  position: absolute;
  right: 0;
  top: ${e=>e.theme.material.spacing(8)};
  width: 350px;
  z-index: ${e=>e.theme.zindex[1e3]};
`,st=l.a.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
`,lt=l.a.div`
  display: flex;
  width: fit-content;
  align-items: center;
  cursor: pointer;
`,ct=l.a.div`
  align-items: center;
  margin-left: ${e=>e.theme.material.spacing(4)};
`,dt=l.a.div`
  white-space: nowrap;
  overflow: hidden;
`,ut=l()(Ze.a)`
  overflow: scroll;
  height: fit-content;
  max-height: ${"180px"};

  ${e=>Object(x.a)(e)}
`,mt=l()(et.a)``,pt=l.a.div`
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
`,ht=l()(z.a)`
  margin-left: ${e=>e.theme.material.spacing(4)};
`,gt=l()(tt.a)`
  &.mdc-list-item {
    padding: 0;
  }
`,ft=l.a.div`
  align-items: center;
  display: flex;
  margin-top: ${e=>e.theme.material.spacing(2)};
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,bt=l.a.div`
  align-items: center;
  margin-left: ${e=>e.theme.material.spacing(6)};
`,vt=l()(i.a)`
  color: ${e=>y.a[e.theme.name].blueSelected};
  margin-left: ${e=>e.theme.material.spacing(2)};
`,yt=d.memo(e=>{const t=d.useContext(u.a),n=d.useContext(u.b),{dispatch:a}=t,{existingSelectedColumnPaths:i,columnBaseInfo:o,parentRef:r,onClose:s}=e,[l,c]=d.useState(""),[m,p]=d.useState(i);d.useEffect(()=>{c(""),p(i)},[e]);const h=m.length,g=o.length,f=o.filter(e=>e.name.includes(l)).sort((e,t)=>e.order-t.order).map(e=>Object.assign(Object.assign({},e),{selected:m.includes(e.firestorePath)})),b=d.useRef(null),v=r?[b,r]:[b];return Object(Le.d)(v,s),Object(Le.i)("Escape",s),d.createElement(rt,{ref:b},d.createElement(mt,{onChange:e=>c(e.currentTarget.value),value:l,trailingIcon:"search"}),d.createElement(st,null,d.createElement(lt,{onClick:()=>{p(h===g?[]:o.map(e=>e.firestorePath))}},d.createElement(nt.a,{checked:h===g}),d.createElement(ct,null,"Select all")),d.createElement(dt,null,h," of ",g," selected")),d.createElement(ut,null,d.createElement(ot,null,f.map(e=>d.createElement(gt,{key:e.firestorePath,graphic:d.createElement(nt.a,{checked:e.selected}),onClick:()=>(e=>{const t=m.filter(t=>t!==e);t.length===m.length?p([...m,e]):p(t)})(e.firestorePath),primaryText:e.name})))),h>100&&d.createElement(ft,null,d.createElement(vt,{icon:"error_outline",size:"medium"}),d.createElement(bt,null,"Large numbers of columns may slow down previews.")),d.createElement(pt,null,d.createElement(ht,{variant:"outlined",onClick:s},"Cancel"),d.createElement(ht,{onClick:()=>{const e=o.filter(e=>m.includes(e.firestorePath)).sort((e,t)=>e.order-t.order).map(e=>({firestorePath:e.firestorePath}));a({type:"selectColumns",selectedColumns:e,selectionContainer:n}),s()}},"Apply")))}),wt=l.a.div`
  align-items: center;
  display: flex;
  justify-content: space-between;
  margin: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(6)};
`,Et=l.a.div`
  flex: 0 0 auto;
  position: relative;
  margin-left: ${e=>e.theme.material.spacing(6)};
`,xt=l.a.div`
  display: flex;
  flex: 0 0 auto;
  text-align: right;
  cursor: pointer;
`,Ct=l()(a.b)`
  white-space: nowrap;
  margin-right: ${e=>e.theme.material.spacing(2)};
`,kt=l()(i.a)`
  margin-left: ${e=>e.theme.material.spacing(6)};
  cursor: pointer;
`,_t=d.memo(e=>{const t=d.useContext(s.ThemeContext),n=d.useContext(u.a),{dispatchAsync:a}=n,{selectedObject:r,selectedSource:l,downloadLink:c,selectedColumnPaths:m,columnBaseInfo:p}=e,[h,g]=d.useState(!0);return d.useEffect(()=>{g(!0)},[e]),d.createElement(wt,null,d.createElement(Xe.a,{text:Object(Je.a)(r,l)}),void 0!==m&&void 0!==p&&d.createElement(Et,null,d.createElement(xt,{onClick:()=>g(!h)},d.createElement(Ct,{useKM:!0,emphasis:"low"},m.length," of ",p.length," columns"),d.createElement(i.a,{icon:h?"keyboard_arrow_down":"keyboard_arrow_up",size:"small",color:y.a[t.name].text})),!h&&d.createElement(yt,{existingSelectedColumnPaths:m,columnBaseInfo:p,onClose:()=>{g(!0)}})),c&&d.createElement(o.Tooltip,{tip:"Download"},d.createElement(kt,{icon:"get_app",size:"medium",color:y.a[t.name].text70,onClick:()=>{a({type:"downloadObject",item:r,source:l})}})))});var St=n(1675);const Ot=l.a.div`
  display: flex;
  flex: 0 0 auto;
  justify-content: space-between;
  align-items: center;
`,Tt=l.a.div`
  max-width: 400px;
`,jt=l.a.div`
  flex: 0 0 auto;
  position: relative;
`,It=l.a.div`
  display: flex;
  flex: 0 0 auto;
  text-align: right;
  cursor: pointer;
`,Nt=l()(a.b)`
  white-space: nowrap;
  margin-right: ${e=>e.theme.material.spacing(2)};
`,Dt=d.memo(e=>{const t=d.useContext(s.ThemeContext),n=d.useContext(u.a),{dispatch:a}=n,{selectedViewType:o,selectedColumnPaths:r,columnBaseInfo:l}=e,[c,m]=d.useState(!0);d.useEffect(()=>{m(!0)},[e]);const p=d.useRef(null),h="detail"===o?0:"compact"===o?1:2;return d.createElement(Ot,null,d.createElement(Tt,null,d.createElement(St.a,{tabs:["Detail","Compact","Column"],selectedIndex:h,colorSelectedItem:!0,onSelectItem:e=>{switch(e){case 0:a({type:"setTabularView",viewType:"detail"});break;case 1:a({type:"setTabularView",viewType:"compact"});break;case 2:a({type:"setTabularView",viewType:"column"})}}})),d.createElement(jt,{ref:p},d.createElement(It,{onClick:()=>m(!c)},d.createElement(Nt,{emphasis:"low"},r.length," of ",l.length," columns"),d.createElement(i.a,{icon:c?"keyboard_arrow_down":"keyboard_arrow_up",size:"small",color:y.a[t.name].text})),!c&&d.createElement(yt,{existingSelectedColumnPaths:r,columnBaseInfo:l,parentRef:p,onClose:()=>{m(!0)}})))});var $t=n(1745);const Mt={chartArea:{top:"10px",bottom:"5px",left:"5px",width:"80%",height:"80%"},colors:[`${s.defaultTheme.material.color.brand.blue[900]}`,`${s.defaultTheme.material.color.brand.blue[700]}`,`${s.defaultTheme.material.color.brand.blue[500]}`],legend:"none"},Ut=e=>{const t=e<10?"90%":"100%";return Object.assign(Object.assign({},Mt),{bars:"vertical",bar:{groupWidth:t},chartArea:{top:0,left:0,width:"100%",height:"100%"},vAxis:{gridlines:{count:0,color:`${s.defaultTheme.material.color.brand.grey[50]}`},viewWindowMode:"maximized",minValue:0}})},Pt=l()(T)`
  cursor: pointer;
  display: grid;
  grid-template-columns: 2fr 1fr;
  align-items: center;
`,Ft=l.a.div`
  align-items: center;
`,Rt=l.a.div`
  display: flex;
  flex-direction: column;
  justify-content: space-evenly;
`,zt=l.a.div`
  margin-bottom: ${e=>e.largeSpacing?e.theme.material.spacing(3):e.theme.material.spacing(1)};
  &:last-child {
    margin-bottom: 0;
  }
`,Lt=l()(a.e.withComponent("p"))`
  font-weight: ${e=>e.theme.material.typography.fontWeight.medium};
  white-space: nowrap;
`,At=l()(a.e.withComponent("p"))`
  white-space: nowrap;
`,Vt=l.a.span`
  color: ${e=>y.a[e.theme.name].text40};
  margin-left: ${e=>e.theme.material.spacing(2)};
  white-space: nowrap;
`,Bt=e=>{const{nullCount:t,totalCount:n,booleanMetrics:a,columnPath:i,height:o,showCounts:r,width:s,className:l}=e,{falseCount:c,trueCount:u}=a,m=[["Boolean","Count"],["true",u],["false",c],["[null]",t]];return d.createElement(Pt,{key:`boolean-chart-${i}`,className:l},d.createElement(Ft,null,d.createElement(M,{chartType:"PieChart",data:m,options:Mt,graphID:`boolean-chart-${i}`,width:s,height:o})),r&&d.createElement(Rt,null,d.createElement(zt,{largeSpacing:0===t},d.createElement(Lt,null,"true"),d.createElement(At,null,Object(h.l)(u),d.createElement(Vt,null,Object(Le.g)(u/n)))),d.createElement(zt,{largeSpacing:0===t},d.createElement(Lt,null,"false"),d.createElement(At,null,Object(h.l)(c),d.createElement(Vt,null,Object(Le.g)(c/n)))),t>0&&d.createElement(zt,{largeSpacing:!1},d.createElement(Lt,null,"[null]"),d.createElement(At,null,Object(h.l)(t),d.createElement(Vt,null,Object(Le.g)(t/n))))))},Kt=l()(j)`
  cursor: pointer;
`,Ht=e=>{const{countryMetrics:t,columnPath:n,height:a,width:i,className:o}=e,{counts:r}=t,s=Object.assign(Object.assign({},Mt),{keepAspectRatio:!1}),l=r.filter(e=>e.key&&e.value).map(e=>[e.key,e.value]);return l.unshift(["Country","Count"]),d.createElement(Kt,{key:`country-chart-${n}`,className:o},d.createElement(M,{chartType:"GeoChart",data:l,options:s,graphID:`country-chart-${n}`,width:i,height:a}))},qt=l.a.div`
  color: ${e=>y.a[e.theme.name].text40};
  display: flex;
  margin-top: ${e=>e.theme.material.spacing(1)};
  justify-content: space-between;
`,Wt=l()(a.e.withComponent("div"))`
  flex: 1 1 auto;
  text-align: left;
  text-overflow: ellipsis;
  overflow: hidden;
  color: ${e=>y.a[e.theme.name].text40};
`,Gt=l()(Wt)`
  text-align: right;
`;function Qt(e){const{min:t,max:n}=e;return d.createElement(qt,null,d.createElement(Wt,null,t),d.createElement(Gt,null,n))}const Yt=l()(j)`
  cursor: pointer;
`,Xt=e=>{const{dateTimeMetrics:t,columnPath:n,height:a,width:i,className:o}=e,{histogram:r,maximum:s,minimum:l}=t;if(null===r||0===r.buckets.length)return d.createElement(d.Fragment,null);const c=r.buckets.filter(e=>e.label&&e.count).map(e=>[e.label,e.count]);return c.unshift(["DateTime","Count"]),d.createElement(Yt,{key:`datetime-chart-${n}`,className:o},d.createElement(M,{chartType:"ColumnChart",data:c,options:Ut(r.buckets.length),graphID:`datetime-chart-${n}`,width:i,height:a}),d.createElement(Qt,{min:Object(h.h)(new Date(l)),max:Object(h.h)(new Date(s))}))},Jt=l()(j)`
  cursor: pointer;
`,Zt=e=>{const{numericMetrics:t,columnPath:n,height:a,isInteger:i,width:o,className:r}=e,{histogram:s,maximum:l,minimum:c}=t;if(null===s||0===s.buckets.length)return d.createElement(d.Fragment,null);const u=s.buckets.filter(e=>e.label&&e.count).map(e=>[e.label,e.count]);return u.unshift(["Label","Count"]),d.createElement(Jt,{key:`numeric-chart-${n}`,className:r},d.createElement(M,{chartType:"ColumnChart",data:u,options:Ut(s.buckets.length),graphID:`numeric-chart-${n}`,width:o,height:a}),d.createElement(Qt,{min:Object(h.m)(c,i),max:Object(h.m)(l,i)}))},en=l.a.div`
  display: flex;
  flex-direction: row;
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  width: 100%;
  min-width: 0; // needed to overwrite the min-width: auto for grid cells

  :hover {
    background-color: ${e=>y.a[e.theme.name].backgroundAlt};
  }
`,tn=l()(a.e)`
  flex: 1 1 auto;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  color: ${e=>{switch(e.info.type){case"string":return`${y.a[e.theme.name].text100};`;case"null":return`${y.a[e.theme.name].error};`;case"other":default:return`${y.a[e.theme.name].text40};`}}};
`,nn=l()(a.e)`
  flex: 0 0 auto;
  margin-left: ${e=>e.theme.material.spacing(2)};

  color: ${e=>{switch(e.info.type){case"string":return`${y.a[e.theme.name].blueSelected};`;case"null":return`${y.a[e.theme.name].error};`;case"other":default:return`${y.a[e.theme.name].text40};`}}};
`,an=l()(o.Tooltip)`
  width: 100%;
  min-width: 0; // needed to overwrite the min-width: auto for grid cells
`;function on(e){const{info:t,showTooltips:n}=e,a=rn(t),i=Object(Le.g)(t.fraction),o=d.createElement(en,null,d.createElement(tn,{info:t},a),d.createElement(nn,{info:t},i));return n?d.createElement(an,{type:"dark",tip:a,place:"bottom"},o):o}const rn=e=>"other"===e.type?`Other (${e.count})`:"null"===e.type?Object(Le.h)(null):Object(Le.h)(e.text),sn=l()(j)`
  cursor: pointer;
`,ln=l()(T)`
  display: grid;
  grid-template-rows: 1fr 1fr 1fr;
  align-items: center;
`,cn=e=>{const{nullCount:t,totalCount:n,stringMetrics:a,chartSize:i,className:o}=e,{counts:r,uniqueValueCount:s,mostCommonValueCount:l}=a;if(r&&dn(l,t,n,s))return d.createElement(ln,{className:o},un(r,t,n,s));const c=s+(t>0?1:0);return d.createElement(sn,{className:o},"small"===i&&d.createElement(d.Fragment,null,d.createElement(I,null,c),d.createElement(N,null,"unique value"+(c>1?"s":""))),"large"===i&&d.createElement(d.Fragment,null,d.createElement(D,null,c),d.createElement($,null,"unique value"+(c>1?"s":""))))},dn=(e,t,n,a)=>{return(e/n>.01||t/n>.01)&&(a*e>n-t||e<t)},un=(e,t,n,a)=>{const i=((e,t)=>0===t?e:[...e,{key:null,value:t}])(e,t).sort((e,t)=>t.value-e.value).slice(0,2),o=i.map(e=>null===e.key?d.createElement(on,{key:"null",showTooltips:!1,info:{type:"null",fraction:e.value/n}}):d.createElement(on,{key:e.key,showTooltips:!0,info:{type:"string",text:e.key,fraction:e.value/n}}));if(a+(t>0?1:0)>2){const e=n-i[0].value-i[1].value;o.push(d.createElement(on,{key:"other",showTooltips:!1,info:{type:"other",count:e,fraction:e/n}}))}return o},mn=d.memo(e=>{const{column:t,chartSize:n,className:a}=e,{tableColumnInfo:i,tableColumnMetrics:o,path:r}=t;if(null===o)return d.createElement(j,null,"Metrics not available");const{extendedType:s,type:l}=i,{nullCount:c,booleanMetrics:u,countryMetrics:m,numericMetrics:p,dateTimeMetrics:h,stringMetrics:g,totalCount:f}=o,b={columnPath:r,height:"small"===n?"70px":"unset",width:"100%"};if("country"===s&&null!==m)return d.createElement(Ht,Object.assign({},b,{countryMetrics:m,className:a}));if("numeric"===l&&null!==p&&null!==p.histogram&&p.histogram.buckets.length>0){const e="id"===s||"integer"===s;return d.createElement(Zt,Object.assign({},b,{numericMetrics:p,isInteger:e,className:a}))}return"boolean"===l&&null!==u?d.createElement(Bt,Object.assign({},b,{booleanMetrics:u,nullCount:c,showCounts:!0,totalCount:f,className:a})):"dateTime"===l&&null!==h&&null!==h.histogram&&h.histogram.buckets.length>0?d.createElement(Xt,Object.assign({},b,{dateTimeMetrics:h,className:a})):"string"===l&&null!==g?d.createElement(cn,{nullCount:c,totalCount:f,stringMetrics:g,chartSize:n,className:a}):d.createElement(j,{className:a},"small"===n&&d.createElement(d.Fragment,null,d.createElement(I,null,f),d.createElement(N,null,"total values")),"large"===n&&d.createElement(d.Fragment,null,d.createElement(D,null,f),d.createElement($,null,"total values")))}),pn=l()(a.e.withComponent("div"))`
  display: flex;
  justify-content: space-between;
  margin-bottom: ${e=>e.theme.material.spacing(1)};
`,hn=l.a.div`
  flex: 1 1 auto;
`,gn=l.a.span`
  display: inline-block;
  height: 8px;
  margin-left: ${e=>e.theme.material.spacing(1)};
  width: 8px;
`,fn=l.a.span`
  color: ${e=>y.a[e.theme.name].text40};
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
  text-align: right;
  width: 50px;
`,bn=l.a.div`
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
  overflow: hidden;
  text-align: right;
  text-overflow: ellipsis;
  white-space: nowrap;
  width: 80px;
`,vn=e=>{const{label:t,value:n,className:a,percent:i,labelColor:o}=e;return d.createElement(pn,{className:a},d.createElement(hn,null,t,o&&d.createElement(gn,{style:{backgroundColor:o}})),d.createElement(bn,null,n),d.createElement(fn,null,i))},yn=l.a.div`
  display: flex;
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  margin-bottom: ${e=>e.theme.material.spacing(2)};
  width: 100%;
`,wn=l.a.div`
  height: ${e=>e.theme.material.spacing(2)};
`,En=e=>{const{percentages:t,colors:n}=e;return t.length!==n.length?d.createElement(d.Fragment,null):d.createElement(yn,null,t.map((e,t)=>d.createElement(wn,{key:`${e}-${n[t]}`,style:{width:e,backgroundColor:n[t]}})))};var xn=n(45);const Cn=l()(vn)`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,kn=e=>{const{tableColumnInfo:t,tableColumnMetrics:n}=e,{type:a,extendedType:i}=t,{totalCount:o,booleanMetrics:r,countryMetrics:s,dateTimeMetrics:l,numericMetrics:c,stringMetrics:u}=n;if("country"===i&&null!==s){const{mostCommonValue:e,mostCommonValueCount:t,uniqueValueCount:n}=s,a=Object(Le.g)(t/o);return d.createElement(d.Fragment,null,d.createElement(vn,{key:"country-unique",label:"Unique",value:Object(h.l)(n)}),null!==e&&d.createElement(vn,{key:"country-most-common",label:"Most Common",value:e,percent:a}))}if("numeric"===a&&null!==c){const{mean:e,standardDeviation:t,quantiles:n,minimum:a,maximum:o}=c,r="integer"===i||"id"===i;return d.createElement(d.Fragment,null,d.createElement(vn,{key:"numeric-mean",label:"Mean",value:Object(h.k)(e)}),d.createElement(Cn,{key:"numeric-std-dev",label:"Std. Deviation",value:Object(h.k)(t)}),d.createElement(vn,{key:"numeric-min",label:"Quantiles",value:Object(h.m)(a,r),percent:"Min"}),n.map(e=>d.createElement(vn,{key:`numeric-${e.point}`,label:"",value:Object(h.m)(e.value,r),percent:Object(Le.g)(e.point)})),d.createElement(vn,{key:"numeric-max",label:"",value:Object(h.m)(o,r),percent:"Max"}))}if("boolean"===a&&null!==r){const{trueCount:e,falseCount:t}=r,n=Object(Le.g)(e/o),a=Object(Le.g)(t/o);return d.createElement(d.Fragment,null,d.createElement(vn,{key:"boolean-true",label:"True",value:Object(h.l)(e),percent:n}),d.createElement(vn,{key:"boolean-false",label:"False",value:Object(h.l)(t),percent:a}))}if("dateTime"===a&&null!==l){const{maximum:e,mean:t,minimum:n}=l;return d.createElement(d.Fragment,null,d.createElement(vn,{key:"datetime-min",label:"Minimum",value:xn(n).format("DMMMYY")}),d.createElement(vn,{key:"datetime-mean",label:"Mean",value:xn(t).format("DMMMYY")}),d.createElement(vn,{key:"datetime-max",label:"Maximum",value:xn(e).format("DMMMYY")}))}if("string"===a&&null!==u){const{mostCommonValue:e,mostCommonValueCount:t,uniqueValueCount:n}=u,a=Object(Le.g)(t/o);return d.createElement(d.Fragment,null,d.createElement(vn,{key:"string-unique",label:"Unique",value:Object(h.l)(n)}),null!==e&&d.createElement(vn,{key:"string-most-common",label:"Most Common",value:e,percent:a}))}return d.createElement(vn,{key:"unknown-total",label:"Total",value:Object(h.l)(o)})},_n=l.a.div``,Sn=l()(vn)`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,On=e=>{const t=d.useContext(s.ThemeContext),{tableColumnInfo:n,tableColumnMetrics:a}=e,{totalCount:i,validCount:o,nullCount:r,invalidCount:l}=a,c=y.a[t.name].success,u=y.a[t.name].caution,m=y.a[t.name].error,p=Object(Le.g)(o/i),g=Object(Le.g)(l/i),f=Object(Le.g)(r/i);return d.createElement(_n,null,d.createElement(En,{percentages:[p,g,f],colors:[c,u,m]}),d.createElement(vn,{key:"valid",label:"Valid",value:Object(h.l)(o),percent:p,labelColor:c}),d.createElement(vn,{key:"mismatched",label:"Mismatched",value:Object(h.l)(l),percent:g,labelColor:u}),d.createElement(Sn,{key:"missing",label:"Missing",value:Object(h.l)(r),percent:f,labelColor:m}),d.createElement(kn,{tableColumnInfo:n,tableColumnMetrics:a}))},Tn=l.a.div`
  display: grid;
  grid-template-rows: auto 1fr;
  grid-row-gap: ${e=>e.theme.material.spacing(2)};
  margin-bottom: ${e=>e.theme.material.spacing(3)};
  border-bottom: 1px solid ${e=>y.a[e.theme.name].border};
  padding-bottom: ${e=>e.theme.material.spacing(3)};

  &:last-child {
    margin-bottom: 0;
    border-bottom: 0;
  }
`,jn=l.a.div`
  display: grid;
  grid-template-rows: none;
  grid-template-columns: 2fr 3fr;
  grid-column-gap: ${e=>e.theme.material.spacing(6)};

  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    grid-template-columns: none;
    grid-template-rows: 1fr auto;
    grid-row-gap: ${e=>e.theme.material.spacing(1)};
  }
`,In=l()(mn)`
  width: 100%;
  max-width: 100%;
  height: 100%;
  min-height: 75px; // so that mobile view doesn't look squeezed
  border: none;
  padding: 0;
  text-align: left;
`,Nn=l.a.div`
  align-items: center;
  display: flex;
  flex-direction: row;
`,Dn=l()(i.a)`
  margin-right: ${e=>e.theme.material.spacing(2)};
`,$n=l()(a.b)`
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
  margin-top: ${e=>e.theme.material.spacing(2)};
`,Mn=d.memo(e=>{const{column:t}=e;return d.createElement(Tn,null,d.createElement("div",null,d.createElement(Nn,null,d.createElement(Dn,{icon:Object($t.a)({columnType:t.tableColumnInfo.type,columnExtendedType:t.tableColumnInfo.extendedType}),size:"xsmall"}),d.createElement(a.t,null,t.name)),d.createElement($n,null,t.description)),d.createElement(jn,null,d.createElement(In,{column:t,chartSize:"large"}),d.createElement("div",null,null!==t.tableColumnMetrics&&t.tableColumnMetrics.totalCount>0&&d.createElement(On,{tableColumnInfo:t.tableColumnInfo,tableColumnMetrics:t.tableColumnMetrics}),(null===t.tableColumnMetrics||t.tableColumnMetrics.totalCount<=0)&&d.createElement(a.b,null,"Further detail is not available."))))}),Un=l.a.div`
  margin: ${e=>e.theme.material.spacing(6)};
`,Pn=d.memo(e=>{const{columns:t}=e;return t.map(e=>null===e.tableColumnMetrics||e.tableColumnMetrics.totalCount<=0).reduce((e,t)=>e&&t,!0)?d.createElement(Un,{style:{textAlign:"center"}},"Unfortunately, we couldn't grind out any metrics for the selected columns."):d.createElement(Un,null,t.map((e,t)=>d.createElement(Mn,{key:"row-"+t,column:e})))});var Fn=n(1434),Rn=n(446);const zn=l()(S)`
  & div {
    ${O}
    font-size: 12px;
    line-height: 16px;
    width: ${e=>e.isCompact?"110px":"150px"};
    min-width: ${e=>e.isCompact?"110px":"150px"};
  }
`,Ln=d.memo(e=>{const{columns:t,isCompact:n}=e;return d.createElement(a.f,null,d.createElement(zn,{isCompact:n},t.map((e,t)=>d.createElement("div",{key:t},e))))}),An=l()(a.e.withComponent("div"))`
  position: sticky;
  left: 0;
  color: ${e=>y.a[e.theme.name].textLow};
  margin: ${e=>e.theme.material.spacing(5)} 0;
  text-align: center;
  width: min(${e=>"0"!==e.contentWidth?e.contentWidth:"100%"}, 100%);
`,Vn=d.memo(e=>{const{columnCount:t,compact:n,children:a}=e,i=t>0?`calc(${t} * (${n?"110px":"150px"} + 12px * 2  + 1px))`:"0";return d.createElement(An,{contentWidth:i},a)});var Bn=n(1430),Kn=n(1853),Hn=n(1610),qn=n(1569);const Wn=l()(Hn.a)`
  margin: 0 ${e=>e.theme.material.spacing(3)};
`,Gn=l()(a.c)`
  font-family: "Inter", sans-serif;
`,Qn=e=>{var t;const{columnPath:n,currentFilter:a,setFilter:i}=e,o=null===(t=null==a?void 0:a.booleanFilter)||void 0===t?void 0:t.value;return d.createElement(Wn,{choice:!0},d.createElement(qn.a,{onClick:()=>Yn(!0,n,i,o),selected:!0===o},d.createElement(Gn,null,"TRUE")),d.createElement(qn.a,{onClick:()=>Yn(!1,n,i,o),selected:!1===o},d.createElement(Gn,null,"FALSE")))},Yn=(e,t,n,a)=>{n(e===a?void 0:{column:{firestorePath:t},booleanFilter:{value:e}})};var Xn=n(1622);const Jn=l.a.div`
  display: grid;
  grid-row-gap: ${e=>e.theme.material.spacing(2)};
  margin: 0 ${e=>e.theme.material.spacing(3)};
`,Zn=l.a.div``,ea=l()(et.a)``,ta=d.memo(e=>{const{min:t,max:n,pattern:a,onUpdateMin:i,onUpdateMax:o}=e;return d.createElement(Jn,null,d.createElement(Zn,null,d.createElement(ea,{label:"min",pattern:a,onChange:e=>i(e.currentTarget.value),value:null==t?void 0:t.toString()})),d.createElement(Zn,null,d.createElement(ea,{label:"max",pattern:a,onChange:e=>o(e.currentTarget.value),value:null==n?void 0:n.toString()})))});var na=r.Kaggle.Sdk.Datasets.DataViewer.Protos.DateTimeFilter.DateTimeOperator;const aa=/^\d{4}[\-](0[1-9]|1[012])[\-](0[1-9]|[12][0-9]|3[01])( (2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9])?$/,ia=l.a.div`
  width: 180px;
  margin: 0 ${e=>e.theme.material.spacing(9)};
`,oa=l.a.span`
  // this ensures that the text fits inside the bubble that showed up during dragging of slider
  white-space: nowrap;
  font-size: ${e=>e.length>5?"8px":e.length>4?"10px":"12px"};
`,ra=e=>{const{columnPath:t,minDate:n,maxDate:a,currentFilters:i,displayError:o,setFilters:r}=e,s=i.filter(e=>{var t;return(null===(t=e.dateTimeFilter)||void 0===t?void 0:t.operator)===na.GREATER_EQUALS}),l=i.filter(e=>{var t;return(null===(t=e.dateTimeFilter)||void 0===t?void 0:t.operator)===na.LESS_EQUALS});(s.length>1||l.length>1)&&o("Date time filter should have at most 1 minimum and 1 maximum boundaries");const c=null==n?void 0:n.getTime(),u=null==a?void 0:a.getTime(),m=s.length>0&&s[0].dateTimeFilter?1e3*s[0].dateTimeFilter.operand.seconds:c,p=l.length>0&&l[0].dateTimeFilter?1e3*l[0].dateTimeFilter.operand.seconds:u;if(void 0===c||void 0===u||void 0===m||void 0===p)return d.createElement(ta,{min:m?Object(h.j)(m):void 0,max:p?Object(h.j)(p):void 0,pattern:"[0-9]{4}[-](0[1-9]|1[012])[-](0[1-9]|[12][0-9]|3[01]) (2[0-3]|[01][0-9]):[0-5][0-9]:[0-5][0-9]",onUpdateMin:e=>{const n=e.match(aa)?xn(e).toDate().getTime():void 0;la(t,r,c,u,n,p)},onUpdateMax:e=>{const n=e.match(aa)?xn(e).toDate().getTime():void 0;la(t,r,c,u,m,n)}});const g=(u-c)/1e3;return d.createElement(ia,null,d.createElement(Xn.a,{value:[m,p],min:c,max:u,step:g,onChange:(e,n)=>{la(t,r,c,u,n[0],n[1])},valueLabelDisplay:"auto",valueLabelFormat:(e,t)=>sa(e),marks:[{value:c,label:d.createElement(U,null,Object(h.i)(c))},{value:u,label:d.createElement(U,null,Object(h.i)(u))}]}))},sa=e=>{const t=Object(h.i)(e);return d.createElement(oa,{length:t.length},t)},la=(e,t,n,a,i,o)=>{const r=[];void 0!==i&&(void 0===n||i>n)&&r.push({column:{firestorePath:e},dateTimeFilter:{operator:na.GREATER_EQUALS,operand:{seconds:Math.floor(i/1e3),nanos:i%1e3*1e6}}}),void 0!==o&&(void 0===a||o<a)&&r.push({column:{firestorePath:e},dateTimeFilter:{operator:na.LESS_EQUALS,operand:{seconds:Math.floor(o/1e3),nanos:o%1e3*1e6}}}),t(r)};var ca=r.Kaggle.Sdk.Datasets.DataViewer.Protos.NumericFilter.NumericOperator;const da=l.a.div`
  width: 180px;
  margin: 0 ${e=>e.theme.material.spacing(9)};
`,ua=l.a.span`
  // this ensures that the text fits inside the bubble that showed up during dragging of slider
  white-space: nowrap;
  font-size: ${e=>e.length>5?"8px":e.length>4?"10px":"12px"};
`,ma=e=>{const{columnPath:t,isInteger:n,minValue:a,maxValue:i,currentFilters:o,displayError:r,setFilters:s}=e,l=o.filter(e=>{var t;return(null===(t=e.numericFilter)||void 0===t?void 0:t.operator)===ca.GREATER_EQUALS}),c=o.filter(e=>{var t;return(null===(t=e.numericFilter)||void 0===t?void 0:t.operator)===ca.LESS_EQUALS});(l.length>1||c.length>1)&&r("Numeric filter should have at most 1 minimum and 1 maximum boundaries");const u=l.length>0&&l[0].numericFilter?l[0].numericFilter.operand:a,m=c.length>0&&c[0].numericFilter?c[0].numericFilter.operand:i;if(void 0===a||void 0===i||void 0===u||void 0===m||isNaN(a)||isNaN(i)||isNaN(u)||isNaN(m)){const[e,n]=d.useState(void 0===u||isNaN(u)?void 0:u.toString()),[o,r]=d.useState(void 0===m||isNaN(m)?void 0:m.toString());return d.createElement(ta,{min:e,max:o,pattern:"[-]{0,1}[0-9]*[.]{0,1}[0-9]*",onUpdateMax:e=>{r(e);const n=parseFloat(e);ha(t,s,a,i,u,Number.isNaN(n)?void 0:n)},onUpdateMin:e=>{n(e);const o=parseFloat(e);ha(t,s,a,i,Number.isNaN(o)?void 0:o,m)}})}const p=n?1:(i-a)/1e3;return d.createElement(da,null,d.createElement(Xn.a,{value:[u,m],min:a,max:i,step:p,onChange:(e,n)=>{ha(t,s,a,i,n[0],n[1])},valueLabelDisplay:"auto",valueLabelFormat:(e,t)=>pa(e,n),marks:[{value:a,label:d.createElement(U,null,Object(h.m)(a,n))},{value:i,label:d.createElement(U,null,Object(h.m)(i,n))}]}))},pa=(e,t)=>{const n=Object(h.m)(e,t);return d.createElement(ua,{length:n.length},n)},ha=(e,t,n,a,i,o)=>{const r=[];void 0!==i&&(void 0===n||isNaN(n)||i>n)&&r.push({column:{firestorePath:e},numericFilter:{operator:ca.GREATER_EQUALS,operand:i}}),void 0!==o&&(void 0===a||isNaN(a)||o<a)&&r.push({column:{firestorePath:e},numericFilter:{operator:ca.LESS_EQUALS,operand:o}}),t(r)};var ga=r.Kaggle.Sdk.Datasets.DataViewer.Protos.SortDirection;const fa=l()(Ze.a)`
  height: fit-content;
  margin-top: ${e=>e.theme.material.spacing(3)};
`,ba=l()(tt.a)`
  span {
    color: ${e=>e.selected?y.a[e.theme.name].blue:y.a[e.theme.name].textMedium};
  }

  /* TODO(jomike): remove box-shadow */
  &:focus {
    box-shadow: none;
  }
`,va=l()(i.a)`
  padding-right: ${e=>e.theme.material.spacing(1)};
  line-height: ${e=>e.theme.material.typography.caption.lineHeight};
  /* TODO(jomike): remove highlighted styling */
  color: ${e=>e.highlighted?y.a[e.theme.name].blue:y.a[e.theme.name].textMedium};
`,ya=e=>{const{toggleSort:t,currentSort:n}=e;return d.createElement(fa,{useKM:!0,variant:"dense"},d.createElement(ba,{key:"sort-ascending",selected:n===ga.ASC,onClick:()=>t(ga.ASC),graphic:d.createElement(va,{icon:"arrow_upward",size:"small",highlighted:n===ga.ASC}),primaryText:"Sort ascending"}),d.createElement(ba,{key:"sort-descending",selected:n===ga.DESC,onClick:()=>t(ga.DESC),graphic:d.createElement(va,{icon:"arrow_downward",size:"small",highlighted:n===ga.DESC}),primaryText:"Sort descending"}))};var wa=r.Kaggle.Sdk.Datasets.DataViewer.Protos.StringFilter.StringOperator;const Ea=l.a.div`
  display: grid;
  grid-template-rows: auto 1fr;
  grid-row-gap: ${e=>e.theme.material.spacing(1)};
`,xa=l()(Ze.a)`
  overflow: scroll;
  height: fit-content;
  max-height: ${"120px"};

  ${e=>Object(x.a)(e,1)}
`,Ca=l()(et.a)`
  margin: 0 ${e=>e.theme.material.spacing(3)};

  /* TODO(jomike): add dense variant for TextField */
  input {
    font-size: ${e=>e.theme.material.typography.caption.fontSize};
    line-height: ${e=>e.theme.material.typography.caption.lineHeight};
  }
`,ka=e=>{var t;const n=d.useContext(u.a),{reference:a}=n,i="notebook"===a.type&&a.isEditor,{columnPath:o,suggested:r,currentFilter:s,setFilter:l}=e,c=null===(t=null==s?void 0:s.stringFilter)||void 0===t?void 0:t.operands[0],m=i?[]:c?r.filter(e=>e.includes(c)):r;return d.createElement(Ea,null,d.createElement(Ca,{onChange:e=>_a(e.currentTarget.value,o,l),value:c,trailingIcon:"search"}),m.length>0&&d.createElement(xa,{useKM:!0,variant:"dense"},d.createElement(ot,null,m.map((e,t)=>d.createElement(tt.a,{key:t,selected:e===c,onClick:()=>_a(e,o,l),primaryText:e})))))},_a=(e,t,n)=>{n(0===e.length?void 0:{column:{firestorePath:t},stringFilter:{operator:wa.CONTAINS,operands:[e]}})},Sa=l.a.div`
  background: ${e=>y.a[e.theme.name].background};
  box-shadow: ${e=>e.theme.material.elevation[5]};
  border: 1px solid ${e=>y.a[e.theme.name].borderAlt};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  display: grid;
  grid-template-rows: auto auto auto;
  grid-row-gap: ${e=>e.theme.material.spacing(3)};
  ${e=>e.displayIndex>0?"right: 0px":"left: 0px"};
  position: absolute;
  top: ${e=>e.theme.material.spacing(8)};
  width: max-content;
  max-width: 260px;
  z-index: ${e=>e.theme.zindex[1e3]};
`,Oa=l.a.div`
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  margin: 0 ${e=>e.theme.material.spacing(3)}
    ${e=>e.theme.material.spacing(3)};
`,Ta=l()(z.a)`
  margin-left: ${e=>e.theme.material.spacing(4)};
  white-space: nowrap;
`,ja=e=>{var t;const{tableColumn:n,displayIndex:a,parentRef:i,onToggleOff:o}=e,{path:r,tableColumnInfo:s,tableColumnMetrics:l}=n,{type:c,extendedType:m}=s,p={firestorePath:r},h=d.useContext(u.a),g=d.useContext(u.b),{dispatch:f,dispatchAsync:b}=h,{selectedTableQuery:v}=g,y=(null===(t=null==v?void 0:v.sortBy)||void 0===t?void 0:t.column.firestorePath)===r?v.sortBy.direction:void 0,[w,E]=d.useState(y),x=(null==v?void 0:v.filters)?v.filters.filter(e=>e.column.firestorePath===r):[],[C,k]=d.useState(x),_=()=>{E(y),o()},S=d.useRef(null),O=i?[S,i]:[S];return Object(Le.d)(O,_),Object(Le.i)("Escape",_),d.createElement(Sa,{ref:S,displayIndex:a},d.createElement(ya,{toggleSort:e=>{E(e===w?void 0:e)},currentSort:w}),Ia(r,c,m,C,l,e=>{b({type:"showMessage",message:e})},k),d.createElement(Oa,null,d.createElement(Ta,{variant:"outlined",onClick:()=>{void 0===y&&0===x.length||(E(void 0),k([]),f({type:"setColumnQuery",column:p,selectionContainer:g,columnFilter:[],sortBy:void 0})),o()}},"Clear"),d.createElement(Ta,{onClick:()=>{const e=y!==w,t=x.length!==C.length||!x.map(e=>C.map(t=>Object(Kn.a)(e,t)).reduce((e,t)=>e&&t,!0)).reduce((e,t)=>e&&t,!0);(e||t)&&f({type:"setColumnQuery",column:p,selectionContainer:g,columnFilter:C,sortBy:void 0!==w?{column:p,direction:w}:void 0}),o()}},"Apply")))},Ia=(e,t,n,a,i,o,r)=>{const s=null===(null==i?void 0:i.stringMetrics)?void 0:null==i?void 0:i.stringMetrics,l=null===(null==i?void 0:i.countryMetrics)?void 0:null==i?void 0:i.countryMetrics,c=null===(null==i?void 0:i.numericMetrics)?void 0:null==i?void 0:i.numericMetrics,u=null===(null==i?void 0:i.dateTimeMetrics)?void 0:null==i?void 0:i.dateTimeMetrics;switch(t){case"string":return a.length>1&&o("There can be at most one filter on a string column"),d.createElement(ka,{columnPath:e,suggested:void 0!==s?s.counts.map(e=>e.key):void 0!==l?l.counts.map(e=>e.key):[],currentFilter:a[0],setFilter:e=>r(e?[e]:[])});case"boolean":return a.length>1&&o("There can be at most one filter on a boolean column"),d.createElement(Qn,{columnPath:e,currentFilter:a[0],setFilter:e=>r(e?[e]:[])});case"numeric":const t="id"===n||"integer"===n;return d.createElement(ma,{columnPath:e,isInteger:t,minValue:null==c?void 0:c.minimum,maxValue:null==c?void 0:c.maximum,currentFilters:a,displayError:o,setFilters:r});case"dateTime":return d.createElement(ra,{columnPath:e,minDate:void 0===u?void 0:new Date(u.minimum),maxDate:void 0===u?void 0:new Date(u.maximum),currentFilters:a,displayError:o,setFilters:r});default:return}};var Na=n(1452),Da=n(1438);const $a=new Map([["Address",{columnType:"string",columnExtendedType:"address"}],["Boolean",{columnType:"boolean",columnExtendedType:null}],["City",{columnType:"string",columnExtendedType:"city"}],["Coordinates",{columnType:"string",columnExtendedType:"coordinates"}],["Country",{columnType:"string",columnExtendedType:"country"}],["Date/Time",{columnType:"dateTime",columnExtendedType:null}],["Decimal",{columnType:"numeric",columnExtendedType:"decimal"}],["Email",{columnType:"string",columnExtendedType:"email"}],["ID",{columnType:"numeric",columnExtendedType:"id"}],["Integer",{columnType:"numeric",columnExtendedType:"integer"}],["Latitude",{columnType:"string",columnExtendedType:"latitude"}],["Longitude",{columnType:"string",columnExtendedType:"longitude"}],["Numeric",{columnType:"numeric",columnExtendedType:null}],["Postal Code",{columnType:"string",columnExtendedType:"postalCode"}],["Province",{columnType:"string",columnExtendedType:"province"}],["String",{columnType:"string",columnExtendedType:null}],["Url",{columnType:"string",columnExtendedType:"url"}],["UUID",{columnType:"string",columnExtendedType:"uuid"}],["Unknown",{columnType:"unknown",columnExtendedType:null}]]),Ma=[...$a.keys()],Ua=l.a.div`
  position: absolute;
  text-align: center;
  top: ${e=>e.theme.material.spacing(8)};
  width: inherit;
`,Pa=l()(Na.a)`
  width: 100%;
  height: ${"180px"};
  max-height: ${"180px"};
  overflow: scroll;

  ${e=>Object(x.a)(e,1)}
`,Fa=l()(Da.a)`
  align-items: center;
`,Ra=d.memo(e=>{const{isOpen:t,selectedColumnTypePair:n,onColumnTypeUpdate:a,onToggleOff:i}=e;return d.createElement(Ua,null,d.createElement(Pa,{open:t,onClose:i,onSelect:e=>{const t=$a.get(Ma[e.detail.index]);t&&a(t)}},Ma.map((e,t)=>{const a=$a.get(e);return a?d.createElement(Fa,{key:t,selected:a.columnExtendedType===n.columnExtendedType&&a.columnType===n.columnType,icon:Object($t.a)(a)},e):void 0})))}),za=l()(T)`
  text-align: left;
  position: relative;
  width: ${e=>e.isCompact?"110px":"150px"};
  min-width: ${e=>e.isCompact?"110px":"150px"};
`,La=l.a.div`
  align-items: center;
  cursor: pointer;
  display: grid;
  grid-template-columns: auto 1fr auto;
  grid-column-gap: ${e=>e.theme.material.spacing(1)};
`,Aa=l()(a.e)`
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,Va=l()(Bn.a)`
  border: 1px solid ${e=>y.a[e.theme.name].borderAlt};
  border-radius: ${e=>e.theme.material.borderRadius.inset};
  box-sizing: border-box;

  font-family: ${e=>e.theme.material.typography.body3.fontFamily};
  font-size: ${e=>e.theme.material.typography.body3.fontSize};
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
  line-height: ${e=>e.theme.material.typography.body3.lineHeight};
  margin-top: ${e=>e.theme.material.spacing(3)};
  max-height: 60px;
  resize: none;
  width: 100%;

  &:focus {
    outline: none;
    border: 1px solid ${e=>y.a[e.theme.name].borderFocus};
  }

  ${e=>Object(x.a)(e,1)}
`,Ba=l()(a.c)`
  font-weight: ${e=>e.theme.material.typography.fontWeight.normal};
  margin-top: ${e=>e.theme.material.spacing(3)};
  max-height: 100px;
  overflow-y: hidden;
  word-wrap: break-word;
`,Ka=e=>{var t,n;const a=d.useContext(u.b),o=d.useContext(s.ThemeContext),{column:r,displayIndex:l,isCompact:c,isEdit:m,openedModal:p,showDescription:h,onColumnDescriptionUpdate:g,onColumnTypeUpdate:f,onToggleModal:b}=e,{description:v,name:w,path:E,tableColumnInfo:x}=r,{type:C,extendedType:k}=x,_={columnType:C,columnExtendedType:k},{selectedTableQuery:S}=a,O=(null===(t=null==S?void 0:S.sortBy)||void 0===t?void 0:t.column.firestorePath)===E||(null===(n=null==S?void 0:S.filters)||void 0===n?void 0:n.some(e=>e.column.firestorePath===E)),[T,j]=d.useState(!1),I=d.useRef(null);return d.createElement(za,{ref:I,isCompact:c},d.createElement(La,{onClick:()=>b(E)},d.createElement(i.a,{icon:Object($t.a)(_),size:"xxsmall"}),d.createElement(Aa,null,w),d.createElement(i.a,{icon:m?"typeMenu"===p?"arrow_drop_up":"arrow_drop_down":"sort",size:"xsmall",color:O?y.a[o.name].blueSelected:y.a[o.name].text})),m&&h&&g&&d.createElement(Va,{value:v||(T?"":"Please enter a description"),minRows:8,onChange:e=>{const t="Please enter a description"===e.target.value?"":e.target.value;j(!0),g(t)}}),!m&&h&&v&&d.createElement(Ba,{emphasis:"low"},v),!m&&"queryModal"===p&&d.createElement(ja,{tableColumn:r,displayIndex:l,parentRef:I,onToggleOff:()=>b("")}),m&&f&&"typeMenu"===p&&d.createElement(Ra,{isOpen:"typeMenu"===p,selectedColumnTypePair:_,onColumnTypeUpdate:f,onToggleOff:()=>{"typeMenu"===p&&b("")}}))};class Ha extends d.Component{constructor(){super(...arguments),this.state={openHeaderModal:""}}componentDidUpdate(e){e.isEdit===this.props.isEdit&&e.columns===this.props.columns||this.setState({openHeaderModal:""})}render(){const{columns:e,isCompact:t,isEdit:n,showDescription:a,onSetColumnDescription:i,onSetColumnType:o}=this.props,{openHeaderModal:r}=this.state,s=e=>{this.setState({openHeaderModal:e})};return d.createElement(S,null,e.map((e,l)=>d.createElement(Ka,{key:"header-"+l,column:e,displayIndex:l,isCompact:t,isEdit:n,openedModal:r===e.path?n?"typeMenu":"queryModal":"none",showDescription:a,onColumnDescriptionUpdate:i?t=>i(e.path,t):void 0,onColumnTypeUpdate:o?t=>{o(e.path,t),s("")}:void 0,onToggleModal:e=>s(r===e?"":e)})))}}const qa=l.a.div`
  height: 0;
  position: sticky;
  left: 0;
`,Wa=l.a.div`
  position: sticky;
  top: 0;

  box-shadow: ${e=>e.isSticky?e.theme.material.elevation[5]:""};
  width: fit-content;
`,Ga=d.memo(e=>{const{columns:t,data:n,isEnd:a,selectedObject:i,selectedSource:o,selectedTableQuery:r}=e,s=d.useContext(u.a),{dispatchAsync:l}=s,[c,m]=d.useState(!1),p=d.useRef(null);return d.useEffect(()=>{const e=Object(Rn.b)(([e])=>{const t=e.intersectionRatio;m(t<1)},{threshold:1});return p.current&&e.observe(p.current),()=>{e.disconnect()}},[]),d.createElement(d.Fragment,null,d.createElement(qa,{ref:p}),d.createElement(Wa,{isSticky:c},d.createElement(Ha,{columns:t,isCompact:!0,isEdit:!1,showDescription:!1})),d.createElement(Fn,{initialLoad:!1,element:"div",useWindow:!1,pageStart:1,hasMore:!a,loadMore:()=>{l({type:"loadMoreTabularPreview",item:i,source:o,selectedTableQuery:r})}},n.rows.map((e,t)=>d.createElement(Ln,{key:"row-"+t,columns:e.text,isCompact:!0}))),a&&d.createElement(Vn,{columnCount:t.length,compact:!0},"No more data to show"))}),Qa=d.memo(e=>{const{columns:t}=e;return t.map(e=>null===e.tableColumnMetrics).reduce((e,t)=>e&&t,!0)?d.createElement(d.Fragment,null):d.createElement(S,null,t.map((e,t)=>d.createElement(mn,{key:"metric-"+t,column:e,chartSize:"small"})))}),Ya=l.a.div`
  flex: 1 1 auto;
  position: sticky;
  top: ${e=>e.viewVerticalOffset}px;
  left: 0;
  border-bottom: 1px solid ${e=>y.a[e.theme.name].border};
  background-color: ${e=>e.isEdit?y.a[e.theme.name].background:y.a[e.theme.name].backgroundAlt};
  max-height: ${e=>e.isEdit?"276px":"148px"};
  overflow-y: auto;
  padding: ${e=>e.theme.material.spacing(4)}
    ${e=>e.theme.material.spacing(6)};
  ${e=>Object(x.a)(e)};

  // Assign to ground to be above main preview content
  z-index: ${e=>e.theme.zindex.ground};
`,Xa=l.a.div`
  height: 0;
  position: sticky;
  left: 0;
`,Ja=l()(Xa)`
  top: 0;
`,Za=l.a.div`
  position: sticky;
  top: ${e=>e.viewVerticalOffset}px;
  width: fit-content;

  // This has to be foreground, so that in edit mode, the stacking context of the column type dropdown menu
  // will be above the save/cancel button
  z-index: ${e=>e.theme.zindex.foreground};
`,ei=l.a.div`
  display: ${e=>e.isEdit?"flex":"none"};
  justify-content: flex-end;

  position: sticky;
  top: ${e=>e.viewVerticalOffset}px;
  left: 0;

  background-color: ${e=>y.a[e.theme.name].background};
  border-bottom: 1px solid ${e=>y.a[e.theme.name].border};
  box-shadow: ${e=>e.theme.material.elevation[5]};
  padding: ${e=>e.theme.material.spacing(4)};

  // Assign to ground to be above main preview content
  z-index: ${e=>e.theme.zindex.ground};
`,ti=l.a.div`
  position: sticky;
  top: ${e=>e.viewVerticalOffset}px;

  box-shadow: ${e=>e.isSticky?e.theme.material.elevation[5]:""};
  width: fit-content;
`,ni=l()(z.a)`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,ai=d.memo(e=>{const t=d.useContext(u.a),n=d.useContext(u.b),{userSettings:a,dispatchAsync:i}=t,{selectedSource:o}=n,{canEdit:r,item:s,source:l}=e,c=Object(Le.b)(s,l),m=!("file"===s.type&&("notebookOutput"===(null==o?void 0:o.sourceType)||"utilityScript"===(null==o?void 0:o.sourceType)||"notebook"===(null==o?void 0:o.sourceType)))&&(s.description||a.canEdit),[p,h]=d.useState(!1),[g,f]=d.useState(s.description||""),[b,v]=d.useState(e.columns.map(e=>Object.assign(Object.assign({},e),{tableColumnInfo:Object.assign({},e.tableColumnInfo)})));d.useEffect(()=>{h(!1),f(s.description||""),v(e.columns.map(e=>Object.assign(Object.assign({},e),{tableColumnInfo:Object.assign({},e.tableColumnInfo)})))},[e.canEdit,e.columns,e.item]);const y=d.createRef(),w=d.createRef(),E=d.createRef(),[x,C]=d.useState(0);d.useEffect(()=>{y.current&&C(y.current.getBoundingClientRect().height)});const[k,_]=d.useState(0);d.useEffect(()=>{w.current&&_(w.current.getBoundingClientRect().height)});const[S,O]=d.useState(0);d.useEffect(()=>{E.current&&O(E.current.getBoundingClientRect().height)});const[T,j]=d.useState(!1),I=d.useRef(null),N=d.useRef(null);return d.useEffect(()=>{const e=Object(Rn.b)(e=>{const t=e.find(e=>e.target===I.current),n=e.find(e=>e.target===N.current),a=null==t?void 0:t.intersectionRatio,i=null==n?void 0:n.intersectionRatio;j((void 0===a||a<1)&&(void 0===i||i>=1))},{threshold:[1,1]});return I.current&&N.current&&(e.observe(I.current),e.observe(N.current)),()=>{e.disconnect()}},[]),d.createElement(d.Fragment,null,m&&d.createElement(Ya,{ref:y,isEdit:p,viewVerticalOffset:p?0:-x},d.createElement(ge,{canEdit:r,description:g,isEdit:p,item:s,remoteUrl:c,onDescriptionChange:f,onToggleEdit:()=>{f(s.description||""),h(!p)}})),d.createElement(Xa,{ref:I}),d.createElement(Ja,{ref:N}),d.createElement(Za,{ref:w,viewVerticalOffset:p?x:0},d.createElement(Ha,{columns:b,isCompact:!1,isEdit:p,showDescription:!0,onSetColumnDescription:(e,t)=>{const n=b.find(t=>t.path===e);n&&(n.description=t,v([...b]))},onSetColumnType:(e,t)=>{const n=b.find(t=>t.path===e);n&&(n.tableColumnInfo.type=t.columnType,n.tableColumnInfo.extendedType=t.columnExtendedType,v(b))}})),d.createElement(ei,{isEdit:p,viewVerticalOffset:k+x},d.createElement(ni,{variant:"outlined",onClick:()=>{h(!1),f(s.description||""),v(e.columns.map(e=>Object.assign(Object.assign({},e),{tableColumnInfo:Object.assign({},e.tableColumnInfo)})))}},"Cancel"),d.createElement(ni,{onClick:()=>{h(!1);const e=b.map(e=>({firestorePath:e.path,description:e.description||"",extendedType:e.tableColumnInfo.extendedType,type:e.tableColumnInfo.type}));i({type:"updateMetadata",description:g,item:s,source:l,columns:e})}},"Save")),d.createElement(ti,{ref:E,viewVerticalOffset:p?-S:k,isSticky:!p&&T},d.createElement(Qa,{columns:b})))}),ii=d.memo(e=>{const{canEdit:t,columns:n,data:a,isEnd:i,selectedObject:o,selectedSource:r,selectedTableQuery:s}=e,l=d.useContext(u.a),{dispatchAsync:c}=l;return d.createElement(d.Fragment,null,d.createElement(ai,{canEdit:t,columns:n,item:o,source:r}),d.createElement(Fn,{initialLoad:!1,element:"div",useWindow:!1,pageStart:1,hasMore:!i,loadMore:()=>{c({type:"loadMoreTabularPreview",item:o,source:r,selectedTableQuery:s})}},a.rows.map((e,t)=>d.createElement(Ln,{key:"row-"+t,columns:e.text,isCompact:!1}))),i&&d.createElement(Vn,{columnCount:n.length,compact:!1},"No more data to show"))}),oi=d.memo(e=>{const{canEdit:t,columns:n,data:a,isEnd:i,selectedObject:o,selectedSource:r,tabularViewType:s,maximized:l,selectedTableQuery:c}=e;switch(s){case"column":return d.createElement(_,{key:`${o.path}-column`,maximized:l},d.createElement(Pn,{columns:n}));case"compact":return d.createElement(_,{key:`${o.path}-compact`,maximized:l},d.createElement(Ga,{columns:n,data:a,isEnd:i,selectedObject:o,selectedSource:r,selectedTableQuery:c}));default:case"detail":return d.createElement(_,{key:`${o.path}-detail`,maximized:l},d.createElement(ii,{canEdit:t,columns:n,data:a,isEnd:i,selectedObject:o,selectedSource:r,selectedTableQuery:c}))}}),ri=(e,t)=>!(!e.path||!t.path)&&e.path===t.path,si=l.a.div`
  flex: 1 1 auto;
  margin: ${e=>e.theme.material.spacing(4)};
  overflow: hidden;
  ${e=>Object(x.a)(e)}
`,li=l.a.table`
  width: 100%;
`,ci=l()(a.b.withComponent("tbody"))``,di=l.a.tr``,ui=l.a.th`
  font-weight: ${e=>e.theme.material.typography.fontWeight.medium};
  border-bottom: 1px solid ${e=>y.a[e.theme.name].border};
  white-space: nowrap;
  text-align: left;
  padding: ${e=>e.theme.material.spacing(1)}
    ${e=>e.theme.material.spacing(2)};
`,mi=l()(ui)`
  text-align: right;
  width: 120px;
`,pi=l.a.td`
  text-align: left;
  padding: ${e=>e.theme.material.spacing(1)}
    ${e=>e.theme.material.spacing(2)};
`,hi=l()(pi)`
  text-align: right;
`,gi=d.memo(e=>{const{tables:t}=e;return 0===t.totalChildren?d.createElement(w.a,{message:"There are no tables in this selection."}):0===t.count?d.createElement(E.a,null):d.createElement(si,null,d.createElement(li,null,d.createElement(ci,null,d.createElement(di,null,d.createElement(ui,null,"Table"),d.createElement(mi,null,"Total Rows"),d.createElement(mi,null,"Total Columns")),t.children.map((e,t)=>d.createElement(di,{key:`row-${t}`},d.createElement(pi,null,e.name),d.createElement(hi,null,e.tableInfo.totalRows),d.createElement(hi,null,e.tableInfo.totalColumns))))))},(e,t)=>((e,t)=>{if(e.totalChildren!==t.totalChildren)return!1;if(e.count!==t.count)return!1;if(e.children.length!==t.children.length)return!1;for(let n=0;n<e.children.length;n++)if(!ri(e.children[n],t.children[n]))return!1;return!0})(e.tables,t.tables)),fi=l.a.div`
  flex: 1 1 auto;
  white-space: pre;
  padding: ${e=>e.theme.material.spacing(4)};
`,bi=d.memo(e=>{const{data:t,item:n,source:i,maximized:o}=e,r=t.totalBytes>t.previewBytes;return d.createElement(k,{maximized:o},r&&d.createElement(Ve,{message:Oi,item:n,source:i}),d.createElement(fi,null,d.createElement(a.f,null,t.data)))}),vi=l()(k)`
  display: flex;
`,yi=l.a.video`
  flex: 1 1 auto;
  min-height: 400px;
  max-width: 100%;
  max-height: 100%;
`,wi=d.memo(e=>{const{data:t,maximized:n}=e;return d.createElement(vi,{maximized:n},d.createElement(yi,{src:t.url,controls:!0,autoPlay:!1,"data-testid":"preview-video"},"Your browser does not support the video player."))});n.d(t,"c",(function(){return Oi})),n.d(t,"b",(function(){return Ti})),n.d(t,"a",(function(){return Ii})),n.d(t,"d",(function(){return Ui}));const Ei=l.a.div`
  display: flex;
  flex-direction: column;
  border: ${e=>e.mobile?"0":"1px"} solid
    ${e=>y.a[e.theme.name].border};
  border-radius: ${e=>e.theme.material.borderRadius.large};
  max-height: ${e=>Object(x.b)(e.mobile,e.maximized)};
`,xi=l.a.div`
  display: flex;
  flex: 0 0 auto;
  margin: ${e=>e.theme.material.spacing(6)};
  align-items: center;
`,Ci=l()(a.n)`
  flex: 1 1 auto;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,ki=l.a.div`
  margin-right: ${e=>e.theme.material.spacing(6)};
`,_i=l()(a.n)`
  margin-left: ${e=>e.theme.material.spacing(2)};
  color: ${e=>y.a[e.theme.name].text};
  font-weight: ${e=>e.theme.material.typography.body1.fontWeight};
`.withComponent("span"),Si=l()(i.a)`
  margin-left: ${e=>e.left?0:e.theme.material.spacing(2)};
  margin-right: ${e=>e.left?e.theme.material.spacing(2):0};
  cursor: pointer;
`,Oi="This preview is truncated due to the large file size. Create a Notebook or download this file to see the full content.",Ti="This preview is truncated due to the large file size. The number of JSON items and individual items might be might be truncated. Create a Notebook or download this file to see the full content.",ji="Unable to show preview",Ii=e=>{const{treeOnLeft:t}=e,n=d.useContext(u.a),a=d.useContext(u.b),i=d.useContext(s.ThemeContext),r=Object(c.a)(s.BreakpointDown.XS),{dataSources:l,reference:p,previewCache:h,itemColumnCache:w,uxSettings:E,userSettings:x,dispatch:C,dispatchAsync:k,externalCallbacks:_}=n,{selectedObject:S,selectedSource:O,selectedTableQuery:T}=a,{maximized:j,treeCollapsed:I,tabularViewType:N}=E,D=S?Object(Le.c)(S):void 0,$=S?Object(m.a)(S,w):void 0,M=S?Object(b.a)(S,T,$):void 0,U=M?Object(v.a)(M,h):{type:"noPreview"},P=$?$.baseInfo:void 0,F=Object(f.b)($,T),R=((e,t)=>void 0!==t&&"loadedCachedColumns"===t.state?e.filter(e=>void 0===t.cache[e]):e)(F,$),z=((e,t)=>{if(void 0===t)return{isTabular:!1};if("errorBaseInfo"===t.state||"errorCachedColumns"===t.state)return{isTabular:!0,state:"error",message:"Failed to load columns"};const n=e.map(e=>t.cache[e]).filter(e=>void 0!==e);return"loadedCachedColumns"===t.state&&n.length===e.length?{isTabular:!0,state:"loaded",columns:n}:{isTabular:!0,state:"loading"}})(F,$);if(d.useEffect(()=>{S&&O&&"noPreview"===U.type&&D&&n.dispatchAsync({type:"loadPreview",item:S,source:O,selectedTableQuery:T})},[U,S,O]),d.useEffect(()=>{S&&O&&(void 0===$||"noCache"!==$.state&&"errorBaseInfo"!==$.state||n.dispatchAsync({type:"loadColumnBaseInfo",item:S,source:O}))},[P,S,O]),d.useEffect(()=>{S&&O&&(R.length>0&&void 0!==$&&"loadingCachedColumns"!==$.state?n.dispatchAsync({type:"loadColumns",item:S,source:O,columnPaths:R}):"loadedBaseInfo"===(null==$?void 0:$.state)&&0===R.length&&n.dispatch({type:"setColumnCache",item:S,state:"loadedCachedColumns",cachedColumns:[]}))},[R,S,O]),!S||!O)return d.createElement(Ei,{mobile:r,maximized:j});const L=g(S),A=Object(Le.a)(S,O),B=Object(Le.b)(S,O),K="notebook"!==p.type&&"dataset"===(null==O?void 0:O.sourceType)&&"file"===S.type&&S.name.toLowerCase().endsWith(".csv"),H="dataSource"!==S.type&&"databundle"!==S.type&&"databundleVersion"!==S.type&&"notebook"!==p.type&&!0===x.canEdit,q="notebook"!==p.type,W="notebook"!==p.type||r,G="dataSource"!==S.type&&!("notebook"===p.type&&p.isEditor),Q="dataSource"!==S.type&&"notebook"!==(null==O?void 0:O.sourceType)&&"notebookOutput"!==(null==O?void 0:O.sourceType)&&"utilityScript"!==(null==O?void 0:O.sourceType)&&!z.isTabular,Y=A?d.createElement(o.Tooltip,{tip:"Download"},d.createElement(Si,{icon:"get_app",size:"medium",left:!1,color:y.a[i.name].text70,onClick:()=>{k({type:"downloadObject",item:S,source:O})}})):null,X=null==_?void 0:_.onExportToSheets,J=K&&X&&A?d.createElement(o.Tooltip,{tip:"Export to Google Sheets"},d.createElement(Si,{icon:"drive_spreadsheet_outline",size:"medium",left:!1,color:y.a[i.name].text70,onClick:()=>X(S.name,A)})):null,Z=q?d.createElement(o.Tooltip,{tip:"Maximize view"},d.createElement(Si,{icon:j?"fullscreen_exit":"fullscreen",size:"medium",left:!1,color:y.a[i.name].text70,onClick:()=>C({type:"maximize",maximized:!j})})):null,ee=W?d.createElement(o.Tooltip,{tip:I?"Show tree":"Hide tree"},d.createElement(Si,{icon:I?t?"chevron_right":"chevron_left":t?"chevron_left":"chevron_right",size:"medium",left:t||!1,color:y.a[i.name].text70,onClick:()=>C({type:"collapseTree",collapsed:!I})})):null;return d.createElement(Ei,{mobile:r,maximized:j},G&&d.createElement(xi,null,t&&ee,d.createElement(Ci,null,S.name,L&&d.createElement(_i,null,"(",L,")")),d.createElement(V,{reference:p,dataSources:l,userSettings:x,selectedSource:O,selectedObject:S,key:S.path}),Y,J,Z,!t&&ee),"notebook"===p.type&&p.isEditor&&d.createElement(_t,{selectedObject:S,selectedSource:O,downloadLink:A,selectedColumnPaths:F,columnBaseInfo:P}),!("notebook"===p.type&&p.isEditor)&&z.isTabular&&"loaded"===z.state&&void 0!==P&&d.createElement(ki,null,d.createElement(Dt,{selectedViewType:N,selectedColumnPaths:F,columnBaseInfo:P})),Q&&d.createElement(Ee,{item:S,canEdit:H,key:S.path,remoteUrl:B,onSave:e=>k({type:"updateMetadata",description:e,item:S,source:O,columns:[]})}),D?Di(U,z,H,S,O,N,j,T):Ni(S,O))},Ni=(e,t)=>{switch(e.type){case"dataSource":return d.createElement(oe,{dataSource:e});case"directory":return d.createElement(Me,{directory:e,source:t});case"file":const n=e;if(n.sqliteInfo)return d.createElement(gi,{tables:n.sqliteInfo.tables});if(n.excelInfo)return d.createElement(gi,{tables:n.excelInfo.tables})}return d.createElement(w.a,{title:ji,message:"Unfortunately, we can't show a preview for this file.",isExtended:!0})},Di=(e,t,n,a,i,o,r,s)=>{const l=t.isTabular&&"loaded"===t.state?t.columns:[];return"success"!==e.type&&"successEnd"!==e.type&&"loadingMore"!==e.type||t.isTabular&&"loaded"!==t.state?"error"===e.type||"loadingMoreError"===e.type?d.createElement(w.a,{title:ji,message:e.message,isExtended:!0}):t.isTabular&&"error"===t.state?d.createElement(w.a,{title:ji,message:t.message,isExtended:!0}):"loading"===e.type||t.isTabular&&"loading"===t.state?d.createElement(E.a,null):d.createElement(w.a,{title:ji,message:"Unfortunately, we can't show a preview for this file.",isExtended:!0}):$i(e.data,"successEnd"===e.type,l,n,a,i,o,r,s)},$i=(e,t,n,a,i,o,s,l,c)=>{if(e.dataRaw)switch(Mi(e.dataRaw.type)){case r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataRawType.MARKDOWN:return d.createElement(We,{data:e.dataRaw,item:i,source:o,maximized:l});case r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataRawType.JSON:return d.createElement(Ke,{data:e.dataRaw,item:i,source:o,maximized:l});case r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataRawType.TEXT:return d.createElement(bi,{data:e.dataRaw,item:i,source:o,maximized:l})}else if(e.dataUrl)switch(Ui(e.dataUrl.type)){case r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataUrlType.IMAGE:return d.createElement(Pe,{data:e.dataUrl,maximized:l});case r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataUrlType.PDF:return d.createElement(Ye,{data:e.dataUrl,maximized:l});case r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataUrlType.VIDEO:return d.createElement(wi,{data:e.dataUrl,maximized:l});case r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataUrlType.AUDIO:return d.createElement(R,{data:e.dataUrl,maximized:l})}else if(e.dataTable)return d.createElement(oi,{canEdit:a,columns:n,data:e.dataTable,isEnd:t,selectedObject:i,selectedSource:o,selectedTableQuery:c,tabularViewType:s,maximized:l});return d.createElement(w.a,{title:ji,message:"Unfortunately, we can't show a preview for this file.",isExtended:!0})},Mi=e=>{if("string"==typeof e){if("markdown"===e)return r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataRawType.MARKDOWN;if("json"===e)return r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataRawType.JSON;if("text"===e)return r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataRawType.TEXT}return e},Ui=e=>{if("string"==typeof e){if("image"===e)return r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataUrlType.IMAGE;if("pdf"===e)return r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataUrlType.PDF;if("video"===e)return r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataUrlType.VIDEO;if("audio"===e)return r.Kaggle.Sdk.Datasets.DataViewer.Protos.DataUrlType.AUDIO}return e}},1992:function(e,t,n){"use strict";var a=n(8);var i=n(1649);var o=n(1743),r=n(1744);const s=e=>{var t,n,a,i,o,r,l;if(!e)return 0;switch(e.type){case"dataSource":return s(e.databundleVersion);case"databundle":return(null===(t=e.databundleInfo.versions)||void 0===t?void 0:t.children.length)||0;case"databundleVersion":const c=e;return((null===(n=c.filesetInfo)||void 0===n?void 0:n.directories.children.length)||0)+((null===(a=c.filesetInfo)||void 0===a?void 0:a.files.children.length)||0)+((null===(i=c.bigquerySnapshotInfo)||void 0===i?void 0:i.bigqueryTables.children.length)||0);case"directory":const d=e;return(d.directoryInfo.directories.children.length||0)+(d.directoryInfo.files.children.length||0);case"file":const u=e;return((null===(o=u.tableInfo)||void 0===o?void 0:o.tableColumns.children.length)||0)+((null===(r=u.sqliteInfo)||void 0===r?void 0:r.tables.children.length)||0)+((null===(l=u.excelInfo)||void 0===l?void 0:l.tables.children.length)||0);case"table":return e.tableInfo.tableColumns.children.length||0}return 0};var l=n(1723);const c=(e,t)=>{if(!Object(o.a)(t.item))return e;if(t.state)return d(e,t.item,t.state);const n=Object(r.a)(t.item,e.expanded);if("loading"===n||"loadingMore"===n)return e;if((e=>{const t=s(e),n=Object(l.a)(e);return 0===t&&n>0})(t.item))return e.dispatchAsync({type:"loadInitialChildren",item:t.item,source:t.source}),d(e,t.item,"loading");const a="expanded"===n?"notExpanded":"expanded";return d(e,t.item,a)},d=(e,t,n)=>{const a=e.expanded;return a[t.path]=n,Object.assign(Object.assign({},e),{expanded:a})};var u=n(3),m=n(1682);const p=(e,t)=>{const{reference:n}=e;return t.databundleVersion.legacyEntityId?{competitionId:"competition"===t.sourceType?t.sourceId:null,datasetId:"dataset"===t.sourceType?t.sourceId:null,databundleVersionId:t.databundleVersion.legacyEntityId,datasetHashLink:"dataset"===n.type&&n.hashLink?n.hashLink:null}:{competitionId:null,datasetId:null,databundleVersionId:0,datasetHashLink:null}};var h=n(1681);var g=n(1758),f=n(1746);const b={skip:0,take:50,filter:{constantFilter:{value:!0}},selectedColumns:[],sorts:[]},v=(e,t,n,a)=>{const i=(e=>{switch(e.type){case"file":const t=e;return t.fileInfo.fullPath.endsWith(".csv")||t.fileInfo.fullPath.endsWith(".tsv");case"table":return!0;default:return!1}})(e)?Object.assign({},b):null;if(i){if(a&&a.filters&&a.filters.length>0){const e=a.filters.map(e=>({columnFilter:e}));i.filter={andFilter:{filters:e}}}if((null==a?void 0:a.selectedColumns)&&(i.selectedColumns=a.selectedColumns),(null==a?void 0:a.sortBy)&&(i.sorts=[a.sortBy]),(null==a?void 0:a.skip)&&(i.skip=a.skip),(null==a?void 0:a.take)&&(i.take=a.take),n){const e="success"===t.type&&t.data.dataTable?t.data.dataTable.rows.length:0;i.skip+=e}}return i},y=(e,t)=>("notebookOutput"===e.sourceType||"notebook"===e.sourceType||"utilityScript"===e.sourceType)&&null!==t.legacyEntityId,w=(e,t)=>{var n,a,i,o,r,s;switch(t.item.type){case"dataSource":const l=t.item;return w(e,Object.assign(Object.assign({},t),{item:l.databundleVersion}));case"databundleVersion":const c=t.item;(null===(n=c.bigquerySnapshotInfo)||void 0===n?void 0:n.bigqueryTables)&&c.bigquerySnapshotInfo.bigqueryTables.totalChildren>0&&t.tables.length>0&&(c.bigquerySnapshotInfo.bigqueryTables=C(c.bigquerySnapshotInfo.bigqueryTables,t.tables)),(null===(a=c.filesetInfo)||void 0===a?void 0:a.directories)&&c.filesetInfo.directories.totalChildren>0&&t.directories.length>0&&(c.filesetInfo.directories=E(c.filesetInfo.directories,t.directories)),(null===(i=c.filesetInfo)||void 0===i?void 0:i.files)&&c.filesetInfo.files.totalChildren>0&&t.files.length>0&&(c.filesetInfo.files=x(c.filesetInfo.files=c.filesetInfo.files,t.files));break;case"directory":const d=t.item;t.directories.length>0&&(d.directoryInfo.directories=E(d.directoryInfo.directories,t.directories)),t.files.length>0&&(d.directoryInfo.files=x(d.directoryInfo.files,t.files));break;case"file":const u=t.item;t.tables.length>0&&((null===(o=u.excelInfo)||void 0===o?void 0:o.tables)&&u.excelInfo.tables.totalChildren>0?u.excelInfo.tables=C(u.excelInfo.tables,t.tables):(null===(r=u.sqliteInfo)||void 0===r?void 0:r.tables)&&u.sqliteInfo.tables.totalChildren>0&&(u.sqliteInfo.tables=C(u.sqliteInfo.tables,t.tables))),(null===(s=u.tableInfo)||void 0===s?void 0:s.tableColumns)&&u.tableInfo.tableColumns.totalChildren>0&&t.tableColumns.length>0&&(u.tableInfo.tableColumns=k(u.tableInfo.tableColumns,t.tableColumns));break;case"table":const m=t.item;t.tableColumns.length>0&&(m.tableInfo.tableColumns=k(m.tableInfo.tableColumns,t.tableColumns))}return t.expandParent?d(e,t.item,"expanded"):Object.assign({},e)},E=(e,t)=>({children:[...e.children,...t],count:e.children.length+t.length,totalChildren:e.totalChildren}),x=(e,t)=>({children:[...e.children,...t],count:e.children.length+t.length,totalChildren:e.totalChildren}),C=(e,t)=>({children:[...e.children,...t],count:e.children.length+t.length,totalChildren:e.totalChildren}),k=(e,t)=>({children:[...e.children,...t],count:e.children.length+t.length,totalChildren:e.totalChildren});var _=n(1884),S=n(1779);var O=n(1853);const T=(e,t,n)=>{const a=e.previewCache;return a[t]=n,Object.assign(Object.assign({},e),{previewCache:a})};n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return I}));const j=(e,t,n)=>{const{legacyClients:{analyticsClient:i}}=n,{reference:o}=e;i.logger.report("datasets",`data-explorer-v3-${t.type}`,{reference:o,treeOnLeft:a.featureFlags.datasetsDataExplorerV3TreeLeft});try{if("select"===t.type)return Object(_.b)(e,t);if("setColumnQuery"===t.type)return((e,t)=>{var n,a,i,o,r;const{dispatchAsync:s}=e,{column:l,selectionContainer:c,columnFilter:d,sortBy:u}=t,{selectedTableQuery:m}=c,p=(null==u?void 0:u.column.firestorePath)===l.firestorePath?u:void 0;if(p!==u)return s({type:"showMessage",message:"Could not sort a different column than selected. Please refresh and try again."}),e;const h=d.filter(e=>e.column.firestorePath===l.firestorePath);if(h.length!==d.length)return s({type:"showMessage",message:"Could not filter a different column than selected. Please refresh and try again."}),e;const g=Object.assign({},m),f=(null===(n=null==m?void 0:m.sortBy)||void 0===n?void 0:n.column.firestorePath)===l.firestorePath?m.sortBy:void 0,b=(null==f?void 0:f.column.firestorePath)!==(null==p?void 0:p.column.firestorePath)||(null==f?void 0:f.direction)!==(null==p?void 0:p.direction);b&&(g.sortBy=p);const v=null!==(i=null===(a=null==m?void 0:m.filters)||void 0===a?void 0:a.filter(e=>e.column.firestorePath===l.firestorePath))&&void 0!==i?i:[],y=v.length!==h.length||!v.map(e=>h.map(t=>Object(O.a)(e,t)).reduce((e,t)=>e&&t,!0)).reduce((e,t)=>e&&t,!0);if(y){const e=null!==(r=null===(o=g.filters)||void 0===o?void 0:o.filter(e=>e.column.firestorePath!==l.firestorePath))&&void 0!==r?r:[];g.filters=e.concat(h)}return(b||y)&&c.setTableQuery(g),e})(e,t);if("selectColumns"===t.type)return((e,t)=>{var n;const{itemColumnCache:a}=e,{selectedColumns:i,selectionContainer:o}=t,{selectedObject:r,selectedTableQuery:s}=o;if(!r)return e;const l=null===(n=Object(m.a)(r,a))||void 0===n?void 0:n.baseInfo;if(void 0===l||0===l.length)return e;const c=(null==s?void 0:s.selectedColumns)?s.selectedColumns.map(e=>e.firestorePath):l.map(e=>e.firestorePath).slice(0,S.a),d=i.map(e=>e.firestorePath);return d.length!==c.length||d.map(e=>!c.includes(e)).reduce((e,t)=>e&&t,!0)?(o.setTableQuery(Object.assign(Object.assign({},s),{selectedColumns:i})),e):e})(e,t);if("expand"===t.type)return c(e,t);if("mergeChildren"===t.type)return w(e,t);if("setColumnCache"===t.type)return((e,t)=>{var n,a;const{itemColumnCache:i}=e,{item:o,state:r,baseInfo:s,cachedColumns:l}=t,c=Object(m.a)(o,i);if(void 0===c)return e;const d=c.state;if("loadingBaseInfo"===r&&"noCache"===d){const t=i;return t[o.path]={state:r,baseInfo:[],cache:{}},Object.assign(Object.assign({},e),{itemColumnCache:t})}if("loadedBaseInfo"===r&&("loadingBaseInfo"===d||"errorBaseInfo"===d)||"errorBaseInfo"===r&&"loadingBaseInfo"===d||"loadingCachedColumns"===r&&("loadedBaseInfo"===d||"loadedCachedColumns"===d||"errorCachedColumns"===d)||"loadedCachedColumns"===r&&("loadingCachedColumns"===d||"errorCachedColumns"===d)||"errorCachedColumns"===r&&"loadingCachedColumns"===d||"loadedCachedColumns"===r&&"loadedBaseInfo"===d&&0===(null===(n=t.cachedColumns)||void 0===n?void 0:n.length)&&0===(null===(a=c.baseInfo)||void 0===a?void 0:a.length)){const n=i,a=n[o.path];return a.state=r,void 0!==s&&(a.baseInfo=s),void 0!==l&&l.forEach(e=>{a.cache[e.path]=e}),n[t.item.path]=a,Object.assign(Object.assign({},e),{itemColumnCache:n})}return e})(e,t);if("setPreview"===t.type)return((e,t)=>T(e,t.cacheKey,t.state))(e,t);if("setMoreTabularPreview"===t.type)return((e,t)=>{const n=e.previewCache,a=n[t.cacheKey],{state:i}=t;if("loadingMore"===i.type&&("success"===a.type||"loadingMoreError"===a.type))return n[t.cacheKey]={type:i.type,data:a.data,lastRetrieved:"success"===a.type?a.retrieved:a.lastRetrieved},Object.assign(Object.assign({},e),{previewCache:n});if("loadingMoreError"===i.type&&"loadingMore"===a.type)return n[t.cacheKey]={type:i.type,data:a.data,lastRetrieved:a.lastRetrieved,message:i.message},Object.assign(Object.assign({},e),{previewCache:n});if(("success"===i.type||"successEnd"===i.type)&&i.additionalData.dataTable&&("loadingMore"===a.type||"loadingMoreError"===a.type)&&a.data.dataTable){const o=a.data.dataTable.rows.concat(i.additionalData.dataTable.rows),r=a.data.dataTable.rowsReturned+i.additionalData.dataTable.rowsReturned,s=o.map((e,t)=>Object.assign(Object.assign({},e),{rowNumber:t}));return n[t.cacheKey]={type:i.type,retrieved:i.retrievedDate,data:Object.assign(Object.assign({},a.data),{dataTable:{type:i.additionalData.dataTable.type,rows:s,rowsReturned:r,totalRows:i.additionalData.dataTable.totalRows}})},Object.assign(Object.assign({},e),{previewCache:n})}return e})(e,t);if("collapseTree"===t.type)return((e,t)=>Object.assign(Object.assign({},e),{uxSettings:Object.assign(Object.assign({},e.uxSettings),{treeCollapsed:t.collapsed})}))(e,t);if("maximize"===t.type)return((e,t)=>Object.assign(Object.assign({},e),{uxSettings:Object.assign(Object.assign({},e.uxSettings),{maximized:t.maximized})}))(e,t);if("setTabularView"===t.type)return((e,t)=>Object.assign(Object.assign({},e),{uxSettings:Object.assign(Object.assign({},e.uxSettings),{tabularViewType:t.viewType})}))(e,t);if("setMetadata"===t.type)return((e,t)=>{const{itemColumnCache:n}=e,{item:a,description:i,columnUpdates:o}=t;a.description=i;const r=Object(m.a)(a,n);return 0===o.length||void 0===(null==r?void 0:r.cache)?e:(o.forEach(e=>{r.cache[e.firestorePath]&&(r.cache[e.firestorePath].tableColumnInfo.type=e.type,r.cache[e.firestorePath].tableColumnInfo.extendedType=e.extendedType,r.cache[e.firestorePath].description=e.description)}),e)})(e,t)}catch(e){i.logger.report("datasets","data-explorer-v3-error",{actionType:t.type,reference:o,error:e,treeOnLeft:a.featureFlags.datasetsDataExplorerV3TreeLeft})}return e},I=(e,t,n)=>{const{legacyClients:{analyticsClient:o}}=n,{reference:c}=e;o.logger.report("datasets",`data-explorer-v3-${t.type}`,{reference:c,treeOnLeft:a.featureFlags.datasetsDataExplorerV3TreeLeft});try{"loadInitialChildren"===t.type?((e,t,n)=>Object(u.__awaiter)(void 0,void 0,void 0,(function*(){var a;const{dispatch:i,dispatchAsync:o}=e;if((null===(a=e.externalCallbacks)||void 0===a?void 0:a.onLoadOutputDirectory)&&"notebookOutput"===t.source.sourceType)return yield e.externalCallbacks.onLoadOutputDirectory(t.item),void i({type:"expand",item:t.item,source:t.source,state:"expanded"});const r=Object(l.a)(t.item),s=Math.min(r,30),{clients:{datasetsClient:c},legacyClients:{analyticsClient:d}}=n;try{const n=yield c.getDatabundleExternalChildren({verificationInfo:p(e,t.source),firestorePath:t.item.path,count:s,depth:1,offset:0});i({type:"mergeChildren",item:t.item,directories:n.directories,files:n.files,tables:n.tables,tableColumns:n.tableColumns,expandParent:!0})}catch(e){o({type:"showMessage",message:`Could not load files: ${Object(h.a)("GetDatabundleExternalChildrenRequest",e,d)}`}),i({type:"expand",item:t.item,source:t.source,state:"notExpanded"})}})))(e,t,n):"loadMoreChildren"===t.type?((e,t,n)=>Object(u.__awaiter)(void 0,void 0,void 0,(function*(){const{clients:{datasetsClient:a},legacyClients:{analyticsClient:i}}=n,{expanded:o,dispatch:c,dispatchAsync:d}=e,u=Object(r.a)(t.item,o);c({type:"expand",item:t.item,source:t.source,state:"loadingMore"});const m=s(t.item),g=Object(l.a)(t.item);if(m>=g)return;const f=Math.min(g-m,30);try{const n=yield a.getDatabundleExternalChildren({verificationInfo:p(e,t.source),firestorePath:t.item.path,count:f,depth:1,offset:m});c({type:"mergeChildren",item:t.item,directories:n.directories,files:n.files,tables:n.tables,tableColumns:n.tableColumns,expandParent:!0})}catch(e){d({type:"showMessage",message:`Could not load more files: ${Object(h.a)("GetDatabundleExternalChildrenRequest",e,i)}`}),c({type:"expand",item:t.item,source:t.source,state:u})}})))(e,t,n):"loadPreview"===t.type?((e,t,n)=>Object(u.__awaiter)(void 0,void 0,void 0,(function*(){var a,i;const{clients:{datasetsClient:o},legacyClients:{analyticsClient:r}}=n,{previewCache:s,itemColumnCache:l,dispatch:c}=e,d=Object(m.a)(t.item,l),u=Object(g.a)(t.item,t.selectedTableQuery,d),b=Object(f.a)(u,s),w=v(t.item,b,!1,t.selectedTableQuery);if("loading"===b.type||"success"===b.type)return;c({type:"setPreview",cacheKey:u,state:{type:"loading"}});const E=y(t.source,t.item);try{const n=E?yield o.getKernelOutputDataViewExternal({kernelOutputFileId:t.item.legacyEntityId,tableQuery:w}):yield o.getDataViewExternal({verificationInfo:p(e,t.source),firestorePath:t.item.path,tableQuery:w});c({type:"setPreview",cacheKey:u,state:{type:void 0!==(null===(i=null===(a=n.dataView)||void 0===a?void 0:a.dataTable)||void 0===i?void 0:i.rowsReturned)&&void 0!==(null==w?void 0:w.take)&&n.dataView.dataTable.rowsReturned<w.take?"successEnd":"success",data:n.dataView,retrieved:new Date}})}catch(e){c({type:"setPreview",cacheKey:u,state:{type:"error",message:Object(h.a)(E?"GetKernelOutputDataViewExternalRequest":"GetDataViewExternalRequest",e,r)}})}})))(e,t,n):"loadMoreTabularPreview"===t.type?((e,t,n)=>Object(u.__awaiter)(void 0,void 0,void 0,(function*(){var a,i;const{clients:{datasetsClient:o},legacyClients:{analyticsClient:r}}=n,{previewCache:s,itemColumnCache:l,dispatch:c,dispatchAsync:d}=e,u=Object(m.a)(t.item,l),b=Object(g.a)(t.item,t.selectedTableQuery,u),w=Object(f.a)(b,s),E=v(t.item,w,!0,t.selectedTableQuery);if("success"!==w.type&&"loadingMoreError"!==w.type)return;c({type:"setMoreTabularPreview",cacheKey:b,state:{type:"loadingMore"}});const x=y(t.source,t.item);try{const n=x?yield o.getKernelOutputDataViewExternal({kernelOutputFileId:t.item.legacyEntityId,tableQuery:E}):yield o.getDataViewExternal({verificationInfo:p(e,t.source),firestorePath:t.item.path,tableQuery:E});c({type:"setMoreTabularPreview",cacheKey:b,state:{type:void 0!==(null===(i=null===(a=n.dataView)||void 0===a?void 0:a.dataTable)||void 0===i?void 0:i.rowsReturned)&&void 0!==(null==E?void 0:E.take)&&n.dataView.dataTable.rowsReturned<E.take?"successEnd":"success",additionalData:n.dataView,retrievedDate:new Date}})}catch(e){const t=Object(h.a)(x?"GetKernelOutputDataViewExternalRequest":"GetDataViewExternalRequest",e,r);d({type:"showMessage",message:`Could not load more data: ${t}`}),c({type:"setMoreTabularPreview",cacheKey:b,state:{type:"loadingMoreError",message:t}})}})))(e,t,n):"loadColumns"===t.type?((e,t,n)=>Object(u.__awaiter)(void 0,void 0,void 0,(function*(){const{itemColumnCache:a,dispatch:i,dispatchAsync:o}=e,{item:r,source:s,columnPaths:l}=t,{clients:{datasetsClient:c},legacyClients:{analyticsClient:d}}=n,u=Object(m.a)(r,a);if(void 0!==u&&("loadedBaseInfo"===u.state||"loadedCachedColumns"===u.state||"errorCachedColumns"===u.state)){i({type:"setColumnCache",item:r,state:"loadingCachedColumns"});try{i({type:"setColumnCache",item:r,state:"loadedCachedColumns",cachedColumns:(yield c.getDatabundleExternalColumnsByFirestorePath({verificationInfo:p(e,s),firestorePaths:l})).columns})}catch(e){o({type:"showMessage",message:`Could not load data: ${Object(h.a)("GetDatabundleExternalColumnsByFirestorePathRequest",e,d)}`}),i({type:"setColumnCache",item:r,state:"errorCachedColumns"})}}})))(e,t,n):"loadColumnBaseInfo"===t.type?((e,t,n)=>Object(u.__awaiter)(void 0,void 0,void 0,(function*(){const{itemColumnCache:a,dispatch:i}=e,{item:o,source:r}=t,{clients:{datasetsClient:s},legacyClients:{analyticsClient:l}}=n,c=Object(m.a)(o,a);if(void 0!==c&&("noCache"===c.state||"errorBaseInfo"===c.state)){e.dispatch({type:"setColumnCache",item:o,state:"loadingBaseInfo"});try{i({type:"setColumnCache",item:o,state:"loadedBaseInfo",baseInfo:(yield s.getDatabundleExternalColumns({verificationInfo:p(e,r),firestorePath:o.path})).columns})}catch(e){Object(h.a)("GetDatabundleExternalColumnsRequest",e,l),i({type:"setColumnCache",item:o,state:"errorBaseInfo"})}}})))(e,t,n):"updateMetadata"===t.type?((e,t,n)=>Object(u.__awaiter)(void 0,void 0,void 0,(function*(){const{clients:{datasetsClient:a},legacyClients:{analyticsClient:i}}=n,{dispatch:o,dispatchAsync:r,externalCallbacks:s}=e,{columns:l,description:c,item:d,source:u}=t;try{const t=yield a.updateDatabundleMetadataExternal({firestorePath:d.path,description:c,columns:l,verificationInfo:p(e,u)});void 0!==s&&void 0!==s.onUpdateUsabilityRating&&null!==t.usabilityRating&&s.onUpdateUsabilityRating(t.usabilityRating),o({type:"setMetadata",item:d,description:c,columnUpdates:l})}catch(e){r({type:"showMessage",message:`Could not update: ${Object(h.a)("UpdateDatabundleMetadataExternalRequest",e,i)}`})}})))(e,t,n):"downloadObject"===t.type&&(e=>{const{item:t,source:n}=e;if(t){const e=Object(i.a)(t,n);e&&Object(i.e)(e)}})(t)}catch(e){o.logger.report("datasets","data-explorer-v3-error",{actionType:t.type,reference:c,error:e,treeOnLeft:a.featureFlags.datasetsDataExplorerV3TreeLeft})}}},1993:function(e,t,n){"use strict";var a=n(1),i=n.n(a),o=n(0),r=n(1416),s=n(9);const l={light:{default:{border:s.d},selected:{border:s.k}},dark:{default:{border:s.i},selected:{border:s.b}}};n.d(t,"a",(function(){return p}));const c=i.a.div`
  height: ${e=>e.small?"32px":"48px"};
  width: 100%;
  position: relative;
`,d=i.a.input`
  font-size: ${e=>e.small?"12px":"14px"};
  padding-left: ${e=>e.small?"40px":"60px"};
  border: 1px solid ${e=>l[e.theme.name].default.border};
  border-radius: 24px;
  width: 100%;
  height: 100%;
  background-color: transparent;
  box-sizing: border-box;
  transition: border 0.3s ease;

  &:focus {
    outline: none;
    border: 1px solid ${e=>l[e.theme.name].selected.border};
  }
`,u=i()(r.a)`
  position: absolute;
  top: ${e=>e.small?"8px":"12px"};
  left: ${e=>e.small?"12px":"24px"};
`,m=i.a.div`
  position: absolute;
  top: 12px;
  right: 24px;
`,p=e=>{const{actionItem:t,placeholder:n,onChange:a,small:i}=e,[r,s]=o.useState("");return o.createElement(c,{small:i},o.createElement(u,{useKM:!0,icon:"search",size:i?"xsmall":"medium",small:i}),o.createElement(d,{placeholder:n,value:r,onChange:e=>{a(e),s(e.target.value)},small:i}),!i&&t&&o.createElement(m,null,t))}},1994:function(e,t,n){"use strict";var a=n(1),i=n.n(a),o=n(0),r=n(212),s=n(1416),l=n(383),c=n(9);const d={light:{border:c.e,default:{hover:c.b,background:c.r,icon:c.m},selected:{hover:c.j,background:c.m,icon:c.r}},dark:{border:c.h,default:{hover:c.j,background:c.m,icon:c.r},selected:{hover:c.b,background:c.r,icon:c.m}}};var u=n(174);n.d(t,"a",(function(){return b}));const m=i.a.div`
  display: flex;
  height: ${e=>e.dense?"24px":"36px"};
  align-items: center;
`,p=i()(l.d)`
  padding: 0 8px;
  height: 100%;
  text-align: center;
  line-height: ${e=>e.dense?"24px":"36px"};
  border: 1px solid ${e=>d[e.theme.name].border};
  border-top-right-radius: ${e=>e.upOnly&&(e.dense?"12px":"18px")};
  border-bottom-right-radius: ${e=>e.upOnly&&(e.dense?"12px":"18px")};
  padding-right: ${e=>e.upOnly&&"12px"};
`,h=i.a.div`
  border: 1px solid ${e=>d[e.theme.name].border};
  height: ${e=>e.dense?"24px":"36px"};
  display: flex;
  align-items: center;
  cursor: pointer;
  user-select: none;
  transition: all 0.25s ease;
  background-color: ${e=>d[e.theme.name][e.selected?"selected":"default"].background};

  && > i {
    transition: color 0.25s ease;
    color: ${e=>d[e.theme.name][e.selected?"selected":"default"].icon};
  }

  &:hover {
    transition: background-color 0.25s ease;
    background-color: ${e=>d[e.theme.name][e.selected?"selected":"default"].hover};
  }
`,g=i()(h)`
  border-top-left-radius: ${e=>e.dense?"12px":"18px"};
  border-bottom-left-radius: ${e=>e.dense?"12px":"18px"};
  border-right: none;
  padding: 0 4px 0 4px;
`,f=i()(h)`
  border-top-right-radius: ${e=>e.dense?"12px":"18px"};
  border-bottom-right-radius: ${e=>e.dense?"12px":"18px"};
  border-left: none;
  padding: 0 4px 0 4px;
`,b=e=>{const{dense:t,totalVotes:n,upOnly:a,hasUpvote:i,hasDownvote:l,onUpvote:c,onDownvote:d=(()=>{})}=e,h=Object(r.a)(e),[b,v]=o.useState(i||!1),[y,w]=o.useState(l||!1),E=o.useCallback(Object(u.b)(500,e=>{c instanceof Promise?c(e).catch(t=>{console.error(t),v(!e)}):c(e)}),[]),x=o.useCallback(Object(u.b)(500,e=>{c instanceof Promise&&d(e).catch(t=>{console.error(t),w(!e)})}),[]);let C=n+(Number(b)-Number(i));return a||(C-=Number(y)-Number(l)),o.createElement(m,Object.assign({dense:t},h),o.createElement(g,{dense:t,selected:b,onClick:()=>{v(!b),E(!b)}},o.createElement(s.a,{useKM:!0,size:"xsmall",icon:"arrow_drop_up"})),o.createElement(p,{dense:t,upOnly:a},C),!a&&o.createElement(f,{dense:t,selected:l,onClick:()=>{w(!y),x(!y)}},o.createElement(s.a,{useKM:!0,icon:"arrow_drop_down"})))}},2002:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(1),i=n.n(a),o=n(0),r=n(1416),s=n(383),l=n(1452),c=n(1438),d=n(1453);const u=i.a.div`
  display: inline-flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
`,m=i()(r.a)`
  margin-right: ${e=>e.theme.material.spacing(4)};
`,p=e=>{const[t,n]=o.useState(!1);return o.createElement(d.a,null,o.createElement(l.a,{open:t,anchorCorner:"bottomLeft",hoistToBody:!0,onSelect:t=>{t.detail.item.textContent&&e.onSelect(e.options[t.detail.index],t.detail.index)},onClose:()=>n(!1),style:{zIndex:1001}},e.options.map((t,n)=>o.createElement(c.a,{key:t},e.optionIcons&&e.optionIcons[n]&&o.createElement(m,{useKM:!0,icon:e.optionIcons[n]}),t))),o.createElement(u,{tabIndex:0,onClick:()=>n(!0)},e.renderButton?e.renderButton(e.value):o.createElement(s.q,{emphasis:"high"},e.value),o.createElement(r.a,{icon:"arrow_drop_down",size:"small"})))}},2003:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1623),i=n(0);n(576),n(1420);const o=e=>{const{acceptLabel:t,children:n,className:o,open:r,title:s,onClose:l,onAccept:c,onCancel:d}=e,u=e.cancelLabel||null;return i.createElement(a.f,{acceptLabel:t,cancelLabel:u,className:o,open:r,title:s,onClose:e=>{"accept"===e.detail.action&&c&&c(),"close"===e.detail.action&&d&&d(),l&&l(e)}},n)}},2004:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n(1),i=n.n(a),o=n(579),r=n(0);const s=i.a.div`
  background-color: ${e=>e.theme.colors.pure.white};
  border: 1px solid ${e=>e.theme.colors.border};
  border-radius: ${e=>e.theme.size.border.radius.modal};
  box-sizing: border-box;
  display: flex;
  flex-flow: column nowrap;
  height: auto;
  justify-content: flex-start;
  margin-bottom: ${e=>e.theme.size.pad.l};
  margin-top: ${e=>e.theme.size.pad.l};
  position: relative;
  user-select: none;
  width: 100%;
`,l=i.a.div`
  background-color: #fbfbfb;
  border-bottom: 1px solid
    ${e=>Object(o.rgba)(e.theme.colors.content.border,.5)};
  border-top-left-radius: ${e=>e.theme.size.border.radius.modal};
  border-top-right-radius: ${e=>e.theme.size.border.radius.modal};
  box-sizing: border-box;
  color: ${e=>e.theme.colors.kaggle.gray};
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;
  padding: ${e=>e.theme.size.pad.m}
    ${e=>e.theme.size.pad.xl};
`,c=i.a.div`
  background-color: ${e=>e.theme.colors.pure.white};
  border-top: 1px solid ${e=>Object(o.rgba)(e.theme.colors.content.border,.5)};
  border-bottom-left-radius: ${e=>e.theme.size.border.radius.modal};
  border-bottom-right-radius: ${e=>e.theme.size.border.radius.modal};
  box-sizing: border-box;
  color: ${e=>e.theme.colors.kaggle.gray};
  display: flex;
  flex-flow: row nowrap;
  justify-content: center;
  padding: ${e=>e.theme.size.pad.m};
  width: auto;
`,d=e=>{const{children:t,header:n,footer:a,className:i}=e;return r.createElement(s,{className:i},n&&r.createElement(l,null,n),t,a&&r.createElement(c,null,a))}},2005:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1623),i=n(0);n(576),n(1420);const o=e=>{const{children:t,className:n}=e;return i.createElement(a.e,{className:n},t)}},2006:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(1623),i=n(0);n(576),n(1420);const o=e=>{const{children:t,className:n}=e;return i.createElement(a.b,{className:n},t)}},2007:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a,i,o,r=n(3),s=n(1),l=n.n(s),c=n(10),d=l.a.div.withConfig({displayName:"TitleWithMedal_Wrapper",componentId:"sc-7amhqi"})(a||(a=Object(r.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: ",";\n\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n"],["\n  display: flex;\n  align-items: center;\n  margin-bottom: ",";\n\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: ",";\n"])),c.g.PadXs,(function(e){return e.isHoveringParent?c.b.TextLinkHover:c.b.TextDark}),c.d.FontSizeM,c.d.FontSizeL,c.d.FontWeightMedium),u=l.a.img.withConfig({displayName:"TitleWithMedal_MedalImg",componentId:"sc-1k98z6g"})(i||(i=Object(r.__makeTemplateObject)(["\n  width: 15px;\n  height: 15px;\n  margin-right: ",";\n"],["\n  width: 15px;\n  height: 15px;\n  margin-right: ",";\n"])),c.g.PadS),m=l.a.span.withConfig({displayName:"TitleWithMedal_TitleText",componentId:"sc-cck92k"})(o||(o=Object(r.__makeTemplateObject)(["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"],["\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"])));function p(t){var n=t.medal,a=t.text,i=t.isHoveringParent,o=t.className;return e.createElement(d,{isHoveringParent:i,className:o},n&&e.createElement(u,{src:n.src,alt:n.alt}),e.createElement(m,null,a))}}).call(this,n(0))},2008:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var a,i,o,r,s=n(3),l=n(0),c=n(1),d=n.n(c),u=n(1421),m=n(10),p=n(577),h=d.a.div.withConfig({displayName:"TopItem_Wrapper",componentId:"sc-16g3rm2"})(a||(a=Object(s.__makeTemplateObject)([""],[""]))),g=d.a.div.withConfig({displayName:"TopItem_Content",componentId:"sc-1q7u7ta"})(i||(i=Object(s.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  padding: "," ",";\n"],["\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  padding: "," ",";\n"])),m.g.PadS,m.g.PadM),f=d()(u.VoteButton).withConfig({displayName:"TopItem_StyledVoteButton",componentId:"sc-3yx5v5"})(o||(o=Object(s.__makeTemplateObject)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),m.g.PadM),b=d.a.div.withConfig({displayName:"TopItem_TextWrapper",componentId:"sc-e6gm5l"})(r||(r=Object(s.__makeTemplateObject)(["\n  flex: 1 1 auto;\n  overflow: hidden;\n  white-space: nowrap;\n  margin-right: ",";\n"],["\n  flex: 1 1 auto;\n  overflow: hidden;\n  white-space: nowrap;\n  margin-right: ",";\n"])),(function(e){return e.hasFooter?m.g.PadM:0})),v=function(t){function n(e){var n=t.call(this,e)||this;return n.onMouseEnter=function(){n.setState({isHovering:!0})},n.onMouseLeave=function(){n.setState({isHovering:!1})},n.mapVoteButtonDtoToProps=function(e){var t=e.voters,a=e.currentUserInfo,i=Object(s.__rest)(e,["voters","currentUserInfo"]),o=t&&t.map((function(e){return n.mapUserDtoToUserCardProps(e)})),r=a&&n.mapUserDtoToUserCardProps(a);return Object(s.__assign)(Object(s.__assign)({},i),{voters:o,currentUserInfo:r})},n.mapUserDtoToUserCardProps=function(e){return{userId:e.id,displayName:e.displayName,avatarThumbnailUrl:e.thumbnailUrl,profileUrl:e.profileUrl}},n.state={isHovering:!1},n}return Object(s.__extends)(n,t),n.prototype.render=function(){var t=this.props,n=t.voteButtonDto,a=t.thumbnail,i=t.title,o=t.subtitle,r=t.href,c=t.footer,d=t.reportItemVisit,u=this.state.isHovering,m=n?e.createElement(f,Object(s.__assign)({},this.mapVoteButtonDtoToProps(n))):null;return e.createElement(h,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},e.createElement(p.a,{href:r,borderless:!0,onClick:d},e.createElement(g,null,m,a,e.createElement(b,{hasFooter:!!c},Object(l.cloneElement)(i,{isHoveringParent:u}),o),c)))},n}(l.Component)}).call(this,n(0))},2009:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n(1909),i=n(1905),o=n(0),r=n(1810);const s=e=>{var t,n,a,i,o;return e?{thumbnailUrl:null!==(t=e.thumbnailUrl)&&void 0!==t?t:void 0,profileUrl:null!==(n=e.userUrl)&&void 0!==n?n:void 0,tier:null!==(a=e.tier)&&void 0!==a?a:void 0,displayName:null!==(i=e.displayName)&&void 0!==i?i:"",id:null!==(o=e.id)&&void 0!==o?o:void 0}:{size:"medium",tier:"deleted",displayName:"",thumbnailUrl:"/static/images/grey-thumbnail-small.png"}},l=({thumbnailUrl:e,size:t="medium",profileUrl:n,tier:s="novice",displayName:l="",id:c,openLinkInNewWindow:d})=>o.createElement(a.b,null,({targetRef:u,setTargetRef:m})=>o.createElement(o.Fragment,null,o.createElement(i.a,{ref:m,thumbnailUrl:e,size:t,profileUrl:n,tier:s,displayName:l,openLinkInNewWindow:d}),o.createElement(a.a,{targetRef:u},o.createElement(r.a,{userId:c,userName:null==n?void 0:n.substring(1)}))))},2010:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n(1416),i=n(1),o=n.n(i),r=n(1615),s=n(0);const l=o.a.div`
  display: flex;
  height: 24px;
  width: 88px;
`,c=o()(e=>s.createElement(r.a,Object.assign({classes:{label:"label"}},e)))`
  && {
    padding: 0;
    height: 100%;
    min-width: 50%;
  }

  & .label {
    line-height: 17px;
    text-transform: none;
    color: ${e=>"no-vote"===e.state?e.theme.material.color.text[50]:e.theme.material.color.brand.blue[800]};
    ${e=>e.theme.font.main.size.m};
  }
`,d=o()(c)`
  &&& {
    border-right: none;
    border-top-right-radius: 0px;
    border-bottom-right-radius: 0px;
  }
`,u=o()(c)`
  && {
    border-top-left-radius: 0px;
    border-bottom-left-radius: 0px;
  }

  & .label {
    ${e=>"no-vote"===e.state?e.theme.font.main.weight.light:e.theme.font.main.weight.bold};
  }
`;function m(e){const{state:t,totalVotes:n,onVote:i,className:o}=e;return s.createElement(l,{className:o},s.createElement(d,{variant:"outlined",disabled:!i,onClick:i,state:t,"data-testid":"vote-button-icon"},s.createElement(a.a,{icon:"keyboard_arrow_up"})),s.createElement(u,{variant:"outlined",disabled:!0,state:t},n))}},2011:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(383),i=n(1468),o=n(1),r=n.n(o),s=n(0),l=n(1668);const c=r()(l.c)`
  display: flex;
`,d=r.a.div`
  flex: 1 0 0;
  padding: ${l.o} ${e=>e.theme.material.spacing(12)} ${l.o}
    ${l.o};
`,u=r.a.div`
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: none;
  }
  height: 256px;
`,m=r()(a.m)`
  color: ${e=>e.theme.material.color.text[70]};
  margin-bottom: ${l.b};
`,p=r()(a.a)`
  margin-bottom: ${l.b};
  color: ${l.d};
`,h=r.a.img`
  background-color: ${l.e};
  width: 400px;
  border-radius: 0 ${e=>e.theme.material.borderRadius.normal}
    ${e=>e.theme.material.borderRadius.normal} 0;
  border: 0;
`,g=e=>{const{title:t,description:n,buttonText:a,imageUrl:o,onButtonClick:r}=e;return s.createElement(c,null,s.createElement(d,null,s.createElement(m,null,t),s.createElement(p,null,n),r&&s.createElement(i.a,{useKM:!0,emphasis:"medium",onClick:r},a)),s.createElement(u,null,s.createElement(h,{src:o})))}},2018:function(e,t,n){"use strict";var a=n(1),i=n.n(a),o=n(0),r=n(1416),s=n(383),l=n(1462);n(581),n(1455);const c=i()(l.a)``,d=e=>{const{id:t,label:n,onChange:a}=e,i=e.checked||!1,r=e.disabled||!1;return o.createElement(c,{checked:i,disabled:r,id:t,label:n,onChange:a})};var u=n(9);const m={light:{default:{background:u.g,knob:{true:u.m,false:u.r},knobIcon:{true:u.r,false:u.m}},disabled:{background:u.d,knob:{true:u.e,false:u.r}}},dark:{default:{background:u.g,knob:{true:u.m,false:u.r},knobIcon:{true:u.r,false:u.m}},disabled:{background:u.g,knob:{true:u.m,false:u.r}}}};n.d(t,"a",(function(){return y}));const p=i.a.div`
  &&&& {
    display: flex;
    align-items: center;
    overflow: visible !important;
  }
`,h=i.a.div`
  position: relative;
  width: 40px;
  height: 16px;
  display: flex;
  align-items: center;
`,g=i.a.div`
  width: 30px;
  height: 12px;
  background-color: ${e=>e.switchTheme.background};
  border-radius: 6px;
  position: absolute;
`,f=i.a.div`
  position: absolute;
  display: flex;
  align-items: center;
  justify-items: center;
  left: ${e=>e.checked?"12px":"-4px"};
  top: -1px;
  width: 18px;
  height: 18px;
  border-radius: 8px;
  background-color: ${e=>e.switchTheme.knob[e.checked?"true":"false"]};
  box-shadow: ${e=>!e.disabled&&"0px 2px 2px rgba(60, 64, 67, 0.3), 0px 0px 2px rgba(60, 64, 67, 0.3)"};
  transition: all 0.3s ease;
`,b=i()(r.a)`
  && {
    margin-left: 1px;
    font-size: 16px;
    color: ${e=>e.switchTheme.knobIcon[e.checked?"true":"false"]};
  }
`,v=i.a.input`
  position: absolute;
  top: 0;
  left: 0;
  width: 40px;
  height: 24px;
  margin: 0;
  opacity: 0;
  cursor: pointer;
  pointer-events: auto;
`,y=e=>{const{id:t,label:n,onChange:i,useKM:r}=e;if(!r)return o.createElement(d,Object.assign({},e));const l=e.checked||!1,c=e.disabled||!1,u=o.useContext(a.ThemeContext),y=m[u.name][c?"disabled":"default"];return o.createElement(p,null,o.createElement(h,null,o.createElement(g,{switchTheme:y}),o.createElement(f,{switchTheme:y,checked:l,disabled:c},o.createElement(b,{size:"xsmall",icon:l?"check":"remove",checked:l,useKM:!0,switchTheme:y})),o.createElement(v,{type:"checkbox",onChange:i,checked:l,disabled:c,id:t})),n&&o.createElement(s.b,null,n))}},2019:function(e,t,n){"use strict";var a=n(1893),i=n(383),o=n(1416),r=n(2005),s=n(1971),l=n(2006),c=n(1980),d=n(1),u=n.n(d),m=n(287),p=n(0),h=n(1413),g=n(1668);const f=u.a.a`
  z-index: ${e=>e.theme.zindex.foreground};
`,b=u.a.div`
  width: ${"42px"};
  height: ${"49px"};
  margin-right: ${g.b};
  display: flex;
  flex-direction: column;
  justify-content: center;
`,v=u.a.img`
  flex: 0 0 ${"42px"};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  height: ${"42px"};
  width: ${"42px"};
`,y=u.a.img`
  height: 5px;
  width: ${"42px"};
  margin-top: ${e=>e.theme.material.spacing(.5)};
`,w=e=>{const{imageUrl:t,displayName:n,url:a,tier:i}=e,o=E(i);return p.createElement(f,{href:a,target:"_blank",rel:"noopener",onClick:e=>{e.stopPropagation()}},p.createElement(b,null,p.createElement(v,{src:t,alt:n}),o&&p.createElement(y,{src:`/static/images/avatier/avatier-${o}@2x.png`,alt:o})))},E=e=>{switch(e){case 0:return"novice";case 1:return"contributor";case 2:return"expert";case 3:return"master";case 4:return"grandmaster";case 5:return"staff";case 21:return"recalc"}};n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return j}));const x=u()(a.a)`
  z-index: 100 !important;
`,C=u.a.div`
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-top: ${e=>e.extended?e.theme.material.spacing(3):e.theme.material.spacing(1)};
`,k=u.a.div`
  color: ${g.d};
  margin-top: ${e=>e.theme.material.spacing(2)};
  display: flex;
  align-items: center;
`,_=u()(k)`
  &:hover * {
    color: ${e=>e.theme.material.color.brand.blue[900]} !important;
  }
`,S=u()(i.e)`
  white-space: nowrap;
  margin-top: ${e=>e.theme.material.spacing(.5)};
  margin-right: ${e=>e.theme.material.spacing(1)};
`,O=u()(o.a)`
  /* link needs to appear above link to list item */
  z-index: ${e=>e.theme.zindex.foreground};
`,T=e=>{const{item:t,compact:n,selected:a,onSelect:i,onVote:o,onAccept:u,onUnaccept:f,onDelete:b}=e,{title:v,author:y,type:E,submittedDate:T,acceptedDate:j,lastUpdated:I,voteButton:N,commentCount:D,notebookInfo:$,datasetInfo:M}=t,{displayName:U,slug:P,thumbnailImageUrl:F,tier:R}=y,z=!0!==n,L=I||T,[A,V]=p.useState(!1);return p.createElement(p.Fragment,null,p.createElement(g.f,{selected:a,onClick:e=>{e.target&&e.target.firstChild&&"button"===e.target.firstChild.localName?e.stopPropagation():(i(),e.stopPropagation())}},F&&z&&p.createElement(w,{imageUrl:F,displayName:U,url:`/${P}`,tier:R||void 0}),p.createElement(g.g,null,p.createElement(g.l,null,p.createElement(g.k,null,v)),p.createElement(C,{extended:z},p.createElement(g.h,null,z&&p.createElement(p.Fragment,null,p.createElement(g.j,{href:`/${P}`,target:"_blank",rel:"noopener",onClick:e=>{e.stopPropagation()}},U)," · "),L&&p.createElement(p.Fragment,null,p.createElement(h.a,{time:L})," · "),"notebook"===E?"Notebook":"Dataset",$&&p.createElement(p.Fragment,null," · ",$.language,z&&p.createElement(p.Fragment,null," · ",m("Comment",D,!0))),M&&p.createElement(p.Fragment,null," · ",m("File",M.fileCount,!0),z&&p.createElement(p.Fragment,null," · ",m("Comment",D,!0)))))),p.createElement(g.i,null,o&&N&&z&&p.createElement(g.m,{totalVotes:N.totalVotes,state:N.hasAlreadyVotedUp?"voted-up":"no-vote",onVote:N.canUpvote?e=>{o(),e.stopPropagation()}:void 0}),z&&j&&p.createElement(k,{onClick:f?e=>{f(),e.stopPropagation()}:void 0},p.createElement(S,null,"Accepted Submission"),p.createElement(O,{color:d.defaultTheme.material.color.status.success[1e3],icon:p.createElement("svg",{viewBox:"0 0 24 24",width:"18px",height:"18px"},p.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),p.createElement("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),size:"xsmall"})),z&&!j&&u&&p.createElement(_,{onClick:e=>{u(),e.stopPropagation()}},p.createElement(S,null,"Accept Submission"),p.createElement(O,{color:d.defaultTheme.material.color.brand.grey[500],icon:"radio_button_unchecked",size:"xsmall"})),z&&!j&&b&&p.createElement(_,{onClick:e=>{V(!0),e.stopPropagation()}},p.createElement(S,null,"Remove Submission"),p.createElement(O,{color:d.defaultTheme.material.color.brand.grey[500],icon:"delete_forever",size:"xsmall"})))),b&&p.createElement(x,{open:A,onClose:e=>{"delete"===e.detail.action&&b(),V(!1),e.stopPropagation()}},p.createElement(r.a,null,"Are you sure you want to remove this submission?"),p.createElement(s.a,null,"This submissions to the task will be deleted with this action. Are you sure you want to proceed?"),p.createElement(l.a,null,p.createElement(c.a,{action:"delete",variant:"text"},"Delete"),p.createElement(c.a,{action:"cancel",isDefaultAction:!0,variant:"unelevated"},"Cancel"))))},j=e=>"dataset"===e.type&&e.datasetInfo?`dataset-${e.datasetInfo.datasetId}`:"notebook"===e.type&&e.notebookInfo?`notebook-${e.notebookInfo.kernelId}`:`submission-${e.id}`},2027:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return y}));var a,i=n(3),o=n(2383),r=n(1636),s=n(1419),l=n(30),c=n(1969),d=n(2161),u=n(2165),m=n(2162),p=n(2163),h=n(1),g=n.n(h),f=n(8),b=g()(o.a).withConfig({displayName:"Settings_CodeConfig",componentId:"sc-1l9q58m"})(v||(v=Object(i.__makeTemplateObject)(["\n  width: 700px;\n  margin: ",";\n\n  .CodeMirror-wrapper {\n    border: none;\n  }\n\n  .CodeMirror {\n    height: 400px;\n    box-sizing: border-box;\n    padding: 0;\n  }\n\n  .CodeMirror-gutters {\n    /* Force gutter background to take up full height of editor */\n    min-height: 100% !important;\n  }\n"],["\n  width: 700px;\n  margin: ",";\n\n  .CodeMirror-wrapper {\n    border: none;\n  }\n\n  .CodeMirror {\n    height: 400px;\n    box-sizing: border-box;\n    padding: 0;\n  }\n\n  .CodeMirror-gutters {\n    /* Force gutter background to take up full height of editor */\n    min-height: 100% !important;\n  }\n"])),(function(e){return e.theme.material.spacing(4)}));!function(e){e.General="general",e.Image="image",e.Sharing="sharing",e.PowerSettings="power",e.CodeConfig="code-config"}(a||(a={}));var v,y=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.onPageChanged=function(t,n){e.context.legacyClients.analyticsClient.logger.report("datasets","settings-tab-change-"+(t&&t.menuEntry.text),{previousTab:n&&n.menuEntry.text}),n&&t&&n.menuEntry.tab==a.General&&t.menuEntry.tab!=a.General&&e.generalRef.onSaveWithoutOwnerImmediately(),s.a.clear()},e}return Object(i.__extends)(n,t),n.prototype.render=function(){var t,n=this,i=[],o=null,s=null;if("databundleVersion"==this.props.data.type){var h=this.props.data;t=h.databundleVersionType,h.settings&&h.settings.remoteGithubSettings&&h.settings.remoteGithubSettings.updateFrequency?o=h.settings.remoteGithubSettings.updateFrequency:h.settings&&h.settings.remoteUrlSettings&&h.settings.remoteUrlSettings.updateFrequency&&(o=h.settings.remoteUrlSettings.updateFrequency)}var g=this.props.datasetVersions.find((function(e){return e.id==n.props.datasetVersionId}));return null==g||"remoteGitRepositoryFileSet"!=t&&"remoteUrlFileSet"!=t||(s=g.creationDate),this.props.canEdit&&i.push({menuEntry:{tab:a.General,text:"General",title:a.General},element:e.createElement(d.a,{ref:function(e){null!=e&&(n.generalRef=e)},datasetId:this.props.datasetId,canEdit:this.props.canEdit,canSeeDeletionButton:this.props.canSeeDeletionButton,deletionNeedsReview:this.props.deletionNeedsReview,hasDatasetDoiApproved:this.props.hasDatasetDoiApproved,isConfirmDeleteVisible:this.props.isConfirmDeleteVisible,licenseId:this.props.licenseId,licenseGroups:this.props.licenseGroups,onDeleteDataset:this.props.onDeleteDataset,onSaveSettingsGeneral:this.props.onSaveSettingsGeneral,overview:this.props.overview,owner:this.props.owner,owners:this.props.owners,setConfirmDeleteVisible:this.props.setConfirmDeleteVisible,slug:this.props.slug,title:this.props.title,diffType:this.props.diffType,databundleVersionType:t,remoteUpdateFrequency:o,lastRemoteUpdate:s,blockTaskCreation:this.props.blockTaskCreation})}),this.props.canEdit&&i.push({menuEntry:{tab:a.Image,text:"Image",title:a.Image},element:e.createElement(m.a,{ref:function(e){null!=e&&(n.imageRef=e)},cardImageUrl:this.props.cardImageUrl,cardImageLeft:this.props.cardImageLeft,cardImageTop:this.props.cardImageTop,cardImageHeight:this.props.cardImageHeight,cardImageWidth:this.props.cardImageWidth,coverImageLeft:this.props.coverImageLeft,coverImageHeight:this.props.coverImageHeight,coverImageTop:this.props.coverImageTop,coverImageWidth:this.props.coverImageWidth,coverImageUrl:this.props.coverImageUrl,datasetId:this.props.datasetId,datasetUrl:this.props.datasetUrl,onSaveSettingsImages:this.props.onSaveSettingsImages,originalImageUrl:this.props.originalImageUrl,thumbnailImageUrl:this.props.thumbnailImageUrl})}),i.push({menuEntry:{tab:a.Sharing,text:"Sharing",title:a.Sharing},element:e.createElement(p.a,{ref:function(e){null!=e&&(n.sharingRef=e)},canPerformOwnerTasks:this.props.canPerformOwnerTasks,canSeeDatasetHashLink:this.props.canSeeDatasetHashLink,collaborators:this.props.collaborators,datasetId:this.props.datasetId,isPrivate:this.props.isPrivate,owner:this.props.owner,slug:this.props.slug,hashLink:null!==this.props.datasetHashLink?this.props.datasetHashLink:void 0,onUpdateCollaborators:this.props.onUpdateCollaborators,onUpdateHashLink:this.props.onUpdateHashLink,setConfirmPrivacyVisible:this.props.setConfirmPrivacyVisible})}),this.props.canSeeConfigAsCode&&this.props.canEdit&&i.push({menuEntry:{tab:a.CodeConfig,text:"JSON Config",title:a.CodeConfig,additionalClassName:"dataset-settings__json-config-tab"},element:e.createElement(b,{datasetId:this.props.datasetId})}),l.a.isAdmin&&i.push({menuEntry:{tab:a.PowerSettings,text:"Power Settings",title:a.PowerSettings},element:e.createElement(u.a,{ref:function(e){null!=e&&(n.powerRef=e)},isFeatured:this.props.isFeatured,isSuperFeatured:this.props.isSuperFeatured,isRemoved:this.props.isRemoved,onSaveSettingsPower:this.props.onSaveSettingsPower,owner:this.props.owner,maintainerOrganization:this.props.maintainerOrganization,slug:this.props.slug,scheduledToBeFeatured:this.props.scheduledToBeFeatured,scheduledToBeUnFeatured:this.props.scheduledToBeUnFeatured,scheduledToBeUnSuperFeatured:this.props.scheduledToBeUnSuperFeatured,scheduledToBeSuperFeatured:this.props.scheduledToBeSuperFeatured})}),e.createElement("div",{className:"dataset-settings"},e.createElement(r.b,{title:"Settings"},e.createElement(c.a,{pages:i,onPageChanged:this.onPageChanged,initialPageName:this.props.initialSubtab})))},n.contextType=f.ClientsContext,n}(e.Component)}).call(this,n(0))},2028:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return de}));var a,i,o,r,s,l,c,d,u,m,p,h,g,f,b,v,y,w,E,x,C,k,_,S,O,T=n(3),j=n(10),I=n(386),N=n(30),D=n(1641),$=n(1655),M=n(1657),U=n(1),P=n.n(U),F=n(575),R=n(1850),z=P.a.div.withConfig({displayName:"CollaborationSettings_CollaborationContainer",componentId:"sc-by1nzz"})(a||(a=Object(T.__makeTemplateObject)(["\n  padding: 0 0 0 0;\n"],["\n  padding: 0 0 0 0;\n"]))),L=P.a.div.withConfig({displayName:"CollaborationSettings_CollaborationHeader",componentId:"sc-k5n8o6"})(i||(i=Object(T.__makeTemplateObject)(["\n    ","\n    color: ",";\n    margin: "," 0;\n    font-size: ",";\n    line-height: ",";\n\n    a {\n        margin-left: 10px;\n        color: ",";\n\n        &:hover {\n            color: ",";\n        }\n    }\n"],["\n    ","\n    color: ",";\n    margin: "," 0;\n    font-size: ",";\n    line-height: ",";\n\n    a {\n        margin-left: 10px;\n        color: ",";\n\n        &:hover {\n            color: ",";\n        }\n    }\n"])),j.c.Inter,j.b.FooterGrayDark,j.g.PadS,j.d.FontSizeM,j.d.LineHeightTall,j.b.FooterGrayDark,j.b.TextMedium),A=P.a.div.withConfig({displayName:"CollaborationSettings_CollaborationSection",componentId:"sc-gsqc2z"})(o||(o=Object(T.__makeTemplateObject)(["\n  margin: "," "," "," 0;\n"],["\n  margin: "," "," "," 0;\n"])),j.g.PadS,j.g.PadXxl,j.g.PadL),V=P.a.div.withConfig({displayName:"CollaborationSettings_CollaborsSection",componentId:"sc-sd6byj"})(r||(r=Object(T.__makeTemplateObject)(["\n  margin: "," 0 "," 0;\n"],["\n  margin: "," 0 "," 0;\n"])),j.g.PadS,j.g.PadL),B=P.a.div.withConfig({displayName:"CollaborationSettings_CollaboratorContainer",componentId:"sc-4qod4g"})(s||(s=Object(T.__makeTemplateObject)(["\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-start;\n  margin: "," "," "," 0;\n"],["\n  display: flex;\n  flex-flow: row nowrap;\n  align-items: center;\n  justify-content: flex-start;\n  margin: "," "," "," 0;\n"])),j.g.PadS,j.g.PadS,j.g.PadS),K=P.a.div.withConfig({displayName:"CollaborationSettings_CollaboratorIcon",componentId:"sc-1mp3nk8"})(l||(l=Object(T.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  width: 48px;\n"],["\n  flex: 0 0 auto;\n  width: 48px;\n"]))),H=P.a.div.withConfig({displayName:"CollaborationSettings_CollaboratorName",componentId:"sc-1ayeflx"})(c||(c=Object(T.__makeTemplateObject)(["\n  flex: 0 2 200px;\n  font-weight: ",";\n"],["\n  flex: 0 2 200px;\n  font-weight: ",";\n"])),j.d.FontWeightMedium),q=P.a.div.withConfig({displayName:"CollaborationSettings_CollaboratorType",componentId:"sc-1densbg"})(m||(m=Object(T.__makeTemplateObject)(["\n  flex: 2 2 auto;\n\n  ","\n  ","\n"],["\n  flex: 2 2 auto;\n\n  ","\n  ","\n"])),j.f.tablet(d||(d=Object(T.__makeTemplateObject)(["\n        width: 120px;\n        .KaggleSelect {\n            width: 120px;\n            min-width: 120px;\n        }\n    "],["\n        width: 120px;\n        .KaggleSelect {\n            width: 120px;\n            min-width: 120px;\n        }\n    "]))),j.f.mobile(u||(u=Object(T.__makeTemplateObject)(["\n        width: 120px;\n        .KaggleSelect {\n            width: 120px;\n            min-width: 120px;\n        }\n    "],["\n        width: 120px;\n        .KaggleSelect {\n            width: 120px;\n            min-width: 120px;\n        }\n    "])))),W=P.a.div.withConfig({displayName:"CollaborationSettings_CollaboratorTypeText",componentId:"sc-1jglfva"})(p||(p=Object(T.__makeTemplateObject)(["\n  /* Line up icons with select boxes */\n  padding-left: 13px;\n"],["\n  /* Line up icons with select boxes */\n  padding-left: 13px;\n"]))),G=P.a.div.withConfig({displayName:"CollaborationSettings_CollaboratorRemove",componentId:"sc-1x8fi81"})(h||(h=Object(T.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  width: 38px;\n  text-align: right;\n"],["\n  flex: 0 0 auto;\n  width: 38px;\n  text-align: right;\n"]))),Q=P.a.span.withConfig({displayName:"CollaborationSettings_CollaboratorSelf",componentId:"sc-9fogi1"})(g||(g=Object(T.__makeTemplateObject)(["\n  margin-left: ",";\n"],["\n  margin-left: ",";\n"])),j.g.PadXs),Y=P.a.a.withConfig({displayName:"CollaborationSettings_CollaboratorLink",componentId:"sc-1glrewq"})(f||(f=Object(T.__makeTemplateObject)(["\n  text-decoration: none;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"],["\n  text-decoration: none;\n  color: ",";\n  &:hover {\n    color: ",";\n  }\n"])),j.b.TextLink,j.b.TextLinkHover),X=P.a.a.withConfig({displayName:"CollaborationSettings_GroupCollaboratorCountLink",componentId:"sc-17tiqcq"})(b||(b=Object(T.__makeTemplateObject)(["\n  margin-left: ",";\n  text-decoration: none;\n  color: ",";\n  &:hover {\n    text-decoration: underline;\n  }\n"],["\n  margin-left: ",";\n  text-decoration: none;\n  color: ",";\n  &:hover {\n    text-decoration: underline;\n  }\n"])),j.g.PadXs,j.b.TextMedium),J=P()(I.b).withConfig({displayName:"CollaborationSettings_RemoveIcon",componentId:"sc-5270ha"})(v||(v=Object(T.__makeTemplateObject)(["\n  color: ",";\n  cursor: pointer;\n  margin-left: 24px;\n"],["\n  color: ",";\n  cursor: pointer;\n  margin-left: 24px;\n"])),j.b.KaggleRed),Z=P()(I.b).withConfig({displayName:"CollaborationSettings_CollaboratorTypeIcon",componentId:"sc-1ontqt2"})(y||(y=Object(T.__makeTemplateObject)(["\n  color: ",";\n  margin-right: 10px;\n"],["\n  color: ",";\n  margin-right: 10px;\n"])),j.b.TextMedium),ee=P()(I.b).withConfig({displayName:"CollaborationSettings_CollaboratorTypeIconInSelect",componentId:"sc-or2gn1"})(w||(w=Object(T.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),j.b.TextMedium,j.g.PadS),te=P.a.div.withConfig({displayName:"CollaborationSettings_SelectUser",componentId:"sc-lyt2yh"})(E||(E=Object(T.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n"],["\n  display: flex;\n  align-items: center;\n"]))),ne=P.a.img.withConfig({displayName:"CollaborationSettings_SelectUserThumbnail",componentId:"sc-1xbgsqc"})(x||(x=Object(T.__makeTemplateObject)(["\n  border-radius: ",";\n  margin-right: ",";\n  max-width: ",";\n"],["\n  border-radius: ",";\n  margin-right: ",";\n  max-width: ",";\n"])),j.g.BorderRadius,j.g.PadS,j.g.PadL),ae=P.a.div.withConfig({displayName:"CollaborationSettings_CollaborationButtons",componentId:"sc-13fee3o"})(C||(C=Object(T.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  margin: "," "," 0 0;\n  justify-content: flex-end;\n"],["\n  display: flex;\n  align-items: center;\n  margin: "," "," 0 0;\n  justify-content: flex-end;\n"])),j.g.PadM,j.g.PadXxl),ie=P.a.span.withConfig({displayName:"CollaborationSettings_Warning",componentId:"sc-1i6i11z"})(k||(k=Object(T.__makeTemplateObject)(["\n  color: ",";\n"],["\n  color: ",";\n"])),j.b.TextLight),oe=P.a.div.withConfig({displayName:"CollaborationSettings_PrivateDatasetsHint",componentId:"sc-8giycy"})(_||(_=Object(T.__makeTemplateObject)(["\n  margin: "," 0 0 0;\n"],["\n  margin: "," 0 0 0;\n"])),j.g.PadS),re=P.a.a.withConfig({displayName:"CollaborationSettings_PrivateDataset",componentId:"sc-1v7zs4u"})(S||(S=Object(T.__makeTemplateObject)(["\n  font-size: 0.8rem;\n  padding-left: ",";\n  padding-right: ",";\n  color: #a8a8a8;\n"],["\n  font-size: 0.8rem;\n  padding-left: ",";\n  padding-right: ",";\n  color: #a8a8a8;\n"])),j.g.PadS,j.g.PadXs),se=P()(I.b).withConfig({displayName:"CollaborationSettings_PrivateDatasetPopoutIcon",componentId:"sc-1ky8pie"})(O||(O=Object(T.__makeTemplateObject)(["\n  font-size: 0.8rem;\n  vertical-align: bottom;\n"],["\n  font-size: 0.8rem;\n  vertical-align: bottom;\n"]))),le=function(e){switch(e){case"owner":return"Owner";case"writer":return"Can edit";case"reader":return"Can view"}return e},ce=function(e){switch(e){case"owner":return"user";case"writer":return"pencil";case"reader":return"eye"}return e},de=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.getCollaboratorTypeOptions=function(){var e=[];return n.props.allowReaders&&e.push({label:le("reader"),value:"reader"}),n.props.allowWriters&&e.push({label:le("writer"),value:"writer"}),e},n.renderCollaboratorOption=function(t){return e.createElement(te,null,t.thumbnailUrl&&e.createElement(ne,{src:t.thumbnailUrl,alt:t.label+" thumbnail"}),e.createElement("p",null,t.label))},n.renderCollaboratorTypeOption=function(t){return"reader"==t.value?e.createElement("span",null,e.createElement(ee,{name:ce("reader")}),t.label):e.createElement("span",null,e.createElement(ee,{name:ce("writer")}),t.label)},n}return Object(T.__extends)(n,t),n.prototype.renderCollaborator=function(t,n){var a=this,i=e.createElement(W,null,e.createElement(Z,{name:ce(t.type)}),le(t.type)),o="owner"!=t.type&&this.props.canEdit,r="owner"!=t.type&&(this.props.canEdit||N.a.isAdmin||this.props.canRemoveSelf&&t.isUser&&!N.a.isAnonymous&&t.userId==N.a.userId);return o&&(i=e.createElement($.a,{options:this.getCollaboratorTypeOptions(),keepFocus:!0,onChange:function(e){return a.props.onChangeCollaboratorType(t,n,e)},optionRenderer:this.renderCollaboratorTypeOption,valueRenderer:this.renderCollaboratorTypeOption,searchable:!1,value:t.type})),e.createElement(B,{key:"collaborator-"+n+"-"+t.slug},e.createElement(K,null,e.createElement(M.a,{thumbnailUrl:t.thumbnailUrl,displayName:t.name,id:t.userId,userUrl:t.profileUrl,key:t.userId,tierInt:t.userTier,width:32})),e.createElement(H,null,e.createElement(Y,{href:t.profileUrl},t.name),t.isUser&&!N.a.isAnonymous&&t.userId==N.a.userId&&e.createElement(Q,null,"(you)"),t.isGroup&&t.groupMemberCount&&e.createElement(X,{href:t.profileUrl+"/people"},"(",t.groupMemberCount," member",t.groupMemberCount>1?"s":"",")")),e.createElement(q,null,i),e.createElement(G,null,r&&e.createElement(J,{name:"times",onClick:function(){return a.props.onRemoveCollaborator(t,n)}})))},n.prototype.render=function(){var t=this;return e.createElement(z,null,e.createElement(V,null,this.renderCollaborator(this.props.owner,-1),this.props.collaborators.map((function(e,n){return t.renderCollaborator(e,n)}))),this.props.somethingChanged&&e.createElement(A,null,e.createElement(ie,null,"Your changes are not saved yet, please confirm using the button below.")),this.props.canEdit&&e.createElement(L,null,"Add user",e.createElement(F.b,{tip:"View Collaborators Documentation"},e.createElement("a",{href:"/docs/notebooks#collaborating-on-kernels",target:"_blank"},e.createElement("i",{className:"fa fa-book","aria-hidden":"true"})))),this.props.canEdit&&e.createElement(A,null,e.createElement($.b,{loadOptions:this.props.onLoadCollaborators,placeholder:"Search for users",value:null,optionRenderer:this.renderCollaboratorOption,valueRenderer:this.renderCollaboratorOption,onChange:function(e){return t.props.onAddCollaborator(e)}})),e.createElement(ae,null,e.createElement(D.a,{className:"collaboration__button-reset",text:"Cancel",onClick:function(){return t.props.onReset()}}),e.createElement(D.a,{className:"collaboration__button-save",text:"Save",isDisabled:!this.props.somethingChanged,onClick:function(){return Object(T.__awaiter)(t,void 0,void 0,(function(){return Object(T.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.props.onSaveInternal()];case 1:return[2,e.sent()]}}))}))}})),null!=this.props.privateDataSources&&this.props.privateDataSources.length>0&&e.createElement(oe,null,e.createElement(R.a,null,"Sharing this Notebook does not automatically share the connected data sources. For full access share these private datasets with them:",this.props.privateDataSources.map((function(t,n){return e.createElement("span",null,e.createElement(re,{href:t.dataSourceUrl,target:"_blank"},t.name),e.createElement(se,{name:"external-link"}))})))))},n}(e.Component)}).call(this,n(0))},2029:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return $}));var a=n(3),i=n(1),o=n.n(i),r=n(10),s=n(386),l=n(577),c=n(1636),d=n(1647),u=o.a.div.withConfig({displayName:"Suggestions_SuggestionsWrapper",componentId:"sc-1xk7v0c"})(w||(w=Object(a.__makeTemplateObject)(["\n  ","\n  display: flex;\n  flex-flow: row wrap;\n  flex: 1 1 auto;\n  justify-content: center;\n  background: ",";\n  border-radius: 0 0 "," ",";\n"],["\n  ","\n  display: flex;\n  flex-flow: row wrap;\n  flex: 1 1 auto;\n  justify-content: center;\n  background: ",";\n  border-radius: 0 0 "," ",";\n"])),r.c.Inter,r.b.PureWhite,r.g.BorderRadius,r.g.BorderRadius),m=o.a.span.withConfig({displayName:"Suggestions_InfoTitle",componentId:"sc-1w3dl99"})(E||(E=Object(a.__makeTemplateObject)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n  position: relative;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: center;\n  text-transform: capitalize;\n"],["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n  position: relative;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  text-align: center;\n  text-transform: capitalize;\n"])),r.b.TextMedium,r.d.FontSizeS,r.d.FontWeightMedium,r.d.LineHeightNormal),p=o()(l.a).withConfig({displayName:"Suggestions_SuggestionWrapper",componentId:"sc-1ef3k08"})(C||(C=Object(a.__makeTemplateObject)(["\n  background: ",";\n  cursor: pointer;\n  display: flex;\n  flex-flow: column wrap;\n  flex: 1 1 auto;\n  align-self: stretch;\n  padding: ",";\n  position: relative;\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n  transition: 0.1s color ease;\n  width: 15%;\n\n  &:hover {\n    background: fade(",", 2);\n\n    "," {\n      color: ",";\n    }\n  }\n\n  &:first-child {\n    border-radius: 0 0 0 ",";\n    border-top: 0;\n  }\n\n  &:last-child {\n    border-radius: 0 0 "," 0;\n  }\n\n  ","\n"],["\n  background: ",";\n  cursor: pointer;\n  display: flex;\n  flex-flow: column wrap;\n  flex: 1 1 auto;\n  align-self: stretch;\n  padding: ",";\n  position: relative;\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n  transition: 0.1s color ease;\n  width: 15%;\n\n  &:hover {\n    background: fade(",", 2);\n\n    "," {\n      color: ",";\n    }\n  }\n\n  &:first-child {\n    border-radius: 0 0 0 ",";\n    border-top: 0;\n  }\n\n  &:last-child {\n    border-radius: 0 0 "," 0;\n  }\n\n  ","\n"])),r.b.ContentBackground,r.g.PadM,r.b.PureWhite,r.b.PureWhite,r.b.HoverLight,m,r.b.TextLinkHover,r.g.BorderRadius,r.g.BorderRadius,r.f.nonDesktop(x||(x=Object(a.__makeTemplateObject)(["\n        padding: "," ",";\n        align-items: flex-start;\n    "],["\n        padding: "," ",";\n        align-items: flex-start;\n    "])),r.g.PadS,r.g.PadM)),h=o.a.div.withConfig({displayName:"Suggestions_ContentWrapper",componentId:"sc-135ctbi"})(k||(k=Object(a.__makeTemplateObject)(["\n  max-width: 140px;\n  align-self: center;\n"],["\n  max-width: 140px;\n  align-self: center;\n"]))),g=o.a.div.withConfig({displayName:"Suggestions_SuggestionImageWrapper",componentId:"sc-148gjh6"})(S||(S=Object(a.__makeTemplateObject)(["\n  position: relative;\n  align-self: center;\n  margin: auto;\n\n  width: ",";\n  height: ",";\n  border-radius: ",";\n  font-size: 52px;\n  line-height: ",";\n\n  ","\n"],["\n  position: relative;\n  align-self: center;\n  margin: auto;\n\n  width: ",";\n  height: ",";\n  border-radius: ",";\n  font-size: 52px;\n  line-height: ",";\n\n  ","\n"])),r.g.CardS,r.g.CardS,r.g.CardS,r.g.CardS,r.f.nonDesktop(_||(_=Object(a.__makeTemplateObject)(["\n        width: 64px;\n        height: 64px;\n        border-radius: 64px;\n        font-size: 32px;\n        line-height: 64px;\n    "],["\n        width: 64px;\n        height: 64px;\n        border-radius: 64px;\n        font-size: 32px;\n        line-height: 64px;\n    "])))),f=o.a.img.withConfig({displayName:"Suggestions_SuggestionImage",componentId:"sc-1c4g2wk"})(T||(T=Object(a.__makeTemplateObject)(["\n  border-radius: ",";\n  width: ",";\n  height: ",";\n\n  ","\n"],["\n  border-radius: ",";\n  width: ",";\n  height: ",";\n\n  ","\n"])),r.g.BorderRadius,r.g.CardS,r.g.CardS,r.f.nonDesktop(O||(O=Object(a.__makeTemplateObject)(["\n        width: 64px;\n        height: 64px;\n    "],["\n        width: 64px;\n        height: 64px;\n    "])))),b=o()(s.b).withConfig({displayName:"Suggestions_SuggestionIcon",componentId:"sc-1n4hexv"})(I||(I=Object(a.__makeTemplateObject)(["\n  background: ",";\n  color: ",";\n  align-self: center;\n  text-align: center;\n\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n\n  width: ",";\n  border-radius: ",";\n  font-size: 52px;\n  line-height: ",";\n\n  ","\n"],["\n  background: ",";\n  color: ",";\n  align-self: center;\n  text-align: center;\n\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  margin: auto;\n\n  width: ",";\n  border-radius: ",";\n  font-size: 52px;\n  line-height: ",";\n\n  ","\n"])),r.b.GrayLighter,r.b.BlackOverlay,r.g.CardS,r.g.CardS,r.g.CardS,r.f.nonDesktop(j||(j=Object(a.__makeTemplateObject)(["\n        width: 64px;\n        border-radius: 64px;\n        font-size: 32px;\n        line-height: 64px;\n    "],["\n        width: 64px;\n        border-radius: 64px;\n        font-size: 32px;\n        line-height: 64px;\n    "])))),v=o.a.div.withConfig({displayName:"Suggestions_InfoWrapper",componentId:"sc-iy14r8"})(D||(D=Object(a.__makeTemplateObject)(["\n  align-self: center;\n  flex-flow: column nowrap;\n  display: flex;\n  padding-top: ",";\n\n  ","\n"],["\n  align-self: center;\n  flex-flow: column nowrap;\n  display: flex;\n  padding-top: ",";\n\n  ","\n"])),r.g.PadS,r.f.nonDesktop(N||(N=Object(a.__makeTemplateObject)(["\n        order: 1;\n    "],["\n        order: 1;\n    "]))));function y(t){return e.createElement(p,{href:t.entityUrl,onClick:function(){return d.a.clickedSuggestion(t.entityId,t.entityType)}},e.createElement(h,null,e.createElement(g,null,"category"==t.entityType?e.createElement(b,{name:t.thumbnailImageUrl}):e.createElement(f,{alt:t.title,src:t.thumbnailImageUrl})),e.createElement(v,null,e.createElement(m,null,t.title))))}var w,E,x,C,k,_,S,O,T,j,I,N,D,$=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){return this.props.suggestions&&0!=this.props.suggestions.length?e.createElement(c.b,{title:this.props.title},e.createElement(u,null,this.props.suggestions.map((function(t,n){return e.createElement(y,Object(a.__assign)({},t,{key:t.entityId}))})))):null},n}(e.Component)}).call(this,n(0))},2030:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),i=n.n(a),o=n(0),r=n(1633);const s=i.a.div`
  position: fixed;
  top: 0px;
  bottom: 0px;
  left: 0px;
  right: 0px;
  z-index: ${e=>e.theme.zindex[1e3]};
  background-color: ${e=>r.a[e.theme.name].background};
`,l=e=>{const{maximized:t,children:n}=e;return t?o.createElement(s,null,n):o.createElement(o.Fragment,null,n)}},2031:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),i=n.n(a),o=n(1466),r=n(0);n(1439),n(1440),n(1441),n(1463);const s=i()(o.a)`
  &.mdc-select:not(.mdc-select--disabled).mdc-select--focused {
    .mdc-floating-label {
      color: ${e=>e.theme.colors.primary};
    }
  }
  &.mdc-select--focused .mdc-select__dropdown-icon {
    background: url(${e=>(e=>"data:image/svg+xml,%3Csvg%20width%3D%2210px%22%20height%3D%225px%22%20viewBox%3D%227%2010%2010%205%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%0A%20%20%20%20%3Cpolygon%20id%3D%22Shape%22%20stroke%3D%22none%22%20fill%3D%22%23"+e.theme.colors.primary.substr(1)+"%22%20fill-rule%3D%22evenodd%22%20opacity%3D%221%22%20points%3D%227%2010%2012%2015%2017%2010%22%3E%3C%2Fpolygon%3E%0A%3C%2Fsvg%3E")(e)}) no-repeat center;
  }
`,l=e=>{const{autoFocus:t,children:n,className:a,disabled:i,icon:o,label:l,onChange:c,placeholder:d,required:u,status:m,value:p,variant:h}=e;return r.createElement(s,{autoFocus:t,className:a,disabled:!!i,icon:o,invalid:"error"===m,label:l,onChange:c,outlined:"filled"!==h,placeholder:d,required:!!u,value:p},n)}},2032:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var a,i,o,r,s,l=n(3),c=n(45),d=n(1761),u=n(1658),m=n(30),p=n(1671),h=n(575),g=n(1),f=n.n(g),b=n(383),v=n(386),y=f()(b.b).withConfig({displayName:"RenderProgress_Container",componentId:"sc-19tomnd"})(a||(a=Object(l.__makeTemplateObject)(["\n  margin: ","\n    ",";\n"],["\n  margin: ","\n    ",";\n"])),(function(e){return e.theme.material.spacing(4)}),(function(e){return e.theme.material.spacing(6)})),w=f()(b.b).withConfig({displayName:"RenderProgress_ProgressBarContainer",componentId:"sc-1be7hbw"})(i||(i=Object(l.__makeTemplateObject)(["\n  margin: 0 ",";\n"],["\n  margin: 0 ",";\n"])),(function(e){return e.theme.material.spacing(3)})),E=f()(b.e).withConfig({displayName:"RenderProgress_StyledMessage",componentId:"sc-1jffyb3"})(o||(o=Object(l.__makeTemplateObject)(["\n  margin: 0 ",";\n"],["\n  margin: 0 ",";\n"])),(function(e){return e.theme.material.spacing(3)})),x=f()(b.b).withConfig({displayName:"RenderProgress_Footer",componentId:"sc-13jdja9"})(r||(r=Object(l.__makeTemplateObject)(["\n  margin: "," 0 0 0;\n"],["\n  margin: "," 0 0 0;\n"])),(function(e){return e.theme.material.spacing(3)})),C=f()(b.b).withConfig({displayName:"RenderProgress_BoldFooter",componentId:"sc-sx5j8w"})(s||(s=Object(l.__makeTemplateObject)(["\n  display: inline;\n  font-weight: ",";\n"],["\n  display: inline;\n  font-weight: ",";\n"])),(function(e){return e.theme.material.typography.fontWeight.medium})),k=function(t,n,a,i,o){var r=null!=i?c.utc(i):null,s=c(),g=d.i(o),f=c.duration(g,"seconds").humanize(),b=a;r&&((b=s.diff(r,"seconds")/g)>1&&(b=1));var k=(a+b)/2,_={progressEvent:u.f({loaded:100*k,total:100}),initiatedTimeStamp:null!=i?r.valueOf():Date.now()},S=d.c[0];if(k>=0&&k<1){var O=Math.floor(k*d.c.length);S=d.c[O],Math.random()<.001&&(S=d.a)}else S=d.b;k>=.95&&(k=.95);var T=e.createElement(E,null,S);return m.a&&m.a.isAdmin&&(T=e.createElement(h.b,{tip:e.createElement("span",null,e.createElement("b",null,"Admin-only"),"   Action: ",n," / Estimate:"," ",g,"s")},e.createElement(E,null,S))),e.createElement(y,null,e.createElement(p.a,Object(l.__assign)({},_),e.createElement(w,null,e.createElement(v.b,{name:"circle-o-notch",className:"fa-spin"}),T)),e.createElement(x,null,"We estimate this will take"," ",e.createElement(C,null,"about ",f),". Closing your browser tab and/or navigating away from this page will ",e.createElement(C,null,"not")," ","disrupt processing."))}}).call(this,n(0))},2033:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a,i,o=n(3),r=n(1413),s=n(1),l=n.n(s),c=n(10),d=l.a.div.withConfig({displayName:"SubTitleWithElapsedTime_Wrapper",componentId:"sc-llzmqb"})(a||(a=Object(o.__makeTemplateObject)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"],["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"])),c.b.TextLight,c.d.FontSizeS,c.d.FontWeightNormal),u=l()(r.a).withConfig({displayName:"SubTitleWithElapsedTime_StyledTimeAgo",componentId:"sc-foa8qs"})(i||(i=Object(o.__makeTemplateObject)(["\n  display: inline-block;\n  width: 75px;\n  margin-right: ",";\n"],["\n  display: inline-block;\n  width: 75px;\n  margin-right: ",";\n"])),c.g.PadM);function m(t){return e.createElement(d,null,e.createElement(u,{time:t.elapsedTime}),t.children)}}).call(this,n(0))},2034:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return h}));var a,i,o=n(3),r=n(1),s=n.n(r),l=n(10),c=n(1646),d=n(2035),u=s.a.div.withConfig({displayName:"Thumbnail_Wrapper",componentId:"sc-16eqxkm"})(a||(a=Object(o.__makeTemplateObject)(["\n  display: inline-block;\n  position: relative;\n\n  height: 66px;\n  width: 66px;\n\n  @media (max-width: ","px) {\n    width: 54px;\n    height: 54px;\n  }\n"],["\n  display: inline-block;\n  position: relative;\n\n  height: 66px;\n  width: 66px;\n\n  @media (max-width: ","px) {\n    width: 54px;\n    height: 54px;\n  }\n"])),c.a.mobileMax),m={dimensions:{small:"54px"}},p=s.a.img.withConfig({displayName:"Thumbnail_Img",componentId:"sc-18b9dkx"})(i||(i=Object(o.__makeTemplateObject)(["\n  border-radius: ",";\n  height: 100%;\n"],["\n  border-radius: ",";\n  height: 100%;\n"])),l.g.BorderRadius);function h(t){var n=t.src,a=t.alt,i=t.classification,o=t.className,r=void 0!==i?e.createElement(d.a,{classification:i}):null;return e.createElement(u,{className:o},e.createElement(p,{src:n,alt:a}),r)}}).call(this,n(0))},2035:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a,i=n(3),o=n(1),r=n.n(o),s=n(10),l=n(575),c=r.a.div.withConfig({displayName:"Classification_Icon",componentId:"sc-9mwq8y"})(a||(a=Object(i.__makeTemplateObject)(["\n  position: absolute;\n  right: -8px;\n  top: -8px;\n\n  border: 2px solid white;\n  border-radius: 50%;\n  color: ",";\n  font-size: 7px;\n  padding: 3px;\n\n  ",";\n"],["\n  position: absolute;\n  right: -8px;\n  top: -8px;\n\n  border: 2px solid white;\n  border-radius: 50%;\n  color: ",";\n  font-size: 7px;\n  padding: 3px;\n\n  ",";\n"])),s.b.TextWhite,(function(e){return function(e){switch(e){case"featured":return"background-color: "+s.b.KaggleBlueDark+";";case"reviewed":return"background-color: "+s.b.KaggleBlueLight+";";case"deleted":return"background-color: "+s.b.KaggleRed+";";case"draft":return"background-color: "+s.b.GrayLight+";";default:return""}}(e.classification)})),d=new Set(["featured","reviewed"]),u=new Map([["featured","fa-star"],["reviewed","fa-check"],["deleted","fa-minus"]]);function m(t){var n=t.classification,a="fa "+(u.get(n)||""),i=e.createElement(c,{classification:n,className:a});return d.has(n)?e.createElement(l.b,{tip:n},i):i}}).call(this,n(0))},2036:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return E}));var a,i,o,r,s,l,c,d,u=n(3),m=n(1),p=n.n(m),h=n(579),g=n(10),f=p.a.a.withConfig({displayName:"CtaBanner_A",componentId:"sc-112lc5q"})(a||(a=Object(u.__makeTemplateObject)(["\n  display: block;\n  text-decoration: none;\n"],["\n  display: block;\n  text-decoration: none;\n"]))),b=p.a.div.withConfig({displayName:"CtaBanner_Wrapper",componentId:"sc-1xs1ie5"})(o||(o=Object(u.__makeTemplateObject)(["\n  display: flex;\n  justify-content: space-between;\n\n  max-width: 950px;\n  position: relative;\n  padding: ",";\n\n  font-family: ",";\n  color: ",";\n  text-align: left;\n\n  background-color: #dff0f7;\n  border: 1px solid #cae6f1;\n  border-radius: ",";\n\n  transition: all 0.2s ease;\n\n  ",":hover & {\n    background-color: ",";\n  }\n\n  ",";\n"],["\n  display: flex;\n  justify-content: space-between;\n\n  max-width: 950px;\n  position: relative;\n  padding: ",";\n\n  font-family: ",";\n  color: ",";\n  text-align: left;\n\n  background-color: #dff0f7;\n  border: 1px solid #cae6f1;\n  border-radius: ",";\n\n  transition: all 0.2s ease;\n\n  ",":hover & {\n    background-color: ",";\n  }\n\n  ",";\n"])),g.g.PadS,g.d.FontFamilyInter,Object(h.darken)(.1,g.b.TextLink),g.g.BorderRadius,f,Object(h.darken)(.02,"#dff0f7"),g.f.mobile(i||(i=Object(u.__makeTemplateObject)(["\n        border-left-width:0;\n        border-right-width:0;\n        border-radius:0;\n        justify-content: flex-start;\n    "],["\n        border-left-width:0;\n        border-right-width:0;\n        border-radius:0;\n        justify-content: flex-start;\n    "])))),v=p.a.div.withConfig({displayName:"CtaBanner_TextWrapper",componentId:"sc-1ou9asl"})(s||(s=Object(u.__makeTemplateObject)(["\n  flex: 1 1 auto;\n  text-align: left;\n  align-self: center;\n\n  font-size: ",";\n  line-height: ",";\n  padding: "," ",";\n\n  ",";\n"],["\n  flex: 1 1 auto;\n  text-align: left;\n  align-self: center;\n\n  font-size: ",";\n  line-height: ",";\n  padding: "," ",";\n\n  ",";\n"])),g.g.PadM,g.g.PadL,g.g.PadXs,g.g.PadM,g.f.mobile(r||(r=Object(u.__makeTemplateObject)(["\n        font-size: ",";\n        line-height: 18px;\n    "],["\n        font-size: ",";\n        line-height: 18px;\n    "])),g.d.FontSizeS)),y=p.a.strong.withConfig({displayName:"CtaBanner_Title",componentId:"sc-sf635v"})(l||(l=Object(u.__makeTemplateObject)(["\n  font-weight: ",";\n"],["\n  font-weight: ",";\n"])),g.d.FontWeightMedium),w=p.a.img.withConfig({displayName:"CtaBanner_Img",componentId:"sc-1jwac39"})(d||(d=Object(u.__makeTemplateObject)(["\n  height: 61px;\n  padding: "," ",";\n\n  ",";\n"],["\n  height: 61px;\n  padding: "," ",";\n\n  ",";\n"])),g.g.PadXs,g.g.PadM,g.f.mobile(c||(c=Object(u.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "]))));function E(t){var n=t.title,a=t.subtitle,i=t.img,o=t.href,r=t.className,s=t.openInNewWindow,l=e.createElement(b,{className:o?void 0:r},e.createElement(v,null,e.createElement(y,null,n),a&&e.createElement(e.Fragment,null,e.createElement("br",null),a)),i&&e.createElement(w,{src:i.src,alt:i.alt}));return o?e.createElement(f,{href:o,title:n,className:r,target:s?"_blank":"_self"},l):l}}).call(this,n(0))},2037:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0);let i=(()=>{class e extends a.Component{render(){const{num:t}=this.props;return null!=t?a.createElement("span",null,`${e.getOrdinalString(t)}`):null}}return e.getSuffix=e=>{const t=e%10;return 1===(e-t)/10%10?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},e.getOrdinalString=t=>`${t}${e.getSuffix(t)}`,e})()},2038:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n(3),i=n(8),o=n(0),r=n(1840),s=n(2039);const l=500;let c=(()=>{class t extends o.Component{constructor(){super(...arguments),this.state={list:"loading"},this.loadList=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{source:e,acceptedOnly:t}=this.props,{clients:{datasetsClient:n}}=this.context;try{if("task"===e.type){const t=yield n.getTaskSubmissions({taskId:e.id,offset:0,limit:l});this.setState({list:t.taskSubmissions})}else if("user"===e.type){const a=yield n.getUserSubmissions({userId:e.id,acceptedOnly:!0===t,offset:0,limit:l});this.setState({list:a.taskSubmissions})}}catch(t){Object(r.a)(this.context,"load-submissions-error",{source:e,error:t}),this.setState({list:"error"})}})),this.onVote=t=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{list:n}=this.state;if("error"===n||"loading"===n||!t.voteButton)return;this.toggleVoteButtonForItem(t,!0);const{hasAlreadyVotedUp:a,totalVotes:o,voteUpUrl:s}=t.voteButton;try{e(s,{method:a?"delete":"post",headers:new Headers({"Content-Type":"application/json","X-XSRF-TOKEN":Object(i.getAntiForgeryToken)()})});const n=!a,l=n?o+1:o-1;Object(r.a)(this.context,"submission-vote",{newHasVotedUp:n,newVoteCount:l,taskId:t.id}),this.setState(e=>"loading"===e.list||"error"===e.list?e:{list:e.list.map(e=>e.id===t.id&&e.voteButton?Object.assign(Object.assign({},e),{voteButton:Object.assign(Object.assign({},e.voteButton),{hasAlreadyVotedUp:n,totalVotes:l,isDisabled:!1})}):e)})}catch(e){Object(r.a)(this.context,"submission-vote-error",{error:e,taskId:t.id}),this.toggleVoteButtonForItem(t,!1)}})),this.toggleVoteButtonForItem=(e,t)=>{this.setState(n=>"loading"===n.list||"error"===n.list?n:{list:n.list.map(n=>n===e&&n.voteButton?Object.assign(Object.assign({},n),{voteButton:Object.assign(Object.assign({},n.voteButton),{isDisabled:t})}):n)})}}render(){const{canSubmit:e,acceptedOnly:t,hideOnEmpty:n,taskAuthorId:a,onSelect:i,onSubmit:r,onAccept:l,onUnaccept:c,onDelete:d}=this.props,{list:u}=this.state;return o.createElement(s.a,{state:u,acceptedOnly:t,hideOnEmpty:n,canSubmit:e,taskAuthorId:a,onSelect:i,onVote:this.onVote,onSubmit:r,onAccept:l,onUnaccept:c,onDelete:d})}componentDidMount(){this.loadList()}}return t.contextType=i.ClientsContext,t})()}).call(this,n(98))},2039:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(383),i=n(1),o=n.n(i),r=n(0),s=n(2011),l=n(1860),c=n(1859),d=n(1668),u=n(2019);const m=o.a.div`
  display: flex;
  align-items: center;
  padding: ${d.b} ${d.o};
`,p=o()(a.n)`
  flex: 1 1 0;
`,h=o.a.ul`
  list-style: none;
`,g=e=>{const{state:t,acceptedOnly:n,hideOnEmpty:a,taskAuthorId:i,onSelect:o,onVote:g,onSubmit:f,onAccept:b,onUnaccept:v,onDelete:y}=e;return"loading"===t?!0===a?null:r.createElement(c.a,{text:"Loading submissions..."}):"error"===t?!0===a?null:r.createElement(l.a,{text:"An error occured while loading the submissions."}):0===t.length?!0===a?null:r.createElement(s.a,{title:"Solve Tasks with Submissions",description:"Be the first to submit to this task! Submissions on tasks will get upvotes from the community and counts towards progression.",buttonText:"Submit",imageUrl:"/static/images/datasets/submission_empty.jpg",onButtonClick:f}):r.createElement(d.c,null,r.createElement(m,null,r.createElement(p,null,n&&"Accepted ","Task Submissions")),r.createElement(h,null,t.map(e=>{var t;return r.createElement(u.a,{key:Object(u.b)(e),item:e,onSelect:()=>o(e),onVote:()=>g(e),onAccept:b&&(null===(t=e.author)||void 0===t?void 0:t.id)!==i?()=>b(e):void 0,onUnaccept:v,onDelete:y?()=>y(e):void 0})})))}},2040:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return be}));var i=n(3),o=n(1911),r=n(2356),s=n(1413),l=n(2192),c=n(1),d=n.n(c),u=n(385),m=n(2),p=n(386),h=n(30),g=n(1656),f=n(1717),b=n(1659),v=n(1631),y=n(1468),w=n(97),E=n(1647),x=n(1984),C=n(1761),k=n(1692),_=n(1419),S=n(1982),O=n(10),T=n(1912),j=n(2042),I=n(2043),N=n(8),D=e.Scripts,$=d.a.img.withConfig({displayName:"Header_CoverImg",componentId:"sc-1431b7d"})(Z||(Z=Object(i.__makeTemplateObject)(["\n  position: absolute;\n  right: 0;\n  top: 0;\n\n  height: 200px;\n  width: 100%;\n\n  object-fit: cover;\n  overflow: hidden;\n  z-index: 0;\n  border-radius: "," "," 0 0;\n"],["\n  position: absolute;\n  right: 0;\n  top: 0;\n\n  height: 200px;\n  width: 100%;\n\n  object-fit: cover;\n  overflow: hidden;\n  z-index: 0;\n  border-radius: "," "," 0 0;\n"])),O.g.BorderRadius,O.g.BorderRadius),M=d.a.div.withConfig({displayName:"Header_UpvoteContainer",componentId:"sc-p1gj85"})(ee||(ee=Object(i.__makeTemplateObject)(["\n  display: flex;\n  border: none;\n  box-sizing: border-box;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: ",";\n"],["\n  display: flex;\n  border: none;\n  box-sizing: border-box;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: ",";\n"])),O.i.Z25),U=d.a.div.withConfig({displayName:"Header_CtaWrapper",componentId:"sc-1xx24oz"})(te||(te=Object(i.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  margin: 0 ",";\n  font-size: ",";\n"],["\n  display: flex;\n  align-items: center;\n  margin: 0 ",";\n  font-size: ",";\n"])),O.g.PadS,O.d.FontSizeS),P=d()(y.a).withConfig({displayName:"Header_CtaButton",componentId:"sc-j16wu8"})(ne||(ne=Object(i.__makeTemplateObject)(["\n  margin-right: ",";\n\n  @media (max-width: ",") {\n    display: none;\n  }\n"],["\n  margin-right: ",";\n\n  @media (max-width: ",") {\n    display: none;\n  }\n"])),O.g.PadS,O.a.ScreenTabletMax),F=d.a.button.withConfig({displayName:"Header_CloseButton",componentId:"sc-1h8m8vp"})(ae||(ae=Object(i.__makeTemplateObject)(["\n  position: absolute;\n  top: ",";\n  right: ",";\n  padding: "," ",";\n  border: none;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n\n  &:hover {\n    color: ",";\n  }\n"],["\n  position: absolute;\n  top: ",";\n  right: ",";\n  padding: "," ",";\n  border: none;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n\n  &:hover {\n    color: ",";\n  }\n"])),O.g.PadS,O.g.PadS,O.g.PadXs,O.g.PadS,O.g.BorderRadius,O.b.ContentBorderLight,O.b.TextLight,(function(e){return e.disabled?"default":"pointer"}),(function(e){return e.disabled?O.b.TextLight:O.b.TextMedium})),R=d.a.div.withConfig({displayName:"Header_SheetsModalContent",componentId:"sc-a6140q"})(ie||(ie=Object(i.__makeTemplateObject)(["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  line-height: 1.4;\n  padding: ",";\n  color: ",";\n  width: 280px;\n  ",";\n"],["\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  line-height: 1.4;\n  padding: ",";\n  color: ",";\n  width: 280px;\n  ",";\n"])),O.g.PadL,O.b.TextMedium,O.c.Inter),z=d.a.div.withConfig({displayName:"Header_SheetsIconWrapper",componentId:"sc-5ab6ns"})(oe||(oe=Object(i.__makeTemplateObject)(["\n  padding: "," 0 "," 0;\n  font-size: ",";\n  text-align: center;\n"],["\n  padding: "," 0 "," 0;\n  font-size: ",";\n  text-align: center;\n"])),O.g.PadS,O.g.PadXl,O.d.FontSizeXxl),L=d()(p.b).withConfig({displayName:"Header_SheetsFailureIcon",componentId:"sc-14xbflg"})(re||(re=Object(i.__makeTemplateObject)(["\n  background-color: ",";\n  border-radius: 50%;\n  box-shadow: 0px 0px 40px -5px ",";\n  color: ",";\n  padding: ",";\n  font-size: 48px;\n  /* Overide fontawesome style */\n  && {\n    width: 48px;\n  }\n"],["\n  background-color: ",";\n  border-radius: 50%;\n  box-shadow: 0px 0px 40px -5px ",";\n  color: ",";\n  padding: ",";\n  font-size: 48px;\n  /* Overide fontawesome style */\n  && {\n    width: 48px;\n  }\n"])),(function(e){return e.theme.colors.hover.light}),(function(e){return e.theme.colors.kaggle.redDark}),(function(e){return e.theme.colors.kaggle.redDark}),(function(e){return e.theme.size.pad.l})),A=d()(p.b).withConfig({displayName:"Header_SheetsSuccessIcon",componentId:"sc-b8a1r2"})(se||(se=Object(i.__makeTemplateObject)(["\n  background-color: ",";\n  border-radius: 50%;\n  box-shadow: 0px 0px 40px -5px ",";\n  color: ",";\n  padding: ",";\n  font-size: 48px;\n  /* Overide fontawesome style */\n  && {\n    width: 48px;\n  }\n"],["\n  background-color: ",";\n  border-radius: 50%;\n  box-shadow: 0px 0px 40px -5px ",";\n  color: ",";\n  padding: ",";\n  font-size: 48px;\n  /* Overide fontawesome style */\n  && {\n    width: 48px;\n  }\n"])),(function(e){return e.theme.colors.hover.light}),(function(e){return e.theme.colors.kaggle.green}),(function(e){return e.theme.colors.kaggle.green}),(function(e){return e.theme.size.pad.l})),V=d.a.div.withConfig({displayName:"Header_SheetsModalText",componentId:"sc-16qo3lq"})(le||(le=Object(i.__makeTemplateObject)(["\n  font-size: ",";\n  text-align: center;\n"],["\n  font-size: ",";\n  text-align: center;\n"])),O.d.FontSizeM),B=d.a.a.withConfig({displayName:"Header_SheetsModalLink",componentId:"sc-lup878"})(ce||(ce=Object(i.__makeTemplateObject)(["\n  color: ",";\n  font-weight: ",";\n  text-decoration: none;\n  &:hover {\n    color: ",";\n  }\n"],["\n  color: ",";\n  font-weight: ",";\n  text-decoration: none;\n  &:hover {\n    color: ",";\n  }\n"])),O.b.TextLink,O.d.FontWeightMedium,O.b.TextLinkHover),K=d.a.div.withConfig({displayName:"Header_BigQueryHint",componentId:"sc-1etyuug"})(de||(de=Object(i.__makeTemplateObject)(["\n  color: ",";\n  background-color: ",";\n  padding: 12px "," "," ",";\n  border-bottom: 1px solid ",";\n  border-right: 1px solid ",";\n  border-left: 1px solid ",";\n  border-radius: 0 0 "," ",";\n  font-size: ",";\n  line-height: ",";\n"],["\n  color: ",";\n  background-color: ",";\n  padding: 12px "," "," ",";\n  border-bottom: 1px solid ",";\n  border-right: 1px solid ",";\n  border-left: 1px solid ",";\n  border-radius: 0 0 "," ",";\n  font-size: ",";\n  line-height: ",";\n"])),O.b.TextMedium,O.b.SubcontentBackground,O.g.PadM,O.g.PadS,O.g.PadM,O.b.ContentBorder,O.b.ContentBorder,O.b.ContentBorder,O.g.BorderRadius,O.g.BorderRadius,O.d.FontSizeM,O.d.LineHeightNormal),H=d.a.span.withConfig({displayName:"Header_BigQueryMain",componentId:"sc-tzu51t"})(ue||(ue=Object(i.__makeTemplateObject)(["\n  font-weight: ",";\n"],["\n  font-weight: ",";\n"])),O.d.FontWeightMedium),q=d.a.div.withConfig({displayName:"Header_DatasetDropdownWrapper",componentId:"sc-1u4womr"})(me||(me=Object(i.__makeTemplateObject)(["\n  color: ",";\n  position: relative;\n"],["\n  color: ",";\n  position: relative;\n"])),O.b.TextMedium),W=d.a.span.withConfig({displayName:"Header_ClickableSpan",componentId:"sc-7anj58"})(pe||(pe=Object(i.__makeTemplateObject)(["\n  cursor: ",";\n"],["\n  cursor: ",";\n"])),(function(e){return e.clickable?"pointer":"initial"})),G=d()(o.a).withConfig({displayName:"Header_MaintainerBadge",componentId:"sc-9ngnde"})(he||(he=Object(i.__makeTemplateObject)(["\n  font-size: ",";\n"],["\n  font-size: ",";\n"])),O.d.FontSizeS),Q=d.a.a.withConfig({displayName:"Header_FirestoreLink",componentId:"sc-fvfcxb"})(ge||(ge=Object(i.__makeTemplateObject)(["\n  color: ",";\n  margin-left: ",";\n"],["\n  color: ",";\n  margin-left: ",";\n"])),O.b.PureWhite,O.g.PadXs),Y=d.a.img.withConfig({displayName:"Header_Img",componentId:"sc-n6ekb0"})(fe||(fe=Object(i.__makeTemplateObject)(["\n  width: 40px;\n  height: 40px;\n  margin-right: ",";\n"],["\n  width: 40px;\n  height: 40px;\n  margin-right: ",";\n"])),(function(e){return e.theme.material.spacing(2)})),X=2e7;function J(e){return e&&"databundleVersion"==e.type}var Z,ee,te,ne,ae,ie,oe,re,se,le,ce,de,ue,me,pe,he,ge,fe,be=function(e){function t(t){var n=e.call(this,t)||this;return n.renderCallToAction=function(e){if(!n.props.isRemoved&&!n.props.isOldDatasetVersion){var t=n.props,o=t.currentTab,s=t.data,l=n.context,c=l.onCreateTopic,d=l.onCreateKernel,m=e?"discussion"===o?a.createElement(P,{useKM:!0,onClick:c},"New Topic"):n.isNoDataSourceDataset()?void 0:a.createElement(P,{useKM:!0,onClick:d},"New Notebook"):void 0,p=J(n.props.data)?n.props.data.totalSize:0,g=null!=n.props.pendingDatasetVersion,f=n.props.currentDatasetVersion&&"reprocessing"==n.props.currentDatasetVersion.status,b=n.props.canEdit&&!g&&!f;n.props.createdByKernel&&null===n.props.createdByKernel.url&&(b=!1);var v="databundleVersion"===n.props.data.type?n.props.data.databundleVersionType:void 0,y=s.children.filter((function(e){return e.name&&e.name.indexOf(".csv")>0&&"databundleVersionObject"===e.type&&e.contentLength<X})).map((function(e){return{name:e.name}})),E=b&&("remoteUrlFileSet"===v||"remoteGitRepositoryFileSet"===v),x=!h.a.isAnonymous,k=Object(C.g)(v),_=Object(C.g)(v)&&y.length>0&&!h.a.isAnonymous,S="databundleVersion"===s.type?s:void 0,O=S&&Object(C.g)(v)&&(S.zipBlobFileId||S.hasBundleDownload),T=function(){};return a.createElement(U,null,O&&a.createElement(P,{useKM:!0,emphasis:"medium",onClick:n.trackDownload,href:n.props.downloadUrl,disableRapidash:!0},"Download (",u(p,{round:0}),")"),m,a.createElement(q,null,a.createElement(r.a,{dataset:{id:n.props.datasetId,url:n.props.datasetExternalUrl,overview:n.props.overview,ownerSlug:n.props.owner.slug,slug:n.props.slug,title:n.props.title},claims:{canUpdate:E,canCreateVersion:b,canCreateStarterKernel:x,canCopyApiCommand:k,canOpenInGoogleSheets:_},actions:{onUpdate:E?n.props.onRefreshVersion:T,onCreateVersion:b?n.props.onCreateNewVersion:T,onCreateStarterKernel:x?n.onCreateStarterKernel:function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){return Object(i.__generator)(this,(function(e){return[2,new Promise((function(e){}))]}))}))},onOpenInGoogleSheets:_?n.onOpenInGoogleSheets:T,onReportIssue:n.onReportIssue},reportEvent:w.c})))}},n.trackDownload=function(){n.props.onDownload(),Object(w.c)("datasets","download",{datasetId:n.props.datasetId,source:"header",type:"all"}),E.a.downloadDatasetOnDataTab(n.props.datasetId)},n.trackUpvote=function(){n.props.onVote();var e=n.props.upvoteSuggestion?"suggestions":"nosuggestions";E.a.upvotedDatasetOnHeader(n.props.datasetId,e)},n.onCreateStarterKernel=function(){return Object(i.__awaiter)(n,void 0,void 0,(function(){var e;return Object(i.__generator)(this,(function(t){switch(t.label){case 0:return[4,D.createNewKernelTemplate({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug})];case 1:return(e=t.sent()).errorMessage?[2,null]:[2,e.kernelUrl]}}))}))},n.onOpenInGoogleSheets=function(){var e=n.props,t=e.datasetId,a=e.datasetUrl;Object(w.c)("datasets","export-google-sheets-select",{datasetId:t,datasetUrl:a}),n.setState({googleSheetsState:{type:"selectFile"}})},n.onSelectFileGoogleSheets=function(e){var t=n.props.data.children.find((function(t){return t.name===e&&"databundleVersionObject"===t.type}));n.onSelectFileGoogleSheetsGeneric(t.name,t.downloadUrl)},n.onSelectFileGoogleSheetsGeneric=function(e,t){var a=n.props,i=a.datasetId,o=a.datasetUrl;Object(w.c)("datasets","export-google-sheets-export",{datasetId:i,datasetUrl:o}),n.setState({googleSheetsState:{type:"working",filename:e}});var r=function(){return Object(C.j)(e,t,(function(e){return n.setState({googleSheetsState:{type:"success",url:e}})}),n.handleSheetsError)};Object(C.l)()?r():Object(C.k)(r,n.handleSheetsError,!1)},n.onReportIssue=function(){n.setState({isReportModalShown:!0})},n.handleSheetsError=function(e,t){var a=n.props,i=a.datasetId,o=a.datasetUrl;Object(w.c)("datasets","export-google-sheets-error",{datasetId:i,datasetUrl:o,type:e,error:t});var r=void 0;"signin"===e&&t&&t.error&&"popup_closed_by_user"===t.error?r="You have to sign in with your Google account and authorize Kaggle to access Google Sheets on your behalf to proceed.":"signin"===e&&t&&t.error&&"popup_blocked_by_browser"===t.error&&(r="Your browser is blocking Google's authentication popup. Please configure your browser to allow popups from www.kaggle.com."),n.setState({googleSheetsState:{type:"error",error:r,errorType:e}})},n.renderClassification=function(){var e=a.createElement("span",null),t=null;return"bigQuery"==n.props.type&&(t="BigQuery"),n.props.isPrivate?e=a.createElement("span",{className:"dataset-header-v2__classification-classification"},a.createElement("span",{className:"dataset-header-v2__classification-text-icon--nocircle"},a.createElement("i",{className:"fa fa-eye-slash"})),"  Private ",t," Dataset"):n.props.isRemoved||(e=a.createElement("span",{className:"dataset-header-v2__classification-classification"},a.createElement("span",{className:"fa-stack dataset-header-v2__classification-text-icon"},a.createElement("i",{className:"fa fa-circle-thin fa-stack-2x"}),a.createElement("i",{className:"fa fa-cube fa-stack-1x"})),"  ",t," Dataset")),a.createElement("div",{className:"dataset-header-v2__classification"},a.createElement("p",{className:"dataset-header-v2__classification-text"},e,n.renderAdminInfo()))},n.renderAdminInfo=function(){var e=n.props,t=e.datasetId,i=e.datasetVersionId,o=e.data,r="development"===Object(C.d)()?"https://firebase.corp.google.com/project/kaggle-metastore-test/database/firestore/data~2Fdatabundles":"https://firebase.corp.google.com/project/kaggle-metastore/database/firestore/data~2Fdatabundles",s=o&&o.firestorePath?r+"~2F"+o.firestorePath.replace("/","~2F"):null,l="D="+t+" DV="+i,c=J(o)?" DB="+o.databundleId+" DBV="+o.id:null;return h.a.isAdmin?a.createElement("span",{className:"dataset-header-v2__classification-ids"},a.createElement("span",{className:"fa fa-lock"}),"  ",l," ",c,s&&a.createElement(Q,{href:s,target:"_blank"},"Firestore")):null},n.renderUpdateInfo=function(){var e=n.props,t=e.isRemoved,i=e.isInFlight,o=e.diffType,r=e.lastUpdated,l=e.datasetVersionNumber,c=e.onShowHistoryModal;if(t||i)return null;var d=function(){return c(!0)};switch(o){case"realtime":return a.createElement("span",null,"(Continuous updates)");case"unversioned":return a.createElement(W,{onClick:d,clickable:!0},"updated ",a.createElement(s.a,{time:r}));case"versioned":return a.createElement(W,{onClick:d,clickable:!0},"updated ",a.createElement(s.a,{time:r})," (Version"," ",l,")")}return a.createElement(W,{className:"dataset-item__main-update",onClick:d,clickable:!0},"updated ",a.createElement(s.a,{time:r}))},n.onSaveCollaborators=function(e){return Object(i.__awaiter)(n,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:_.a.clear(),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,N.datasetsClient.setDatasetCollaboratorList({datasetId:this.props.datasetId,collaboratorList:e})];case 2:return n.sent(),_.a.success("Successfully updated the sharing settings."),this.props.onUpdateState({collaborators:e}),[2,e];case 3:return(t=n.sent())instanceof N.CanonicalError&&_.a.error({dangerousHtmlMessage:t.message}),[2];case 4:return[2]}}))}))},n.renderBottom=function(){var e=n.props,t=e.canEdit,i=e.currentTab,o=e.isCollaborator,r=e.isPrivate,s=e.isRemoved,l=e.slug,c=e.owner,d=e.numberOfScripts,u=e.numberOfTopics,m=e.numberOfTasks,p=e.pageMessages,h=e.onChangeTab;if(n.props.isInFlight)return null;var b="/"+c.slug+"/"+l,v={title:"Data",text:"Data",tab:"data",href:b},y={title:"Notebooks",text:"Notebooks",tab:"notebooks",href:b+"/notebooks",count:Object(g.b)(d)},w={title:"Discussion",text:"Discussion",tab:"discussion",count:Object(g.b)(u),href:b+"/discussion"},E={title:"Activity",text:"Activity",tab:"activity",href:b+"/activity"},x={title:"Settings",text:"Settings",tab:"settings",href:b+"/settings"},C={title:"Metadata",text:"Metadata",tab:"metadata",href:b+"/metadata"},_={title:"Tasks",text:"Tasks",tab:"tasks",count:Object(g.b)(m),href:b+"/tasks"},S=[v],O=!r||t||o;if(O&&(S.push(y),S.push(w)),!s){S.push(E),S.push(C);(O&&!r||[540640,551982].some((function(e){return e==n.props.datasetId})))&&S.splice(1,0,_),t&&S.push(x)}var T="Overview";switch(i){case"data":T="Data";break;case"tasks":T="Tasks";break;case"dataOld":T="DataOld";break;case"kernels":case"notebooks":T="Notebooks";break;case"discussion":T="Discussion";break;case"activity":T="Activity";break;case"settings":T="Settings";break;case"metadata":T="Metadata";break;default:T="Data"}return a.createElement(k.b,{pageMessages:p},a.createElement(f.a,null,a.createElement(k.d,{classNameModifier:"dataset",menuLinks:S,rightMenuLinks:[],activeTab:T,changeActiveTab:function(e){return h(e?e.toLowerCase():"data")}})),n.renderCallToAction(O))},n.state={isCollaborationModalShown:!1,isSocialSharingDropDownShown:!1,isReportModalShown:!1,googleSheetsState:{type:"hidden"}},n}return Object(i.__extends)(t,e),t.prototype.UNSAFE_componentWillReceiveProps=function(e){this.setState({isSocialSharingDropDownShown:!1})},t.prototype.isNoDataSourceDataset=function(){return 1107===this.props.datasetId},t.prototype.componentDidMount=function(){var e=this.props.upvoteSuggestion?"suggestions":"nosuggestions";E.a.viewDataset(this.props.datasetId,e),Object(w.c)("datasets","view",{datasetId:this.props.datasetId})},t.prototype.renderTop=function(){var e=this.props.medalUrl,t={totalVotes:this.props.voteCount,hasAlreadyVotedUp:this.props.hasAlreadyVotedUp,canUpvote:!0,canDownvote:!1,alwaysShowVoters:!0,voteUpUrl:this.props.upVoteUrl,voteDownUrl:null,voters:this.props.upvoteSuggestion&&this.props.upvoteSuggestion.upVoters||[],medalVotes:this.props.upvoteSuggestion&&this.props.upvoteSuggestion.medalVoteCount?this.props.upvoteSuggestion.medalVoteCount:0,onVoteUpSuccess:this.trackUpvote};return a.createElement("div",{id:"dataset-header",className:"dataset-header-v2__top"},a.createElement("div",{className:"dataset-header-v2__top-image-container"},a.createElement($,{src:this.props.coverImageUrl})),a.createElement(k.g,{nodeId:"pageheader__top--safe--datasets"},!this.props.isRemoved&&!this.props.isInFlight&&a.createElement(M,null,e&&a.createElement(Y,{src:e,alt:"medal"}),a.createElement(j.a,{voteProps:t})),this.renderClassification(),a.createElement("div",{className:"dataset-header-v2__info"},a.createElement("h1",{className:"dataset-header-v2__title"},this.props.title),a.createElement("h2",{className:"dataset-header-v2__subtitle"},!this.props.isRemoved&&this.props.overview)),!this.props.isRemoved&&a.createElement("div",{className:"dataset-header-v2__details"},a.createElement("div",{className:"dataset-header-v2__collaborators-wrapper"},a.createElement("a",{href:this.props.owner.isOrganization?null:this.props.owner.profileUrl,className:"dataset-header-v2__owner-name"},a.createElement("img",{className:"dataset-header-v2__owner-thumbnail",src:this.props.owner.imageUrl}),this.props.owner.name),this.renderCollaborators()),this.props.maintainerOrganization&&a.createElement(G,{name:this.props.maintainerOrganization.name,action:Object(T.a)(this.props.maintainerOrganization.id),appearance:"light"}),!this.props.isInFlight&&a.createElement("time",{dateTime:this.props.lastUpdated.toString(),title:this.props.lastUpdated.toString()},a.createElement("span",null,a.createElement("span",{className:"dataset-header-v2__meta-bullet"}," •  "),this.renderUpdateInfo())))))},t.prototype.renderCollaborators=function(){var e=this,t=this.props.isPrivate,n=this.props.collaborators&&this.props.collaborators.collaborators?this.props.collaborators.collaborators.filter((function(e){return"writer"==e.type||t})):[];return 0==n.length?null:a.createElement("span",{className:"dataset-header-v2__collaborators",onClick:function(){return e.setState({isCollaborationModalShown:!0})}},"and ",a.createElement(b.a,{count:n.length,word:"collaborator"}))},t.prototype.render=function(){var e=this,t=this.props,n=t.isRemoved,o=t.isInFlight,r=t.collaborators,s=t.datasetVersionId,c=t.upvoteSuggestion,d=t.hasAlreadyVotedUp,u=t.showDownloadUpvoteHeader,m=t.data,h=t.onVote,g=this.state,f=g.isCollaborationModalShown,b=g.isReportModalShown,y=g.googleSheetsState,w=J(m)&&"bigQuery"===m.databundleVersionType,E=m.children.filter((function(e){return e.name&&e.name.indexOf(".csv")>0&&"databundleVersionObject"===e.type&&e.contentLength<X})).map((function(e){return{name:e.name}}));return a.createElement("div",{className:"dataset-header-v2__container"},a.createElement(k.a,{backgroundClass:"dataset-header-v2"},this.renderTop(),this.renderBottom(),a.createElement("div",null,c&&!d&&u&&a.createElement(S.a,Object(i.__assign)({},c,{additionalClassNames:"upvote-suggestion__dataset-download",mainText:"Your Dataset download has started.",onVote:h,entity:"dataset"})))),!n&&!o&&w&&a.createElement(K,null,a.createElement(H,null,"This is a BigQuery Dataset.")," There are no files to download, but you can query it through Kernels using the"," ",a.createElement(B,{href:"https://www.kaggle.com/sohier/beyond-queries-exploring-the-bigquery-api",target:"_blank"},"BigQuery API"),"."),!n&&!o&&a.createElement(a.Fragment,null,a.createElement(x.a,{collaborators:r.collaborators,owner:r.owner,isShown:f,showWriters:!0,showReaders:this.props.isPrivate,onRemoveCurrentUser:this.onSaveCollaborators,onClose:function(){return e.setState({isCollaborationModalShown:!1})}}),a.createElement(l.a,{isOpen:"selectFile"===y.type,description:"Select from CSV files under 20MB",title:"Open a file to open in Google Sheets",onCloseRequest:function(){return e.setState({googleSheetsState:{type:"hidden"}})},onSelect:function(t){return e.onSelectFileGoogleSheets(t.name)},files:E}),a.createElement(I.a,{modalIsShown:b,onClose:function(){e.setState({isReportModalShown:!1})},datasetVersionId:s}),a.createElement(v.a,{modalIsShown:"success"===y.type||"error"===y.type||"working"===y.type,onClose:function(){"working"!==y.type&&e.setState({googleSheetsState:{type:"hidden"}})},className:"sheets-modal"},a.createElement(R,null,"working"!==y.type&&a.createElement(F,{onClick:function(){return e.setState({googleSheetsState:{type:"hidden"}})}},a.createElement(p.b,{name:"times"})),"success"===y.type&&a.createElement(a.Fragment,null,a.createElement(z,null,a.createElement(A,{name:"check"})),a.createElement(V,null,"Your spreadsheet was created successfully!",a.createElement("br",null),a.createElement("br",null),a.createElement(B,{href:y.url,target:"_blank"},"Check it out here"))),"working"===y.type&&a.createElement(a.Fragment,null,a.createElement(z,{style:{color:O.b.TextLink}},a.createElement(p.b,{name:"circle-o-notch",className:"fa-spin"})),a.createElement(V,null,"Please hang tight while your spreadsheet is being created. This can take up to a minute for larger files.")),"error"===y.type&&a.createElement(a.Fragment,null,a.createElement(z,null,a.createElement(L,{name:"exclamation"})),void 0!==y.error&&a.createElement(V,null,y.error),void 0===y.error&&a.createElement(V,null,"Unfortunately, we couldn't create your spreadsheet."," ",a.createElement("br",null),"If this keeps happening, please"," ",a.createElement(B,{href:"mailto:support@kaggle.com"},"contact support")," ","and we'll get you squared away."))))))},t.contextTypes={onCreateKernel:m.func,onCreateTopic:m.func},t}(a.Component)}).call(this,n(286),n(0))},2042:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a,i=n(3),o=n(1),r=n.n(o),s=n(1421),l=n(10),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(i.__extends)(n,t),n.prototype.render=function(){return e.createElement(d,null,e.createElement(s.VoteButton,Object(i.__assign)({},this.props.voteProps,{compact:!0,showVoters:!1,alwaysShowVoters:!1,showVotersOnCountClick:!0})))},n}(e.Component),d=r.a.span.withConfig({displayName:"DatasetVoteButton_VoteButtonWrapper",componentId:"sc-vvhrsz"})(a||(a=Object(i.__makeTemplateObject)(["\n  color: "," !important;\n  padding-right: 16px;\n  display: inline-block;\n  vertical-align: sub;\n\n  .vb-upvote {\n    :hover {\n      color: "," !important;\n    }\n  }\n\n  .vote-button__vote-count-container {\n    font-size: "," !important;\n    :hover {\n      color: "," !important;\n    }\n  }\n\n  .vote-button {\n    background-color: transparent !important;\n    border-color: ",";\n    color: ",";\n  }\n\n  .vote-button__button--up {\n    color: unset !important;\n  }\n\n  .vote-button__button {\n    padding: 10px 16px 12px;\n    border-color: ",";\n\n    @media (max-width: ",") {\n      padding: 4px 6px;\n    }\n  }\n\n  .fa {\n    opacity: 1 !important;\n  }\n\n  .vote-button__vote-count {\n    font-size: "," !important;\n    padding-top: 3px;\n\n    @media (max-width: ",") {\n      font-size: "," !important;\n      padding-top: 0;\n      font-weight: ",";\n    }\n  }\n\n  .vote-button--voted-up .fa {\n    font-weight: 900;\n    color: "," !important;\n  }\n\n  .vote-button--voted-up .vote-button__vote-count {\n    color: "," !important;\n  }\n"],["\n  color: "," !important;\n  padding-right: 16px;\n  display: inline-block;\n  vertical-align: sub;\n\n  .vb-upvote {\n    :hover {\n      color: "," !important;\n    }\n  }\n\n  .vote-button__vote-count-container {\n    font-size: "," !important;\n    :hover {\n      color: "," !important;\n    }\n  }\n\n  .vote-button {\n    background-color: transparent !important;\n    border-color: ",";\n    color: ",";\n  }\n\n  .vote-button__button--up {\n    color: unset !important;\n  }\n\n  .vote-button__button {\n    padding: 10px 16px 12px;\n    border-color: ",";\n\n    @media (max-width: ",") {\n      padding: 4px 6px;\n    }\n  }\n\n  .fa {\n    opacity: 1 !important;\n  }\n\n  .vote-button__vote-count {\n    font-size: "," !important;\n    padding-top: 3px;\n\n    @media (max-width: ",") {\n      font-size: "," !important;\n      padding-top: 0;\n      font-weight: ",";\n    }\n  }\n\n  .vote-button--voted-up .fa {\n    font-weight: 900;\n    color: "," !important;\n  }\n\n  .vote-button--voted-up .vote-button__vote-count {\n    color: "," !important;\n  }\n"])),l.b.ContentBorder,l.b.TextWhite,l.d.FontSizeM,l.b.TextWhite,"#b5b6b8","#b5b6b8","#b5b6b8",l.a.ScreenDesktopMin,l.d.FontSizeM,l.a.ScreenDesktopMin,l.d.FontSizeS,l.d.FontWeightNormal,l.b.TextWhite,l.b.TextWhite)}).call(this,n(0))},2043:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a,i,o,r=n(3),s=n(1699),l=n(8),c=n(1),d=n.n(c),u=n(1631),m=n(386),p=n(588),h=d()(p.Body2).withConfig({displayName:"ReportModal_Body",componentId:"sc-1bihj0w"})(a||(a=Object(r.__makeTemplateObject)(["\n  padding: ","\n    ",";\n"],["\n  padding: ","\n    ",";\n"])),(function(e){return e.theme.material.spacing(4)}),(function(e){return e.theme.material.spacing(6)})),g=d.a.div.withConfig({displayName:"ReportModal_ReportDatasetHeader",componentId:"sc-n9wshy"})(i||(i=Object(r.__makeTemplateObject)(["\n  align-items: center;\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  border-radius: ","\n    "," 0 0;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 0 0 "," * 2;\n  justify-content: space-between;\n  padding: ","\n    ",";\n  width: 100%;\n"],["\n  align-items: center;\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  border-radius: ","\n    "," 0 0;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: row nowrap;\n  flex: 0 0 "," * 2;\n  justify-content: space-between;\n  padding: ","\n    ",";\n  width: 100%;\n"])),(function(e){return e.theme.material.color.brand.grey[50]}),(function(e){return e.theme.material.color.brand.grey[100]}),(function(e){return e.theme.material.borderRadius.normal}),(function(e){return e.theme.material.borderRadius.normal}),(function(e){return e.theme.material.spacing(6)}),(function(e){return e.theme.material.spacing(4)}),(function(e){return e.theme.material.spacing(6)})),f=d()(m.b).withConfig({displayName:"ReportModal_CloseButton",componentId:"sc-1aezrfw"})(o||(o=Object(r.__makeTemplateObject)(["\n  cursor: pointer;\n  color: ",";\n"],["\n  cursor: pointer;\n  color: ",";\n"])),(function(e){return e.theme.material.color.text[40]}));function b(t){var n=t.datasetVersionId,a=t.modalIsShown,i=t.onClose;return a?e.createElement(u.a,{modalIsShown:a,onClose:i},e.createElement("div",null,e.createElement(g,null,e.createElement(p.Subhead,null,"Report Dataset"),e.createElement(f,{name:"close",onClick:i})),e.createElement(h,null,e.createElement(s.e,{requireExplanationText:!0,onCancel:i,reasons:s.b,submitMethod:function(e,t){l.discussionsClient.toggleFlagMessage({datasetVersionId:n,reasonType:e,explanation:t,messageId:null,scriptVersionId:null}),i()}})))):null}}).call(this,n(0))},2057:function(e,t,n){"use strict";var a=n(0),i=n(383),o=n(1468),r=n(1),s=n.n(r);const l=s.a.div`
  align-items: center;
  display: flex;
  padding: ${e=>e.theme.material.spacing(4)};
  padding-left: ${e=>e.theme.material.spacing(8)};
  width: 100%;
`,c=e=>{const{children:t,className:n,variant:i}=e;return a.createElement(l,{className:[n,i].join(" "),variant:i},t)},d=s.a.div`
  display: flex;

  div:not(:last-child) {
    margin-right: ${e=>e.theme.material.spacing(4)};
  }
`,u=e=>{const{children:t}=e;return a.createElement(d,null,t)};var m=n(160);const p=s.a.div`
  margin-right: ${e=>e.theme.material.spacing(4)};

  .notice & {
    .rmwc-icon {
      color: ${e=>e.theme.material.color.mode.light.alert.notice};
    }
  }
  .warning & {
    .rmwc-icon {
      color: ${e=>e.theme.material.color.mode.light.alert.warning};
    }
  }
  .error & {
    .rmwc-icon {
      color: ${e=>e.theme.material.color.mode.light.alert.error};
    }
  }
`,h=e=>{const{alt:t,graphic:n,fallbackImage:i}=e;return a.createElement(p,null,a.createElement(m.a,{graphic:n,alt:t,fallbackImage:i}))},g=s()(i.b)`
  && {
    flex: 1;
    margin-right: ${e=>e.theme.material.spacing(8)};
  }
`,f=e=>{const{className:t,children:n}=e;return a.createElement(g,{className:t},n)},b=e=>{const{children:t,className:n,graphic:i,leftAction:r,rightAction:s,variant:l}=e;return a.createElement(c,{variant:l,className:n},i&&a.createElement(h,{graphic:i}),a.createElement(f,null,t),a.createElement(u,null,r&&a.createElement(o.a,{variant:"text",onClick:r.onClick},r.label),s&&a.createElement(o.a,{variant:"text",onClick:s.onClick},s.label)))};n.d(t,"a",(function(){return v}));const v=e=>{const{useKM:t}=e;return t?a.createElement(i.i,{useKM:t},"Please implement KM SimpleAlertBanner"):a.createElement(b,Object.assign({},e))}},2061:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),i=n.n(a),o=n(1627),r=n(0);n(576),n(1444);const s=i()(o.a)`
  position: absolute;
  left: 36px;
  bottom: 76px;

  .mdc-snackbar__action:not(:disabled) {
    color: var(--mdc-theme-primary);
  }

  .mdc-snackbar__action::before,
  .mdc-snackbar__action::after {
    background-color: var(--mdc-theme-primary);
  }

  .mdc-button {
    min-width: ${e=>e.theme.material.spacing(10)};
    .mdc-button__icon {
      margin-right: 0;
    }
  }
`,l=e=>{const{messages:t}=e;return r.createElement(s,{messages:t,leading:!0})}},2062:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return s}));var a=n(1761),i=function(e,t){if(e&&e.includes("/")){var n=e.split("/").filter((function(e){return!!e}));if(0==n.length)return e;var a=n.length-t-1;return a<0?n[n.length-1]:n[a]}return e||""},o=function(e){switch(e.action){case"add":return"added";case"delete":return"removed";case"modifyDescription":return"description changed";case"modifyType":return e.newValue?"type changed to "+e.newValue:"type changed";case"rowCountChange":case"sizeChange":return"content changed"}return""},r=function(e){switch(e){case"column":return"Column";case"file":return"File";case"dataset":return"Data";case"table":return"Table"}return e},s=function(e,t){switch(e){case"column":return"columns";case"file":return t?Object(a.f)(t):"file-o";case"dataset":return"database";case"table":return"table"}return"question"}},2063:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a,i=n(3),o=n(1),r=n.n(o),s=n(1691),l=n(2064),c=r.a.div.withConfig({displayName:"LoadingState_Wrapper",componentId:"sc-7gpw0z"})(a||(a=Object(i.__makeTemplateObject)(["\n  height: 100%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"],["\n  height: 100%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));function d(t){var n=t.className;return e.createElement(l.a,null,e.createElement(c,{className:n},e.createElement(s.a,{text:"Loading chart",isLoading:!0})))}}).call(this,n(0))},2064:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(3),i=n(0),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showElement:!1},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.delay;this.interval=setTimeout((function(){return e.setState({showElement:!0})}),t)},t.prototype.componentWillUnmount=function(){clearTimeout(this.interval)},t.prototype.render=function(){var e=this.props.children;return this.state.showElement?e:null},t.defaultProps={delay:300},t}(i.Component)},2065:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a,i=n(3),o=n(1),r=n.n(o),s=n(10),l=r.a.ul.withConfig({displayName:"UnstyledList_Ul",componentId:"sc-1etca4m"})(a||(a=Object(i.__makeTemplateObject)(["\n  flex-grow: 1;\n\n  list-style: none;\n  margin: 0 "," "," ",";\n  padding: 0;\n\n  display: grid;\n  /* Each column can shrink to zero size */\n  grid-template-columns: minmax(0, 100%);\n\n  /* Ensure that there is a row for every item */\n  grid-template-rows: ",";\n  grid-row-gap: ",";\n\n  align-content: space-evenly;\n  justify-content: stretch;\n  align-items: center;\n"],["\n  flex-grow: 1;\n\n  list-style: none;\n  margin: 0 "," "," ",";\n  padding: 0;\n\n  display: grid;\n  /* Each column can shrink to zero size */\n  grid-template-columns: minmax(0, 100%);\n\n  /* Ensure that there is a row for every item */\n  grid-template-rows: ",";\n  grid-row-gap: ",";\n\n  align-content: space-evenly;\n  justify-content: stretch;\n  align-items: center;\n"])),s.g.PadM,s.g.PadM,s.g.PadM,(function(e){return"repeat("+e.rowCount+", 1fr)"}),s.g.PadM);function c(t){var n=t.items,a=t.maxNumberOfLis,i=t.className,o=Math.min(n.length,a),r=n.slice(0,o).map((function(t){return e.createElement("li",{key:t.key},t.el)}));return e.createElement(l,{rowCount:a,className:i},r)}}).call(this,n(0))},2066:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a,i=n(3),o=n(1),r=n.n(o),s=n(1672),l=n(10),c=r.a.div.withConfig({displayName:"ButtonPlaceholder_Wrapper",componentId:"sc-15un99t"})(a||(a=Object(i.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  color: ",";\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  color: ",";\n"])),l.b.TextLight);function d(t){var n=t.description,a=t.onClick,i=t.buttonText;return e.createElement(c,null,n,e.createElement(s.a,{style:{marginLeft:0,marginTop:l.g.PadM},onClick:a,primary:!0},i))}}).call(this,n(0))},2067:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(1),i=n.n(a),o=n(1624),r=n(0);n(85);const s=i.a.ul`
  &.mdc-list--three-line {
    .mdc-list-item {
      height: ${e=>e.theme.material.spacing(22)};
    }

    .mdc-list-item__graphic {
      width: ${e=>e.theme.material.spacing(14)};
    }

    .mdc-list-divider--inset {
      margin-left: ${e=>e.theme.material.spacing(22)};
      width: calc(100% - ${e=>e.theme.material.spacing(22)});
    }
  }
`,l=e=>{const{children:t,className:n,type:a,variant:i}=e,l=r.useRef(null);r.useEffect(()=>{l&&l.current&&(e=>new o.a(e))(l.current)},[]);return r.createElement(s,{className:((...e)=>e.filter(e=>!!e).join(" "))("mdc-list",n,a&&`mdc-list--${a}`,i&&`mdc-list--${i}`),ref:l},t)}},2068:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0);n(85);const i=e=>{const{variant:t}=e;return a.createElement("li",{className:`\n        mdc-list-divider \n        ${t&&"mdc-list-divider--"+t}\n      `})}},2157:function(e,t,n){"use strict";var a=n(3),i=n(1934),o=n(2004),r=n(0),s=n(1),l=n.n(s);const c="Easy to understand and includes essential metadata",d="Rich, machine readable file formats and metadata",u="Assurances the dataset is maintained",m="Add a subtitle",p="Add tags",h="Add a description",g="Upload an image",f="Add file information",b="Include column descriptors",v="Specify a license",y="Use preferred file formats",w="Specify provenance",E="Specify update frequency",x="Publish a notebook",C="Add a task",k="Stand out on the listings page with a snappy subtitle",_="Make it easy for users to find your dataset in search",S="Share specifics about the context, sources, and inspiration behind your dataset",O="Make your dataset pop with an eye-catching cover image and thumbnail",T="Help others navigate your dataset with a description of each file",j="Empowers others to understand  your data by describing its features",I="Help other users understand how they can work with and share the data",N="Provide data in machine readable formats",D="Let others know how the data was collected and organized in the metadata tab",$="Let other users know if the dataset will be regularly updated in the metadata tab",M="Provide an example of the data in use so other users can get started quickly",U="Suggest an analysis users can do with this dataset";var P=n(383),F=n(1416);const R=l()(P.b)`
  color: ${e=>e.theme.material.color.brand.grey[900]};
`,z=l()(P.b)`
  color: ${e=>1===e.score?`${e.theme.material.color.brand.grey[500]};`:`${e.theme.material.color.brand.blue[800]};`};

  :hover {
    cursor: ${e=>1===e.score?"text":"pointer"};
  }
`,L=l()(F.a)`
  color: ${e=>1===e.score?`${e.theme.material.color.brand.grey[500]};`:`${e.theme.material.color.brand.blue[800]};`};
  height: ${e=>e.theme.material.typography.body2.lineHeight};
  vertical-align: middle;
`,A=l.a.div`
  display: inline-block;
  margin-left: ${e=>e.theme.material.spacing(6)};
`,V=l.a.div`
  display: flex;
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  margin-bottom: ${e=>e.theme.material.spacing(6)};

  :last-child {
    margin-bottom: 0;
  }

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    :last-child {
      margin-bottom: ${e=>e.theme.material.spacing(6)};
    }
  }
`;function B(e){const{description:t,name:n,score:a,onNameClick:i}=e;return r.createElement(V,{"data-test":"item"},r.createElement(L,{icon:1===a?"check":"radio_button_unchecked",score:a,size:"inline"}),r.createElement(A,null,r.createElement(z,{"data-test":"item-name",score:a,onClick:a<1?i:void 0},n),a<1&&r.createElement(R,null,t)))}const K=l()(P.t)`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`,H=l.a.div``;function q(e){const{sectionName:t,children:n}=e;return r.createElement(H,null,r.createElement(K,null,t),n)}const W=l.a.div`
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  grid-column-gap: ${e=>e.theme.material.spacing(16)};
  margin: ${e=>e.theme.material.spacing(8)};
  user-select: text;

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    grid-template-columns: 1fr;
    grid-gap: ${e=>e.theme.material.spacing(2)};
    margin-bottom: ${e=>e.theme.material.spacing(5)};
  }
`;function G(e){const{scores:t,onSubtitleClick:n,onTagsClick:a,onOverviewClick:i,onCoverImageClick:o,onFileDescriptionClick:s,onColumnDescriptionClick:l,onLicenseClick:P,onFileFormatClick:F,onProvenanceClick:R,onUpdateFrequencyClick:z,onPublicKernelClick:L,onCreateTaskClick:A}=e;return r.createElement(W,null,r.createElement(q,{"data-test":"essential-section",sectionName:c},r.createElement(B,{"data-test":"subtitle",description:k,name:m,score:t.subtitleScore,onNameClick:n}),r.createElement(B,{"data-test":"tags",description:_,name:p,score:t.tagScore,onNameClick:a}),r.createElement(B,{"data-test":"overview",description:S,name:h,score:t.overviewScore,onNameClick:i}),r.createElement(B,{"data-test":"cover-image",description:O,name:g,score:t.coverImageScore,onNameClick:o})),r.createElement(q,{"data-test":"format-section",sectionName:d},r.createElement(B,{"data-test":"file-description",description:T,name:f,score:t.fileDescriptionScore,onNameClick:s}),null!==t.columnDescriptionScore&&r.createElement(B,{"data-test":"column-description",description:j,name:b,score:t.columnDescriptionScore,onNameClick:l}),r.createElement(B,{"data-test":"license",description:I,name:v,score:t.licenseScore,onNameClick:P}),r.createElement(B,{"data-test":"file-format",description:N,name:y,score:t.fileFormatScore,onNameClick:F})),r.createElement(q,{"data-test":"maintenance-section",sectionName:u},r.createElement(B,{"data-test":"provenance",description:D,name:w,score:t.provenanceScore,onNameClick:R}),r.createElement(B,{"data-test":"update-frequency",description:$,name:E,score:t.updateFrequencyScore,onNameClick:z}),r.createElement(B,{"data-test":"kernel",description:M,name:x,score:t.publicKernelScore,onNameClick:L}),r.createElement(B,{"data-test":"task",description:U,name:C,score:t.publicKernelScore,onNameClick:A})))}var Q=n(384);const Y=l()(F.a)`
  margin-right: ${e=>e.theme.material.spacing(2)};
  color: ${e=>1===e.score?`${e.theme.material.color.brand.blue[800]};`:`${e.theme.material.color.brand.grey[500]};`};
`,X=l.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`;function J(e){const{name:t,score:n}=e;return r.createElement(X,null,r.createElement(Y,{icon:1===n?"check":"radio_button_unchecked",score:n,size:"inline"}),t)}const Z=l.a.div`
  background-color: ${e=>e.theme.material.color.white};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>e.theme.size.border.radius.modal};
  box-shadow: ${e=>e.theme.material.elevation[4]};
  height: fit-content;
  margin-left: ${e=>e.theme.material.spacing(8)};
  padding: ${e=>e.theme.material.spacing(4)};
  position: absolute;
  text-align: left;
  width: 250px;
  z-index: ${e=>e.theme.zindex.foreground};
`,ee=l.a.div`
  color: ${e=>e.theme.material.color.text[70]};
  font-weight: ${e=>e.theme.material.typography.fontWeight.medium};
  margin-top: ${e=>e.theme.material.spacing(4)};
  margin-bottom: ${e=>e.theme.material.spacing(2)};

  :first-child {
    margin-top: ${e=>e.theme.material.spacing(2)};
  }
`;function te(e){const{coverImageScore:t,fileDescriptionScore:n,fileFormatScore:a,licenseScore:i,overviewScore:o,provenanceScore:s,publicKernelScore:l,subtitleScore:m,tagScore:p,updateFrequencyScore:h,columnDescriptionScore:g}=e;return r.createElement(Z,{"data-test":"modal"},r.createElement(ee,null,c),r.createElement(J,{name:"Subtitle",score:m}),r.createElement(J,{name:"Tags",score:p}),r.createElement(J,{name:"Overview description",score:o}),r.createElement(J,{name:"Cover image",score:t}),r.createElement(ee,null,d),r.createElement(J,{name:"File descriptions",score:n}),null!==g&&r.createElement(J,{name:"Column descriptions",score:g}),r.createElement(J,{name:"License specified",score:i}),r.createElement(J,{name:"Acceptable file formats used",score:a}),r.createElement(ee,null,u),r.createElement(J,{name:"Provenance is specified",score:s}),r.createElement(J,{name:"Update frequency is specified",score:h}),r.createElement(J,{name:"Has a public kernel or task",score:l}))}const ne=l()(F.a)`
  color: ${e=>e.theme.material.color.brand.grey[500]};
  padding-right: ${e=>e.theme.material.spacing(2)};
`,ae=l()(P.b)`
  display: inline;
`,ie=l()(P.t)`
  padding-right: ${e=>e.theme.material.spacing(2)};
  display: inline;
  font-weight: ${e=>e.theme.material.typography.fontWeight.medium};
`,oe=l.a.div`
  flex: 1 1 auto;
  text-align: left;

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    margin: ${e=>e.theme.material.spacing(1)} 0;
  }
`;function re(e){const{showModal:t,scores:n,className:a,onMouseEnter:i,onMouseLeave:o}=e;return r.createElement(oe,{className:a,onMouseEnter:i,onMouseLeave:o,"data-test":"usability-wrapper"},r.createElement(ne,{icon:"business_center","data-test":"icon",size:"inline"}),r.createElement(ie,{"data-test":"text"},"Usability"),r.createElement(ae,{"data-test":"rating"},(10*n.score).toFixed(1)),t&&r.createElement(te,Object.assign({},n)))}class se extends r.Component{constructor(){super(...arguments),this.state={showModal:!1},this.onMouseEnter=()=>{this.props.allowModal&&this.setState({showModal:!0})},this.onMouseLeave=()=>{this.setState({showModal:!1})}}render(){return r.createElement(re,{scores:this.props.scores,showModal:this.state.showModal,className:this.props.className,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}}const le=l()(F.a)`
  color: ${e=>e.theme.material.color.brand.blue[800]};
  margin-right: ${e=>e.theme.material.spacing(6)};
  height: ${e=>e.theme.material.spacing(7)};
  vertical-align: middle;
`,ce=l()(P.t)`
  color: ${e=>e.theme.material.color.text[40]};
  line-height: ${e=>e.theme.material.spacing(7)};
  vertical-align: middle;
`,de=l()(Q.Button)`
  margin-left: ${e=>e.theme.material.spacing(3)};
  height: ${e=>e.theme.material.spacing(7)};
`,ue=l.a.div`
  display: flex;
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  width: 100%;

  :hover {
    cursor: pointer;
  }
`,me=l()(se)`
  line-height: ${e=>e.theme.material.spacing(7)};
`,pe=l.a.span`
  display: flex;
  margin-left: auto;
`;function he(e){const{usabilityRating:t,isCollapsed:n,isPrivate:a,onCollapse:i,onMakePublic:o}=e;return r.createElement(ue,{"data-test":"header",onClick:i},r.createElement(le,{icon:n?"expand_more":"expand_less"}),r.createElement(ce,null,"Make your dataset easy to use"),r.createElement(pe,null,r.createElement(me,{allowModal:!1,scores:t,"data-test":"usability-rating"}),a&&r.createElement(de,{"data-test":"make-public",onClick:e=>{e.stopPropagation(),o()},tight:!0,variant:"transparent"},"Make Public")))}function ge(e){const{isCollapsed:t,isPrivate:n,scores:a,onCollapse:i,onMakePublic:s,onSubtitleClick:l,onTagsClick:c,onOverviewClick:d,onCoverImageClick:u,onFileDescriptionClick:m,onColumnDescriptionClick:p,onLicenseClick:h,onFileFormatClick:g,onProvenanceClick:f,onUpdateFrequencyClick:b,onPublicKernelClick:v,onCreateTaskClick:y}=e;return r.createElement(o.a,{header:r.createElement(he,{usabilityRating:a,isCollapsed:t,isPrivate:n,onCollapse:i,onMakePublic:s})},t?r.createElement(r.Fragment,null):r.createElement(G,{"data-test":"body",scores:a,onSubtitleClick:l,onTagsClick:c,onOverviewClick:d,onCoverImageClick:u,onFileDescriptionClick:m,onColumnDescriptionClick:p,onLicenseClick:h,onFileFormatClick:g,onProvenanceClick:f,onUpdateFrequencyClick:b,onPublicKernelClick:v,onCreateTaskClick:y}))}var fe,be,ve,ye,we,Ee,xe,Ce,ke,_e,Se,Oe,Te,je,Ie,Ne,De,$e,Me,Ue,Pe,Fe,Re,ze,Le,Ae,Ve,Be,Ke,He,qe,We,Ge,Qe=n(1913),Ye=n(2352),Xe=n(2),Je=n(1636),Ze=n(30),et=n(1419),tt=n(2029),nt=n(10),at=n(1761),it=n(2032),ot=n(386),rt=l()(P.b).withConfig({displayName:"PublishStatus_NewVersionHint",componentId:"sc-1wtisvc"})(fe||(fe=Object(a.__makeTemplateObject)(["\n  margin: ","\n    "," 0 ",";\n"],["\n  margin: ","\n    "," 0 ",";\n"])),(function(e){return e.theme.material.spacing(6)}),(function(e){return e.theme.material.spacing(6)}),(function(e){return e.theme.material.spacing(6)})),st=l()(P.b).withConfig({displayName:"PublishStatus_PreprocessingHint",componentId:"sc-w2ul94"})(be||(be=Object(a.__makeTemplateObject)(["\n  padding: ",";\n  color: ",";\n  background: ",";\n  border-radius: ",";\n  display: flex;\n"],["\n  padding: ",";\n  color: ",";\n  background: ",";\n  border-radius: ",";\n  display: flex;\n"])),(function(e){return e.theme.material.spacing(6)}),(function(e){return e.theme.material.color.text[70]}),(function(e){return e.theme.material.color.brand.blue[100]}),(function(e){return e.theme.material.borderRadius.normal})),lt=l()(ot.b).withConfig({displayName:"PublishStatus_PreprocessingIcon",componentId:"sc-1bh41l0"})(ve||(ve=Object(a.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),(function(e){return e.theme.material.color.brand.blue[500]}),(function(e){return e.theme.material.spacing(4)})),ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isProcessingVersion=function(e){switch(e){case"blobsCopiedToSds":case"blobsDecompressed":case"blobsReceived":case"individualBlobsCompressed":case"notYetPersisted":return!0;default:return!1}},t.isReprocessing=function(e){return"reprocessing"==e},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.publishStatus;return e.canEdit&&t&&t.publishStatus?this.isProcessingVersion(t.publishStatus.status)?r.createElement(Je.b,{title:"New Version In Progress"},r.createElement(rt,null,"A new dataset version is being processed at this moment. As long as processing is not complete, you will see the files of the current finalized version and users will continue to run kernels against the current version's files."),this.renderPublishProgress()):this.isReprocessing(this.props.publishStatus.publishStatus.status)?r.createElement(st,null,r.createElement("div",null,r.createElement(lt,{name:"circle-o-notch",className:"fa-spin"})),r.createElement("div",null,"This dataset is reprocessing newly saved changes. You can continue to use and make changes to this dataset as usual. This page will refresh when reprocessing is completed.")):null:null},t.prototype.renderPublishProgress=function(){var e=this.props,t=e.publishStatus,n=e.data.children.map((function(e){return at.e(e)})).reduce((function(e,t){return e+t}),0),a=t.publishStatus,i=a.status?a.status:"notYetPersisted",o=a.creationStep?a.creationStep:"",r=a.creationPercentComplete?a.creationPercentComplete:0,s=a.creationStart?a.creationStart.toString():null;return Object(it.a)(i,o,r,s,n)},t}(r.Component),dt=n(1819),ut=n(1719),mt=n(1651),pt=n(1654),ht=l.a.div.withConfig({displayName:"Description_EmptyContainer",componentId:"sc-8kbd1c"})(ye||(ye=Object(a.__makeTemplateObject)(["\n  padding: ",";\n  color: ",";\n  font-size: ",";\n"],["\n  padding: ",";\n  color: ",";\n  font-size: ",";\n"])),nt.g.PadS,nt.b.TextMedium,nt.d.FontSizeM),gt=l.a.span.withConfig({displayName:"Description_EmptyText",componentId:"sc-ha7eiu"})(we||(we=Object(a.__makeTemplateObject)(["\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"])),nt.b.TextLinkHover),ft=l()(ot.b).withConfig({displayName:"Description_EmptyIcon",componentId:"sc-adwazk"})(Ee||(Ee=Object(a.__makeTemplateObject)(["\n  margin-left: ",";\n  color: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  margin-left: ",";\n  color: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"])),nt.g.PadS,nt.b.TextLight,nt.b.TextLinkHover),bt=l.a.div.withConfig({displayName:"Description_ContentWrapper",componentId:"sc-xv68c4"})(xe||(xe=Object(a.__makeTemplateObject)(["\n  position: relative;\n  color: ",";\n"],["\n  position: relative;\n  color: ",";\n"])),nt.b.TextMedium),vt=l.a.div.withConfig({displayName:"Description_Content",componentId:"sc-wgnpmt"})(Ce||(Ce=Object(a.__makeTemplateObject)(["\n  max-height: ",";\n  padding: ",";\n  overflow: hidden;\n  transition: max-height 1s ease;\n  position: relative;\n  ","\n"],["\n  max-height: ",";\n  padding: ",";\n  overflow: hidden;\n  transition: max-height 1s ease;\n  position: relative;\n  ","\n"])),(function(e){return e.expanded?"unset":"200px"}),nt.g.PadL,(function(e){return e.expanded?"":"\n      ::after {\n        content: '';\n        position: absolute;\n        top: 80px;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(rgba(255, 255, 255, 0), rgba(255, 255, 255, 1));\n      }"})),yt=l.a.div.withConfig({displayName:"Description_ContentInner",componentId:"sc-tnbhho"})(ke||(ke=Object(a.__makeTemplateObject)([""],[""]))),wt=l.a.div.withConfig({displayName:"Description_Expand",componentId:"sc-mobr94"})(_e||(_e=Object(a.__makeTemplateObject)(["\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  border-top: 1px solid ",";\n  padding: 12px ",";\n  text-align: center;\n  background: ",";\n  font-weight: ",";\n  cursor: pointer;\n\n  :hover {\n    background-color: ",";\n  }\n"],["\n  right: 0px;\n  bottom: 0px;\n  left: 0px;\n  border-top: 1px solid ",";\n  padding: 12px ",";\n  text-align: center;\n  background: ",";\n  font-weight: ",";\n  cursor: pointer;\n\n  :hover {\n    background-color: ",";\n  }\n"])),nt.b.ContentBorderLight,nt.g.PadL,nt.b.PureWhite,nt.d.FontWeightMedium,nt.b.HoverLight),Et=l()(ot.b).withConfig({displayName:"Description_ExpandIcon",componentId:"sc-zyxrq0"})(Se||(Se=Object(a.__makeTemplateObject)([""],[""]))),xt="### Context\n\nThere's a story behind every dataset and here's your opportunity to share yours.\n\n\n### Content\n\nWhat's inside is more than just rows and columns. Make it easy for others to get started by describing how you acquired the data and what time period it represents, too.\n\n\n### Acknowledgements\n\nWe wouldn't be here without the help of others. If you owe any attributions or thanks, include them here along with any citations of past research.\n\n\n### Inspiration\n\nYour data will be in front of the world's largest data science community. What questions do you want to see answered?",Ct=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={expandable:!0,expanded:!1},t.renderContent=function(){var e=t.props,n=e.onDescriptionSaved,a=e.onDescriptionChanged,i=e.onDescriptionEditCancelled,o=e.canEdit,s=e.isEditing,l=e.onEdit,c=e.description,d=t.state,u=d.expanded,m=d.expandable,p=o&&r.createElement(ut.a,{sectionName:"Description",isEditing:s,cancelCallback:function(){console.log("cancelCallback"),i()},saveCallback:function(){console.log("saveCallback"),n()},toggleCallback:function(){console.log("toggleCallback"),l(!s)}}),h=u||!m||s;return r.createElement(Je.b,{title:"Description",titleBarRightSide:p},r.createElement(bt,null,r.createElement(vt,{expanded:h},r.createElement(yt,{ref:function(e){return t.contentRef=e}},s?r.createElement(mt.a,{onChange:function(e){return a(e)},placeholder:"Give a detailed description about your dataset.",value:c||xt}):r.createElement(pt.a,{value:c}))),m&&!s&&r.createElement(wt,{onClick:function(){return t.onExpand(!u)}},r.createElement(Et,{name:u?"angle-up":"angle-down"}))))},t.renderEmpty=function(){return r.createElement(ht,null,r.createElement(gt,{onClick:t.onAddDescription},"Add a description..."),r.createElement(ft,{name:"pencil",onClick:t.onAddDescription}))},t.onAddDescription=function(){var e=t.props,n=e.onEdit,a=e.onDescriptionChanged;n(!0),a(xt)},t.onExpand=function(e){t.setState({expanded:e})},t}return Object(a.__extends)(t,e),t.prototype.componentDidMount=function(){if(this.contentRef&&this.contentRef.clientHeight){var e=this.contentRef.clientHeight;this.setState({expandable:e>248})}},t.prototype.render=function(){var e=this.props,t=e.canEdit,n=e.description,a=e.isEditing;return""!==n&&n!==xt||a?this.renderContent():t?this.renderEmpty():null},t}(r.Component),kt=n(1659),_t=n(1974),St=l.a.div.withConfig({displayName:"Footer_Wrapper",componentId:"sc-1fi89lh"})(Oe||(Oe=Object(a.__makeTemplateObject)(["\n  padding: ",";\n  line-height: ",";\n"],["\n  padding: ",";\n  line-height: ",";\n"])),nt.g.PadM,nt.d.LineHeightNormal),Ot=l.a.div.withConfig({displayName:"Footer_MoreActivity",componentId:"sc-9bjxpl"})(Te||(Te=Object(a.__makeTemplateObject)(["\n  padding: "," 0 0 0;\n  line-height: ",";\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  padding: "," 0 0 0;\n  line-height: ",";\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"])),nt.g.PadS,nt.d.LineHeightNormal,nt.b.TextLink,nt.d.FontSizeS,nt.d.FontWeightMedium,nt.b.TextLinkHover),Tt=function(e){var t=e.numberOfViews,n=e.numberOfDownloads,a=e.numberOfScripts,i=e.numberOfTopics,o=e.onShowMoreActivity;return r.createElement(Je.b,null,r.createElement(St,null,r.createElement(_t.a,{list:[r.createElement(kt.a,{key:"view",word:"view",count:t,formatNumber:!0}),r.createElement(kt.a,{key:"download",word:"download",count:n,formatNumber:!0}),r.createElement(kt.a,{key:"notebook",word:"notebook",count:a,formatNumber:!0}),r.createElement(kt.a,{key:"topic",word:"topic",count:i,formatNumber:!0})]}),r.createElement(Ot,{onClick:o},"View more activity")))},jt=n(1631),It=n(1888),Nt=l.a.a.withConfig({displayName:"SimpleTag_Tag",componentId:"sc-1m0qa3y"})(je||(je=Object(a.__makeTemplateObject)(["\n  text-decoration: none;\n  color: ",";\n  cursor: pointer;\n  :hover {\n    color: ",";\n  }\n"],["\n  text-decoration: none;\n  color: ",";\n  cursor: pointer;\n  :hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.material.color.text[40]}),(function(e){return e.theme.material.color.brand.blue[500]})),Dt=l()(ot.b).withConfig({displayName:"SimpleTag_TagRemoveIcon",componentId:"sc-lisz9l"})(Ie||(Ie=Object(a.__makeTemplateObject)(["\n  margin-left: ",";\n  color: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  margin-left: ",";\n  color: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"])),nt.g.PadXs,nt.b.TextLight,nt.b.KaggleRedDark),$t=l.a.div.withConfig({displayName:"SimpleTag_CategoryTooltip",componentId:"sc-193xph"})(Ne||(Ne=Object(a.__makeTemplateObject)(["\n    ","\n    font-size: ",";\n    text-align: left;\n"],["\n    ","\n    font-size: ",";\n    text-align: left;\n"])),nt.c.Inter,nt.d.FontSizeS),Mt=l.a.p.withConfig({displayName:"SimpleTag_CategoryTooltipText",componentId:"sc-1yo5c7k"})(De||(De=Object(a.__makeTemplateObject)(["\n  font-weight: ",";\n"],["\n  font-weight: ",";\n"])),nt.d.FontWeightMedium),Ut=l.a.span.withConfig({displayName:"SimpleTag_CategoryTooltipCount",componentId:"sc-2781ml"})($e||($e=Object(a.__makeTemplateObject)(["\n  color: ",";\n  margin: 0 0 0 ",";\n"],["\n  color: ",";\n  margin: 0 0 0 ",";\n"])),nt.b.TextLight,nt.g.PadS),Pt=l.a.p.withConfig({displayName:"SimpleTag_CategoryTooltipInherited",componentId:"sc-f89ydh"})(Me||(Me=Object(a.__makeTemplateObject)(["\n  color: ",";\n  font-style: italic;\n"],["\n  color: ",";\n  font-style: italic;\n"])),nt.b.TextLight),Ft=function(e){var t=e.tag,n=e.isEditing,a=e.isLast,i=e.onRemove,o=t.name;return r.createElement(r.Fragment,null,r.createElement(Q.Tooltip,{type:"dark",tip:r.createElement($t,null,r.createElement(Mt,null,t.name,!t.isInherited&&r.createElement(Ut,null,"x ",t.totalCount)),t.fullPath&&r.createElement("p",null,t.fullPath),t.isInherited&&r.createElement(Pt,null,"Automatic Tag"))},r.createElement(Nt,{inherited:t.isInherited,href:t.tagUrl,rel:"noopener"},o)),n&&!t.isInherited&&r.createElement(Dt,{name:"times",onClick:function(){return i()}}),a?" ":", ")},Rt=l.a.div.withConfig({displayName:"QuickInfo_Wrapper",componentId:"sc-zf34wg"})(Ue||(Ue=Object(a.__makeTemplateObject)(["\n  display: grid;\n  grid-template-columns: ",";\n  grid-column-gap: ",";\n  line-height: ",";\n  padding: ",";\n\n  @media only screen and (max-width: ",") {\n    grid-template-columns: 1fr;\n  }\n"],["\n  display: grid;\n  grid-template-columns: ",";\n  grid-column-gap: ",";\n  line-height: ",";\n  padding: ",";\n\n  @media only screen and (max-width: ",") {\n    grid-template-columns: 1fr;\n  }\n"])),(function(e){return e.showUsabilityRating?"1fr 2fr 2fr":"1fr 2fr"}),(function(e){return e.theme.material.spacing(4)}),nt.d.LineHeightNormal,(function(e){return e.theme.material.spacing(4)}),(function(e){return e.theme.size.breakpoint.screen.tablet.max})),zt=l.a.div.withConfig({displayName:"QuickInfo_InfoTitle",componentId:"sc-4kjp6o"})(Pe||(Pe=Object(a.__makeTemplateObject)(["\n  width: fit-content;\n  white-space: nowrap;\n"],["\n  width: fit-content;\n  white-space: nowrap;\n"]))),Lt=l.a.div.withConfig({displayName:"QuickInfo_License",componentId:"sc-gof2y"})(Fe||(Fe=Object(a.__makeTemplateObject)(["\n  display: flex;\n  text-align: left;\n\n  @media only screen and (max-width: ",") {\n    margin: "," 0;\n  }\n"],["\n  display: flex;\n  text-align: left;\n\n  @media only screen and (max-width: ",") {\n    margin: "," 0;\n  }\n"])),(function(e){return e.theme.size.breakpoint.screen.tablet.max}),(function(e){return e.theme.material.spacing(1)})),At=l.a.div.withConfig({displayName:"QuickInfo_Tags",componentId:"sc-b0c3af"})(Re||(Re=Object(a.__makeTemplateObject)(["\n  display: flex;\n  text-align: left;\n\n  @media only screen and (max-width: ",") {\n    margin: "," 0;\n  }\n"],["\n  display: flex;\n  text-align: left;\n\n  @media only screen and (max-width: ",") {\n    margin: "," 0;\n  }\n"])),(function(e){return e.theme.size.breakpoint.screen.tablet.max}),(function(e){return e.theme.material.spacing(1)})),Vt=l()(ot.b).withConfig({displayName:"QuickInfo_StyledIcon",componentId:"sc-1lv8yd"})(ze||(ze=Object(a.__makeTemplateObject)(["\n  color: ",";\n  padding-right: ",";\n"],["\n  color: ",";\n  padding-right: ",";\n"])),(function(e){return e.theme.material.color.brand.grey[500]}),(function(e){return e.theme.material.spacing(2)})),Bt=l()((function(e){e.active;var t=Object(a.__rest)(e,["active"]);return r.createElement(ot.b,Object(a.__assign)({},t))})).withConfig({displayName:"QuickInfo_TagEditIcon",componentId:"sc-1tvpwp2"})(Le||(Le=Object(a.__makeTemplateObject)(["\n  margin-left: ",";\n  color: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"],["\n  margin-left: ",";\n  color: ",";\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.material.spacing(2)}),(function(e){return e.active?e.theme.material.color.brand.blue[500]:e.theme.material.color.brand.grey[500]}),(function(e){return e.active?e.theme.material.color.brand.grey[500]:e.theme.material.color.brand.blue[500]})),Kt=l.a.span.withConfig({displayName:"QuickInfo_MoreTags",componentId:"sc-124u3mu"})(Ae||(Ae=Object(a.__makeTemplateObject)([""],[""]))),Ht=l.a.span.withConfig({displayName:"QuickInfo_NoTags",componentId:"sc-ofja99"})(Ve||(Ve=Object(a.__makeTemplateObject)(["\n  cursor: ",";\n\n  :hover {\n    color: ",";\n  }\n"],["\n  cursor: ",";\n\n  :hover {\n    color: ",";\n  }\n"])),(function(e){return e.canEdit?"pointer":"initial"}),(function(e){return e.theme.material.color.brand.blue[500]})),qt=l.a.button.withConfig({displayName:"QuickInfo_CloseButton",componentId:"sc-1kbqir3"})(Be||(Be=Object(a.__makeTemplateObject)(["\n  position: absolute;\n  top: ",";\n  right: ",";\n  padding: (\n    "," ","\n  );\n  border: none;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n  z-index: 2;\n\n  &:hover {\n    color: ",";\n  }\n"],["\n  position: absolute;\n  top: ",";\n  right: ",";\n  padding: (\n    "," ","\n  );\n  border: none;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n  z-index: 2;\n\n  &:hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.material.spacing(2)}),(function(e){return e.theme.material.spacing(2)}),(function(e){return e.theme.material.spacing(1)}),(function(e){return e.theme.material.spacing(2)}),(function(e){return e.theme.material.borderRadius.normal}),nt.b.ContentBorderLight,(function(e){return e.theme.material.color.brand.grey[400]}),(function(e){return e.disabled?"default":"pointer"}),(function(e){return e.disabled?e.theme.material.color.brand.grey[400]:e.theme.material.color.brand.grey[900]})),Wt=l.a.div.withConfig({displayName:"QuickInfo_TagModalContent",componentId:"sc-alp830"})(Ke||(Ke=Object(a.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  position: relative;\n\n  .content-box__content-section {\n    border: none !important;\n    margin: 0;\n  }\n\n  .content-box {\n    margin: 0 !important;\n  }\n\n  .category__content {\n    margin: "," 0 !important;\n  }\n"],["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  position: relative;\n\n  .content-box__content-section {\n    border: none !important;\n    margin: 0;\n  }\n\n  .content-box {\n    margin: 0 !important;\n  }\n\n  .category__content {\n    margin: "," 0 !important;\n  }\n"])),(function(e){return e.theme.material.spacing(2)})),Gt=l.a.div.withConfig({displayName:"QuickInfo_TagTooltip",componentId:"sc-165vaba"})(He||(He=Object(a.__makeTemplateObject)(["\n    ","\n    font-size: ",";\n    font-weight: ",";\n    line-height: ",";\n    text-align: left;\n"],["\n    ","\n    font-size: ",";\n    font-weight: ",";\n    line-height: ",";\n    text-align: left;\n"])),nt.c.Inter,(function(e){return e.theme.material.typography.caption.fontSize}),(function(e){return e.theme.material.typography.caption.fontWeight}),(function(e){return e.theme.material.typography.caption.lineHeight})),Qt=l.a.a.withConfig({displayName:"QuickInfo_A",componentId:"sc-wkm1up"})(qe||(qe=Object(a.__makeTemplateObject)(["\n  text-decoration: none;\n  color: ",";\n"],["\n  text-decoration: none;\n  color: ",";\n"])),nt.b.TextMedium),Yt=l.a.div.withConfig({displayName:"QuickInfo_Text",componentId:"sc-8bgvbu"})(We||(We=Object(a.__makeTemplateObject)(["\n  display: inline;\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n  padding-right: ",";\n"],["\n  display: inline;\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n  padding-right: ",";\n"])),(function(e){return e.theme.material.typography.body2.fontSize}),(function(e){return e.theme.material.typography.body2.fontWeight}),(function(e){return e.theme.material.typography.body2.lineHeight}),(function(e){return e.theme.material.spacing(2)})),Xt=l()(Yt).withConfig({displayName:"QuickInfo_BoldText",componentId:"sc-1mcdd3l"})(Ge||(Ge=Object(a.__makeTemplateObject)(["\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n"],["\n  font-size: ",";\n  font-weight: ",";\n  line-height: ",";\n"])),(function(e){return e.theme.material.typography.subhead.fontSize}),(function(e){return e.theme.material.typography.subhead.fontWeight}),(function(e){return e.theme.material.typography.subhead.lineHeight})),Jt=5,Zt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isEditingTags:!1,isShowingAllTags:!1},t.renderLicense=function(){var e=t.props.license;return 4===e.id?null:r.createElement(Lt,null,r.createElement(zt,null,r.createElement(Vt,{name:"balance-scale",className:"fa-fw"}),r.createElement(Xt,null,"License")),r.createElement(Qt,{href:e.url,target:"_blank"},e.name))},t.renderTags=function(){var e=t.props,n=e.tags,a=e.canEdit,i=t.state,o=i.isEditingTags,s=i.isShowingAllTags,l=n.tags.length>Jt&&!s?n.tags.slice(0,Jt):n.tags,c=n.tags.length>Jt&&!s?n.tags.slice(Jt):[],d=c.length;return r.createElement(At,null,r.createElement(zt,null,r.createElement(Vt,{name:"tag",className:"fa-fw"}),r.createElement(Xt,null,"Tags")),r.createElement("div",null,l.map((function(e,n){return t.renderTag(e,n,n===l.length-1)})),0===l.length&&a&&r.createElement(Ht,{onClick:function(){return t.onEditTags(!0)},canEdit:!0},"Add tags..."),0===l.length&&!a&&r.createElement(Ht,{canEdit:!1},"No tags yet"),d>0&&r.createElement(Q.Tooltip,{type:"dark",tip:r.createElement(Gt,null,c.map((function(e){return e.name})).join(", "))},r.createElement(Kt,null,"and ",d," more")),a&&r.createElement(Bt,{name:"pencil",onClick:function(){return t.onEditTags(!0)},active:o})))},t.renderTag=function(e,t,n){return r.createElement(Ft,{tag:e,key:"tag_"+t,isEditing:!1,isLast:n,onRemove:function(){}})},t.renderUsability=function(){return r.createElement(se,{allowModal:!0,scores:t.props.usabilityRating})},t.renderCategoriesModal=function(){var e=t.props,n=e.tags,i=e.canEdit,o=e.datasetId,s=e.onTagsChanged,l=t.state.isEditingTags;return r.createElement(jt.a,{modalIsShown:l,modalContentStyle:{maxWidth:"96%",width:"600px"},onClose:function(){return t.onEditTags(!1)}},r.createElement(Wt,null,r.createElement(qt,{onClick:function(){return t.onEditTags(!1)}},r.createElement(ot.b,{name:"times"})),r.createElement(Je.b,{title:"Tags"},r.createElement(It.a,Object(a.__assign)({},n,{canEdit:i,datasetId:o,hideTagsHeader:!0,onDatasetCategoryChange:s})))))},t.onEditTags=function(e){t.setState({isEditingTags:e})},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.canEdit,n=e.usabilityRating,a=null!==n&&(!t||n.score>=1);return r.createElement(Je.b,null,r.createElement(Rt,{showUsabilityRating:a},a&&this.renderUsability(),this.renderLicense(),this.renderTags(),this.renderCategoriesModal()))},t}(r.Component),en=n(2027);n.d(t,"a",(function(){return tn})),n.d(t,"b",(function(){return dn}));var tn,nn,an=l.a.div.withConfig({displayName:"Home_Wrapper",componentId:"sc-1lm6bf2"})(sn||(sn=Object(a.__makeTemplateObject)([""],[""]))),on=l.a.div.withConfig({displayName:"Home_ComponentWrapper",componentId:"sc-7qy803"})(ln||(ln=Object(a.__makeTemplateObject)([""],[""]))),rn=l.a.div.withConfig({displayName:"Home_DescriptionDeleted",componentId:"sc-146rlhl"})(cn||(cn=Object(a.__makeTemplateObject)(["\n  padding: ",";\n  color: ",";\n"],["\n  padding: ",";\n  color: ",";\n"])),nt.g.PadL,nt.b.TextMedium);!function(e){e[e.AddCollaborator=0]="AddCollaborator",e[e.UpdateDataDescription=1]="UpdateDataDescription",e[e.AddImage=2]="AddImage",e[e.AddSubtitle=3]="AddSubtitle",e[e.UpdateMetadataTab=4]="UpdateMetadataTab"}(tn||(tn={})),function(e){e[e.Category=0]="Category",e[e.Description=1]="Description"}(nn||(nn={}));var sn,ln,cn,dn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showNewVersionCreatorModal:!1},t.onCreateVersion=function(){t.setState({showNewVersionCreatorModal:!0})},t.renderPromotion=function(){var e=t.props,n=e.canEdit,a=e.canSeeDatasetHashLink,o=e.isPrivate,s=e.onNavigateToSettingsClick;if(a&&n&&o)return r.createElement(i.a,{onRedirectToSettings:function(){return s(en.b.Sharing)}})},t.renderChecklist=function(){var e=t.props,n=e.canEdit,a=e.isPrivate,i=e.checklistCollapsed,o=e.onToggleCollapseChecklist,s=e.setConfirmPrivacyVisible,l=e.usabilityRating,c=t.context,d=c.onCreateKernel,u=c.onCreateTask;if(n&&null!==l&&l.score<1)return r.createElement(ge,{isCollapsed:i,isPrivate:a,scores:l,onCollapse:o,onMakePublic:function(){return s(!0)},onSubtitleClick:function(){return t.onChecklistNavigationClick(tn.AddSubtitle)},onTagsClick:function(){return t.onScrollToHomeComponent(nn.Category)},onOverviewClick:function(){return t.onScrollToHomeComponent(nn.Description)},onCoverImageClick:function(){return t.onChecklistNavigationClick(tn.AddImage)},onFileDescriptionClick:function(){return t.onChecklistNavigationClick(tn.UpdateDataDescription)},onColumnDescriptionClick:function(){return t.onChecklistNavigationClick(tn.UpdateDataDescription)},onLicenseClick:function(){return t.onChecklistNavigationClick(tn.UpdateMetadataTab)},onFileFormatClick:function(){return t.onChecklistNavigationClick(tn.UpdateDataDescription)},onProvenanceClick:function(){return t.onChecklistNavigationClick(tn.UpdateMetadataTab)},onUpdateFrequencyClick:function(){return t.onChecklistNavigationClick(tn.UpdateMetadataTab)},onPublicKernelClick:d,onCreateTaskClick:u})},t.renderQuickInfo=function(){var e=t.props,n=e.license,a=e.categories,i=e.canEdit,o=e.usabilityRating,s=e.onTagsChanged,l=e.datasetId;return r.createElement(on,{ref:function(e){return t.quickInfoRef=e}},r.createElement(Zt,{datasetId:l,license:n,tags:a,usabilityRating:o,canEdit:i,onTagsChanged:s}))},t.renderDescription=function(){var e=t.props,n=e.isRemoved,a=e.description,i=e.isEditingDescription,o=e.canEditDescription,s=e.onDescriptionEditToggled,l=e.onDescriptionEditCancelled,c=e.onDescriptionSaved,d=e.onDescriptionChanged;return n?r.createElement(on,{ref:function(e){return t.descriptionRef=e}},r.createElement(Je.b,{title:"Deleted Dataset"},r.createElement(rn,null,"This dataset was deleted."))):r.createElement(on,{ref:function(e){return t.descriptionRef=e}},r.createElement(Ct,{description:a,canEdit:o,isEditing:i,onEdit:s,onDescriptionSaved:c,onDescriptionChanged:d,onDescriptionEditCancelled:l}))},t.renderSuggestions=function(){var e=t.props.suggestions;return e?r.createElement(tt.a,{title:"Similar Datasets",suggestions:e}):null},t.renderData=function(){var e=t.props,n=e.data,a=e.datasetId,i=e.datasetVersionId,o=e.datasetHashLink,s=e.canEdit,l=e.onRefreshVersion,c=e.onUpdateUsabilityRating,d=e.onExportToSheets,u=n.id,m=o&&window.location.pathname.includes(o);return r.createElement(on,{ref:function(e){return t.dataExplorerRef=e}},r.createElement(Qe.a,{datasetId:a,datasetVersionId:i,databundleVersionId:u,userId:Ze.a.userId,datasetHashLink:m?o:void 0,canEdit:s,onCreateVersion:s?t.onCreateVersion:void 0,onUpdateVersion:s?l:void 0,onExportToSheets:d,onUpdateUsabilityRating:s?c:void 0}))},t.renderUploader=function(){var e=t.props,n=e.datasetId,a=e.datasetVersionId,i=e.isPrivate,o=e.license,s=e.owner,l=e.slug,c=e.title,d=t.state.showNewVersionCreatorModal,u=Object(dt.a)(),m=Object(dt.c)(t.props.data,t.props.createdByKernel);return r.createElement(Ye.a,{referrer:"datasets",dataset:{datasetId:n,isPrivate:i,lastDatasetVersionId:a,license:{id:o.id,description:o.description},owner:{id:s.id,imageUrl:s.imageUrl,isOrganization:s.isOrganization,name:s.name,slug:s.slug},slug:l,title:c},defaultContainer:m,isOpen:d,user:u,onCloseRequest:t.onUploaderCloseRequest})},t.renderTotals=function(){var e=t.props,n=e.numberOfViews,a=e.numberOfDownloads,i=e.numberOfScripts,o=e.numberOfTopics,s=e.onChangeTab;return r.createElement(Tt,{numberOfDownloads:a,numberOfScripts:i,numberOfTopics:o,numberOfViews:n,onShowMoreActivity:function(){return s("activity")}})},t.onUploaderCloseRequest=function(e){var n=e.type;t.setState({showNewVersionCreatorModal:!1}),"processing"!==n&&"success"!==n&&"failed"!==n||window.location.reload()},t.onError=function(e){et.a.clear(),et.a.error({dangerousHtmlMessage:e})},t.onSuccess=function(e){et.a.clear(),et.a.success({dangerousHtmlMessage:e})},t.onChecklistNavigationClick=function(e){var n=t.props.onChecklistNavigationClick;switch(e){case tn.AddCollaborator:case tn.AddImage:case tn.AddSubtitle:case tn.UpdateMetadataTab:n(e);break;case tn.UpdateDataDescription:t.dataExplorerRef&&window.scrollTo(0,t.dataExplorerRef.offsetTop)}},t.onScrollToHomeComponent=function(e){switch(e){case nn.Category:t.quickInfoRef&&window.scrollTo(0,t.quickInfoRef.offsetTop);break;case nn.Description:t.descriptionRef&&window.scrollTo(0,t.descriptionRef.offsetTop)}},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.isRemoved,n=e.data,a=e.publishStatus,i=e.canEdit;return r.createElement(an,null,i&&!t&&this.renderPromotion(),i&&!t&&this.renderChecklist(),!t&&this.renderQuickInfo(),this.renderDescription(),!t&&r.createElement(ct,{data:n,publishStatus:a,canEdit:i}),!t&&this.renderData(),!t&&this.renderSuggestions(),!t&&this.renderTotals(),!t&&this.renderUploader())},t.contextTypes={onCreateKernel:Xe.func,onCreateTask:Xe.func},t}(r.Component)},2161:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return ce}));var i,o,r,s,l,c,d,u,m,p,h,g,f,b,v,y,w,E,x,C,k,_,S,O,T,j,I,N,D=n(3),$=n(1413),M=n(147),U=n(1626),P=n(22),F=n(1),R=n.n(F),z=n(1641),L=n(1635),A=n(1644),V=n(30),B=n(1631),K=n(386),H=n(1655),q=n(10),W=n(1419),G=n(8),Q=n(1761),Y=e.Scripts,X=R.a.div.withConfig({displayName:"SettingsGeneral_FieldGroup",componentId:"sc-2zo2hl"})(r||(r=Object(D.__makeTemplateObject)(["\n  align-items: center;\n  display: flex;\n  margin-bottom: ",";\n  min-height: ",";\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  ","\n\n  ","\n\n    &--images,\n    &--labels-top {\n    align-items: flex-start;\n  }\n"],["\n  align-items: center;\n  display: flex;\n  margin-bottom: ",";\n  min-height: ",";\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  ","\n\n  ","\n\n    &--images,\n    &--labels-top {\n    align-items: flex-start;\n  }\n"])),q.g.PadS,q.g.PadXl,q.f.tablet(i||(i=Object(D.__makeTemplateObject)(["\n        flex-direction: column;\n        align-items: flex-start;\n        margin-bottom: ",";\n    "],["\n        flex-direction: column;\n        align-items: flex-start;\n        margin-bottom: ",";\n    "])),q.g.PadL),q.f.mobile(o||(o=Object(D.__makeTemplateObject)(["\n        flex-direction: column;\n        align-items: flex-start;\n        margin-bottom: ",";\n    "],["\n        flex-direction: column;\n        align-items: flex-start;\n        margin-bottom: ",";\n    "])),q.g.PadL)),J=R.a.div.withConfig({displayName:"SettingsGeneral_FieldLabel",componentId:"sc-1fby54o"})(d||(d=Object(D.__makeTemplateObject)(["\n    align-self: flex-start;\n    color: ",";\n    font: normal normal normal ","/1.25 ",";\n    flex: 1 1 auto;\n\n    padding-top: 10px;\n\n    ","\n\n    ","\n\n    ","\n"],["\n    align-self: flex-start;\n    color: ",";\n    font: normal normal normal ","/1.25 ",";\n    flex: 1 1 auto;\n\n    padding-top: 10px;\n\n    ","\n\n    ","\n\n    ","\n"])),q.b.TextLight,q.d.FontSizeM,q.d.FontFamilyInter,q.f.tablet(s||(s=Object(D.__makeTemplateObject)(["\n        margin-bottom: ",";\n    "],["\n        margin-bottom: ",";\n    "])),q.g.PadXs),q.f.mobile(l||(l=Object(D.__makeTemplateObject)(["\n        margin-bottom: ",";\n    "],["\n        margin-bottom: ",";\n    "])),q.g.PadXs),q.f.nonMobile(c||(c=Object(D.__makeTemplateObject)(["\n        flex: 0 0 22%;\n        padding-right: ",";\n        text-align: right;\n    "],["\n        flex: 0 0 22%;\n        padding-right: ",";\n        text-align: right;\n    "])),q.g.PadM)),Z=R.a.div.withConfig({displayName:"SettingsGeneral_FieldValue",componentId:"sc-flf4yq"})(h||(h=Object(D.__makeTemplateObject)(["\n    color: ",";\n    font: normal normal normal ","/1.25 ",";\n\n    padding-top: 10px;\n\n    ","\n\n    ","\n\n    ","\n"],["\n    color: ",";\n    font: normal normal normal ","/1.25 ",";\n\n    padding-top: 10px;\n\n    ","\n\n    ","\n\n    ","\n"])),q.b.TextMedium,q.d.FontSizeM,q.d.FontFamilyInter,q.f.tablet(u||(u=Object(D.__makeTemplateObject)(["\n        margin-bottom: ",";\n    "],["\n        margin-bottom: ",";\n    "])),q.g.PadXs),q.f.mobile(m||(m=Object(D.__makeTemplateObject)(["\n        margin-bottom: ",";\n    "],["\n        margin-bottom: ",";\n    "])),q.g.PadXs),q.f.nonMobile(p||(p=Object(D.__makeTemplateObject)(["\n        padding-right: ",";\n    "],["\n        padding-right: ",";\n    "])),q.g.PadM)),ee=R.a.div.withConfig({displayName:"SettingsGeneral_KernelTemplateContainer",componentId:"sc-crywbv"})(g||(g=Object(D.__makeTemplateObject)(["\n  border-top: 1px solid ",";\n  padding: "," ",";\n"],["\n  border-top: 1px solid ",";\n  padding: "," ",";\n"])),q.b.ContentBorderLight,q.g.PadXl,q.g.PadL),te=R.a.div.withConfig({displayName:"SettingsGeneral_RefreshInfo",componentId:"sc-ekmucu"})(f||(f=Object(D.__makeTemplateObject)(["\n  display: flex;\n  margin-top: ",";\n  align-items: center;\n"],["\n  display: flex;\n  margin-top: ",";\n  align-items: center;\n"])),q.g.PadS),ne=R.a.div.withConfig({displayName:"SettingsGeneral_SmallSecondaryButton",componentId:"sc-1fzxdhu"})(v||(v=Object(D.__makeTemplateObject)(["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  color: ",";\n  cursor: pointer;\n  font-size: ",";\n  font-weight: ",";\n  padding: 6px ",";\n  text-align: center;\n\n  &:hover {\n    border-color: ",";\n    color: ",";\n  }\n\n  ","\n"],["\n  background-color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  color: ",";\n  cursor: pointer;\n  font-size: ",";\n  font-weight: ",";\n  padding: 6px ",";\n  text-align: center;\n\n  &:hover {\n    border-color: ",";\n    color: ",";\n  }\n\n  ","\n"])),q.b.PureWhite,q.b.ContentBorderLight,q.g.BorderRadius,q.b.TextLink,q.d.FontSizeS,q.d.FontWeightMedium,q.g.PadS,q.b.ContentBorder,q.b.TextLinkHover,q.f.mobile(b||(b=Object(D.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "])))),ae=R()(ne).withConfig({displayName:"SettingsGeneral_RefreshButton",componentId:"sc-1lxwlvx"})(y||(y=Object(D.__makeTemplateObject)(["\n  width: initial;\n  margin-left: ",";\n"],["\n  width: initial;\n  margin-left: ",";\n"])),q.g.PadM),ie=R()(K.b).withConfig({displayName:"SettingsGeneral_NewVersionIcon",componentId:"sc-172e19a"})(w||(w=Object(D.__makeTemplateObject)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),q.g.PadXs),oe=R.a.a.withConfig({displayName:"SettingsGeneral_SettingsLink",componentId:"sc-14kavma"})(E||(E=Object(D.__makeTemplateObject)(["\n  text-align: left;\n  color: ",";\n  cursor: pointer;\n"],["\n  text-align: left;\n  color: ",";\n  cursor: pointer;\n"])),q.b.TextLink),re=R.a.div.withConfig({displayName:"SettingsGeneral_DatasetPersistenceMessage",componentId:"sc-q9j5km"})(x||(x=Object(D.__makeTemplateObject)(["\n  font-size: ",";\n  line-height: ",";\n  padding: "," 0 "," 0;\n  text-align: left;\n"],["\n  font-size: ",";\n  line-height: ",";\n  padding: "," 0 "," 0;\n  text-align: left;\n"])),q.d.FontSizeM,q.d.LineHeightNormal,q.g.PadS,q.g.PadM),se=[{label:"Versioned",value:"versioned",disabled:!1},{label:"Latest Version Only",value:"unversioned",disabled:!1}],le=[{label:"Never",value:"never",disabled:!1},{label:"Monthly",value:"monthly",disabled:!1},{label:"Weekly",value:"weekly",disabled:!1},V.a.isAdmin?{label:"Daily",value:"daily",disabled:!1}:null].filter((function(e){return!!e})),ce=function(e){function t(t){var n=e.call(this,t)||this;n.onTitleChanged=function(e){n.setState({title:e,hasChangedSinceLastSave:!0},(function(){return n.validate()}))},n.onShowOwnerSearch=function(e){n.setState({showOwnerSearch:e})},n.onSelectedOwnerChanged=function(e){if(null!=e){var t=e.split(":");if(2==t.length){var a="o"==t[0],i=Number(t[1]),o=n.props.owners.filter((function(e){return e.isOrganization==a&&e.id==i})),r=n.ownerSearchOptions.filter((function(e){return e.isOrganization==a&&e.id==i})),s=o.length>0?o[0]:r.length>0?r[0]:null;n.setState({owner:s,hasChangedSinceLastSave:!0},(function(){return n.validate()}))}}},n.onSelectedLicenseChanged=function(e){n.setState({licenseId:e,hasChangedSinceLastSave:!0},(function(){return n.validate()}))},n.onSelectedDiffTypeChanged=function(e){e!=n.state.diffType&&n.setState({newDiffType:e,showDiffTypeModal:!0})},n.onOverviewChanged=function(e){n.setState({overview:e,hasChangedSinceLastSave:!0},(function(){return n.validate()}))},n.onUpdateFrequencyChanged=function(e){if("remoteGitRepositoryFileSet"==n.props.databundleVersionType||"remoteUrlFileSet"==n.props.databundleVersionType){var t=null;"never"!=e&&(t=e),n.setState({remoteUpdateFrequency:t,hasChangedSinceLastSave:!0},(function(){return n.validate()}))}},n.onBlockTaskCreationChanged=function(e){n.setState({blockTaskCreation:e},n.validate)},n.onSave=function(){n.setState({isSaving:!0,hasChangedSinceLastSave:!1},(function(){var e={licenseId:n.state.licenseId,overview:n.state.overview,owner:n.state.owner,title:n.state.title,diffType:n.state.diffType,updateFrequency:n.state.remoteUpdateFrequency,blockTaskCreation:n.state.blockTaskCreation};n.props.onSaveSettingsGeneral(e,n.onSaveFinished)}))},n.onSaveWithoutOwnerImmediately=function(){if(n.state.hasChangedSinceLastSave){var e={licenseId:n.state.licenseId,overview:n.state.overview,title:n.state.title,diffType:n.state.diffType,updateFrequency:n.state.remoteUpdateFrequency,blockTaskCreation:n.state.blockTaskCreation};n.props.onSaveSettingsGeneral(e,n.onSaveFinished)}},n.onSaveFinished=function(e){n.setState({isSaving:!1,hasChangedSinceLastSave:!1},(function(){e.datasetUrl&&window.location.assign(e.datasetUrl)}))},n.loadOwners=function(e){return!e||e.trim().length<3?Promise.resolve({options:[]}):G.searchClient.fullSearchWeb({query:e+" in:users in:organizations",page:1,resultsPerPage:20}).then((function(e){var t=e.documents,a=[];return t.filter((function(e){return"user"===e.documentType||"organization"===e.documentType})).map((function(e){a.push({label:e.title,value:("organization"===e.documentType?"o:":"i:")+e.databaseId,isOrganization:"organization"===e.documentType,thumbnailUrl:e.thumbnailImageUrl,id:e.databaseId,slug:e.url})})),n.ownerSearchOptions=n.ownerSearchOptions.concat(a),{options:a}}))},n.onDeleteDataset=function(){n.setState({isDeletingDataset:!0}),n.props.setConfirmDeleteVisible(!1),n.props.onDeleteDataset()},n.onCreateStarterKernerl=function(){return Object(D.__awaiter)(n,void 0,void 0,(function(){var e;return Object(D.__generator)(this,(function(t){switch(t.label){case 0:return[4,Y.createNewKernelTemplate({ownerSlug:this.props.owner.slug,datasetSlug:this.props.slug})];case 1:return(e=t.sent()).errorMessage||this.setState({starterKernelUrl:e.kernelUrl}),[2]}}))}))},n.navigateTo=function(e){window.location.href=V.a.isAnonymous?"/account/login?returnUrl="+encodeURIComponent(document.location.pathname):e},n.validate=function(){var e=[],t=!1,a=!1,i=!1,o=!1;n.state.title&&0!=n.state.title.trim().length?n.state.title&&(n.state.title.trim().length<6||n.state.title.trim().length>50)&&(t=!0,e.push({type:"error",id:"dataset-title-length",message:"The title must be between 6 and 50 characters in length."})):(t=!0,e.push({type:"error",id:"dataset-no-title",message:"Please enter a title for your dataset."})),n.state.overview&&0!=n.state.overview.trim().length?n.state.overview&&(n.state.overview.trim().length<20||n.state.overview.trim().length>80)&&(a=!0,e.push({type:"error",id:"dataset-overview-length",message:"The Subtitle must be between 20 and 80 characters in length."})):i=!0,n.state.licenseId&&0!=n.state.licenseId||(o=!0,e.push({type:"error",id:"dataset-no-license",message:"Please select a license for your dataset."})),n.props.owner.id!==n.state.owner.id&&n.state.owner.isOrganization&&e.push({type:"warning",id:"dataset-owner-organization-change",message:"Setting the owner as an organization will make this dataset accessible/editable to everyone in the organization."});var r=!(t||a||o);n.setState({errorMessages:e,titleError:t,overviewError:a,overviewWarning:i,licenseError:o,ownerError:!1,canSave:r})},n.renderOwner=function(e){return a.createElement("div",{className:"dataset-uploader__general-owner-option"},e.thumbnailUrl&&a.createElement("img",{className:"dataset-uploader__general-owner-option-thumbnail",src:e.thumbnailUrl,alt:e.label+" thumbnail"}),a.createElement("p",null,e.label))},n.renderLicenseOption=function(e){return e.disabled?Object(M.j)(a.createElement("div",{className:"dataset-uploader__general-license-header"}),e.label):Object(M.j)(a.createElement("div",{className:"dataset-uploader__general-license-option"}),e.label)},n.renderLicenseValue=function(e){return Object(M.j)(a.createElement("div",{className:"dataset-uploader__general-license-value"}),e.label)},n.onRefreshVersion=function(){return Object(D.__awaiter)(n,void 0,void 0,(function(){var e,t,n,a;return Object(D.__generator)(this,(function(i){switch(i.label){case 0:e=Q.d(),t={datasetId:this.props.datasetId,settings:{databundleWorkerEnvironment:e,actions:null,flags:null}},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,G.datasetsClient.refreshRemoteDataset(t)];case 2:return"error"==(n=i.sent()).status?W.a.set([n.errorMessage]):window.location.reload(),[3,4];case 3:return(a=i.sent())instanceof G.CanonicalError&&(W.a.clear(),W.a.error(a.message)),[3,4];case 4:return[2]}}))}))};var i=t.owners.map((function(e){return{label:e.name,value:(e.isOrganization?"o:":"i:")+e.id,isOrganization:e.isOrganization,thumbnailUrl:e.imageUrl,id:e.id,slug:e.slug}})).sort((function(e,t){return e.label>t.label?1:e.label<t.label?-1:0})),o=[];t.licenseGroups.forEach((function(e){o.push({label:e.name,disabled:!0}),e.licenses.forEach((function(e){o.push({value:e.id,label:e.description,disabled:!1})}))}));var r=Object(D.__assign)(Object(D.__assign)({},t),{canSave:!0,errorMessages:[],hasChangedSinceLastSave:!1,licenseError:!1,licenseSelectOptions:o,isDeletingDataset:!1,isSaving:!1,overviewError:!1,overviewWarning:!1,ownerError:!1,ownerSelectOptions:i,showOwnerSearch:!1,titleError:!1,showDiffTypeModal:!1,newDiffType:t.diffType});return n.state=r,n.ownerSearchOptions=[],n}return Object(D.__extends)(t,e),t.prototype.componentDidMount=function(){this.validate()},t.prototype.renderOwnerSelect=function(){var e=this;return V.a.isAdmin&&this.state.showOwnerSearch?a.createElement(H.b,{disabled:this.state.isSaving||this.state.isDeletingDataset,className:P("dataset-uploader__general-owner",{"dataset-uploader__input-error":this.state.ownerError}),loadOptions:this.loadOwners,placeholder:"Search Owners...",value:(this.state.owner.isOrganization?"o:":"i:")+(this.state.owner.id||0),optionRenderer:this.renderOwner,valueRenderer:this.renderOwner,onChange:function(t){return e.onSelectedOwnerChanged(t)}}):a.createElement(H.a,{searchable:!1,disabled:this.state.isSaving||this.state.isDeletingDataset,className:P("dataset-uploader__general-owner",{"dataset-uploader__input-error":this.state.ownerError}),value:(this.state.owner.isOrganization?"o:":"i:")+(this.state.owner.id||0),options:this.state.ownerSelectOptions,optionRenderer:this.renderOwner,valueRenderer:this.renderOwner,onChange:function(t){e.onSelectedOwnerChanged(t)}})},t.prototype.renderStartKernelButton=function(){var e=this;return a.createElement(X,null,a.createElement(J,null,"Starter Notebook"),this.state.starterKernelUrl?a.createElement(Z,null,"Your new starter Notebook is ready! You can"," ",a.createElement(oe,{onClick:function(){return e.navigateTo(e.state.starterKernelUrl)}},"visit it directly")," ","or find it in the"," ",a.createElement(oe,{onClick:function(){return e.navigateTo("notebooks?sortBy=dateRun&group=profile")}},"notebooks tab")):a.createElement(ne,{onClick:this.onCreateStarterKernerl},a.createElement(ie,{name:"plus"}),"New Starter Notebook"))},t.prototype.renderDeletion=function(){var e=this,t=null;this.props.hasDatasetDoiApproved?t=a.createElement(re,{"data-test":"doi-persistence-message"},"Dataset has a DOI attached and cannot be deleted, please contact  ",a.createElement(oe,{href:"mailto:support@kaggle.com"},"support@kaggle.com")," for deletion request."):this.state.isDeletingDataset?t=a.createElement("span",{id:"dataset-delete",className:"dataset-settings__delete-wait"},a.createElement("span",{className:"fa fa-circle-o-notch fa-spin"}),"    Hold tight, we're deleting this dataset."):this.state.isDeletingDataset||(t=a.createElement("a",{id:"dataset-delete",className:"dataset-settings__delete","data-test":"delete-button",onClick:function(){return e.props.setConfirmDeleteVisible(!0)}},"Delete Dataset"));var n=this.props.deletionNeedsReview?a.createElement("span",null,"This dataset is very popular, including both public and private work. Deletion is irreversible and any public or private Notebooks using this dataset will no longer be executable. ",a.createElement("br",null),a.createElement("br",null),"Are you sure you want to permanently delete this dataset?"):a.createElement("span",null,"Deletion is irreversible and any public or private Notebooks using this dataset will no longer be executable.",a.createElement("br",null),"Are you sure you want to permanently delete this dataset?");return a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("div",{className:"dataset-settings__field-label"},"Delete"),a.createElement("div",{className:"dataset-settings__field-control-column"},t,a.createElement(A.a,{isShown:this.props.isConfirmDeleteVisible,title:"Confirm Deletion",confirmText:"Confirm",cancelText:"Cancel",isDangerousAction:!0,onConfirm:function(){return e.onDeleteDataset()},onCancel:function(){return e.props.setConfirmDeleteVisible(!1)}},n)))},t.prototype.renderAutoUpdate=function(){var e=this;return a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("div",{className:"dataset-settings__field-label"},"Update"),a.createElement("div",{className:"dataset-settings__field-control-column"},a.createElement(H.a,{searchable:!1,disabled:this.state.isSaving||this.state.isDeletingDataset,className:"dataset-uploader__general-license",value:this.state.remoteUpdateFrequency||"never",options:le,optionRenderer:this.renderLicenseOption,valueRenderer:this.renderLicenseValue,onChange:function(t){return e.onUpdateFrequencyChanged(t)}}),this.props.lastRemoteUpdate&&a.createElement(te,null,"Last Update:   ",a.createElement($.a,{time:this.props.lastRemoteUpdate}),a.createElement(ae,{onClick:function(){return e.onRefreshVersion()}},a.createElement(ie,{name:"refresh"}),"Update"))))},t.prototype.render=function(){var e=this,t=this.state.errorMessages.length;return a.createElement("div",null,a.createElement("div",{className:"dataset-settings__container"},a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("label",{className:"dataset-settings__field-label"},"Title"),a.createElement("div",{className:"dataset-settings__field-control-column"},a.createElement("input",{disabled:this.state.isSaving||this.state.isDeletingDataset,className:P("dataset-settings__field-control-input",{"dataset-settings__field-control-error":this.state.titleError}),onChange:function(t){return e.onTitleChanged(t.target.value)},value:this.state.title}))),a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("label",{className:"dataset-settings__field-label"},"Subtitle"),a.createElement("div",{className:"dataset-settings__field-control-column"},a.createElement("input",{disabled:this.state.isSaving||this.state.isDeletingDataset,className:P("dataset-settings__field-control-input",{"dataset-settings__field-control-error":this.state.overviewError},{"dataset-settings__field-control-warning":this.state.overviewWarning}),onChange:function(t){return e.onOverviewChanged(t.target.value)},value:this.state.overview}),this.state.overviewWarning&&a.createElement("div",{className:"dataset-settings__field-note dataset-settings__field-note-warning"},"We highly recommend entering a subtitle for your Dataset, making it easier for others to discover and understand."))),a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("div",{className:"dataset-settings__field-label"},"Owner"),a.createElement("div",{className:"dataset-settings__field-control-row"},this.renderOwnerSelect()," ",a.createElement("div",null,V.a.isAdmin&&!this.state.showOwnerSearch&&a.createElement(z.a,{className:"dataset-settings__new-org-button",containerClassNames:"dataset-settings__new-org-container",isSmall:!0,isDisabled:this.state.isSaving||this.state.isDeletingDataset,onClick:function(){return e.onShowOwnerSearch(!0)}},a.createElement("span",null,a.createElement("span",{className:"fa fa-search"}),"  Select Any Owner")),V.a.isAdmin&&this.state.showOwnerSearch&&a.createElement(z.a,{className:"dataset-settings__new-org-button",containerClassNames:"dataset-settings__new-org-container",isDisabled:this.state.isSaving||this.state.isDeletingDataset,isSmall:!0,onClick:function(){return e.onShowOwnerSearch(!1)}},a.createElement("span",null,a.createElement("span",{className:"fa fa-users"}),"  My Owners"))))),a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("div",{className:"dataset-settings__field-label"},"License"),a.createElement("div",{className:"dataset-settings__field-control-column"},a.createElement(H.a,{searchable:!1,disabled:this.state.isSaving||this.state.isDeletingDataset,className:P("dataset-uploader__general-license",{"dataset-uploader__input-error":this.state.licenseError}),value:this.state.licenseId||0,options:this.state.licenseSelectOptions,optionRenderer:this.renderLicenseOption,valueRenderer:this.renderLicenseValue,onChange:function(t){e.onSelectedLicenseChanged(t)}}))),"realtime"!==this.state.diffType&&a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("div",{className:"dataset-settings__field-label"},"Versioning"),a.createElement("div",{className:"dataset-settings__field-control-column"},a.createElement(H.a,{searchable:!1,disabled:this.state.isSaving||this.state.isDeletingDataset,className:"dataset-uploader__general-license",value:this.state.diffType||0,options:se,optionRenderer:this.renderLicenseOption,valueRenderer:this.renderLicenseValue,onChange:function(t){e.onSelectedDiffTypeChanged(t)}}))),("remoteGitRepositoryFileSet"===this.props.databundleVersionType||"remoteUrlFileSet"===this.props.databundleVersionType)&&this.renderAutoUpdate(),a.createElement("div",{className:"dataset-settings__field-group"},a.createElement("div",{className:"dataset-settings__field-label"},"Task Creation"),a.createElement("div",{className:"dataset-settings__field-control-column"},a.createElement("div",{className:"dataset-settings__field-checkbox"},a.createElement(U.a,{label:"Block non-editor from creating task on this dataset?",checked:this.state.blockTaskCreation,disabled:this.state.isSaving,onChange:function(t){return e.onBlockTaskCreationChanged(t.target.checked)}})))),a.createElement("div",{className:"dataset-settings__error-wrapper"},this.state.errorMessages.map((function(e,n){return a.createElement("div",{key:n},a.createElement("div",{className:"dataset-settings__error",key:e.id},e.message),n!==t-1&&a.createElement("br",null))}))),a.createElement("div",{className:"dataset-settings__save-button-wrapper"},a.createElement("div",{className:"dataset-settings__save-button"},a.createElement(L.a,{isDisabled:!this.state.canSave||this.state.isSaving||this.state.isDeletingDataset,onClick:function(t){return e.onSave()},text:"Save Changes"}),this.state.isSaving&&a.createElement("div",{className:"dataset-settings__save-spinner"},a.createElement("span",{className:"fa fa-spin fa-circle-o-notch"}))))),a.createElement(ee,null,this.renderStartKernelButton(),this.props.canSeeDeletionButton&&this.renderDeletion()),a.createElement(be,{isShown:this.state.showDiffTypeModal,newDiffType:this.state.newDiffType,onCancel:function(){return e.setState({showDiffTypeModal:!1})},onConfirm:function(t){return e.setState({showDiffTypeModal:!1,hasChangedSinceLastSave:!0,diffType:t},(function(){return e.validate()}))}}))},t}(a.Component),de=R.a.div.withConfig({displayName:"SettingsGeneral_DiffModalContainer",componentId:"sc-1i2j0ge"})(_||(_=Object(D.__makeTemplateObject)(["\n  padding: ",";\n\n  ","\n\n  ","\n"],["\n  padding: ",";\n\n  ","\n\n  ","\n"])),q.g.PadM,q.f.mobile(C||(C=Object(D.__makeTemplateObject)(["\n        width: 320px;\n    "],["\n        width: 320px;\n    "]))),q.f.nonMobile(k||(k=Object(D.__makeTemplateObject)(["\n        width: 650px;\n    "],["\n        width: 650px;\n    "])))),ue=R.a.div.withConfig({displayName:"SettingsGeneral_DiffModalHeader",componentId:"sc-oefwxx"})(S||(S=Object(D.__makeTemplateObject)(["\n  font-size: ",";\n  font-weight: ",";\n  padding: "," 0;\n  text-align: center;\n"],["\n  font-size: ",";\n  font-weight: ",";\n  padding: "," 0;\n  text-align: center;\n"])),q.d.FontSizeL,q.d.FontWeightMedium,q.g.PadM),me=R.a.div.withConfig({displayName:"SettingsGeneral_DiffModalDescription",componentId:"sc-8f5ri6"})(O||(O=Object(D.__makeTemplateObject)(["\n  font-size: ",";\n  line-height: ",";\n  padding: "," 0 "," 0;\n  text-align: left;\n"],["\n  font-size: ",";\n  line-height: ",";\n  padding: "," 0 "," 0;\n  text-align: left;\n"])),q.d.FontSizeM,q.d.LineHeightNormal,q.g.PadS,q.g.PadM),pe=R.a.p.withConfig({displayName:"SettingsGeneral_DiffModalParagraph",componentId:"sc-1kxa60c"})(T||(T=Object(D.__makeTemplateObject)(["\n  margin: "," 0;\n"],["\n  margin: "," 0;\n"])),q.g.PadS),he=R()(pe).withConfig({displayName:"SettingsGeneral_DiffModalParagraphHint",componentId:"sc-1r1cu5h"})(j||(j=Object(D.__makeTemplateObject)(["\n  margin-top: ",";\n  color: ",";\n"],["\n  margin-top: ",";\n  color: ",";\n"])),q.g.PadL,q.b.TextLight),ge=R.a.div.withConfig({displayName:"SettingsGeneral_DiffModalButtons",componentId:"sc-11ih1r1"})(I||(I=Object(D.__makeTemplateObject)(["\n  display: flex;\n  justify-content: center;\n"],["\n  display: flex;\n  justify-content: center;\n"]))),fe=R()(L.a).withConfig({displayName:"SettingsGeneral_DiffModalCancelButton",componentId:"sc-vtr70y"})(N||(N=Object(D.__makeTemplateObject)(["\n  background-color: ",";\n  color: ",";\n  margin-right: ",";\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n"],["\n  background-color: ",";\n  color: ",";\n  margin-right: ",";\n\n  &:hover {\n    background: ",";\n    color: ",";\n  }\n"])),q.b.PureWhite,q.b.Gray,q.g.PadM,q.b.PureWhite,q.b.GrayDark),be=function(e){var t=e.newDiffType,n=e.isShown,i=e.onCancel,o=e.onConfirm,r=null,s=null;return"unversioned"===t?(s="Turning versioning off",r=a.createElement(me,null,a.createElement(pe,null,"If you turn off versioning, you can continue to update your dataset but only the latest data will be available for download and for use in Kernels."),a.createElement(pe,null,"Use this setting if you want to restrict access to the latest available data."),a.createElement(pe,null,"Kaggle will retain any past updates which will be visible as versions if versioning is turned on again."),a.createElement(he,null,'To confirm, click "Ok" and save your changes.'))):"versioned"===t&&(s="Turning versioning on",r=a.createElement(me,null,a.createElement(pe,null,"If you turn versioning on, all past updates of your Dataset will be accessible as versions for anyone with access to view, download, and use in Kernels."),a.createElement(pe,null,"Kernels can point to any version of this Dataset."),a.createElement(he,null,'To confirm, click "Ok" and save your changes.'))),a.createElement(B.a,{modalIsShown:n,onClose:function(){}},a.createElement(de,null,a.createElement(ue,null,s),r,a.createElement(ge,null,a.createElement(fe,{onClick:function(){return i()},text:"Cancel"}),a.createElement(L.a,{onClick:function(){return o(t)},text:"Ok"}))))}}).call(this,n(286),n(0))},2162:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return h}));var i,o=n(3),r=n(1),s=n.n(r),l=n(1732),c=n(1631),d=n(1650),u=n(1419),m=n(10),p=s.a.a.withConfig({displayName:"SettingsImages_UnsplashLink",componentId:"sc-fa0l2m"})(i||(i=Object(o.__makeTemplateObject)(["\n  ",";\n"],["\n  ",";\n"])),m.e.default),h=function(t){function n(e){var n=t.call(this,e)||this;n.onToggleImageUploader=function(){n.setState({isAddingImage:!n.state.isAddingImage})},n.uploadImageRequest=function(e,t,i){return Object(o.__awaiter)(n,void 0,void 0,(function(){var n=this;return Object(o.__generator)(this,(function(i){return[2,a.ajax({context:this,headers:Object(d.a)({}),url:e,type:"POST",dataType:"json",contentType:!1,processData:!1,data:t,success:function(e){1==e.success?n.setState({isAddingImage:!1,originalImageUrl:e.originalImageUrl||n.state.originalImageUrl,coverImageUrl:e.coverImageUrl||n.state.coverImageUrl,cardImageUrl:e.cardImageUrl||n.state.cardImageUrl,thumbnailImageUrl:e.thumbnailImageUrl||n.state.thumbnailImageUrl},(function(){n.props.onSaveSettingsImages({success:!0,originalImageUrl:e.originalImageUrl||n.state.originalImageUrl,cardImageUrl:e.cardImageUrl||n.state.cardImageUrl,coverImageUrl:e.coverImageUrl||n.state.coverImageUrl,thumbnailImageUrl:e.thumbnailImageUrl||n.state.thumbnailImageUrl,usabilityRating:e.usabilityRating}),u.a.clear(),u.a.success("Your image was uploaded successfully.")})):n.setState({isAddingImage:!1},(function(){u.a.clear(),u.a.error("Your image could not be saved.")}))},error:function(e){n.setState({isAddingImage:!1},(function(){u.a.clear(),u.a.error("There was a problem with your image upload.")}))}})]}))}))},n.buildImageRects=function(e,t){e.append("datasetId",n.props.datasetId.toString());var a=t[0];e.append("coverImageLeft",a.left.toString()),e.append("coverImageTop",a.top.toString()),e.append("coverImageWidth",a.width.toString()),e.append("coverImageHeight",a.height.toString());var i=t[1];return e.append("cardImageLeft",i.left.toString()),e.append("cardImageTop",i.top.toString()),e.append("cardImageWidth",i.width.toString()),e.append("cardImageHeight",i.height.toString()),e.append("originalImageUrl",n.state.originalImageUrl.split("?")[0]),e},n.onUploadDatasetImage=function(e,t){return n.uploadImageRequest(n.uploadImageUrl,n.buildImageRects(e,t))},n.uploadImageUrl=n.props.datasetUrl+"/edit/images";var i=Object(o.__assign)(Object(o.__assign)({},e),{isAddingImage:!1,onToggleImageUploader:n.onToggleImageUploader,onUploadDatasetImage:n.onUploadDatasetImage});return n.state=i,n}return Object(o.__extends)(n,t),n.prototype.renderHeaderImageUploader=function(){var t=this;return e.createElement(c.a,{modalContent:e.createElement(l.b,{title:"Upload a Dataset Image",imageSettings:[new l.a("cover image","Select an area of the image to use as the cover image for this dataset’s homepage",new l.e(950,200),new l.d(new l.c(this.state.coverImageLeft,this.state.coverImageTop),new l.e(this.state.coverImageWidth,this.state.coverImageHeight))),new l.a("thumbnail","Select an area of the image to use as a thumbnail on the overall Dataset listing page",new l.e(200,200),new l.d(new l.c(this.state.cardImageLeft,this.state.cardImageTop),new l.e(this.state.cardImageWidth,this.state.cardImageHeight)))],originalImageUrl:this.state.originalImageUrl,containerSize:new l.e(500,300),selectorBorderWidth:1,onCancel:function(){return t.onToggleImageUploader()},onUpdateImages:this.state.onUploadDatasetImage,hiResScale:2,step1Html:"Upload an image by clicking the button below. If you need inspiration, <a href='http://www.unsplash.com' target='_blank'>unsplash.com</a> has a great library of public domain images. Or you can use the random image below."}),modalIsShown:this.state.isAddingImage,onShow:null,onClose:function(){return t.onToggleImageUploader()}})},n.prototype.render=function(){var t=this;return e.createElement("div",{className:"dataset-settings__section"},e.createElement("div",{className:"dataset-settings__field-group dataset-settings__field-group--images"},e.createElement("div",{className:"dataset-settings__field-control-row"},e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement("div",{className:"dataset-settings__image-item"},e.createElement("div",{className:"dataset-settings__preview-image-container"},e.createElement("img",{src:this.state.originalImageUrl,alt:"Banner Image",className:"dataset-settings__preview-image dataset-settings__preview-image--header",onClick:function(){return t.onToggleImageUploader()}}),e.createElement("div",{className:"dataset-settings__preview-image dataset-settings__preview-image--description"},"We suggest you upload a relevant or eye-catching image to make your dataset stand out. You can find great free, high-resolution images in"," ",e.createElement(p,{href:"http://www.unsplash.com",target:"_blank",rel:"noopener noreferrer"},"unsplash.com's")," ","public domain library.")),e.createElement("a",{onClick:function(){return t.onToggleImageUploader()},className:"dataset-settings__text-link dataset-settings__preview-image-link"},e.createElement("span",{className:"fa fa-camera"}),e.createElement("br",null),"Upload Banner Image",e.createElement("br",null),e.createElement("span",{className:"dataset-settings__preview-image-link__subtitle"},"(1900x400)")))))),this.renderHeaderImageUploader())},n}(e.Component)}).call(this,n(0),n(129))},2163:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return l}));var i=n(3),o=n(1419),r=n(1968),s=n(2355),l=function(t){function n(e){var n=t.call(this,e)||this;return n.onSaveCollaborators=function(e){return Object(i.__awaiter)(n,void 0,void 0,(function(){var t,n,r,s;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return t=this.props,n=t.owner,r=t.slug,s=t.onUpdateCollaborators,[4,a.Datasets.editDatasetCollaborators({ownerSlug:n.slug,datasetSlug:r},{collaborators:e})];case 1:return"ok"==i.sent().status?(o.a.clear(),o.a.success("Successfully updated the sharing settings."),s(e),[2,e]):(o.a.clear(),o.a.error({dangerousHtmlMessage:'There was a problem processing your request. If you keep having problems, please <a href="mailto: support@kaggle.com">contact support</a> and we\'ll get you squared away.'}),[2,null])}}))}))},n}return Object(i.__extends)(n,t),n.prototype.render=function(){var t=this,n=this.props,a=n.canPerformOwnerTasks,o=n.canSeeDatasetHashLink,l=n.collaborators,c=n.datasetId,d=n.isPrivate,u=n.hashLink,m=n.onUpdateHashLink,p=n.setConfirmPrivacyVisible;return e.createElement("div",{className:"dataset-settings__container"},e.createElement("div",{className:"dataset-settings__field-group"},e.createElement("div",{className:"dataset-settings__field-label"},"Privacy"),e.createElement("div",{className:"dataset-settings__field-control-column"},d?e.createElement("span",{className:"dataset-settings__privacy"},e.createElement("span",{className:"dataset-settings__privacy-icon fa fa-eye-slash"}),"Private",a&&e.createElement("a",{className:"dataset-settings__privacy-button",onClick:function(){return p(!0)}},"Make Public")):e.createElement("span",{className:"dataset-settings__privacy"},e.createElement("span",{className:"dataset-settings__privacy-icon fa fa-eye"}),"Public"),e.createElement("div",{className:"dataset-settings__privacy-description"},d&&"Only you and your collaborators can see and write kernels on this dataset.",!d&&"Anyone can see and write kernels on this dataset."),o&&e.createElement(s.b,{datasetId:c,hashLink:u,isPrivate:d,onUpdateHashLink:m}))),e.createElement("div",{className:"dataset-settings__field-group"},e.createElement("div",{className:"dataset-settings__field-label"},"Collaborators"),e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement(r.a,Object(i.__assign)({},l,{canEdit:a,canRemoveSelf:!0,allowReaders:d,allowWriters:!0,onSave:function(e){return t.onSaveCollaborators(e)}})))))},n}(e.Component)}).call(this,n(0),n(286))},2164:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(382),i=n(0);n(576),n(1444);const o=e=>{const{action:t,dismissable:n,dismissesOnAction:o,message:r,onClose:s,onOpen:l,open:c,timeout:d}=e;return i.createElement(a.a,{action:t,dismissesOnAction:o||!0,dismissIcon:n&&"close",leading:!1,message:r,onClose:s,onOpen:l,open:c,timeout:d})}},2165:function(e,t,n){"use strict";(function(e,a){n.d(t,"a",(function(){return p}));var i=n(3),o=n(22),r=n(45),s=n(1626),l=n(1635),c=n(1655),d=n(1718),u=n(1911),m=n(1912),p=function(t){function n(n){var o=t.call(this,n)||this;o.onSlugKeyPress=function(e){String.fromCharCode(e.which).match(/[^A-Za-z0-9-]+/g)&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())},o.onSlugChanged=function(e){o.setState({slug:e},(function(){return o.validate()}))},o.onIsFeaturedChanged=function(e){o.setState({isFeatured:e},(function(){return o.validate()}))},o.onIsSuperFeaturedChanged=function(e){o.setState({isSuperFeatured:e},(function(){return o.validate()}))},o.onScheduledFeatureChange=function(e){o.setState({scheduledToBeFeatured:e})},o.onScheduledUnFeatureChange=function(e){o.setState({scheduledToBeUnFeatured:e})},o.onScheduledSuperFeatureChange=function(e){o.setState({scheduledToBeSuperFeatured:e})},o.onScheduledUnSuperFeatureChange=function(e){o.setState({scheduledToBeUnSuperFeatured:e})},o.onIsRemovedChanged=function(e){o.setState({isRemoved:e},(function(){return o.validate()}))},o.onMaintainerChanged=function(e){if(e){var t=o.state.maintainerOrganizationResults.find((function(t){return t.id==e}));t&&o.setState({maintainerOrganization:{id:t.id,name:t.label,slug:t.slug,imageUrl:t.thumbnailUrl,isOrganization:!0}},(function(){return o.validate()}))}},o.onSave=function(){o.setState({isSaving:!0},(function(){var e={slug:o.state.slug,isFeatured:o.state.isFeatured,isSuperFeatured:o.state.isSuperFeatured,isRemoved:o.state.isRemoved,scheduledToBeFeatured:o.state.scheduledToBeFeatured,scheduledToBeUnFeatured:o.state.scheduledToBeUnFeatured,scheduledToBeSuperFeatured:o.state.scheduledToBeSuperFeatured,scheduledToBeUnSuperFeatured:o.state.scheduledToBeUnSuperFeatured,maintainerOrganization:o.state.maintainerOrganization};o.props.onSaveSettingsPower(e,o.onSaveFinished)}))},o.onSaveFinished=function(e){o.setState({isSaving:!1},(function(){e.datasetUrl&&window.location.assign(e.datasetUrl)}))},o.validate=function(){var e=[],t=!1;o.state.slug&&0!=o.state.slug.trim().length?o.state.slug&&(o.state.slug.trim().length<3||o.state.slug.trim().length>50)&&(t=!0,e.push({type:"error",id:"dataset-slug-length",message:"The URL must be between 3 and 50 characters in length."})):(t=!0,e.push({type:"error",id:"dataset-no-slug",message:"Please enter a URL for your dataset."}));var n=!t;o.setState({errorMessages:e,slugError:t,canSave:n})},o.loadMaintainers=function(e){return!e||e.length<3?Promise.resolve({options:[]}):a.Users.getOrganizations({filter:e}).then((function(e){var t=[];return e.map((function(e,n){t.push({label:e.name,value:e.id,isOrganization:!0,thumbnailUrl:e.thumbnailImageUrl,id:e.id,slug:e.name})})),o.setState({maintainerOrganizationResults:t}),{options:t}}))},o.renderMaintainer=function(t){return e.createElement("div",{className:"dataset-uploader__general-owner-option"},t.thumbnailUrl&&e.createElement("img",{className:"dataset-uploader__general-owner-option-thumbnail",src:t.thumbnailUrl,alt:t.label+" thumbnail"}),e.createElement("p",null,t.label))},o.renderMaintainerSelect=function(){return e.createElement(c.b,{disabled:o.state.isSaving,className:"dataset-uploader__general-owner",loadOptions:o.loadMaintainers,placeholder:"Search Organizations...",value:o.state.maintainerOrganization&&o.state.maintainerOrganization.id?o.state.maintainerOrganization.id:0,optionRenderer:o.renderMaintainer,valueRenderer:o.renderMaintainer,onChange:function(e){return o.onMaintainerChanged(e)}})};var r=Object(i.__assign)(Object(i.__assign)({},n),{errorMessages:[],slugError:!1,canSave:!0,isSaving:!1,isInferingMetadata:!1,maintainerOrganizationResults:[]});return o.state=r,o}return Object(i.__extends)(n,t),n.prototype.render=function(){var t=this;return e.createElement("div",{className:"dataset-settings__container"},e.createElement("div",{className:"dataset-settings__field-group"},e.createElement("label",{className:"dataset-settings__field-label"},e.createElement("span",{className:"fa fa-lock",title:"Admin setting"})," URL Slug"),e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement("input",{disabled:this.state.isSaving,className:o("dataset-settings__field-control-input",{"dataset-settings__field-control-error":this.state.slugError}),onChange:function(e){return t.onSlugChanged(e.target.value)},onKeyPress:this.onSlugKeyPress,value:this.state.slug}))),e.createElement("div",{className:"dataset-settings__field-group"},e.createElement("label",{className:"dataset-settings__field-label"},e.createElement("span",{className:"fa fa-lock",title:"Admin setting"})," Maintainer Org"),e.createElement("div",{className:"dataset-settings__field-control-column"},this.state.maintainerOrganization&&e.createElement("div",{className:"dataset-settings__field-maintainer-org"},e.createElement(u.a,{name:this.state.maintainerOrganization.name,action:Object(m.a)(this.state.maintainerOrganization.id),appearance:"default"})),this.renderMaintainerSelect())),e.createElement("div",{className:"dataset-settings__field-group"},e.createElement("h2",{className:"dataset-settings__field-label"},e.createElement("span",{className:"fa fa-lock",title:"Admin setting"})," Reviewed?"),e.createElement("div",{className:"dataset-settings__field-control-column dataset-settings__multi-column"},e.createElement("div",{className:"dataset-settings__field-checkbox"},e.createElement(s.a,{label:"Dataset is reviewed",checked:this.state.isFeatured,disabled:this.state.isSaving,onChange:function(e){return t.onIsFeaturedChanged(e.target.checked)}})),this.state.isFeatured?e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement("div",{className:"dataset-settings__field-control-inline",style:{maxWidth:"264px"}},e.createElement(d.a,{className:"dataset-settings__feature-picker",isValidDate:function(e){return e.isAfter(r.utc().subtract(1,"day"))},value:this.state.scheduledToBeUnFeatured?r(this.state.scheduledToBeUnFeatured).toDate():null,dateFormat:"MMMM Do YYYY",timeFormat:"HH:mm",disableOnClickOutside:!0,utc:!0,onChange:function(e){return t.onScheduledUnFeatureChange(r(e).toDate())}})," ",e.createElement("span",{className:"fa fa-times dataset-home__section-feature-icon",onClick:function(){return t.onScheduledUnFeatureChange(null)}})),e.createElement("div",{className:"dataset-settings__field-note"},"scheduled to be"," ",e.createElement("span",{className:"dataset-settings__unfeature"},"un-reviewed")," ","(time is UTC)")):e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement("div",{className:"dataset-settings__field-control-inline",style:{maxWidth:"264px"}},e.createElement(d.a,{className:"dataset-settings__feature-picker",isValidDate:function(e){return e.isAfter(r.utc().subtract(1,"day"))},value:this.state.scheduledToBeFeatured?r(this.state.scheduledToBeFeatured).toDate():null,dateFormat:"MMMM Do YYYY",timeFormat:"HH:mm",disableOnClickOutside:!0,utc:!0,onChange:function(e){return t.onScheduledFeatureChange(r(e).toDate())}})," ",e.createElement("span",{className:"fa fa-times dataset-home__section-feature-icon",onClick:function(){return t.onScheduledFeatureChange(null)}})),e.createElement("div",{className:"dataset-settings__field-note"},"scheduled to be"," ",e.createElement("span",{className:"dataset-settings__feature"},"featured")," ","(time is UTC)")))),e.createElement("div",{className:"dataset-settings__field-group"},e.createElement("h2",{className:"dataset-settings__field-label"},e.createElement("span",{className:"fa fa-lock",title:"Admin setting"})," Featured?"),e.createElement("div",{className:"dataset-settings__field-control-column dataset-settings__multi-column"},e.createElement("div",{className:"dataset-settings__field-checkbox"},e.createElement(s.a,{label:"Dataset is featured",checked:this.state.isSuperFeatured,disabled:this.state.isSaving,onChange:function(e){return t.onIsSuperFeaturedChanged(e.target.checked)}})),this.state.isSuperFeatured?e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement("div",{className:"dataset-settings__field-control-inline",style:{maxWidth:"264px"}},e.createElement(d.a,{className:"dataset-settings__feature-picker",isValidDate:function(e){return e.isAfter(r.utc().subtract(1,"day"))},value:this.state.scheduledToBeUnSuperFeatured?r(this.state.scheduledToBeUnSuperFeatured).toDate():null,dateFormat:"MMMM Do YYYY",timeFormat:"HH:mm",disableOnClickOutside:!0,utc:!0,onChange:function(e){return t.onScheduledUnSuperFeatureChange(r(e).toDate())}})," ",e.createElement("span",{className:"fa fa-times dataset-home__section-feature-icon",onClick:function(){return t.onScheduledUnSuperFeatureChange(null)}})),e.createElement("div",{className:"dataset-settings__field-note"},"scheduled to be"," ",e.createElement("span",{className:"dataset-settings__unfeature"},"un-featured")," ","(time is UTC)")):e.createElement("div",{className:"dataset-settings__field-control-column"},e.createElement("div",{className:"dataset-settings__field-control-inline",style:{maxWidth:"264px"}},e.createElement(d.a,{className:"dataset-settings__feature-picker",isValidDate:function(e){return e.isAfter(r.utc().subtract(1,"day"))},value:this.state.scheduledToBeSuperFeatured?r(this.state.scheduledToBeSuperFeatured).toDate():null,dateFormat:"MMMM Do YYYY",timeFormat:"HH:mm",disableOnClickOutside:!0,utc:!0,onChange:function(e){return t.onScheduledSuperFeatureChange(r(e).toDate())}})," ",e.createElement("span",{className:"fa fa-times dataset-home__section-feature-icon",onClick:function(){return t.onScheduledSuperFeatureChange(null)}})),e.createElement("div",{className:"dataset-settings__field-note"},"scheduled to be"," ",e.createElement("span",{className:"dataset-settings__feature"},"super-featured")," ","(time is UTC)")))),e.createElement("div",{className:"dataset-settings__error-wrapper"},this.state.errorMessages.map((function(t,n){return e.createElement("div",{key:n,className:"dataset-settings__error"},t.message)}))),e.createElement("div",{className:"dataset-settings__save-button-wrapper"},e.createElement("div",{className:"dataset-settings__save-button"},e.createElement(l.a,{isDisabled:!this.state.canSave||this.state.isSaving,onClick:function(e){return t.onSave()},text:"Save Changes"}),this.state.isSaving&&e.createElement("div",{className:"dataset-settings__save-spinner"},e.createElement("span",{className:"fa fa-spin fa-circle-o-notch"})))))},n}(e.Component)}).call(this,n(0),n(286))},2166:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return D}));var a,i,o=n(3),r=n(1926),s=n(2378),l=n(1670),c=n(1768),d=n(107),u=n(8),m=n(1),p=n.n(m),h=n(1967),g=n(1631),f=n(1644),b=n(386),v=n(10),y=n(2172),w=n(2186),E=n(2189),x=n(2040),C=n(2167),k=n(2157),_=n(2188),S=n(2027),O=n(1654),T=n(1651),j=n(1819),I=p.a.button.withConfig({displayName:"Dataset_CloseButton",componentId:"sc-88ueal"})(a||(a=Object(o.__makeTemplateObject)(["\n  position: absolute;\n  top: ",";\n  right: ",";\n  padding: "," ",";\n  border: none;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n  z-index: 2;\n\n  &:hover {\n    color: ",";\n  }\n"],["\n  position: absolute;\n  top: ",";\n  right: ",";\n  padding: "," ",";\n  border: none;\n  border-radius: ",";\n  background-color: ",";\n  color: ",";\n  cursor: ",";\n  z-index: 2;\n\n  &:hover {\n    color: ",";\n  }\n"])),v.g.PadS,v.g.PadS,v.g.PadXs,v.g.PadS,v.g.BorderRadius,v.b.ContentBorderLight,v.b.TextLight,(function(e){return e.disabled?"default":"pointer"}),(function(e){return e.disabled?v.b.TextLight:v.b.TextMedium})),N=p.a.div.withConfig({displayName:"Dataset_Wrapper",componentId:"sc-isllmh"})(i||(i=Object(o.__makeTemplateObject)(["\n  box-sizing: border-box;\n  ",";\n  margin: "," 0;\n  max-width: 1246px;\n\n  .kernels-listing__wrapper {\n    max-width: unset !important;\n  }\n"],["\n  box-sizing: border-box;\n  ",";\n  margin: "," 0;\n  max-width: 1246px;\n\n  .kernels-listing__wrapper {\n    max-width: unset !important;\n  }\n"])),d.p,(function(e){return e.theme.material.spacing(8)})),D=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderPrivacyConfirm=function(){var t=n.props,a=t.isConfirmPrivacyVisible,i=t.onMakeDatasetPublic,o=t.setConfirmPrivacyVisible;return e.createElement(f.a,{isShown:a,title:"Ready To Go Public?",confirmText:"Make Dataset Public",cancelText:"Cancel",isDangerousAction:!1,onConfirm:function(){return i()},onCancel:function(){return o(!1)}},e.createElement("span",null,"Public datasets enjoy the engagement from the entire Kaggle community. They cannot be changed back to private, but may be deleted."))},n.renderVersionModal=function(){var t=n.props,a=t.versionHistory,i=t.diffType,r=t.hideVersionStatuses,s=(t.canEdit,t.showHistoryModal),l=t.onLoadHistory,c=t.onShowHistoryModal;return"unversioned"!==i&&a?e.createElement(g.a,{modalIsShown:s,onClose:function(){return c(!1)},modalContentStyle:{width:"900px",position:"relative"}},e.createElement(e.Fragment,null,e.createElement(I,{onClick:function(){return c(!1)}},e.createElement(b.b,{name:"times"})),e.createElement(C.a,Object(o.__assign)({},a,{diffType:i,showStatus:!r,scrollable:!0,onLoadHistory:l})))):null},n}return Object(o.__extends)(n,t),n.prototype.render=function(){var t=this,n=this.props,a=n.currentTab,i=n.isRemoved,d=n.datasetVersionId,m=n.activityState,p=e.createElement(k.b,Object(o.__assign)({},this.props,{ref:this.props.setDataTabRef})),g=!this.props.isPrivate||this.props.canEdit||this.props.isCollaborator;switch(a){case"activity":i||(p=e.createElement(y.a,{state:m},e.createElement(w.a,{currentTab:a,datasetUrl:this.props.datasetUrl,feed:this.props.feed})));break;case"kernels":case"notebooks":g&&(p=e.createElement(_.a,{datasetId:this.props.datasetId,currentTab:this.props.currentTab,datasetVersionId:d,isPrivate:this.props.isPrivate}));break;case"discussion":g&&(p=e.createElement(E.a,Object(o.__assign)({},this.props)));break;case"data":p=e.createElement(k.b,Object(o.__assign)({},this.props,{ref:this.props.setDataTabRef}));break;case"tasks":var f=new URLSearchParams(location.search),b=!0===f.has("taskId")?parseInt(f.get("taskId")):void 0;p=e.createElement(r.a,{dataset:{datasetId:this.props.datasetId,datasetVersionId:this.props.datasetVersionId,canCreateTask:this.props.canCreateDatasetTasks},user:Object(j.a)(),taskId:b,key:this.props.taskListKey,onChangeTaskCount:this.props.onChangeTaskCount});break;case"settings":!i&&this.props.canEdit&&(p=e.createElement(S.a,Object(o.__assign)({},this.props,{initialSubtab:this.props.settingsSubTab})));break;case"metadata":i||(p=e.createElement(u.ClientsContext.Consumer,null,(function(n){return e.createElement(s.a,{bothClients:n,canEditDataset:t.props.canEdit,datasetId:t.props.datasetId,datasetVersionId:t.props.datasetVersionId,datasetHashLink:null===t.props.datasetHashLink?void 0:t.props.datasetHashLink,onChangeToSettingsGeneralTab:function(){return t.props.onNavigateToSettingsClick(S.b.General)},onChangeToSettingsSharingTab:function(){return t.props.onNavigateToSettingsClick(S.b.Sharing)},onShowPageMessage:t.props.onShowPageMessage,onSave:t.props.onSaveMetadata})})))}return e.createElement(l.a.Provider,{value:function(t){return e.createElement(O.a,{value:t})}},e.createElement(c.a.Provider,{value:function(t,n,a){return e.createElement(T.a,{value:t,onChange:n,editorMaxHeight:a})}},e.createElement(N,null,e.createElement(x.a,Object(o.__assign)({},this.props,{ref:this.props.setHeaderRef})),p,e.createElement(h.a,{ref:this.props.setNewKernelModalRef,datasetVersionId:d}),this.renderPrivacyConfirm(),this.renderVersionModal())))},n}(e.Component)}).call(this,n(0))},2167:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(3),i=n(2168),o=function(t){function n(e){var n=t.call(this,e)||this;return n.onToggleExpandItem=function(e){n.setState((function(t){return{expandedItems:t.expandedItems.map((function(t,n){return e===n?!t:t}))}}))},n.state={expandedItems:e.items.map((function(e){return!1}))},n}return Object(a.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){this.state={expandedItems:e.items.map((function(e){return!1}))}},n.prototype.render=function(){return e.createElement(i.a,Object(a.__assign)({},this.props,this.state,{onToggleExpandItem:this.onToggleExpandItem}))},n}(e.Component)}).call(this,n(0))},2168:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var a,i,o,r,s,l=n(3),c=n(1636),d=n(2169),u=n(10),m=n(386),p=n(1),h=n.n(p),g=h()(c.b).withConfig({displayName:"HistoryTable_StyledContentBox",componentId:"sc-148531i"})(a||(a=Object(l.__makeTemplateObject)(["\n  margin: 0 0;\n"],["\n  margin: 0 0;\n"]))),f=h.a.div.withConfig({displayName:"HistoryTable_Wrapper",componentId:"sc-a92bjq"})(i||(i=Object(l.__makeTemplateObject)(["\n  max-height: ",";\n  overflow-y: ",";\n"],["\n  max-height: ",";\n  overflow-y: ",";\n"])),(function(e){return e.scrollable?"400px":"unset"}),(function(e){return e.scrollable?"auto":"unset"})),b=h.a.div.withConfig({displayName:"HistoryTable_More",componentId:"sc-9jx84e"})(o||(o=Object(l.__makeTemplateObject)(["\n  ",";\n  background: ",";\n  border-top: 1px solid ",";\n  box-sizing: border-box;\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  flex-flow: row nowrap;\n  height: auto;\n  justify-content: space-between;\n  margin-top: ",";\n  padding: "," ",";\n  position: relative;\n  text-align: left;\n  word-wrap: break-word;\n  width: 100%;\n"],["\n  ",";\n  background: ",";\n  border-top: 1px solid ",";\n  box-sizing: border-box;\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n  flex-flow: row nowrap;\n  height: auto;\n  justify-content: space-between;\n  margin-top: ",";\n  padding: "," ",";\n  position: relative;\n  text-align: left;\n  word-wrap: break-word;\n  width: 100%;\n"])),u.c.Inter,u.b.ContentHeaderBackground,u.b.ContentBorder,u.b.TextMedium,u.d.FontSizeM,u.d.FontWeightNormal,u.g.PadS,u.g.PadM,u.g.PadL),v=h.a.span.withConfig({displayName:"HistoryTable_LoadMore",componentId:"sc-11wdhip"})(r||(r=Object(l.__makeTemplateObject)(["\n  cursor: pointer;\n  margin-left: ",";\n  color: ",";\n  font-weight: ",";\n"],["\n  cursor: pointer;\n  margin-left: ",";\n  color: ",";\n  font-weight: ",";\n"])),u.g.PadM,u.b.TextLink,u.d.FontWeightMedium),y=h()(m.b).withConfig({displayName:"HistoryTable_LoadIcon",componentId:"sc-cmcemk"})(s||(s=Object(l.__makeTemplateObject)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),u.g.PadS),w=function(t){var n=t.items,a=t.totalItems,i=t.expandedItems,o=t.diffType,r=t.showStatus,s=t.scrollable,l=t.onToggleExpandItem,c=t.onLoadHistory,u=n&&n.length!=a&&c;return e.createElement(g,{title:"History"},e.createElement(f,{scrollable:s},n.map((function(t,n){return e.createElement(d.a,{item:t,isExpanded:i[n],isFirst:0==n,diffType:o,showStatus:r,key:"history-"+n,onToggleExpand:function(){return l(n)}})})),u&&e.createElement(b,null,"Showing the last ",n.length," of ",a," items.",e.createElement(v,{onClick:function(){return c(a)}},e.createElement(y,{name:"plus-square"}),"Load All"))))}}).call(this,n(0))},2169:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ve}));var a=n(3),i=n(1413),o=n(1657),r=n(575),s=n(1667),l=n(2171),c=n(2170),d=n(10),u=n(386),m=n(2062),p=n(1),h=n.n(p),g=h.a.div.withConfig({displayName:"HistoryTableItem_Item",componentId:"sc-1x92fbd"})(y||(y=Object(a.__makeTemplateObject)(["\n    ","\n    font-size: ",";\n    line-height: ",";\n    color: ",";\n    cursor: pointer;\n    padding: 0 ",";\n\n    &:hover {\n        background: ",";\n    }\n\n    ","\n    ","\n"],["\n    ","\n    font-size: ",";\n    line-height: ",";\n    color: ",";\n    cursor: pointer;\n    padding: 0 ",";\n\n    &:hover {\n        background: ",";\n    }\n\n    ","\n    ","\n"])),d.c.Inter,d.d.FontSizeM,d.d.LineHeightNormal,d.b.TextMedium,d.g.PadM,d.b.HoverLight,d.f.tablet(b||(b=Object(a.__makeTemplateObject)(["\n        padding: 0;\n    "],["\n        padding: 0;\n    "]))),d.f.mobile(v||(v=Object(a.__makeTemplateObject)(["\n        padding: 0;\n    "],["\n        padding: 0;\n    "]))));function f(t){return t.isFirst?e.createElement(J,null,t.children):e.createElement(X,null,t.children)}var b,v,y,w,E,x,C,k,_,S,O,T,j,I,N,D,$,M,U,P,F,R,z,L,A,V,B,K,H,q,W,G,Q,Y,X=h.a.div.withConfig({displayName:"HistoryTableItem_ItemInnerNormal",componentId:"sc-ak3wzd"})(w||(w=Object(a.__makeTemplateObject)(["\n  border-top: 1px solid ",";\n"],["\n  border-top: 1px solid ",";\n"])),d.b.ContentBorderLight),J=h.a.div.withConfig({displayName:"HistoryTableItem_ItemInnerFirst",componentId:"sc-13j5lvr"})(E||(E=Object(a.__makeTemplateObject)(["\n  border-top: 0;\n"],["\n  border-top: 0;\n"]))),Z=h.a.div.withConfig({displayName:"HistoryTableItem_Main",componentId:"sc-1jr6ya5"})(x||(x=Object(a.__makeTemplateObject)(["\n  display: flex;\n  align-items: center;\n  padding: "," 0;\n"],["\n  display: flex;\n  align-items: center;\n  padding: "," 0;\n"])),d.g.PadS),ee=h()(Z).withConfig({displayName:"HistoryTableItem_Change",componentId:"sc-1d2tv23"})(C||(C=Object(a.__makeTemplateObject)(["\n  color: ",";\n  padding: "," 0;\n\n  &:first-child {\n    padding: 0 0 "," 0;\n  }\n"],["\n  color: ",";\n  padding: "," 0;\n\n  &:first-child {\n    padding: 0 0 "," 0;\n  }\n"])),d.b.TextLight,d.g.PadXs,d.g.PadS),te=h.a.div.withConfig({displayName:"HistoryTableItem_UserColumn",componentId:"sc-1p3cne8"})(S||(S=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  width: 32px;\n\n  .tooltip-container {\n    line-height: 1;\n  }\n\n  ","\n  ","\n"],["\n  flex: 0 0 auto;\n  width: 32px;\n\n  .tooltip-container {\n    line-height: 1;\n  }\n\n  ","\n  ","\n"])),d.f.tablet(k||(k=Object(a.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "]))),d.f.mobile(_||(_=Object(a.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "])))),ne=h.a.div.withConfig({displayName:"HistoryTableItem_TypeColumn",componentId:"sc-1ph4nmq"})(O||(O=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  width: 112px;\n  margin-right: ",";\n  text-align: right;\n"],["\n  flex: 0 0 auto;\n  width: 112px;\n  margin-right: ",";\n  text-align: right;\n"])),d.g.PadM),ae=h.a.div.withConfig({displayName:"HistoryTableItem_DescriptionColumn",componentId:"sc-19zf5om"})(T||(T=Object(a.__makeTemplateObject)(["\n  flex: 1 1 auto;\n  display: flex;\n  align-items: center;\n  margin-right: ",";\n"],["\n  flex: 1 1 auto;\n  display: flex;\n  align-items: center;\n  margin-right: ",";\n"])),d.g.PadS),ie=h.a.div.withConfig({displayName:"HistoryTableItem_DescriptionText",componentId:"sc-1lwuwpj"})(j||(j=Object(a.__makeTemplateObject)(["\n  flex: 1 1 auto;\n  align-items: center;\n  display: flex;\n"],["\n  flex: 1 1 auto;\n  align-items: center;\n  display: flex;\n"]))),oe=h.a.div.withConfig({displayName:"HistoryTableItem_DescriptionVersionNotes",componentId:"sc-7gduxp"})(I||(I=Object(a.__makeTemplateObject)(["\n  flex: 1 1 auto;\n"],["\n  flex: 1 1 auto;\n"]))),re=h()(ie).withConfig({displayName:"HistoryTableItem_DescriptionChangeSummary",componentId:"sc-gcczv1"})(N||(N=Object(a.__makeTemplateObject)(["\n  display: inline;\n  overflow-wrap: break-word;\n  word-break: break-word;\n"],["\n  display: inline;\n  overflow-wrap: break-word;\n  word-break: break-word;\n"]))),se=(h()(u.b).withConfig({displayName:"HistoryTableItem_DescriptionEditIcon",componentId:"sc-kgojrk"})(D||(D=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n  visibility: hidden;\n\n  ",":hover & {\n    visibility: visible;\n  }\n"],["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n  visibility: hidden;\n\n  ",":hover & {\n    visibility: visible;\n  }\n"])),d.b.TextLight,d.g.PadS,ie),h()(u.b).withConfig({displayName:"HistoryTableItem_DescriptionSaveIcon",componentId:"sc-17pvz2s"})($||($=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n"],["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n"])),d.b.TextLink,d.g.PadS),h()(u.b).withConfig({displayName:"HistoryTableItem_DescriptionOkIcon",componentId:"sc-mwzpn5"})(M||(M=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n"],["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n"])),d.b.KaggleGreen,d.g.PadS),h()(u.b).withConfig({displayName:"HistoryTableItem_DescriptionErrorIcon",componentId:"sc-4c7q2a"})(U||(U=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n"],["\n  flex: 0 0 auto;\n  color: ",";\n  margin: 0 ",";\n"])),d.b.KaggleRed,d.g.PadS),h.a.div.withConfig({displayName:"HistoryTableItem_DescriptionSummary",componentId:"sc-1a9ageo"})(R||(R=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n\n  ","\n  ","\n"],["\n  flex: 0 0 auto;\n\n  ","\n  ","\n"])),d.f.tablet(P||(P=Object(a.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "]))),d.f.mobile(F||(F=Object(a.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "]))))),le=h.a.div.withConfig({displayName:"HistoryTableItem_DateColumn",componentId:"sc-t8a9ek"})(A||(A=Object(a.__makeTemplateObject)(["\n  flex: 0 0 auto;\n  color: ",";\n  text-align: left;\n  width: 124px;\n\n  ","\n  ","\n"],["\n  flex: 0 0 auto;\n  color: ",";\n  text-align: left;\n  width: 124px;\n\n  ","\n  ","\n"])),d.b.TextLight,d.f.tablet(z||(z=Object(a.__makeTemplateObject)(["\n        padding-right: ",";\n    "],["\n        padding-right: ",";\n    "])),d.g.PadS),d.f.mobile(L||(L=Object(a.__makeTemplateObject)(["\n        display: none;\n    "],["\n        display: none;\n    "])))),ce=h.a.a.withConfig({displayName:"HistoryTableItem_VersionNumberLink",componentId:"sc-83rb3w"})(V||(V=Object(a.__makeTemplateObject)(["\n    ","\n    margin-right: ",";\n"],["\n    ","\n    margin-right: ",";\n"])),d.e.default,d.g.PadS),de=h.a.span.withConfig({displayName:"HistoryTableItem_VersionNumberNoLink",componentId:"sc-1dvmg7p"})(B||(B=Object(a.__makeTemplateObject)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),d.g.PadS),ue=h.a.span.withConfig({displayName:"HistoryTableItem_Entity",componentId:"sc-1mx5lfk"})(K||(K=Object(a.__makeTemplateObject)(["\n  font-weight: ",";\n"],["\n  font-weight: ",";\n"])),d.d.FontWeightMedium),me=h.a.span.withConfig({displayName:"HistoryTableItem_ChangedEntity",componentId:"sc-ewedzd"})(H||(H=Object(a.__makeTemplateObject)(["\n  margin-right: ",";\n"],["\n  margin-right: ",";\n"])),d.g.PadXs),pe=h.a.span.withConfig({displayName:"HistoryTableItem_Description",componentId:"sc-ogzjhz"})(q||(q=Object(a.__makeTemplateObject)(["\n  display: inline;\n  overflow-wrap: break-word;\n  word-break: break-word;\n"],["\n  display: inline;\n  overflow-wrap: break-word;\n  word-break: break-word;\n"]))),he=h()(u.b).withConfig({displayName:"HistoryTableItem_StatusIconGreen",componentId:"sc-yiewk6"})(W||(W=Object(a.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),d.b.KaggleGreen,d.g.PadXs),ge=h()(u.b).withConfig({displayName:"HistoryTableItem_StatusIconRed",componentId:"sc-1nfic0o"})(G||(G=Object(a.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),d.b.KaggleRed,d.g.PadXs),fe=h()(u.b).withConfig({displayName:"HistoryTableItem_StatusIconBlue",componentId:"sc-mmclw"})(Q||(Q=Object(a.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),d.b.TextLink,d.g.PadXs),be=h.a.div.withConfig({displayName:"HistoryTableItem_ExpandMore",componentId:"sc-3pj73j"})(Y||(Y=Object(a.__makeTemplateObject)(["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  color: ",";\n  padding: "," ",";\n  line-height: 1;\n"],["\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  color: ",";\n  padding: "," ",";\n  line-height: 1;\n"])),d.b.PureWhite,d.b.ContentBorderLight,d.g.BorderRadius,d.b.TextLight,d.g.PadS,d.g.PadM),ve=function(t){function n(n){var d=t.call(this,n)||this;return d.getDescriptionChange=function(t){var n=null,a=Object(m.a)(t),i=Object(m.b)(t.path,0);switch(t.level){case"column":var o=Object(m.b)(t.path,1);n=o?e.createElement(pe,null,"In ",e.createElement(ue,null,o),": Column"," ",e.createElement(ue,null,i)," ",a):e.createElement(pe,null,"Column ",e.createElement(ue,null,i)," ",a);break;case"file":n=e.createElement(pe,null,e.createElement(ue,null,i)," ",a);break;case"dataset":n=e.createElement(pe,null,"Dataset ",e.createElement(ue,null,i)," ",a);break;case"table":n=e.createElement(pe,null,"Table ",e.createElement(ue,null,i)," ",a)}return n},d.onShowExpandMore=function(e){e.stopPropagation&&e.stopPropagation(),d.setState({isMoreExpanded:!0})},d.renderMain=function(){var e=d.props,t=e.item,n=e.diffType,a="newVersion"==t.type||"create"==t.type;return"newVersion"==t.type&&"realtime"==n?d.renderMainNewVersionRealtime():"create"==t.type&&"realtime"==n?d.renderMainInitialCreationRealtime():a&&"versioned"==n?d.renderMainNewVersionVersioned():d.renderMainIntraVersion()},d.renderMainIntraVersion=function(){var t=d.props,n=(t.item,t.diffType);return e.createElement(Z,null,d.renderDate(),"versioned"==n&&d.renderUser(null),d.renderTypeIntraVersion(),d.renderDescriptionIntraVersion())},d.renderMainNewVersionRealtime=function(){var t=d.props,n=t.item,a=t.diffType;return 1==n.changes.length?e.createElement(Z,null,d.renderDate(),"versioned"==a&&d.renderUser(null),d.renderTypeChange(n.changes[0]),d.renderDescriptionChange(n.changes[0],n.summary)):e.createElement(Z,null,d.renderDate(),d.renderTypeNewVersionRealtime(),d.renderDescriptionNewVersionRealtime())},d.renderMainInitialCreationRealtime=function(){var t=d.props;t.item,t.diffType;return e.createElement(Z,null,d.renderDate(),e.createElement(ne,null),e.createElement(ae,null,"Initial Import"))},d.renderMainNewVersionVersioned=function(){var t=d.props.item;return e.createElement(Z,null,d.renderDate(),d.renderUser(t.user),d.renderTypeNewVersionVersioned(),d.renderDescriptionNewVersionVersioned())},d.renderChange=function(t,n){var a=d.props,i=(a.item,a.diffType);return e.createElement(ee,{key:"change-"+n},d.renderEmptyDate(),"versioned"==i&&d.renderUser(null),d.renderTypeChange(t),d.renderDescriptionChange(t))},d.renderUser=function(t){return t?e.createElement(te,null,e.createElement(o.a,{displayName:t.name,id:t.id,thumbnailUrl:t.imageUrl,userUrl:t.profileUrl,width:24,tierInt:t.userTier,tierMargin:0})):e.createElement(te,null)},d.renderDate=function(){var t=d.props.item;return e.createElement(le,null,e.createElement(i.a,{time:t.date}))},d.renderEmptyDate=function(){return e.createElement(le,null)},d.renderTypeChange=function(t){var n=null;return"file"==t.level&&(n=Object(m.b)(t.path,0)),e.createElement(ne,null,e.createElement(c.a,{level:t.level,fileName:n}))},d.renderTypeIntraVersion=function(){return e.createElement(ne,null,e.createElement(c.b,null))},d.renderTypeNewVersionRealtime=function(){return e.createElement(ne,null,e.createElement(c.c,null))},d.renderTypeNewVersionVersioned=function(){var t=d.props,n=t.item,a=t.showStatus,i=n.versionInfo;if(i){var o=e.createElement(he,{name:"check"}),s="Version";if(i.versionNumber&&(s="Version "+i.versionNumber+" "),"deleted"==i.status)s="Removed",o=e.createElement(r.a,{tipText:"This version has been removed."},e.createElement(ge,{name:"trash"}));else if("failed"==i.status){s="Failed";var l="Processing this version failed.";i.userMessage&&(l="Processing this version failed: "+i.userMessage),o=e.createElement(r.a,{tipText:l},e.createElement(ge,{name:"times"}))}else"reprocessing"==i.status?(s="In Progress",o=e.createElement(r.a,{tipText:"Reprocessing in progress."},e.createElement(fe,{name:"circle-o-notch",className:"fa-spin"}))):"ready"!=i.status&&(s="In Progress",o=e.createElement(r.a,{tipText:"This version is in progress."},e.createElement(fe,{name:"circle-o-notch",className:"fa-spin"})));return a||(o=null),e.createElement(ne,null,o,"ready"==i.status&&i.versionUrl?e.createElement(ce,{href:i.versionUrl},s):e.createElement(de,null,s))}return e.createElement(ne,null)},d.renderDescriptionChange=function(t,n){return e.createElement(ae,null,e.createElement(ie,null,d.getDescriptionChange(t)),n&&e.createElement(se,null,e.createElement(l.a,Object(a.__assign)({},n))))},d.renderDescriptionIntraVersion=function(){d.props.item;return e.createElement(ae,null,d.renderDescriptionChangeSummary())},d.renderDescriptionNewVersionRealtime=function(){var t=d.props.item;return e.createElement(ae,null,d.renderDescriptionChangeSummary(),t.summary&&e.createElement(se,null,e.createElement(l.a,Object(a.__assign)({},t.summary))))},d.renderDescriptionNewVersionVersioned=function(){var t,n=d.props.item;return e.createElement(ae,null,(null===(t=n.versionInfo)||void 0===t?void 0:t.versionNotes)&&e.createElement(ie,null,e.createElement(oe,null,e.createElement(s.a,{contentClassName:"dataset-home__version-notes",content:n.versionInfo.versionNotes,mimeType:"text/markdown",insertNofollow:!0}))),n.summary&&e.createElement(se,null,e.createElement(l.a,Object(a.__assign)({},n.summary))))},d.renderDescriptionChangeSummary=function(){var t=d.props.item;if(t.changes){var n="intraVersionSchemaUpdate"==t.type?"metadata":"";return e.createElement(re,null,t.changes.length," ",n," changes",t.summary&&t.summary.changedEntities&&": ",t.summary&&t.summary.changedEntities&&t.summary.changedEntities.map((function(n,a){return e.createElement(me,{key:"changed-"+a},"table"==n.level&&"Table ",e.createElement(ue,null,n.name),a<t.summary.changedEntities.length-1&&",")})))}return e.createElement(re,null)},d.state={isMoreExpanded:!1},d}return Object(a.__extends)(n,t),n.prototype.render=function(){var t=this,n=this.props,a=n.item,i=n.isExpanded,o=n.isFirst,r=n.diffType,s=n.showStatus,l=n.onToggleExpand,c=this.state.isMoreExpanded;if(("newVersion"==a.type||"create"==a.type)&&!s&&a.versionInfo&&"ready"!=a.versionInfo.status)return null;if("realtime"==r&&"create"!=a.type&&0==a.changes.length)return null;var d=a.changes.length>0&&!("realtime"==r&&1==a.changes.length),u=d&&a.changes.length>5&&!c,m=u&&!c?a.changes.slice(0,5):a.changes,p=u&&!c?a.changes.length-m.length:0;return e.createElement(g,{onClick:d?l:null},e.createElement(f,{isFirst:o},this.renderMain(),i&&m&&m.map((function(e,n){return t.renderChange(e,n)})),i&&u&&!c&&e.createElement(ee,{key:"change-more"},this.renderEmptyDate(),"versioned"==r&&this.renderUser(null),e.createElement(ne,null),e.createElement(be,{onClick:this.onShowExpandMore},"Show ",p," more changes..."))))},n}(e.Component)}).call(this,n(0))},2170:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return y}));var a,i,o,r,s=n(3),l=n(10),c=n(386),d=n(2062),u=n(1),m=n.n(u),p=m.a.span.withConfig({displayName:"Badge_Container",componentId:"sc-1rxoz7m"})(a||(a=Object(s.__makeTemplateObject)(["\n    ","\n    font-size: ",";\n    line-height: 1;\n    color: ",";\n    padding: ",";\n    display: inline-block;\n"],["\n    ","\n    font-size: ",";\n    line-height: 1;\n    color: ",";\n    padding: ",";\n    display: inline-block;\n"])),l.c.Inter,l.d.FontSizeM,l.b.TextLight,l.g.PadXs),h=m()(p).withConfig({displayName:"Badge_BorderedContainer",componentId:"sc-1qdejgq"})(i||(i=Object(s.__makeTemplateObject)(["\n  border: 1px solid ",";\n  border-radius: ",";\n  background: ",";\n  padding: 6px ",";\n"],["\n  border: 1px solid ",";\n  border-radius: ",";\n  background: ",";\n  padding: 6px ",";\n"])),l.b.ContentBorder,l.g.BorderRadius,l.b.PureWhite,l.g.PadS),g=m()(c.b).withConfig({displayName:"Badge_LevelIcon",componentId:"sc-13bf0gp"})(o||(o=Object(s.__makeTemplateObject)(["\n  margin-right: ",";\n  width: ",";\n"],["\n  margin-right: ",";\n  width: ",";\n"])),l.g.PadS,l.d.FontSizeM),f=m.a.span.withConfig({displayName:"Badge_LevelText",componentId:"sc-pi9m3"})(r||(r=Object(s.__makeTemplateObject)([""],[""]))),b=function(t){var n=t.level,a=t.fileName,i=Object(d.d)(n),o=Object(d.c)(n,a);return e.createElement(p,null,e.createElement(g,{name:o}),e.createElement(f,null,i))},v=function(){return e.createElement(h,null,e.createElement(g,{name:"plus"}),e.createElement(f,null,"Multiple"))},y=function(){return e.createElement(h,null,e.createElement(g,{name:"file-o"}),e.createElement(f,null,"Metadata"))}}).call(this,n(0))},2171:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a,i,o,r,s,l=n(3),c=n(10),d=n(1),u=n.n(d),m=u.a.span.withConfig({displayName:"Summary_Container",componentId:"sc-q7mz65"})(a||(a=Object(l.__makeTemplateObject)(["\n    ","\n    font-size: ",";\n    line-height: ",";\n    color: ",";\n"],["\n    ","\n    font-size: ",";\n    line-height: ",";\n    color: ",";\n"])),c.c.Inter,c.d.FontSizeM,c.d.LineHeightNormal,c.b.TextMedium),p=u.a.span.withConfig({displayName:"Summary_Item",componentId:"sc-1y9halb"})(i||(i=Object(l.__makeTemplateObject)(["\n  margin-left: ",";\n"],["\n  margin-left: ",";\n"])),c.g.PadXs),h=u.a.span.withConfig({displayName:"Summary_Added",componentId:"sc-2o270w"})(o||(o=Object(l.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),c.b.KaggleGreen,c.g.PadXs),g=u.a.span.withConfig({displayName:"Summary_Modified",componentId:"sc-l1lc76"})(r||(r=Object(l.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),c.b.KaggleOrange,c.g.PadXs),f=u.a.span.withConfig({displayName:"Summary_Deleted",componentId:"sc-1vixss5"})(s||(s=Object(l.__makeTemplateObject)(["\n  color: ",";\n  margin-right: ",";\n"],["\n  color: ",";\n  margin-right: ",";\n"])),c.b.KaggleRed,c.g.PadXs),b=function(t){var n=t.addedCount,a=t.deletedCount,i=t.modifiedCount,o=Object(l.__spread)(n>0?[e.createElement(p,null,e.createElement(h,null,"+",n),"new")]:[],i>0?[e.createElement(p,null,e.createElement(g,null,i),"modified")]:[],a>0?[e.createElement(p,null,e.createElement(f,null,"-",a),"deleted")]:[]);return e.createElement(m,null,o.map((function(t,n){return e.createElement("span",{key:n},t,n<o.length-1&&",")})))}}).call(this,n(0))},2172:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ne}));var a,i,o,r,s,l,c,d,u,m,p,h,g,f,b,v,y,w=n(3),E=n(1413),x=n(1),C=n.n(x),k=n(2173),_=n(2176),S=n(2177),O=n(2178),T=n(2179),j=n(2181),I=n(2182),N=n(2184),D=n(2185),$=n(10),M=n(2064),U=n(1725),P=n(2036),F=C.a.div.withConfig({displayName:"Activity_Loading",componentId:"sc-10umymf"})(a||(a=Object(w.__makeTemplateObject)(["\n  display: flex;\n  justify-content: center;\n  margin-top: ",";\n"],["\n  display: flex;\n  justify-content: center;\n  margin-top: ",";\n"])),$.g.PadXxl),R=C.a.h5.withConfig({displayName:"Activity_LastGeneratedDate",componentId:"sc-jcl6i5"})(i||(i=Object(w.__makeTemplateObject)(["\n  color: ",";\n  margin: "," 0;\n  font-size: ",";\n"],["\n  color: ",";\n  margin: "," 0;\n  font-size: ",";\n"])),$.b.TextLight,$.g.PadM,$.d.FontSizeM),z=C()(R).withConfig({displayName:"Activity_ErrorMessage",componentId:"sc-9pu2nu"})(o||(o=Object(w.__makeTemplateObject)([""],[""]))),L=C()(E.a).withConfig({displayName:"Activity_StyledTimeAgo",componentId:"sc-vxxexo"})(r||(r=Object(w.__makeTemplateObject)(["\n  font-weight: ",";\n"],["\n  font-weight: ",";\n"])),$.d.FontWeightMedium),A=C.a.div.withConfig({displayName:"Activity_Grid",componentId:"sc-wq7vbb"})(s||(s=Object(w.__makeTemplateObject)(["\n  display: grid;\n  grid-row-gap: ",";\n\n  @media screen and (min-width: ",") {\n    /* Allow columns to shrink by setting min value to zero */\n    grid-template-columns: repeat(7, minmax(0, 1fr));\n    grid-column-gap: ",';\n\n    grid-template-areas:\n      "activity-stats activity-stats time-series time-series time-series time-series time-series"\n      "top-contributors top-contributors world-map world-map world-map world-map world-map"\n      "kernel-stats kernel-stats kernel-medals top-kernels top-kernels top-kernels top-kernels"\n      "techniques techniques techniques top-datasets top-datasets top-datasets top-datasets"\n      "discussion-stats discussion-stats discussion-medals top-discussions top-discussions top-discussions top-discussions";\n  }\n\n  @media screen and (max-width: ',') {\n    /* Allow columns to shrink by setting min value to zero */\n    grid-template-columns: minmax(0, 1fr);\n\n    grid-template-areas:\n      "activity-stats"\n      "time-series"\n      "top-contributors"\n      "world-map"\n      "kernel-stats"\n      "kernel-medals"\n      "top-kernels"\n      "techniques"\n      "top-datasets"\n      "discussion-stats"\n      "discussion-medals"\n      "top-discussions";\n  }\n'],["\n  display: grid;\n  grid-row-gap: ",";\n\n  @media screen and (min-width: ",") {\n    /* Allow columns to shrink by setting min value to zero */\n    grid-template-columns: repeat(7, minmax(0, 1fr));\n    grid-column-gap: ",';\n\n    grid-template-areas:\n      "activity-stats activity-stats time-series time-series time-series time-series time-series"\n      "top-contributors top-contributors world-map world-map world-map world-map world-map"\n      "kernel-stats kernel-stats kernel-medals top-kernels top-kernels top-kernels top-kernels"\n      "techniques techniques techniques top-datasets top-datasets top-datasets top-datasets"\n      "discussion-stats discussion-stats discussion-medals top-discussions top-discussions top-discussions top-discussions";\n  }\n\n  @media screen and (max-width: ',') {\n    /* Allow columns to shrink by setting min value to zero */\n    grid-template-columns: minmax(0, 1fr);\n\n    grid-template-areas:\n      "activity-stats"\n      "time-series"\n      "top-contributors"\n      "world-map"\n      "kernel-stats"\n      "kernel-medals"\n      "top-kernels"\n      "techniques"\n      "top-datasets"\n      "discussion-stats"\n      "discussion-medals"\n      "top-discussions";\n  }\n'])),$.g.PadL,$.a.ScreenTabletMax,$.g.PadM,$.a.ScreenTabletMax),V=C()(k.a).withConfig({displayName:"Activity_ActivityStats",componentId:"sc-ztud5m"})(l||(l=Object(w.__makeTemplateObject)(["\n  grid-area: activity-stats;\n"],["\n  grid-area: activity-stats;\n"]))),B=C()(_.a).withConfig({displayName:"Activity_TimeSeriesCell",componentId:"sc-f8ravh"})(c||(c=Object(w.__makeTemplateObject)(["\n  grid-area: time-series;\n"],["\n  grid-area: time-series;\n"]))),K=C()(S.a).withConfig({displayName:"Activity_ContributorsCell",componentId:"sc-ccxc9m"})(d||(d=Object(w.__makeTemplateObject)(["\n  grid-area: top-contributors;\n"],["\n  grid-area: top-contributors;\n"]))),H=C()(O.a).withConfig({displayName:"Activity_WorldMapCell",componentId:"sc-1lemekr"})(u||(u=Object(w.__makeTemplateObject)(["\n  grid-area: world-map;\n"],["\n  grid-area: world-map;\n"]))),q=C()(k.a).withConfig({displayName:"Activity_KernalStats",componentId:"sc-19qxe6o"})(m||(m=Object(w.__makeTemplateObject)(["\n  grid-area: kernel-stats;\n"],["\n  grid-area: kernel-stats;\n"]))),W=C()(T.a).withConfig({displayName:"Activity_KernalMedals",componentId:"sc-28q28"})(p||(p=Object(w.__makeTemplateObject)(["\n  grid-area: kernel-medals;\n"],["\n  grid-area: kernel-medals;\n"]))),G=C()(j.a).withConfig({displayName:"Activity_TopKernelsCell",componentId:"sc-sv2j1"})(h||(h=Object(w.__makeTemplateObject)(["\n  grid-area: top-kernels;\n"],["\n  grid-area: top-kernels;\n"]))),Q=C()(I.a).withConfig({displayName:"Activity_TechniquesCell",componentId:"sc-1tp2kym"})(g||(g=Object(w.__makeTemplateObject)(["\n  grid-area: techniques;\n"],["\n  grid-area: techniques;\n"]))),Y=C()(N.a).withConfig({displayName:"Activity_TopRelatedDatasetsCell",componentId:"sc-96y8h6"})(f||(f=Object(w.__makeTemplateObject)(["\n  grid-area: top-datasets;\n"],["\n  grid-area: top-datasets;\n"]))),X=C()(k.a).withConfig({displayName:"Activity_DiscussionStats",componentId:"sc-1j8u43o"})(b||(b=Object(w.__makeTemplateObject)(["\n  grid-area: discussion-stats;\n"],["\n  grid-area: discussion-stats;\n"]))),J=C()(T.a).withConfig({displayName:"Activity_DiscussionMedals",componentId:"sc-1885pft"})(v||(v=Object(w.__makeTemplateObject)(["\n  grid-area: discussion-medals;\n"],["\n  grid-area: discussion-medals;\n"]))),Z=C()(D.a).withConfig({displayName:"Activity_TopDiscussionsCell",componentId:"sc-105h7wj"})(y||(y=Object(w.__makeTemplateObject)(["\n  grid-area: top-discussions;\n"],["\n  grid-area: top-discussions;\n"]))),ee=function(e){return"noSummaryGenerated"===e.status},te=function(e){return"hasSummary"===e.status};function ne(t){var n=t.state,a=t.children,i=n.status;if("loading"===i)return e.createElement(M.a,null,e.createElement(F,null,e.createElement(U.a,null)));if(ee(n)){var o=n.banner;return e.createElement("div",null,e.createElement(P.a,Object(w.__assign)({},o)),a)}if("error"===i)return e.createElement("div",null,e.createElement(z,null,"Failed to retrieve activity summary data"),a);if(te(n)){var r=n.summaryStats,s=r.generatedDate,l=r.datasetStats,c=r.timeSeries,d=r.topContributors,u=r.contributorLocations,m=r.kernelStats,p=r.kernelMedals,h=r.topKernels,g=r.tags,f=r.relatedDatasets,b=r.discussionStats,v=r.discussionMedals,y=r.topDiscussions;return e.createElement("div",null,e.createElement(R,null,"Card data was last refreshed ",e.createElement(L,{time:s})),e.createElement(A,null,e.createElement(V,{title:"Activity stats",metrics:l}),e.createElement(B,{timeSeries:c}),e.createElement(K,{title:"Top contributors",contributors:d}),e.createElement(H,{title:"Top contributor countries",contributorLocations:u}),e.createElement(q,{title:"Kernel stats",metrics:m}),e.createElement(W,{title:"Kernels",medalCounts:p}),e.createElement(G,{title:"Top kernels",kernels:h}),e.createElement(Q,{title:"Top techniques",tags:g}),e.createElement(Y,{title:"Top complementary datasets",relatedDatasets:f}),e.createElement(X,{title:"Discussion stats",metrics:b}),e.createElement(J,{title:"Discussions",medalCounts:v}),e.createElement(Z,{title:"Top discussion",discussions:y})),a)}return a}}).call(this,n(0))},2173:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a,i=n(3),o=n(1),r=n.n(o),s=n(10),l=n(1839),c=n(2174),d=r.a.div.withConfig({displayName:"MetricBox_MetricGrid",componentId:"sc-q9if8x"})(a||(a=Object(i.__makeTemplateObject)(["\n  flex-grow: 1;\n\n  display: grid;\n  align-content: space-evenly;\n  grid-column-gap: ",";\n\n  /* Display as 2x2 grid on mobile and desktop */\n  @media screen and (min-width: ","),\n    screen and (max-width: ",") {\n    grid-template-columns: repeat(2, 1fr);\n    grid-row-gap: ",";\n  }\n\n  /* Display as 1x4 grid on tablet */\n  @media screen and (max-width: ",") and (min-width: ",") {\n    grid-template-columns: repeat(4, 1fr);\n  }\n\n  margin: 0 "," "," ",";\n"],["\n  flex-grow: 1;\n\n  display: grid;\n  align-content: space-evenly;\n  grid-column-gap: ",";\n\n  /* Display as 2x2 grid on mobile and desktop */\n  @media screen and (min-width: ","),\n    screen and (max-width: ",") {\n    grid-template-columns: repeat(2, 1fr);\n    grid-row-gap: ",";\n  }\n\n  /* Display as 1x4 grid on tablet */\n  @media screen and (max-width: ",") and (min-width: ",") {\n    grid-template-columns: repeat(4, 1fr);\n  }\n\n  margin: 0 "," "," ",";\n"])),s.g.PadM,s.a.ScreenTabletMax,s.a.ScreenMobileMax,s.g.PadL,s.a.ScreenTabletMax,s.a.ScreenMobileMax,s.g.PadM,s.g.PadM,s.g.PadM);function u(t){var n=t.title,a=t.metrics,o=t.className;return e.createElement(l.a,{title:n,className:o},e.createElement(d,null,a.map((function(t){return e.createElement(c.a,Object(i.__assign)({key:t.name},t))}))))}}).call(this,n(0))},2174:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var a,i,o,r=n(3),s=n(1),l=n.n(s),c=n(10),d=n(2175),u=l.a.div.withConfig({displayName:"Metric_Wrapper",componentId:"sc-1gp2bzq"})(a||(a=Object(r.__makeTemplateObject)(["\n  text-align: left;\n"],["\n  text-align: left;\n"]))),m=l.a.div.withConfig({displayName:"Metric_MetricValue",componentId:"sc-1d8ho5o"})(i||(i=Object(r.__makeTemplateObject)(["\n  font-size: ",";\n"],["\n  font-size: ",";\n"])),c.d.FontSizeXl),p=l.a.div.withConfig({displayName:"Metric_MetricName",componentId:"sc-1specur"})(o||(o=Object(r.__makeTemplateObject)(["\n  color: ",";\n  margin-top: ",";\n"],["\n  color: ",";\n  margin-top: ",";\n"])),c.b.TextLight,c.g.PadS);function h(t){var n=t.value,a=t.name,i=Number.isInteger(n)?Object(d.b)(n):Object(d.a)(n);return e.createElement(u,null,e.createElement(m,null,i),e.createElement(p,null,a))}}).call(this,n(0))},2175:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=function(e,t){return Number.parseFloat(e.toFixed(t)).toString()},i=function(e){if(null==e)return"";var t=Math.abs(e);return t>1e11?a(e/1e9,0)+"b":t>1e10?a(e/1e9,1)+"b":t>1e9?a(e/1e9,2)+"b":t>1e8?a(e/1e6,0)+"m":t>1e7?a(e/1e6,1)+"m":t>1e6?a(e/1e6,2)+"m":t>1e5?a(e/1e3,0)+"k":t>1e4?a(e/1e3,1)+"k":t>1e3?a(e/1e3,2)+"k":a(e,t>100?0:t>10?1:2)},o=function(e){if(null==e)return"";var t=Math.abs(e);return t>1e11?(e/1e9).toFixed(0)+"b":t>1e10?(e/1e9).toFixed(1)+"b":t>1e9?(e/1e9).toFixed(2)+"b":t>1e8?(e/1e6).toFixed(0)+"m":t>1e7?(e/1e6).toFixed(1)+"m":t>1e6?(e/1e6).toFixed(2)+"m":t>1e5?(e/1e3).toFixed(0)+"k":t>1e4?(e/1e3).toFixed(1)+"k":e.toFixed(0)}},2176:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var a,i,o,r=n(3),s=n(0),l=n(2),c=n(1),d=n.n(c),u=n(1449),m=n(1655),p=n(1839),h=n(10),g=n(2063),f=n(1914),b=d.a.div.withConfig({displayName:"TimeSeries_Wrapper",componentId:"sc-mctg1k"})(a||(a=Object(r.__makeTemplateObject)(["\n  display: flex;\n  position: relative;\n  flex-grow: 1;\n\n  margin: 0 "," "," ",";\n  min-height: ",";\n\n  overflow: hidden;\n"],["\n  display: flex;\n  position: relative;\n  flex-grow: 1;\n\n  margin: 0 "," "," ",";\n  min-height: ",";\n\n  overflow: hidden;\n"])),h.g.PadM,h.g.PadM,h.g.PadM,(function(e){return e.isRenderingChart?"220px":"0"})),v=d()(u.a).withConfig({displayName:"TimeSeries_StyledChart",componentId:"sc-a2o54"})(i||(i=Object(r.__makeTemplateObject)(["\n  position: absolute;\n  left: -8%;\n  top: -15%;\n"],["\n  position: absolute;\n  left: -8%;\n  top: -15%;\n"]))),y=d()(m.a).withConfig({displayName:"TimeSeries_StyledSelect",componentId:"sc-zq4bdz"})(o||(o=Object(r.__makeTemplateObject)(["\n  width: 120px;\n  min-width: 120px;\n  margin-top: ",";\n  margin-left: ",";\n"],["\n  width: 120px;\n  min-width: 120px;\n  margin-top: ",";\n  margin-left: ",";\n"])),h.g.PadS,h.g.PadM),w=function(t){function n(n){var a=t.call(this,n)||this;a.chartOptions={colors:[h.b.TextLink],legend:{position:"none"},tooltip:{trigger:"none"},backgroundColor:"transparent",lineWidth:1,vAxis:{baselineColor:h.b.GrayLightest,gridlines:{color:h.b.GrayLightest},textStyle:{color:h.b.GrayLight,fontName:"Inter"}},hAxis:{gridlines:{color:"transparent"},textStyle:{color:h.b.GrayLight,fontName:"Inter"}}},a.chartCols=[{type:"date",label:""},{type:"number",label:"Downloads"}],a.createContentBoxTitle=function(){var e=a.props.timeSeries,t=Object.keys(e).length;return 0===t?"Time series":1===t?e[Object.keys(e)[0]].title:a.createSelectBoxEl()},a.createSelectBoxEl=function(){var t=a.props.timeSeries,n=a.state.selectedSeriesKey,i=Object.keys(t).map((function(e){return t[e]})).map((function(e){return{value:e.key,label:e.title}}));return e.createElement(y,{value:n,onChange:a.handleSeriesChange,options:i})},a.handleSeriesChange=function(e){(0,a.context.reportEvent)("activity-time-series-toggle",{selectedSeriesKey:e}),a.setState({selectedSeriesKey:e})},a.createChartEl=function(){var t=a.props.timeSeries[a.state.selectedSeriesKey];if(void 0===t||0===t.points.length){var n=void 0===t?"No time series data to show":'No time series data to show for "'+t.title+'" series';return e.createElement(f.a,{placeholder:n})}var i=t.points.map((function(e){var t=e.date,n=e.count;return[new Date(t),n]}));return e.createElement(v,{chartType:"LineChart",rows:i,columns:a.chartCols,options:a.chartOptions,width:"120%",height:"120%",loader:e.createElement(g.a,null)})};var i=a.props.timeSeries,o=Object.keys(i).length;return a.state=0===o?{selectedSeriesKey:void 0}:{selectedSeriesKey:Object.keys(i)[0]},a}return Object(r.__extends)(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props.timeSeries,n=e.timeSeries;t!==n&&(0===Object.keys(n).length?this.setState({selectedSeriesKey:void 0}):this.setState({selectedSeriesKey:Object.keys(n)[0]}))},n.prototype.render=function(){var t=this.props.className,n=this.createChartEl();return e.createElement(p.a,{title:this.createContentBoxTitle(),className:t},e.createElement(b,{isRenderingChart:n.type===v},n))},n.contextTypes={reportEvent:l.func},n}(s.Component)}).call(this,n(0))},2177:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a,i,o,r,s=n(3),l=n(1),c=n.n(l),d=n(2),u=n(1657),m=n(1659),p=n(10),h=n(1839),g=n(1914),f=n(2008),b=n(2007),v=c.a.ul.withConfig({displayName:"Contributors_Ul",componentId:"sc-rrr6le"})(a||(a=Object(s.__makeTemplateObject)(["\n  flex-grow: 1;\n\n  list-style: none;\n  margin-bottom: ",";\n  padding: 0;\n\n  display: grid;\n  grid-template-columns: minmax(0, 100%);\n  grid-template-rows: ",";\n  align-content: stretch;\n  justify-content: stretch;\n"],["\n  flex-grow: 1;\n\n  list-style: none;\n  margin-bottom: ",";\n  padding: 0;\n\n  display: grid;\n  grid-template-columns: minmax(0, 100%);\n  grid-template-rows: ",";\n  align-content: stretch;\n  justify-content: stretch;\n"])),p.g.PadM,(function(e){return"repeat("+e.rowCount+", 1fr)"})),y=c.a.li.withConfig({displayName:"Contributors_Li",componentId:"sc-jq089g"})(i||(i=Object(s.__makeTemplateObject)(["\n  margin: 0;\n"],["\n  margin: 0;\n"]))),w=c()(u.a).withConfig({displayName:"Contributors_StyledAvatar",componentId:"sc-pti6zs"})(o||(o=Object(s.__makeTemplateObject)(["\n  /* z-index required to ensure avatar element appears on top of item link */\n  z-index: ",";\n  margin-right: ",";\n"],["\n  /* z-index required to ensure avatar element appears on top of item link */\n  z-index: ",";\n  margin-right: ",";\n"])),p.i.ZForeground,p.g.PadM),E=c.a.div.withConfig({displayName:"Contributors_UpvoteCount",componentId:"sc-13hy6q9"})(r||(r=Object(s.__makeTemplateObject)(["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"],["\n  color: ",";\n  font-size: ",";\n  font-weight: ",";\n\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"])),p.b.TextLight,p.d.FontSizeS,p.d.FontWeightNormal),x=function(t,n){var a=t.title,i=t.contributors,o=t.className,r=n.reportEvent,l=i.map((function(t){var n=t.totalUpvotesCount,a=Object(s.__rest)(t,["totalUpvotesCount"]),i=a.id,o=a.userUrl,l=a.displayName,c=e.createElement(w,Object(s.__assign)({},a,{hideTooltip:!0})),d=e.createElement(b.a,{text:l}),u=e.createElement(E,null,e.createElement(m.a,{word:"total upvote",count:n}));return e.createElement(y,{key:i},e.createElement(f.a,{thumbnail:c,title:d,subtitle:u,href:o,reportItemVisit:function(){return r("activity-contributor-visit",{userId:i})}}))}));return e.createElement(h.a,{title:a,className:o},e.createElement(g.a,{isEmpty:0===i.length,placeholder:"No contributors to show"},e.createElement(v,{rowCount:3},l)))};x.contextTypes={reportEvent:d.func}}).call(this,n(0))},2178:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a,i=n(3),o=n(1),r=n.n(o),s=n(1449),l=n(1839),c=n(10),d=n(2063),u=r.a.div.withConfig({displayName:"WorldMap_Wrapper",componentId:"sc-gm5af3"})(a||(a=Object(i.__makeTemplateObject)(["\n  flex-grow: 1;\n\n  display: flex;\n  justify-content: center;\n\n  overflow: hidden;\n  margin: 0 "," "," ",";\n"],["\n  flex-grow: 1;\n\n  display: flex;\n  justify-content: center;\n\n  overflow: hidden;\n  margin: 0 "," "," ",";\n"])),c.g.PadM,c.g.PadM,c.g.PadM);function m(t){var n=t.title,a=t.contributorLocations,i=t.className,o=a.map((function(e){return[e.location,e.count,e.location]})),r={legend:"none",keepAspectRatio:!1,colors:[c.b.KaggleBlueSuperLight,c.b.KaggleBlueDarkest],tooltip:{isHtml:!0,showTitle:!1}};return e.createElement(l.a,{title:n,className:i},e.createElement(u,null,e.createElement(s.a,{key:"location-chart",chartType:"GeoChart",rows:o,columns:[{type:"string",label:"Country"},{type:"number",label:"Contributor count"},{type:"string",role:"tooltip"}],options:r,height:"200px",loader:e.createElement(d.a,null)})))}}).call(this,n(0))},2179:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var a,i=n(3),o=n(1),r=n.n(o),s=n(1839),l=n(2065),c=n(2180),d=n(10),u=r()(l.a).withConfig({displayName:"Medals_List",componentId:"sc-oh78zp"})(a||(a=Object(i.__makeTemplateObject)(["\n  @media screen and (max-width: ",") {\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: 1fr;\n  }\n"],["\n  @media screen and (max-width: ",") {\n    grid-template-columns: repeat(3, 1fr);\n    grid-template-rows: 1fr;\n  }\n"])),d.a.ScreenTabletMax);function m(t){var n=t.title,a=t.medalCounts,o=t.className,r=a.map((function(t){return{el:e.createElement(c.a,Object(i.__assign)({},t)),key:t.src}}));return e.createElement(s.a,{title:n,className:o},e.createElement(u,{items:r,maxNumberOfLis:3}))}}).call(this,n(0))},2180:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a,i,o,r=n(3),s=n(1),l=n.n(s),c=n(10),d=l.a.div.withConfig({displayName:"Medal_MedalWrapper",componentId:"sc-197mxjf"})(a||(a=Object(r.__makeTemplateObject)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"],["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),u=l.a.img.withConfig({displayName:"Medal_MedalImg",componentId:"sc-zu7665"})(i||(i=Object(r.__makeTemplateObject)(["\n  margin-bottom: ",";\n  width: 30px;\n  height: 30px;\n"],["\n  margin-bottom: ",";\n  width: 30px;\n  height: 30px;\n"])),c.g.PadXs),m=l.a.span.withConfig({displayName:"Medal_MedalText",componentId:"sc-21wyrx"})(o||(o=Object(r.__makeTemplateObject)(["\n  font-weight: ",";\n  color: ",";\n"],["\n  font-weight: ",";\n  color: ",";\n"])),c.d.FontWeightMedium,(function(e){return function(e){switch(e){case"gold":return c.b.Gold;case"silver":return c.b.Silver;case"bronze":return c.b.Bronze}}(e.type)}));function p(t){var n=t.count,a=t.src,i=t.alt,o=t.type;return e.createElement(d,null,e.createElement(u,{src:a,alt:i}),e.createElement(m,{type:o},n))}}).call(this,n(0))},2181:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a,i,o,r=n(3),s=n(2),l=n(1),c=n.n(l),d=n(1657),u=n(1776),m=n(1839),p=n(2008),h=n(2007),g=n(2033),f=n(1914),b=n(2066),v=n(10),y=c.a.ul.withConfig({displayName:"TopKernels_Ul",componentId:"sc-1c82f9f"})(a||(a=Object(r.__makeTemplateObject)(["\n  list-style: none;\n  margin-bottom: ",";\n"],["\n  list-style: none;\n  margin-bottom: ",";\n"])),v.g.PadM),w=c.a.li.withConfig({displayName:"TopKernels_Li",componentId:"sc-1ree7dw"})(i||(i=Object(r.__makeTemplateObject)(["\n  margin: 0;\n"],["\n  margin: 0;\n"]))),E=c()(d.a).withConfig({displayName:"TopKernels_StyledAvatar",componentId:"sc-y67nk7"})(o||(o=Object(r.__makeTemplateObject)(["\n  /* z-index required to ensure avatar element appears on top of item link */\n  z-index: ",";\n  margin-right: ",";\n"],["\n  /* z-index required to ensure avatar element appears on top of item link */\n  z-index: ",";\n  margin-right: ",";\n"])),v.i.ZForeground,v.g.PadM),x=function(t,n){var a=t.title,i=t.kernels,o=t.className,s=n.reportEvent,l=n.onCreateKernel,c=i.map((function(t){var n=t.id,a=t.voteButtonDto,i=t.avatar,o=t.medal,l=t.title,c=t.url,d=t.timeSinceLastActivity,m=t.tags,f=e.createElement(E,Object(r.__assign)({},i,{hideTooltip:!0})),b=e.createElement(h.a,{medal:o,text:l}),v=e.createElement(g.a,{elapsedTime:d},e.createElement(u.a,{tags:m}));return e.createElement(w,{key:n},e.createElement(p.a,{voteButtonDto:a,thumbnail:f,title:b,subtitle:v,href:c,reportItemVisit:function(){return s("activity-kernel-visit",{kernelId:n})}}))})),d=e.createElement(b.a,{description:"No kernels to show",onClick:l,buttonText:"Create a kernel"});return e.createElement(m.a,{title:a,className:o},e.createElement(f.a,{isEmpty:0===i.length,placeholder:d},e.createElement(y,null,c)))};x.contextTypes={reportEvent:s.func,onCreateKernel:s.func}}).call(this,n(0))},2182:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var a=n(1839),i=n(2065),o=n(1914),r=n(2183);function s(t){var n=t.title,s=t.tags,l=t.className,c=s.map((function(t,n){return{key:t.name,el:e.createElement(r.a,{tag:t})}}));return e.createElement(a.a,{title:n,className:l},e.createElement(o.a,{isEmpty:0===c.length,placeholder:"No techniques to show"},e.createElement(i.a,{items:c,maxNumberOfLis:4})))}}).call(this,n(0))},2183:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var a,i,o,r=n(3),s=n(2),l=n(1),c=n.n(l),d=n(10),u=n(1776),m=c.a.div.withConfig({displayName:"Technique_Wrapper",componentId:"sc-8ztr5d"})(a||(a=Object(r.__makeTemplateObject)(["\n  display: flex;\n  justify-content: space-between;\n\n  overflow: hidden;\n"],["\n  display: flex;\n  justify-content: space-between;\n\n  overflow: hidden;\n"]))),p=c()(u.a).withConfig({displayName:"Technique_StyledTags",componentId:"sc-4v1xn3"})(i||(i=Object(r.__makeTemplateObject)(["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n\n  margin-right: ",";\n"],["\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-word;\n\n  margin-right: ",";\n"])),d.g.PadS),h=c.a.div.withConfig({displayName:"Technique_KernelsCount",componentId:"sc-yctaff"})(o||(o=Object(r.__makeTemplateObject)(["\n  color: ",";\n  font-size: ",";\n\n  white-space: nowrap;\n"],["\n  color: ",";\n  font-size: ",";\n\n  white-space: nowrap;\n"])),d.b.TextLight,d.d.FontSizeS),g=function(t,n){var a=t.tag,i=t.className,o=a.name,r=a.url,s=a.kernelCount,l=n.reportEvent;return e.createElement(m,{className:i},e.createElement(p,{tags:[{name:o,url:r,onClick:function(){return l("activity-technique-visit",{name:o})}}]}),e.createElement(h,null,s," kernels"))};g.contextTypes={reportEvent:s.func}}).call(this,n(0))},2184:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var a,i,o,r,s=n(3),l=n(2),c=n(1),d=n.n(c),u=n(1659),m=n(10),p=n(2034),h=n(1839),g=n(2008),f=n(2007),b=n(2033),v=n(1914),y=d.a.ul.withConfig({displayName:"TopRelatedDatasets_Ul",componentId:"sc-e0zmub"})(a||(a=Object(s.__makeTemplateObject)(["\n  list-style: none;\n  margin-bottom: ",";\n"],["\n  list-style: none;\n  margin-bottom: ",";\n"])),m.g.PadM),w=d()(p.a).withConfig({displayName:"TopRelatedDatasets_StyledThumbnail",componentId:"sc-1tpbc9f"})(i||(i=Object(s.__makeTemplateObject)(["\n  margin-right: ",";\n  width: ",";\n  height: ",";\n"],["\n  margin-right: ",";\n  width: ",";\n  height: ",";\n"])),m.g.PadM,p.b.dimensions.small,p.b.dimensions.small),E=d.a.li.withConfig({displayName:"TopRelatedDatasets_Li",componentId:"sc-1tq4wxa"})(o||(o=Object(s.__makeTemplateObject)(["\n  margin: 0;\n"],["\n  margin: 0;\n"]))),x=d.a.div.withConfig({displayName:"TopRelatedDatasets_Footer",componentId:"sc-134tdj6"})(r||(r=Object(s.__makeTemplateObject)(["\n  color: ",";\n  font-size: ",";\n  white-space: nowrap;\n"],["\n  color: ",";\n  font-size: ",";\n  white-space: nowrap;\n"])),m.b.TextLight,m.d.FontSizeS),C=function(t,n){var a=t.title,i=t.relatedDatasets,o=t.className,r=n.reportEvent,s=i.map((function(t){var n=t.id,a=t.voteButtonDto,i=t.thumbnailImageUrl,o=t.title,s=t.subTitle,l=t.url,c=t.timeSinceLastActivity,d=t.kernelsCount,m=e.createElement(w,{src:i,alt:o}),p=e.createElement(f.a,{text:o}),h=e.createElement(b.a,{elapsedTime:c},s),v=e.createElement(x,null,e.createElement(u.a,{count:d,word:"kernel"}));return e.createElement(E,{key:n},e.createElement(g.a,{href:l,voteButtonDto:a,thumbnail:m,title:p,subtitle:h,footer:v,reportItemVisit:function(){return r("activity-related-dataset-visit",{relatedDatasetId:n})}}))}));return e.createElement(h.a,{title:a,className:o},e.createElement(v.a,{isEmpty:0===i.length,placeholder:"No complementary datasets to show"},e.createElement(y,null,s)))};C.contextTypes={reportEvent:l.func}}).call(this,n(0))},2185:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return x}));var a,i,o,r=n(3),s=n(2),l=n(1),c=n.n(l),d=n(1657),u=n(1659),m=n(1839),p=n(2008),h=n(2007),g=n(2033),f=n(1914),b=n(2066),v=n(10),y=c.a.ul.withConfig({displayName:"TopDiscussions_Ul",componentId:"sc-1scao7f"})(a||(a=Object(r.__makeTemplateObject)(["\n  list-style: none;\n  margin-bottom: ",";\n"],["\n  list-style: none;\n  margin-bottom: ",";\n"])),v.g.PadM),w=c.a.li.withConfig({displayName:"TopDiscussions_Li",componentId:"sc-vxwvmq"})(i||(i=Object(r.__makeTemplateObject)(["\n  margin: 0;\n"],["\n  margin: 0;\n"]))),E=c()(d.a).withConfig({displayName:"TopDiscussions_StyledAvatar",componentId:"sc-yhm23g"})(o||(o=Object(r.__makeTemplateObject)(["\n  /* z-index required to ensure avatar element appears on top of item link */\n  z-index: ",";\n  margin-right: ",";\n"],["\n  /* z-index required to ensure avatar element appears on top of item link */\n  z-index: ",";\n  margin-right: ",";\n"])),v.i.ZForeground,v.g.PadM),x=function(t,n){var a=t.title,i=t.discussions,o=t.className,s=n.reportEvent,l=n.onCreateTopic,c=i.map((function(t){var n=t.id,a=t.voteButtonDto,i=t.avatar,o=t.medal,l=t.title,c=t.url,d=t.timeSinceLastActivity,m=t.replyCount,f=e.createElement(E,Object(r.__assign)({},i,{hideTooltip:!0})),b=e.createElement(h.a,{medal:o,text:l}),v=e.createElement(g.a,{elapsedTime:d},e.createElement(u.a,{word:"reply",count:m}));return e.createElement(w,{key:n},e.createElement(p.a,{voteButtonDto:a,thumbnail:f,title:b,subtitle:v,href:c,reportItemVisit:function(){return s("activity-discussion-visit",{discussionId:n})}}))})),d=e.createElement(b.a,{description:"No discussions to show",onClick:l,buttonText:"Create a discussion"});return e.createElement(m.a,{title:a,className:o},e.createElement(f.a,{isEmpty:0===i.length,placeholder:d},e.createElement(y,null,c)))};x.contextTypes={reportEvent:s.func,onCreateTopic:s.func}}).call(this,n(0))},2186:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(3),i=n(2187),o=n(1702),r=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderItem=function(t,n){return e.createElement(i.a,Object(a.__assign)({},t,{key:n}))},n}return Object(a.__extends)(n,t),n.prototype.render=function(){return e.createElement("div",null,e.createElement(o.a,{title:"Activity Feed",pluralItemDescription:"activity",data:this.props.feed,dataUrl:this.props.datasetUrl+"/feed.json",itemRenderer:this.renderItem,isHidden:"activity"!==this.props.currentTab}))},n}(e.Component)}).call(this,n(0))},2187:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));var a=n(3),i=n(1413),o=n(22),r=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){var t="script"==this.props.activityType?"fa-file-code-o":"scriptFork"==this.props.activityType?"fa-clone":"scriptRun"==this.props.activityType?"fa-file-code-o":"dataset"==this.props.activityType?"fa-database":"datasetVersion"==this.props.activityType?"fa-database":"topic"==this.props.activityType?"fa-comments-o":"scriptComment"==this.props.activityType?"fa-comment-o":"comment"==this.props.activityType?"fa-comment-o":"",n="script"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created kernel"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptFork"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Forked kernel"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptRun"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Ran version ",this.props.versionNumber," of kernel"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"dataset"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created dataset"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"datasetVersion"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created version ",this.props.versionNumber," -"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"topic"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Created a new discussion"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"scriptComment"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Commented on kernel"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"comment"==this.props.activityType?e.createElement("span",{className:"dataset-activity-feed-item__action"},"Commented on dataset discussion"," ",e.createElement("a",{className:"dataset-activity-feed-item__item-link",href:this.props.url},this.props.title)):"";return e.createElement("div",{className:"dataset-activity-feed-item"},e.createElement("div",{className:"dataset-activity-feed-item__images"},e.createElement("div",{className:"dataset-activity-feed-item__icon"},e.createElement("span",{className:o("fa",t)})),e.createElement("a",{href:this.props.userUrl},e.createElement("img",{className:"dataset-activity-feed-item__user-avatar",src:this.props.userAvatarUrl}))),e.createElement("div",{className:"dataset-activity-feed-item__user-link-container"},e.createElement("a",{className:"dataset-activity-feed-item__user-link",href:this.props.userUrl},this.props.userDisplayName)),e.createElement("div",{className:"dataset-activity-feed-item__details"},n),e.createElement(i.a,{className:"dataset-activity-feed-item__time",time:this.props.date}))},n}(e.Component)}).call(this,n(0))},2188:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(3),i=n(1442),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){var t={group:this.props.isPrivate?"profile":"everyone",sortBy:this.props.isPrivate?"dateRun":"hotness"};return e.createElement(i.KernelsListing,{isStandalonePage:!1,listTitle:"Notebooks",loginAndReturnUrl:null,newNotebookUrl:null,newScriptUrl:null,showFilters:!0,showScriptProjectName:!1,sourceBaseUrl:"/kernels/d/"+this.props.datasetId+"/",isHidden:"kernels"!==this.props.currentTab&&"notebooks"!==this.props.currentTab,datasetVersionId:this.props.datasetVersionId,datasetId:this.props.datasetId,filters:t,hideHeader:!0})},n}(e.Component)}).call(this,n(0))},2189:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var a=n(3),i=n(1975),o=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(n,t),n.prototype.render=function(){return"discussion"===this.props.currentTab?e.createElement(i.a,Object(a.__assign)({},Object(a.__assign)(Object(a.__assign)({},this.props.discussion),this.props.newTopic),{onTopicClicked:this.props.onTopicClicked,topicId:this.props.topicId,isNew:this.props.isNewTopic,topicSubmitted:this.props.onTopicSubmitted})):null},n}(e.Component)}).call(this,n(0))},2190:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(3);const i=()=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){let t=0;for(let n=0;n<3;n++){const n=yield e("https://citation.crosscite.org/styles/");if(n.ok){return yield n.json()}t=n.status,yield o(500)}throw new Error(`Invalid response after 3 retries: ${t}`)})),o=e=>new Promise(t=>setTimeout(t,e))}).call(this,n(98))},2191:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var a=n(3);const i=(t,n)=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const a=`https://data.crosscite.org/text/x-bibliography/${t}?style=${n}`,i=yield e(a);if(!i.ok)throw new Error(`Invalid status code: ${i.status}`);return yield i.text()}))}).call(this,n(98))},2192:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(1416),i=n(384),o=n(1),r=n.n(o),s=n(0),l=n(1634);const c=r.a.div`
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  position: relative;
  line-height: 1.4;
  color: ${e=>e.theme.colors.text.medium};
  ${e=>e.theme.font.main.family};
  ${e=>e.theme.font.main.size.l};
`,d=r.a.button`
  position: absolute;
  top: ${e=>e.theme.size.pad.s};
  right: ${e=>e.theme.size.pad.s};
  padding: ${e=>e.theme.size.pad.xs} ${e=>e.theme.size.pad.s};
  border: none;
  border-radius: ${e=>e.theme.size.border.radius.button};
  background-color: ${e=>e.theme.colors.content.borderLight};
  color: ${e=>e.theme.colors.kaggle.gray};
  cursor: ${e=>e.disabled?"default":"pointer"};

  &:hover {
    color: ${e=>e.disabled?e.theme.colors.kaggle.gray:e.theme.colors.kaggle.black};
  }
`,u=r.a.div`
  flex: 0 0 auto;
  padding: ${e=>e.theme.size.pad.m};
  border-bottom: 1px solid ${e=>e.theme.colors.content.borderLight};
`,m=r.a.div`
  ${e=>e.theme.font.main.weight.bold};
`,p=r.a.div`
  color: ${e=>e.theme.colors.text.light};
  margin-top: ${e=>e.theme.size.margin.s};

  ${e=>e.theme.font.main.weight.light};
`,h=r.a.ul`
  /* Ensure long lists of files don't overflow container */
  flex: 1 1 0;
  overflow-y: auto;

  list-style-type: none;
  padding: 0;
  margin: 0;
`,g=r.a.li`
  padding: ${e=>e.theme.size.pad.xs} ${e=>e.theme.size.pad.m};
  cursor: pointer;

  &:hover {
    background-color: ${e=>e.theme.colors.hover.light};
  }
`,f=r()(a.a)`
  color: ${e=>e.theme.colors.text.light};
  margin-right: ${e=>e.theme.size.pad.s};
  vertical-align: middle;
`,b=r.a.div`
  flex: 0 0 auto;
  padding: ${e=>e.theme.size.pad.m};
  display: flex;
  position: relative;
`,v=r.a.input`
  flex-grow: 1;
  border: 1px solid ${e=>e.theme.colors.content.border};
  border-radius: ${e=>e.theme.size.border.radius.input};
  padding: ${e=>e.theme.size.pad.s};
  color: ${e=>e.theme.colors.text.medium};

  &::placeholder {
    color: ${e=>e.theme.colors.text.light};
  }
`,y=r()(a.a)`
  position: absolute;
  right: 20px;
  top: 19px;
  color: ${e=>e.theme.colors.text.light};
`;class w extends s.Component{constructor(){super(...arguments),this.state={filter:""},this.renderFile=e=>{const{onSelect:t}=this.props,{name:n}=e,a=Object(l.f)(Object(l.e)(n));return s.createElement(g,{key:n,onClick:()=>t(e)},s.createElement(f,{icon:a,size:"inline"}),n)}}render(){const{title:e,description:t,files:n,isOpen:o,onCloseRequest:r}=this.props,{filter:l}=this.state,g=l.toLowerCase(),f=l.length>0?n.filter(e=>e.name.toLowerCase().indexOf(g)>=0):n;return s.createElement(i.Modal,{size:"s",isOpen:o,onCloseRequest:r},s.createElement(c,null,s.createElement(d,{title:"Close",onClick:r},s.createElement(a.a,{icon:"times"})),s.createElement(u,null,s.createElement(m,null,e),t&&s.createElement(p,null,t)),s.createElement(b,null,s.createElement(v,{title:"Filter files",placeholder:"Enter a file name to filter list...",value:l,onChange:e=>this.setState({filter:e.currentTarget.value})}),s.createElement(y,{icon:"search"})),s.createElement(h,null,f.map(e=>this.renderFile(e)))))}}},2352:function(e,t,n){"use strict";var a=n(8),i=n(0),o=n(1690),r=n(3),s=n(174),l=n(1720),c=n(1813),d=n(1638),u=n(1783),m=n(1784),p=n(1645),h=n(1973),g=n(1698),f=n(384),b=n(1697),v=n(1781),y=n(1782),w=n(1632),E=n(1815),x=n(1814),C=n(1780),k=n(1740),_=n(1),S=n.n(_);const O=S.a.div`
  padding: ${e=>e.theme.size.pad.m};
`,T=S.a.input`
  border: 1px solid
    ${e=>e.hasError?e.theme.colors.kaggle.redDark:e.theme.colors.content.border};
  border-radius: ${e=>e.theme.size.border.radius.input};
  padding: ${e=>e.theme.size.pad.s};
  margin: 0 0 ${e=>e.theme.size.pad.s} 0;
  color: ${e=>e.theme.colors.text.medium};
  width: 80%;
  ${e=>e.theme.font.main.size.xl};
  ${e=>e.theme.font.main.weight.normal};

  &:focus {
    outline: none;
  }

  &::placeholder {
    color: ${e=>e.theme.colors.text.light};
  }
`,j=S.a.div`
  display: flex;
  color: ${e=>e.theme.colors.kaggle.gray};
  ${e=>e.theme.font.main.size.l};
`;function I(e){const t=i.useContext(w.a),{dataset:n,versionNotes:a,onVersionNotesChange:o}=e,{owner:r,slug:s}=n;return i.createElement(O,null,i.createElement(T,{disabled:t,hasError:a.hasError,value:a.text,placeholder:"Enter version notes",onChange:e=>o(e.currentTarget.value)}),i.createElement(j,null,"www.kaggle.com/",r.slug,"/",s))}var N=n(1846),D=n(1809),$=n(1806),M=n(1805),U=n(1807);function P(e){const t=i.useContext(w.a),{renderProp:n,selectedTab:a,dataset:o,config:r,settings:s,onFlagsChange:c}=e,{limits:u}=r,{license:m,isPrivate:p}=o,{flags:h}=s,{container:f,onUpdate:b}=n;if("uploadContainer"===a&&Object(d.p)(f))return i.createElement(M.a,{container:f,onUpdate:b,datasetId:o.datasetId});if("kernelOutputContainer"===a&&Object(d.g)(f))return i.createElement($.a,{isDisabled:t,container:f,allowBackToSearch:!1,onUpdate:b});if("remoteUrlUploadContainer"===a&&Object(d.l)(f))return i.createElement(U.a,{isDisabled:t,container:f,onUpdate:b});if("githubContainer"===a&&Object(d.a)(f))return i.createElement(D.a,{container:f,onUpdate:b});if("adminFlags"===a)return i.createElement(l.a,{flags:h,onFlagsChange:c});if("settings"===a){const{totalBytes:e,prevUsedBytes:t}=Object(k.f)(u,p),n=t+Object(g.a)(f),a={id:0,displaySequence:0,licenses:[{id:m.id,description:m.description,name:"",displaySequence:0,url:"#"}],name:""};return i.createElement(N.a,{isDisabled:!0,allowedOwners:[o.owner],licenseGroups:[a],limits:{totalBytes:e,usedBytes:n},isPrivate:o.isPrivate,licenseId:1,owner:o.owner,onLicenseIdChange:()=>{},onOwnerChange:()=>{},onPrivacyChange:()=>{}})}return i.createElement("div",null,"Invalid state")}function F(e){const{isOpen:t,creation:n,onCloseRequest:a}=e;return i.createElement(w.a.Provider,{value:n.isLoading},i.createElement(f.Modal,{size:"l",isOpen:t,onCloseRequest:a},i.createElement(C.h,null,i.createElement(C.a,{isDisabled:n.isLoading,onClose:a}),R(e))))}const R=e=>{const{renderProp:t,defaultTabs:n,selectedTab:a,settings:o,config:r,dataset:s,creation:l,isConfirmingCloseRequest:c,onCreateSuccess:d,onVersionNotesChange:u,onTabSelect:m,onCloseRequest:p,onDisableConfirmClose:h,onFlagsChange:g}=e;if("error"===r)return i.createElement(v.a,null);if("loading"===r)return i.createElement(y.a,null);const{container:f,isContainerUploadable:w,isContainerDirty:k,doesContainerContainDuplicates:_,doesContainerHaveErrors:S,inflightUploadMessage:O}=t,{versionNotes:T}=o,{limits:j}=r,N=L(f,j,s.isPrivate),D=!V(T.value)&&w&&!N&&!l.isLoading,$=A(T,k),M=$||(N||(S?"You must resolve errors before creating a new version":l.errorMessage)),U=()=>M?{type:"error",str:M}:O,F=n.map(e=>Object.assign(Object.assign({},e),{isDisabled:z(l.isLoading,e.key,f)}));return c?i.createElement(b.a,{description:" If you close this dialog, all your work in this window will be lost.\n        Do you want to continue?",confirmText:"Confirm",cancelText:"Back",onAction:e=>{"confirm"===e?p():h()}}):i.createElement(i.Fragment,null,i.createElement(E.a,{tabs:F,selectedTab:a,onTabSelect:e=>m(e)}),i.createElement(C.b,null,i.createElement(C.d,null,i.createElement(I,{versionNotes:{text:T.value,hasError:!!$},dataset:s,onVersionNotesChange:u})),i.createElement(C.g,null,i.createElement(P,{dataset:s,renderProp:t,selectedTab:a,settings:o,config:r,onFlagsChange:g})),i.createElement(x.a,{isPrivate:s.isPrivate,statusMessage:U(),canCreate:D,isLoading:l.isLoading,privacyTip:s.isPrivate?"Update to public dataset in Settings tab":"This is a public Dataset",createText:_?"Skip duplicates":"Create",duplicateText:_?"Include duplicates":void 0,onCreate:e=>d(f,e)})))},z=(e,t,n)=>e||"settings"!==t&&"adminFlags"!==t&&n.type!==t,L=(e,t,n)=>{const a=Object(k.e)(t,n,e);if("success"!==a.status)return a.message},A=(e,t)=>{const{value:n,wasEdited:a}=e;if(a||t)return V(n)},V=e=>{if(0===e.trim().length)return"Please enter version notes."};let B=(()=>{class e extends i.Component{constructor(){super(...arguments),this.configUpdateId=0,this.state={selectedTab:this.props.defaultContainer.type,settings:{versionNotes:{value:"",wasEdited:!1},flags:l.b},isConfirmingCloseRequest:!1,config:"loading",defaultContainer:this.props.defaultContainer,creation:{isLoading:!1}},this.loadConfig=()=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const{dataset:e}=this.props,{lastDatasetVersionId:t,owner:n}=e,a={ownerOrganizationId:n.isOrganization?n.id:null,currentDatasetVersionId:t};try{this.configUpdateId++;const{datasetsClient:e}=this.context.clients,{defaultContainer:t}=this.state,n=yield e.getDatasetUploaderConfig(a),i=n.existingUploadDirectories&&n.existingUploadDirectories.length>0||n.existingUploadFiles&&n.existingUploadFiles.length>0,o=n.existingRemoteUrls&&n.existingRemoteUrls.length>0,r="uploadContainer"===t.type&&i?Object(h.b)(n.existingUploadDirectories,n.existingUploadFiles):"remoteUrlUploadContainer"===t.type&&o?Object(h.a)(n.existingRemoteUrls):t;this.setState({config:{limits:n.limits},defaultContainer:r})}catch(e){this.setState({config:"error"})}})),this.renderContents=e=>{const{isOpen:t,dataset:n,user:a}=this.props,{selectedTab:o,config:r,settings:s,creation:l,isConfirmingCloseRequest:c}=this.state;return i.createElement(F,{isOpen:t,isConfirmingCloseRequest:c,renderProp:e,defaultTabs:Object(u.b)(a),selectedTab:o,settings:s,config:r,creation:l,dataset:n,onTabSelect:this.onTabSelect(e),onCloseRequest:()=>this.onCloseRequest(e),onDisableConfirmClose:()=>this.setState({isConfirmingCloseRequest:!1}),onCreateSuccess:this.onCreate,onVersionNotesChange:this.onVersionNotesChange,onFlagsChange:this.onFlagsChange})},this.onCloseRequest=e=>{const{onCloseRequest:t}=this.props,{creation:n,isConfirmingCloseRequest:a}=this.state;n.isLoading||(a||e.isContainerClosable?t():this.setState({isConfirmingCloseRequest:!0}))},this.onTabSelect=e=>t=>{const{onUpdate:n,container:a}=e,{selectedTab:i}=this.state;this.setState({selectedTab:t}),("settings"!==i&&"adminFlags"!==i||a.type!==t)&&("githubContainer"!==t||Object(d.a)(a)?"remoteUrlUploadContainer"!==t||Object(d.l)(a)?"uploadContainer"!==t||Object(d.p)(a)||n("uploadContainer","reset",void 0):n("remoteUrlUploadContainer","reset",void 0):n("githubContainer","reset",void 0))},this.onVersionNotesChange=e=>{this.setState(t=>({settings:Object.assign(Object.assign({},t.settings),{versionNotes:{value:e,wasEdited:!0}})}))},this.onFlagsChange=e=>{const{settings:t}=this.state;this.setState({settings:Object.assign(Object.assign({},t),{flags:e})})},this.onCreate=(e,t)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const n="create"===t?H(e):e;"create"!==t||"uploadContainer"!==n.type||0!==Object(p.b)(n,()=>!0)?this.setState({creation:{isLoading:!0}},()=>this.onCreateRequest(n,t)):this.onCreationError("Please specify at least one non-duplicate file.")})),this.onCreateRequest=Object(s.a)(1e3,!0,(e,t)=>Object(r.__awaiter)(this,void 0,void 0,(function*(){const{dataset:n,user:a}=this.props,{settings:i}=this.state,{versionNotes:r,flags:s}=i,{datasetId:l}=n,c=Object(m.c)(e,{datasetId:l,versionNotes:r.value,flags:a.isAdmin?s:null}),{analyticsClient:d}=this.context.legacyClients,u="uploadContainer"===e.type&&(e.directories.length>0||e.existingDirectories.length>0);Object(o.a)(d,"version",t,u,"",!1,c);try{const{datasetsClient:t}=this.context.clients,n=yield t.createDatasetVersionRequestV2(c);if("ok"===n.status){const{onCreateSuccess:t}=this.props;t(K(n,e))}else this.onCreationError(n.errorMessage?n.errorMessage:"An internal error occurred.")}catch(e){if("string"==typeof e.message)this.onCreationError(e.message);else{if("string"!=typeof e)throw e;this.onCreationError(e)}}}))),this.onCreationError=e=>{this.setState({creation:{errorMessage:e,isLoading:!1}})}}componentDidMount(){const{isOpen:e}=this.props;e&&this.loadConfig()}render(){const{defaultContainer:e}=this.state;return i.createElement(c.a,{defaultContainer:e,key:this.configUpdateId},this.renderContents)}}return e.contextType=a.ClientsContext,e})();const K=(e,t)=>{if("ok"===e.status){const{url:n,datasetVersionReference:a,databundleVersionReference:i}=e,{databundleVersionId:o}=i,{datasetVersionId:r}=a;return{url:n,databundleSize:Object(g.a)(t),databundleVersionId:o,versionId:r}}throw new Error("Failed to create dataset")},H=e=>{if(Object(d.p)(e)){const{files:t,directories:n}=e;return Object.assign(Object.assign({},e),{files:t.filter(e=>"duplicate"!==e.state.type),directories:n.map(e=>q(e))})}return e},q=e=>{const{files:t,directories:n}=e;return Object.assign(Object.assign({},e),{files:t.filter(e=>"duplicate"!==e.state.type),directories:n.map(e=>q(e))})};var W=n(1811);n.d(t,"a",(function(){return G}));let G=(()=>{class e extends i.Component{componentDidUpdate(e){const{isOpen:t}=this.props,{analyticsClient:n}=this.context.legacyClients;e.isOpen!==t&&Object(o.c)(n,"version",t)}render(){const{isOpen:e,onCloseRequest:t,stubProcessingState:n}=this.props;return i.createElement(W.a,{isOpen:e,successScreen:{buttonText:"Close",descriptionText:"Your new version was uploaded. Click the button below to close this dialog."},failureScreen:{buttonText:"Close",descriptionText:"Unfortunately we could not create your new dataset version."},processingScreen:{buttonText:"Close",descriptionText:"Users will see the previous version while the new version is being processed."},resetOnClose:!0,renderUploader:Q(this.props),onCloseRequest:t,stubProcessingState:n})}}return e.contextType=a.ClientsContext,e})();const Q=e=>t=>{const{isOpen:n,user:a,referrer:o,defaultContainer:r,dataset:s}=e,{onCloseRequest:l,onCreateSuccess:c}=t;return i.createElement(B,{key:n?"open":"closed",isOpen:n,user:a,referrer:o,onCloseRequest:l,onCreateSuccess:c,dataset:s,defaultContainer:r})}},2355:function(e,t,n){"use strict";var a=n(3),i=n(2164),o=n(8),r=n(0),s=n(383),l=n(1),c=n.n(l);const d={scale:1,tight:!1,variant:"secondary",disabled:!1},u=Object.keys(d);var m=n(1837),p=n(1416);const h=c.a.div`
  align-items: center;
  color: rgba(0, 0, 0, 0.7);
  cursor: pointer;
  display: flex;
  font-size: 1rem;
  height: 2.5rem;
  width: 100%;
  padding-left: 0.5em;
  svg {
    font-size: 1.2rem;
    margin-right: 0.3rem;
  }
  &:hover {
    background: #f8f8f8;
  }
`;class g extends r.Component{constructor(){super(...arguments),this.onToggle=()=>{this.props.onToggle(!this.props.isOn)}}render(){const{isOn:e,hideOnOffText:t}=this.props,n=function(e){const t=e.groupProps||{};return u.reduce((t,n)=>{const a=e[n];return void 0===a?t:Object.assign(Object.assign({},t),{[n]:a})},Object.assign(Object.assign({},d),t))}(this.props);return r.createElement(h,Object.assign({role:"switch","aria-checked":e,isOn:e,disabled:n.disabled,title:n.disabled?"Inactive toggle":`Toggle ${e?"off":"on"}`,onClick:n.disabled?void 0:this.onToggle,"data-testid":"toggle-button"},n,Object(m.a)(this.props)),r.createElement(p.a,{icon:e?"toggle_on":"toggle_off",size:"medium"}),r.createElement("span",null,this.props.description?this.props.description+(!0!==t?e?" on":" off":""):!0!==t?e?"On":"Off":""))}}var f=n(1910);const b=c.a.div``,v=c.a.div`
  align-items: center;
  column-gap: 10px;
  display: grid;
  grid-template-columns: auto auto;
  width: fit-content;
`,y=c()(s.b)`
  align-self: center;
`,w=c.a.div``,E=c()(s.e)`
  color: ${e=>e.theme.material.color.brand.grey[500]};
  display: inline;
`,x=c()(s.u)`
  display: inline;
  font-size: ${e=>e.theme.material.typography.caption.fontSize};
  line-height: ${e=>e.theme.material.typography.caption.lineHeight};
`,C=c()(f.a)`
  width: 465px;
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`;function k(e){const{hashLink:t,onCopy:n,onLearnMore:a,onToggle:i}=e;return r.createElement(b,null,r.createElement(v,null,r.createElement(y,null,"Link Sharing"),r.createElement(g,{isOn:!!t,onToggle:e=>{i()}})),!!t&&r.createElement(C,{text:t,onCopy:n}),r.createElement(w,null,r.createElement(E,null,"Anyone with the link can view and download dataset."," "),r.createElement(x,{onClick:a,href:_,target:"_blank",rel:"noopener"},"Learn more")))}n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return j}));const _="/product-feedback/120243",S="www.kaggle.com/dataset/",O="datasets",T="hash-link";let j=(()=>{class e extends r.Component{constructor(){super(...arguments),this.state={},this.onToggle=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{datasetsClient:e}=this.context.clients,{analyticsClient:t}=this.context.legacyClients,{datasetId:n,hashLink:a,onUpdateHashLink:i}=this.props;if(!!a){this.setState({snackbarMessage:"Link sharing off, previous URL will return 404."});const a={datasetId:n};try{t.logger.report(O,`${T}-delete`,{datasetId:n}),yield e.deleteDatasetHashLink(a),i(void 0)}catch(e){if(t.logger.report(O,`${T}-delete-error`,{datasetId:n}),e instanceof o.CanonicalError){const t=e;this.setState({snackbarMessage:t.message})}}}else{const a={datasetId:n};try{t.logger.report(O,`${T}-create`,{datasetId:n}),i(yield e.createDatasetHashLink(a))}catch(e){if(t.logger.report(O,`${T}-create-error`,{datasetId:n}),e instanceof o.CanonicalError){const t=e;this.setState({snackbarMessage:t.message})}}}})),this.onCopy=()=>{const{analyticsClient:e}=this.context.legacyClients,{hashLink:t}=this.props;t&&e.logger.report(O,`${T}-copy`,{hashLink:t})},this.onLearnMore=()=>{const{datasetId:e}=this.props,{analyticsClient:t}=this.context.legacyClients;t.logger.report(O,`${T}-learn`,{datasetId:e})},this.renderView=()=>{const{hashLink:e}=this.props;return r.createElement(k,{hashLink:e?S+e:void 0,onCopy:this.onCopy,onLearnMore:this.onLearnMore,onToggle:this.onToggle})},this.renderSnackbarMessage=()=>{const{snackbarMessage:e}=this.state;if(e)return r.createElement(i.a,{open:!!e,onClose:()=>{this.setState(t=>({snackbarMessage:t.snackbarMessage===e?void 0:t.snackbarMessage}))},message:e})}}render(){const{isPrivate:e,hashLink:t}=this.props;return e||t?r.createElement(r.Fragment,null,this.renderView(),this.renderSnackbarMessage()):r.createElement(r.Fragment,null)}}return e.contextType=o.ClientsContext,e})()},2356:function(e,t,n){"use strict";var a=n(3),i=n(1),o=n.n(i),r=n(0),s=n(1416),l=n(1608);const c=o.a.li`
  color: ${e=>e.theme.colors.text.medium};
  cursor: pointer;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  ${e=>e.theme.font.main.size.l};
  ${e=>e.theme.font.main.family};
  padding: ${e=>e.theme.size.margin.s} ${e=>e.theme.size.margin.m};

  &:hover {
    background: ${e=>e.theme.colors.hover.light};
  }
`,d=o()(s.a)`
  color: ${e=>"info"===e.iconColor?e.theme.colors.kaggle.blueDark:"success"===e.iconColor?e.theme.colors.kaggle.green:"warning"===e.iconColor?e.theme.colors.kaggle.orange:"error"===e.iconColor?e.theme.colors.kaggle.red:e.theme.colors.text.light};
  margin-right: ${e=>e.theme.size.margin.m};
`,u=o.a.img`
  width: 18px;
  height: 12px;
  margin-right: ${e=>e.theme.size.margin.m};
  display: inline-block;
  filter: grayscale(100%);
  vertical-align: middle;
`,m=o.a.span`
  width: 18px;
  height: 12px;
  margin-right: ${e=>e.theme.size.margin.m};
  display: inline-block;
`,p=o()(c)`
  cursor: default;
  color: ${e=>e.theme.colors.text.light};
`,h=o.a.div`
  ${e=>e.theme.font.main.size.l};
  cursor: pointer;
`,g=o.a.div`
  position: relative;
`,f=o.a.ul`
  position: absolute;
  border-radius: ${e=>e.theme.size.border.radius.dropdownMenu};
  box-shadow: 0 0px 6px rgba(0, 0, 0, 0.06), 0 6px 12px rgba(0, 0, 0, 0.12);
  background: ${e=>e.theme.colors.pure.white};
  z-index: 100;
  top: calc(100% + 12px);
  left: -13px;
  padding: ${e=>e.theme.size.margin.xs} 0;
  margin: 0;
  list-style-type: none;

  ::before {
    border-bottom: 7px solid ${e=>e.theme.colors.pure.white};
    border-left: 7px solid transparent;
    border-right: 7px solid transparent;
    content: "";
    display: block;
    top: -6px;
    left: 15px;
    position: absolute;
    z-index: 100;
  }

  ::after {
    border-bottom: 7px solid rgba(0, 0, 0, 0.06);
    border-left: 7px solid transparent;
    border-right: 7px solid transparent;
    content: "";
    display: block;
    top: -8px;
    left: 15px;
    position: absolute;
    z-index: 99;
  }
`,b=o()(g)`
  display: flex;
  justify-content: center;
`,v=o()(g)`
  display: flex;
  justify-content: flex-end;
`,y=o()(f)`
  display: flex;
  justify-content: center;
  left: unset;

  ::before {
    left: unset;
  }

  ::after {
    left: unset;
  }
`,w=o()(f)`
  left: unset;
  right: -13px;

  ::before {
    left: unset;
    right: 15px;
  }

  ::after {
    left: unset;
    right: 15px;
  }
`;class E extends r.Component{constructor(){super(...arguments),this.dropdownElement=void 0,this.mainElement=void 0,this.handleOutsideClick=e=>{const{onExpand:t}=this.props,n=this.dropdownElement,a=this.mainElement,i=e.target;n&&!n.contains(i)&&a&&!a.contains(i)&&t(!1)},this.renderOption=e=>{const{onSelect:t}=this.props,{disabled:n,title:a,picture:i,key:o}=e,s=!0===n?p:c;return r.createElement(s,{onClick:!0===n?void 0:()=>t(e),key:o},i?"icon"===i.type?r.createElement(d,{icon:i.icon,iconColor:i.color||"default",size:"inline"}):"spinner"===i.type?r.createElement(l.a,null):r.createElement(u,{src:i.src}):r.createElement(m,null),a)}}componentDidMount(){document.addEventListener("mousedown",this.handleOutsideClick)}componentWillUnmount(){document.removeEventListener("mousedown",this.handleOutsideClick)}render(){const{alignment:e,className:t,expanded:n,icon:a,options:i,onExpand:o}=this.props,l="center"===e?b:"left"===e?g:v,c="center"===e?y:"left"===e?f:w;return r.createElement(l,{ref:e=>this.mainElement=e},r.createElement(h,{onClick:()=>{o&&o(!n)}},r.createElement(s.a,{icon:a,size:"small"})),n&&r.createElement(c,{className:t,ref:e=>this.dropdownElement=e},i.map(e=>this.renderOption(e))))}}class x extends r.Component{constructor(){super(...arguments),this.state={expanded:!1,options:this.props.options},this.onSelect=e=>{const{onSelect:t}=this.props,{disabled:n,action:a}=e;!0!==n&&(t&&t(e),a&&"function"===a.type?(a.onSelect(),this.onExpand(!1)):a&&"options"===a.type&&this.setState({options:a.options}))},this.onExpand=e=>{const{onExpand:t}=this.props;t&&t(e);const n=e?this.state.options:this.props.options;this.setState({expanded:e,options:n})}}render(){const{alignment:e,className:t,icon:n}=this.props,{expanded:a,options:i}=this.state;return r.createElement(E,{alignment:e,icon:n,expanded:a,options:i,className:t,onExpand:this.onExpand,onSelect:this.onSelect})}}n.d(t,"a",(function(){return k}));const C=o.a.a`
  color: ${e=>e.theme.colors.text.link};
  text-decoration: none;
  :hover {
    color: ${e=>e.theme.colors.hover.link};
  }
`;class k extends r.Component{constructor(){super(...arguments),this.state={menuState:"default"},this.renderDefault=()=>{const{className:e}=this.props,t=this.createDefaultOptions();return r.createElement(x,{alignment:"right",icon:"more_vert",options:t,className:e,onSelect:this.onSelect,onExpand:this.onExpand})},this.renderCopiedApiCommand=()=>{const{className:e}=this.props;return r.createElement(E,{alignment:"right",icon:"more_vert",expanded:!0,options:[{key:"copiedApiCommand",title:"Copied API command",disabled:!0,picture:{type:"icon",icon:"check",color:"success"}}],className:e,onSelect:this.onSelect,onExpand:this.onExpand})},this.renderStartedUpdate=()=>{const{className:e}=this.props;return r.createElement(E,{alignment:"right",icon:"more_vert",expanded:!0,options:[{key:"startedUpdate",title:"Update in progress",disabled:!0,picture:{type:"spinner"}}],className:e,onSelect:this.onSelect,onExpand:this.onExpand})},this.renderCreatingStarterKernel=()=>{const{className:e}=this.props;return r.createElement(E,{alignment:"right",icon:"more_vert",expanded:!0,options:[{key:"creatingStarterKernel",title:"Creating Starter Notebook",disabled:!0,picture:{type:"spinner"}}],className:e,onSelect:this.onSelect,onExpand:this.onExpand})},this.renderCreatedStarterKernel=e=>{const{className:t}=this.props,n=[{key:"createdStarterKernel",title:r.createElement("span",null,"Created Starter Notebook. ",r.createElement(C,{href:e},"Open")),disabled:!0,picture:{type:"icon",icon:"check",color:"success"}}];return r.createElement(E,{alignment:"right",icon:"more_vert",expanded:!0,options:n,className:t,onSelect:this.onSelect,onExpand:this.onExpand})},this.createDefaultOptions=()=>{const{claims:e,actions:t}=this.props,{canUpdate:n,canCreateVersion:a,canCreateStarterKernel:i,canCopyApiCommand:o,canOpenInGoogleSheets:r}=e,{onCreateVersion:s,onOpenInGoogleSheets:l,onReportIssue:c}=t,d=[];if(n&&d.push({key:"update",title:"Update",action:{type:"function",onSelect:this.onUpdate},picture:{type:"icon",icon:"repeat"}}),a&&d.push({key:"newVersion",title:"New version...",action:{type:"function",onSelect:s},picture:{type:"icon",icon:"insert_drive_file"}}),r){const e={key:"openIn",title:"Open in...",picture:{type:"icon",icon:"open_in_new"},action:{type:"options",options:[]}};r&&e.action&&"options"===e.action.type&&e.action.options.push({key:"googleSheets",title:"Google Sheets...",action:{type:"function",onSelect:l},picture:{type:"icon",icon:"table_chart"}}),d.push(e)}return o&&d.push({key:"copyApi",title:"Copy API command",picture:{type:"icon",icon:"content_copy"},action:{type:"function",onSelect:this.onCopyApiCommand}}),i&&d.push({key:"starterKernel",title:"New Starter Notebook",picture:{type:"icon",icon:"code"},action:{type:"function",onSelect:this.onCreateStarterKernel}}),d.push({key:"socialShare",title:"Social share...",picture:{type:"icon",icon:"share"},action:{type:"options",options:[{key:"facebook",title:"Share via Facebook",action:{type:"function",onSelect:this.onShareFacebook},picture:{type:"icon",icon:"post_facebook"}},{key:"twitter",title:"Share via Twitter",action:{type:"function",onSelect:this.onShareTwitter},picture:{type:"icon",icon:"post_twitter"}},{key:"linkedIn",title:"Share via LinkedIn",action:{type:"function",onSelect:this.onShareLinkedIn},picture:{type:"icon",icon:"post_linkedin"}}]}}),d.push({key:"reportDataset",title:"Report issue...",picture:{type:"icon",icon:"warning"},action:{type:"function",onSelect:c}}),d},this.onSelect=e=>{const{reportEvent:t}=this.props;t("datasets",`dataset-dropdown-${e.key}`)},this.onExpand=e=>{const{reportEvent:t}=this.props;t("datasets",`dataset-dropdown-${e?"open":"close"}`)},this.onUpdate=()=>{const{actions:e}=this.props,{onUpdate:t}=e;this.setState({menuState:"startedUpdate"}),t()},this.onCreateStarterKernel=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{actions:e}=this.props,{onCreateStarterKernel:t}=e;this.setState({menuState:"creatingStarterKernel"});const n=yield t();void 0!==n?(this.setState({menuState:{type:"createdStarterKernel",url:n}}),setTimeout(()=>this.setState({menuState:"default"}),1e4)):this.setState({menuState:"default"})})),this.onCopyApiCommand=()=>{const{dataset:e}=this.props,{slug:t,ownerSlug:n}=e;this.copyToClipboard(`kaggle datasets download -d ${n}/${t}`),this.setState({menuState:"copiedApiCommand"}),setTimeout(()=>this.setState({menuState:"default"}),5e3)},this.copyToClipboard=e=>{const t=n=>{n.clipboardData.setData("text/plain",e),n.preventDefault(),document.removeEventListener("copy",t)};document.addEventListener("copy",t),document.execCommand("copy")},this.openWindow=e=>{window.open(e,"_blank")},this.reportShare=e=>{const{reportEvent:t}=this.props,{dataset:n}=this.props,{id:a}=n;t("datasets","social-share",{datasetId:a,socialNetwork:e})},this.onShareFacebook=()=>{const e=this.createDatasetUrlWithTracking("facebook");this.reportShare("facebook"),this.openWindow(`https://www.facebook.com/dialog/share?app_id=2665027677054710&display=popup&href=${e}`)},this.onShareTwitter=()=>{const{dataset:e}=this.props,{title:t}=e,n=this.createDatasetUrlWithTracking("twitter"),a=encodeURIComponent(`${t} on #kaggle via @KaggleDatasets`);this.reportShare("twitter"),this.openWindow(`https://twitter.com/intent/tweet?text=${a}&url=${n}`)},this.onShareLinkedIn=()=>{const{dataset:e}=this.props,{title:t,overview:n}=e,a=this.createDatasetUrlWithTracking("linkedin"),i=n?encodeURIComponent(`${t} - ${n}`):encodeURIComponent(`${t}`);this.reportShare("linkedin"),this.openWindow(`https://www.linkedin.com/sharing/share-offsite?url=${a}&text=${i}`)},this.createDatasetUrlWithTracking=e=>{const{dataset:t}=this.props,{url:n}=t;return encodeURIComponent(`${n}${this.getTrackingCode(e,n)}`)},this.getTrackingCode=(e,t)=>-1!==t.indexOf("?")?`&utm_medium=social&utm_campaign=kaggle-dataset-share&utm_source=${e}`:`?utm_medium=social&utm_campaign=kaggle-dataset-share&utm_source=${e}`}render(){const{menuState:e}=this.state;return"copiedApiCommand"===e?this.renderCopiedApiCommand():"startedUpdate"===e?this.renderStartedUpdate():"creatingStarterKernel"===e?this.renderCreatingStarterKernel():"default"===e?this.renderDefault():"createdStarterKernel"===e.type?this.renderCreatedStarterKernel(e.url):this.renderDefault()}}},2378:function(e,t,n){"use strict";var a=n(3),i=n(8),o=n(0);const r=e=>{e.logger.report("datasets","metadata-edit")},s=(e,t)=>{e.logger.report("datasets","metadata-cancel",{changeCount:t})},l=(e,t)=>{e.logger.report("datasets","metadata-save",{changeCount:t})},c=(e,t)=>{e.logger.report("datasets","metadata-redirect",{destination:t})},d=(e,t)=>{e.logger.report("datasets","metadata-redirect-warning",{destination:t})},u=e=>{e.logger.report("datasets","metadata-redirect-back")},m=e=>{e.logger.report("datasets","metadata-feedback")},p=e=>{e.logger.report("datasets","metadata-doi-button-click")},h=e=>{e.logger.report("datasets","metadata-doi-persistence-cancel")},g=e=>{e.logger.report("datasets","metadata-doi-generate")};var f=n(45),b=n(383),v=n(1416),y=n(1),w=n.n(y),E=n(1430),x=n(1697);const C="YYYY-MM-DD",k=w()(b.t)`
  color: ${e=>e.theme.material.color.black};
  padding-bottom: ${e=>e.theme.material.spacing(2)};
`,_=w.a.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-row-gap: ${e=>e.theme.material.spacing(3)};
  height: fit-content;

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    grid-template-columns: 1fr;
    grid-row-gap: ${e=>e.theme.material.spacing(1)};
    margin-bottom: ${e=>e.theme.material.spacing(6)};
    padding-bottom: ${e=>e.theme.material.spacing(7)};
    border-bottom: 1px solid ${e=>e.theme.material.color.brand.grey[200]};

    :last-child {
      border-bottom: none;
      padding-bottom: ${e=>e.theme.material.spacing(5)};
      margin-bottom: 0;
    }
  }
`,S=w()(b.b)`
  text-align: left;
  color: ${e=>e.theme.material.color.brand.grey[500]};

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    margin-bottom: ${e=>e.theme.material.spacing(1)};
  }
`,O=w()(S)`
  display: flex;
  align-items: center;
`,T=w.a.div`
  display: grid;
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  font-weight: ${e=>e.theme.material.typography.body2.fontWeight};
  grid-template-columns: 1fr;
  grid-row-gap: ${e=>e.theme.material.spacing(3)};
  line-height: ${e=>e.theme.material.typography.body2.lineHeight};
  word-break: break-word;

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    margin-bottom: ${e=>e.theme.material.spacing(3)};

    :last-child {
      margin-bottom: 0;
    }
  }
`,j=w()(T)`
  grid-template-columns: 1fr 20px;
`,I=w.a.a`
  color: ${e=>e.theme.material.color.brand.blue[800]};
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  font-weight: ${e=>e.theme.material.typography.body2.fontWeight};
  line-height: ${e=>e.theme.material.typography.body2.lineHeight};
  text-decoration: none;
  width: fit-content;

  :hover {
    color: ${e=>e.theme.material.color.brand.blue[500]};
    cursor: pointer;
  }
`,N=w.a.span`
  color: ${e=>e.theme.material.color.text[70]};
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  font-weight: ${e=>e.theme.material.typography.body2.fontWeight};
  line-height: ${e=>e.theme.material.typography.body2.lineHeight};
  user-select: text;
  word-break: break-word;
`,D=N.withComponent("div"),$=w.a.span`
  color: ${e=>e.theme.material.color.brand.grey[500]};
`,M=w()(b.b)`
  color: ${e=>e.theme.material.color.brand.grey[500]};
  padding-bottom: ${e=>e.theme.material.spacing(2)};
  padding-right: ${e=>e.theme.material.spacing(3)};
`,U=w.a.div`
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;
`,P=w()(E.a)`
  width: 100%;
  height: 200px;
  border: 1px solid ${e=>e.theme.material.color.brand.grey[200]};
  border-radius: ${e=>e.theme.material.borderRadius.inset};
  box-sizing: border-box;
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  font-weight: ${e=>e.theme.material.typography.body2.fontWeight};
  line-height: ${e=>e.theme.material.typography.body2.lineHeight};
  resize: none;

  &:focus {
    outline: none;
    border: 1px solid ${e=>e.theme.material.color.brand.grey[400]};
  }
`,F=w()(v.a)`
  height: ${e=>e.theme.material.typography.body2.fontSize};
`,R=w.a.div`
  margin: ${e=>e.theme.material.spacing(5)};
  color: ${e=>e.theme.material.color.brand.grey[400]};
  display: flex;
  justify-content: center;
`,z=w.a.div`
  color: ${e=>e.theme.colors.kaggle.orange};
  margin-top: ${e=>e.theme.material.spacing(2)};
`,L=(e,t,n)=>o.createElement(I,{href:e,key:n},t),A=w()(x.b)`
  align-items: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 20px 12px;
`;function V(e){return e.charAt(0).toUpperCase()+e.slice(1)}function B(e){return f(e).utc().format(C)}var K=n(1468),H=n(2004),q=n(287),W=n(384);function G(e){const{bio:t,isEditMode:n,onUpdate:a}=e;return o.createElement(o.Fragment,null,n&&o.createElement(O,null,"Bio"),!n&&o.createElement(S,null,"Bio"),o.createElement(j,null,n&&o.createElement(W.TextInput,{onSave:a,hasIndicator:!1,debounceMilliseconds:null,sizeToContent:!0,hideBorder:!1,value:t||""}),!n&&o.createElement(N,null,t)))}function Q(e){const{isEditMode:t,isLastAuthorForDoi:n,name:a,onUpdate:i,onRemove:r}=e;return o.createElement(o.Fragment,null,t&&o.createElement(O,null,"Name"),!t&&o.createElement(S,null,"Name"),o.createElement(j,null,t&&o.createElement(o.Fragment,null,!a&&o.createElement(W.Tooltip,{tip:"Name must not be empty",type:"warning"},o.createElement(W.TextInput,{onSave:i,hasIndicator:!1,debounceMilliseconds:null,sizeToContent:!0,hideBorder:!1,value:a})),a&&o.createElement(W.TextInput,{onSave:i,hasIndicator:!1,debounceMilliseconds:null,sizeToContent:!0,hideBorder:!1,value:a}),n&&o.createElement(W.Tooltip,{tip:"There has to be at least one author for Datasets with a DOI attached",type:"warning"},o.createElement(K.a,{useKM:!0,emphasis:"low",leadingIcon:"cancel",disabled:!0,onClick:r}," ")),!n&&o.createElement(K.a,{useKM:!0,emphasis:"low",leadingIcon:"cancel",disabled:!1,onClick:r}," ")),!t&&o.createElement(N,null,V(a))))}function Y(e){const{authors:t,hasDoi:n,isEditMode:a,onAuthorAdd:i,onUpdateAuthorBio:r,onUpdateAuthorName:s,onAuthorRemove:l}=e,c=n&&1===t.length;return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(k,null,"Authors"),a&&o.createElement(M,null,"Credit people who helped created the data.")),o.createElement(_,null,t.map((e,t)=>o.createElement(o.Fragment,{key:e.datasetVersionAuthorId||`index-${t}`},o.createElement(Q,{isLastAuthorForDoi:c,isEditMode:a,name:e.authorName,onUpdate:n=>s(n,t,e.datasetVersionAuthorId),onRemove:()=>l(t,e.datasetVersionAuthorId)}),X(e.authorBio,a)&&o.createElement(G,{bio:e.authorBio||"",isEditMode:a,onUpdate:n=>r(n,t,e.datasetVersionAuthorId)}))),a&&o.createElement(o.Fragment,null,o.createElement(O,null,"Additional authors"),o.createElement(K.a,{useKM:!0,emphasis:"medium",onClick:i},"Add author"))))}const X=(e,t)=>t||!!e;function J(e){const{isEditMode:t,text:n,onUpdate:a}=e;return t?o.createElement(o.Fragment,null,o.createElement(O,null,"Spatial coverage"),o.createElement(T,null,o.createElement(W.TextInput,{onSave:a,hasIndicator:!1,debounceMilliseconds:null,sizeToContent:!0,hideBorder:!1,value:n}))):o.createElement(o.Fragment,null,o.createElement(S,null,"Spatial coverage"),o.createElement(T,null,o.createElement(N,null,V(n))))}const Z=w.a.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
`,ee=w()(W.DatePicker)`
  border-radius: ${e=>e.theme.material.borderRadius.inset};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
  font-size: ${e=>e.theme.material.typography.body2.fontSize};
  line-height: ${e=>e.theme.material.typography.body2.lineHeight};
  max-width: ${e=>e.theme.material.spacing(27)};
  padding: ${e=>e.theme.material.spacing(1)};
  vertical-align: middle;

  ::-webkit-datetime-edit {
    font-size: ${e=>e.theme.material.typography.body2.fontSize};
  }
  ::-webkit-clear-button,
  ::-webkit-inner-spin-button {
    display: none;
  }
`;function te(e){const{addPrompt:t,onUpdate:n,value:a}=e;return a?o.createElement(Z,null,o.createElement(ee,{value:B(a),onChange:e=>n(B(e.currentTarget.value))}),o.createElement(K.a,{useKM:!0,emphasis:"low",leadingIcon:"cancel",disabled:!1,onClick:()=>n(void 0)}," ")):o.createElement(Z,null,o.createElement(K.a,{useKM:!0,emphasis:"medium",onClick:()=>n(B())},t))}const ne=w.a.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
`;function ae(e){const{from:t,to:n,onUpdateFrom:a,onUpdateTo:i}=e;return o.createElement("div",null,o.createElement(ne,null,o.createElement(te,{addPrompt:"Time start",onUpdate:a,value:t}),o.createElement($,null,"to"),o.createElement(te,{addPrompt:"Time end",onUpdate:i,value:n})),t&&n&&new Date(t)>new Date(n)&&o.createElement(z,null,"The temporal coverage start time is later than the end time."))}const ie=w()($)`
  margin: 0 ${e=>e.theme.material.spacing(2)};

  &:first-child {
    margin-left: 0;
    margin-right: ${e=>e.theme.material.spacing(2)};
  }
`;function oe(e){const{from:t,to:n}=e;return t&&n?o.createElement(N,null,o.createElement(N,null,B(t)),o.createElement(ie,null,"to"),o.createElement(N,null,B(n))):t?o.createElement(N,null,o.createElement(ie,null,"from "),o.createElement(N,null,B(t))):n?o.createElement(N,null,o.createElement(ie,null,"up to "),o.createElement(N,null,B(n))):o.createElement(o.Fragment,null)}function re(e){const{isEditMode:t,from:n,to:a,onUpdateFrom:i,onUpdateTo:r}=e;return t?o.createElement(o.Fragment,null,o.createElement(O,null,"Temporal coverage"),o.createElement(T,null,o.createElement(ae,{from:n,to:a,onUpdateFrom:i,onUpdateTo:r}))):o.createElement(o.Fragment,null,o.createElement(S,null,"Temporal coverage"),o.createElement(T,null,o.createElement(oe,{from:n,to:a})))}function se(e){const{isEditMode:t,spatialCoverage:n,temporalCoverageFrom:a,temporalCoverageTo:i,onUpdateSpatialCoverage:r,onUpdateTemporalCoverageFrom:s,onUpdateTemporalCoverageTo:l}=e;return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(k,null,"Date Coverage"),t&&o.createElement(M,null,"Give users a sense of the temporal and geospatial coverage of your dataset.")),o.createElement(_,null,le(e)&&o.createElement(re,{isEditMode:t,from:a,to:i,onUpdateFrom:s,onUpdateTo:l}),ce(e)&&o.createElement(J,{isEditMode:t,text:n||"",onUpdate:r})))}const le=e=>{const{isEditMode:t,temporalCoverageFrom:n,temporalCoverageTo:a}=e;return t||!!n||!!a},ce=e=>{const{isEditMode:t,spatialCoverage:n}=e;return t||!!n},de=w()(v.a).attrs(e=>({color:e.theme.colors.kaggle.red}))`
  margin-right: ${e=>e.theme.material.spacing(2)};
`;function ue(e){return o.createElement(R,null,o.createElement(de,{icon:"times"}),e.message)}var me=n(1608);const pe=w()(me.a)`
  margin-right: ${e=>e.theme.material.spacing(2)};
`;function he(e){return o.createElement(R,null,o.createElement(pe,null),e.message)}const ge=I.withComponent("div");function fe(e){return o.createElement(ge,{onClick:e.onChangeToSettingsTab},"Change in settings")}const be=w.a.div`
  display: flex;
  flex-wrap: nowrap;
  flex-direction: row;

  padding-bottom: ${e=>e.theme.material.spacing(3)};

  :last-child {
    padding-bottom: 0;
  }
`,ve=w()(I)`
  padding: 0 ${e=>e.theme.material.spacing(3)};
`;function ye(e){const{name:t,thumbnailUrl:n,slug:a,userTier:i}=e;return o.createElement(be,null,o.createElement(W.Avatar,{displayName:t,hideTooltip:!0,thumbnailUrl:n,userUrl:`/${a}`,tier:we(i),width:25}),o.createElement(ve,{href:`/${a}`},t))}const we=e=>{switch(e){case 0:return"novice";case 1:return"contributor";case 2:return"expert";case 3:return"master";case 4:return"grandmaster";case 5:return"staff";case 6:return"recalc";default:return"novice"}};function Ee(e){const{isEditMode:t,collaborators:n,onChangeToSettingsTab:a}=e;return o.createElement(o.Fragment,null,o.createElement(S,null,"Collaborators"),o.createElement(T,null,o.createElement(U,null,0===n.length&&o.createElement(D,null,"No collaborators"),n.length>0&&o.createElement("div",null,n.map((e,t)=>o.createElement(ye,{name:e.name,slug:e.slug,thumbnailUrl:e.thumbnailUrl,userTier:e.userTier,key:t}))),t&&o.createElement(fe,{onChangeToSettingsTab:a}))))}function xe(e){const{isEditMode:t,owner:n,onChangeToSettingsTab:a}=e;return o.createElement(o.Fragment,null,o.createElement(S,null,"Dataset owner"),o.createElement(U,null,o.createElement(ye,{name:n.name,slug:n.slug,thumbnailUrl:n.thumbnailUrl,userTier:n.userTier}),t&&o.createElement(fe,{onChangeToSettingsTab:a})))}function Ce(e){const{collaborators:t,isEditMode:n,owner:a,onChangingToSettingsGeneralTab:i,onChangingToSettingsSharingTab:r}=e;return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(k,null,"Maintainers"),n&&o.createElement(M,null,"Provide details about who is responsible for maintaining the dataset including being available for questions from users.")),o.createElement(_,null,ke(e)&&o.createElement(xe,{isEditMode:n,owner:a,onChangeToSettingsTab:i}),_e(e)&&o.createElement(Ee,{isEditMode:n,collaborators:t,onChangeToSettingsTab:r})))}const ke=e=>{const{isEditMode:t,owner:n}=e;return t||!!n},_e=e=>{const{collaborators:t,isEditMode:n}=e;return n||t.length>0};var Se=n(1475),Oe=n.n(Se);function Te(e){const{collectionMethods:t,isEditMode:n,onUpdateCollectionMethods:a}=e;return o.createElement(o.Fragment,null,o.createElement(S,null,"Collection methodology"),o.createElement(T,null,!n&&t&&o.createElement(N,null,o.createElement(Oe.a,{componentDecorator:L},V(t))),n&&o.createElement(P,{value:t||"",minRows:8,onChange:e=>a(e.target.value)})))}const je=w()(v.a)`
  margin-left: ${e=>e.theme.material.spacing(2)};
`,Ie=w()(I)`
  display: block;
  white-space: normal;
`;function Ne(e){const{kernelReference:t,externalSourceUrl:n}=e;let a,i;return null!==n?(a=n,i=n):null!==t&&(a=t.url?`${t.url}/output`:void 0,i=o.createElement(o.Fragment,null,"From kernel: ",t.title,o.createElement(je,{icon:t.isPrivate?"lock":"lock_open",size:"inline"}))),o.createElement(Ie,{target:"_blank",href:a,rel:"noopener"},i)}function De(e){const{autoGeneratedSources:t,isEditMode:n,userSpecifiedSources:a,onUpdateUserSpecifiedSources:i}=e;return o.createElement(o.Fragment,null,o.createElement(S,null,"Sources"),o.createElement(T,null,t.map((e,t)=>o.createElement(Ne,Object.assign({},e,{key:t}))),!n&&0===t.length&&a&&o.createElement(D,null,o.createElement(Oe.a,{componentDecorator:L},a)),n&&0===t.length&&o.createElement(W.TextInput,{onSave:i,hasIndicator:!1,debounceMilliseconds:null,sizeToContent:!0,hideBorder:!1,value:a||""})))}function $e(e){return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(k,null,"Provenance"),e.isEditMode&&o.createElement(M,null,"Describe the source of the data (provenance) and any transformations you use to collect it. This helps users understand the context and makes the data reusable.")),o.createElement(_,null,Me(e)&&o.createElement(De,{autoGeneratedSources:e.autoGeneratedSources,isEditMode:e.isEditMode,userSpecifiedSources:e.userSpecifiedSources,onUpdateUserSpecifiedSources:e.onUpdateUserSpecifiedSources}),Ue(e)&&o.createElement(Te,{collectionMethods:e.collectionMethods,isEditMode:e.isEditMode,onUpdateCollectionMethods:e.onUpdateCollectionMethods})))}const Me=e=>e.isEditMode||e.autoGeneratedSources.length>0||!!e.userSpecifiedSources,Ue=e=>e.isEditMode||!!e.collectionMethods;function Pe(e){const{onCancel:t,onRedirect:n}=e;return o.createElement(x.a,{description:" If you close this dialog, all your unsaved changes will be lost. Do you want to continue?",confirmText:"Continue",cancelText:"Cancel",onAction:e=>{"confirm"===e?n():t()}})}function Fe(e){return o.createElement(o.Fragment,null,o.createElement(S,null,"Current version"),o.createElement(T,null,o.createElement(N,null,"Version ",e.currentVersionNumber)))}function Re(e){return o.createElement(o.Fragment,null,o.createElement(S,null,"Date created"),o.createElement(T,null,o.createElement(N,null,f(e.dateCreated).format(C))))}var ze=n(1769);const Le=w()(ze.a)`
  width: 100%;
`;function Ae(e){const{options:t,selectedValue:n,onUpdate:a}=e,i=V(n),r=t.map(e=>({label:V(e),value:e}));return o.createElement(Le,{value:r.find(e=>e.label===i),onChange:e=>e&&a(e.value.toLowerCase()),isSearchable:!1,options:r})}function Ve(e){const{expectedUpdateFrequency:t,isEditMode:n,options:a,onChangeToSettingsTab:i,onUpdate:r}=e,{isAutoUpdatedTypedDataset:s,updateFrequency:l}=t,c=V(l);return o.createElement(o.Fragment,null,o.createElement(O,null,s?"Update frequency":"Expected update frequency"),o.createElement(T,null,o.createElement(U,null,!n&&o.createElement(N,null,c),n&&s&&o.createElement(o.Fragment,null,o.createElement(N,null,c),o.createElement(fe,{onChangeToSettingsTab:i})),n&&!s&&o.createElement(Ae,{options:a,selectedValue:l,onUpdate:r}))))}function Be(e){return o.createElement(o.Fragment,null,o.createElement(S,null,"Last updated"),o.createElement(T,null,o.createElement(N,null,f(e.lastUpdateDate).format(C))))}function Ke(e){const{currentVersionNumber:t,dateCreated:n,expectedUpdateFrequency:a,updateFrequencyOptions:i,lastUpdateDate:r,isEditMode:s,onChangeToSettingsTab:l,onUpdateExpectedUpdateFrequency:c}=e;return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(k,null,"Updates"),s&&o.createElement(M,null,"Let users know how often the dataset is expected to update.")),o.createElement(_,null,o.createElement(Ve,{expectedUpdateFrequency:a,isEditMode:s,options:i,onChangeToSettingsTab:l,onUpdate:c}),He(e)&&o.createElement(Be,{lastUpdateDate:r}),o.createElement(Re,{dateCreated:n}),qe(e)&&o.createElement(Fe,{currentVersionNumber:t})))}const He=e=>!!e.lastUpdateDate,qe=e=>!!e.currentVersionNumber;function We(){return o.createElement(x.c,null,o.createElement(A,null,o.createElement(me.a,{size:"large"}),o.createElement("div",null,"Generating DOI...")))}const Ge=w()(K.a)`
  margin-top: ${e=>e.theme.material.spacing(3)};
`,Qe=w.a.div`
  color: ${e=>e.theme.material.color.status.success[900]};
`,Ye=w()(v.a)`
  color: ${e=>e.theme.material.color.status.success[900]};
  height: ${e=>e.theme.material.typography.display2.fontSize};
`;function Xe(e){const{doi:t,onClose:n}=e;return o.createElement(x.c,null,o.createElement(A,null,o.createElement("div",null,o.createElement(Qe,null,"Success"),o.createElement(Ye,{icon:"check_circle_outline",size:"large","data-test":"icon"}),o.createElement("div",null,"You generated DOI:",o.createElement("br",null),o.createElement(D,{"data-test":"doi-text"},t))),o.createElement(Ge,{emphasis:"medium",onClick:n},"Done")))}function Je(e){const{onCancel:t,onConfirm:n}=e;return o.createElement(x.a,{description:o.createElement("div",null,o.createElement("div",{"data-test":"description"},"By generating a DOI, you agree to make your dataset persistently available in this location. You also agree to Kaggle sending metadata about the dataset (including your name) to ",o.createElement(I,{href:"https://datacite.org"},"DataCite"),", a non-profit data citation tool, to generate the identifier."),o.createElement("br",null),o.createElement("div",{"data-test":"support-message"},"If you need to delete your dataset, you will need to contact support@kaggle.com")),confirmText:"Agree",cancelText:"Cancel",onAction:e=>{"confirm"===e?n():t()}})}var Ze=n(2191),et=n(2190),tt=n(1634),nt=n(1893),at=n(2005),it=n(1971);const ot=(e,t,n)=>{e.legacyClients.analyticsClient.logger.report("datasets",`citation-${t}`,n)};var rt=n(2031);const st=w.a.div`
  display: flex;
  flex-direction: column;
  margin: ${e=>e.theme.material.spacing(2)} 0;
  padding: ${e=>e.theme.material.spacing(2)} 0;
  width: 100%;
`,lt=w()(b.b)`
  font-family: ${e=>e.theme.material.typography.code.fontFamily} !important;
  border: 1px solid ${e=>e.theme.colors.border};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(3)};
  margin: ${e=>e.theme.material.spacing(4)} 0;
`,ct=w()(b.b)`
  color: ${e=>e.theme.material.color.status.error[900]};
  margin: ${e=>e.theme.material.spacing(4)} 0;
`,dt=w()(b.b.withComponent("div"))`
  margin: ${e=>e.theme.material.spacing(4)} 0;
`,ut=w()(me.a)`
  font-size: ${e=>e.theme.material.typography.fontSize[14]} !important;
  margin-right: ${e=>e.theme.material.spacing(3)};
`;function mt(e){const{format:t,citation:n,recentlyCopied:a,onGetCitation:i,onSetFormat:r,onCopy:s}=e;return o.useEffect(()=>{i()},[t]),"loading"===t?o.createElement(st,null,o.createElement(dt,{"data-testid":"citation-loading"},o.createElement(ut,{size:"xsmall"}),"Loading formats...")):"error"===t?o.createElement(st,null,o.createElement(ct,{"data-testid":"citation-error"},"Unfortunately, we couldn't load the list of formats. Please try again.")):o.createElement(st,null,o.createElement(rt.a,{value:t.selectedFormat,onChange:e=>{r(e.target.value)}},t.formats.map(e=>o.createElement("option",{key:e,value:e,"aria-selected":e===t.selectedFormat},e))),pt(n),"loading"===n||"error"===n?o.createElement(K.a,{disabled:"loading"===n,onClick:i},"Generate Citation"):o.createElement(K.a,{disabled:a,onClick:s},a?"Copied":"Copy citation"))}const pt=e=>"loading"===e?o.createElement(dt,{"data-testid":"citation-loading"},o.createElement(ut,{size:"xsmall"}),"Loading..."):"error"===e?o.createElement(ct,{"data-testid":"citation-error"},"Unfortunately, we couldn't generate your citation. Please try again."):o.createElement(lt,{"data-testid":"citation-citation"},e.citation),ht=w()(nt.a)`
  z-index: 100 !important;
`;function gt(e){const{doi:t,isOpen:n,bothClients:i,onGetCitation:r,onGetFormats:s,onCloseRequest:l}=e,[c,d]=o.useState("loading"),[u,m]=o.useState("loading"),[p,h]=o.useState(!1);return o.useEffect(()=>{s().then(e=>d({formats:e,selectedFormat:"bibtex"})).catch(()=>{d("error"),ot(i,"error-format")})},[t]),o.createElement(ht,{open:n,onClose:()=>l()},o.createElement(at.a,null,"Select Citation Format"),o.createElement(it.a,null,o.createElement(mt,{citation:u,format:c,recentlyCopied:p,onGetCitation:()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){if("loading"===c||"error"===c)m("error");else{m("loading");try{const e=yield r(t,c.selectedFormat);m({citation:e})}catch(e){m("error"),ot(i,"error-citation")}}})),onSetFormat:e=>{"loading"===c||"error"===c?m("error"):(m("loading"),d({formats:c.formats,selectedFormat:e}),h(!1),ot(i,"change-format",{format:e}))},onCopy:()=>{"loading"!==u&&"error"!==u&&(h(!0),Object(tt.a)(u.citation),setTimeout(()=>h(!1),1e3),ot(i,"copy-modal"))}})))}const ft=w.a.div`
  border: 1px solid ${e=>e.theme.colors.border};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  flex-grow: 1;
`,bt=w()(b.b.withComponent("div"))`
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(3)};
`,vt=w()(me.a)`
  font-size: ${e=>e.theme.material.typography.fontSize[14]} !important;
  margin-right: ${e=>e.theme.material.spacing(3)};
`,yt=w()(b.b)`
  color: ${e=>e.theme.material.color.status.error[900]};
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(3)};
`,wt=w()(b.b)`
  font-family: ${e=>e.theme.material.typography.code.fontFamily} !important;
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(3)};
`,Et=w.a.div`
  border-top: 1px solid ${e=>e.theme.colors.border};
  display: flex;
`,xt=w()(K.a)`
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(3)};
`;function Ct(e){const{state:t,onChangeFormat:n,onCopyCitation:a}=e;return"loading"===t?o.createElement(ft,null,o.createElement(bt,{"data-testid":"citation-pane-loading"},o.createElement(vt,{size:"xsmall"}),"Loading...")):"error"===t?o.createElement(ft,null,o.createElement(yt,{"data-testid":"citation-pane-error"},"Unfortunately, we couldn't load your citation.")):o.createElement(ft,null,o.createElement(wt,{"data-testid":"citation-pane-citation"},t.citation),o.createElement(Et,null,o.createElement(xt,{variant:"text",onClick:n},"Change format"),o.createElement(xt,{variant:"text",onClick:a},"Copy citation")))}function kt(e){const{doi:t,defaultFormat:n,bothClients:a,onGetCitation:i,onGetFormats:r}=e,[s,l]=o.useState(!1),[c,d]=o.useState("loading");return o.useEffect(()=>{i(t,n).then(e=>d({citation:e})).catch(()=>{d("error"),ot(a,"error-citation")})},[t,n]),o.createElement(o.Fragment,null,o.createElement(Ct,{state:c,onCopyCitation:()=>{"loading"!==c&&"error"!==c&&(Object(tt.a)(c.citation),ot(a,"copy-pane"))},onChangeFormat:()=>{l(!0),ot(a,"modal-open")}}),s&&o.createElement(gt,{doi:t,isOpen:s,bothClients:a,onGetCitation:i,onGetFormats:r,onCloseRequest:()=>{l(!1),ot(a,"modal-close")}}))}function _t(e){const{doi:t}=e;return o.createElement(o.Fragment,null,o.createElement(S,null,"Citation"),o.createElement(T,null,o.createElement(i.ClientsContext.Consumer,null,e=>o.createElement(kt,{doi:t,defaultFormat:"ieee",bothClients:e,onGetFormats:et.a,onGetCitation:Ze.a}))))}w.a.div`
  display: flex;
  align-items: stretch;

  height: ${"24px"};
  padding: 0;

  background-color: ${e=>e.theme.colors.pure.white};
  border: 1px solid ${e=>e.theme.colors.content.borderLight};
  border-radius: ${e=>e.theme.size.border.radius.button};
`,w()(W.Tooltip)`
  display: flex;
  align-items: center;
`;const St=w()(v.a).attrs(e=>({color:e.theme.colors.kaggle.blueDark}))`
  padding: 0 ${e=>e.theme.size.pad.s};
  ${e=>e.theme.font.main.size.s};
`,Ot=(w()(v.a).attrs(e=>({color:e.theme.colors.kaggle.blueDark}))`
  padding: 0 ${e=>e.theme.size.pad.xs};
  ${e=>e.theme.font.main.size.s};
`,w()(v.a).attrs(e=>({color:e.theme.colors.kaggle.green}))`
  padding: 0 ${e=>e.theme.size.pad.xs};
  ${e=>e.theme.font.main.size.s};
`,w()(N)`
  color: ${e=>e.theme.material.color.status.caution[500]};
  font-size: ${e=>e.theme.material.typography.caption.fontSize};
  font-weight: ${e=>e.theme.material.typography.caption.fontWeight};
  line-height: ${e=>e.theme.material.typography.caption.lineHeight};
`),Tt=w()(St)`
  vertical-align: initial;
`;function jt(e){const{hasAuthor:t,isEditMode:n,isPrivate:a,onGenerateDoiButtonClicked:i,doi:r}=e,s=t&&!a,l=function(e,t){return!e&&t?"You must first save an author information and make your dataset public before generating a DOI":e?t?"You must first make your dataset public before generating a DOI":"":"You must first save an author information before generating a DOI"}(t,a);return o.createElement(o.Fragment,null,n&&!r&&o.createElement(O,null,"DOI",It()),r&&o.createElement(S,null,"DOI",It()),o.createElement(T,null,r&&o.createElement(N,{"data-test":"doi-text"},r),n&&!r&&o.createElement("div",null,o.createElement(K.a,{useKM:!0,emphasis:"medium",onClick:i,disabled:!s},"Generate DOI"),l&&o.createElement(Ot,{"data-test":"warning"},l))))}const It=()=>o.createElement(I,{href:"https://en.wikipedia.org/wiki/Digital_object_identifier",target:"_blank",rel:"noopener"},o.createElement(Tt,{icon:"info",size:"inline"}));var Nt=n(1855),Dt=n(1770);const $t=w()(Dt.c)`
  ${e=>e.theme.font.main.size.m};
`;function Mt(e){const{licenseGroups:t,licenseId:n,isEditMode:a,onUpdateLicenseId:i}=e,r=t.map(e=>e.licenses).reduce((e,t)=>[...e,...t],[]).filter(e=>e.id===n)[0];return o.createElement(o.Fragment,null,a&&o.createElement(O,null,"License"),!a&&o.createElement(S,null,"License"),o.createElement(T,null,!a&&r&&r.url&&o.createElement(I,{href:r.url},r.name,o.createElement(St,{icon:"info",size:"inline"})),!a&&r&&!r.url&&o.createElement(N,null,r.name),a&&o.createElement("div",null,o.createElement(Nt.a,{isDisabled:!1,licenseGroups:t,licenseId:n,onLicenseIdChange:i,optionComponent:o.createElement($t,null),singleValueComponent:o.createElement($t,null)}))))}const Ut=w()(F)`
  color: ${e=>e.theme.material.color.brand.grey[500]};
  margin-right: ${e=>e.theme.material.spacing(2)};
`;function Pt(e){const{hasHashLink:t,isEditMode:n,isPrivate:a,onChangeToSettingsTab:i}=e,r=a?t?"Link":"Private":"Public",s="Public"===r?"visibility":"Link"===r?"link":"visibility_off";return o.createElement(o.Fragment,null,o.createElement(S,null,"Visibility"),o.createElement(T,null,o.createElement(U,null,o.createElement("span",null,o.createElement(Ut,{icon:s,size:"inline"}),o.createElement($,null,r)),n&&a&&o.createElement(fe,{onChangeToSettingsTab:i}))))}function Ft(e){const{doi:t,hasAuthor:n,hasHashLink:a,licenseGroups:i,licenseId:r,isEditMode:s,isPrivate:l,onChangingToSettingsTab:c,onUpdateLicenseId:d,onGenerateDoiButtonClicked:u}=e;return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(k,null,"Usage Information"),s&&o.createElement(M,null,"How do you want other people to use and cite your dataset? Proper usage information will encourage appropriate collaboration.")),o.createElement(_,null,o.createElement(Mt,{licenseGroups:i,licenseId:r,isEditMode:s,onUpdateLicenseId:d}),Rt(e)&&o.createElement(jt,{hasAuthor:n,isEditMode:s,isPrivate:l,onGenerateDoiButtonClicked:u,doi:t}),t&&o.createElement(_t,{doi:t}),o.createElement(Pt,{hasHashLink:a,isEditMode:s,isPrivate:l,onChangeToSettingsTab:c})))}const Rt=e=>{const{isEditMode:t,doi:n}=e;return t||!!n},zt=w.a.div`
  display: grid;
  grid-template-columns: 1fr 3fr;
  grid-row-gap: ${e=>e.theme.material.spacing(7)};
  grid-column-gap: ${e=>e.theme.material.spacing(6)};
  margin: ${e=>e.theme.material.spacing(5)};
  user-select: text;

  @media only screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    grid-template-columns: 1fr;
    grid-gap: ${e=>e.theme.material.spacing(2)};
  }
`,Lt=w()(b.t)`
  align-self: center;
  color: ${e=>e.theme.material.color.text[40]};
  flex: 1 1 auto;
  text-align: left;
`,At=w()(K.a)`
  margin-right: 8px;
`;function Vt(e){const{model:t,onCancelButtonClick:n,onEditButtonClick:a,onFeedbackButtonClick:i,onSaveButtonClick:r}=e,s="success"===t.type&&t.permission.canEdit&&t.permission.editStatus.isEditing,l="success"===t.type&&t.permission.canEdit&&t.permission.editStatus.isEditing?t.permission.editStatus.dirtyMetadataCount:0,c="success"===t.type&&t.permission.canEdit&&!t.permission.editStatus.isEditing;return o.createElement(H.a,{header:o.createElement(o.Fragment,null,o.createElement(Lt,null,"Metadata"),o.createElement(At,{useKM:!0,href:"/product-feedback/85128",onClick:i,emphasis:"medium",leadingIcon:"forum",target:"_blank"},"Feedback"),c&&o.createElement(K.a,{useKM:!0,onClick:a,leadingIcon:"edit",emphasis:"medium"},"Edit")),footer:s&&o.createElement(o.Fragment,null,o.createElement(K.a,{useKM:!0,onClick:n,emphasis:"low"},"Cancel"),o.createElement(K.a,{useKM:!0,onClick:r,emphasis:"medium",disabled:0===l},"Save ",q(" change",l||0)))},Bt(e))}const Bt=e=>{const{model:t,onConfirmSettingsRedirect:n,onCancelOverlayModal:a,onChangeToSettingsGeneralTab:i,onChangeToSettingsSharingTab:r,onGenerateDoiButtonClicked:s,onDoiPersistenceAccept:l,onUpdateCollectionMethods:c,onUpdateAuthorAdd:d,onUpdateAuthorBio:u,onUpdateAuthorName:m,onUpdateAuthorRemove:p,onUpdateExpectedUpdateFrequency:h,onUpdateLicenseId:g,onUpdateSpatialCoverage:f,onUpdateTemporalCoverageFrom:b,onUpdateTemporalCoverageTo:v,onUpdateUserSpecifiedSources:y,overlayModal:w}=e;switch(t.type){case"success":const E=t.permission.canEdit&&t.permission.editStatus.isEditing,{hasAuthorSaved:x,updateFrequencyOptions:C}=t,{autoGeneratedSources:k,collaboratorList:_,collectionMethods:S,currentVersionNumber:O,dataCoverageAttribute:T,datasetCreationTimestamp:j,datasetVersionAuthors:I,doi:N,expectedUpdateFrequency:D,hasHashLink:$,isPrivate:M,lastDataUpdatedTimestamp:U,licenseGroups:P,licenseId:F,userSpecifiedSources:R}=t.payload;return o.createElement(o.Fragment,null,o.createElement(zt,null,o.createElement(Ft,{doi:N||void 0,hasAuthor:x,hasHashLink:$,licenseGroups:P,licenseId:F,isEditMode:E,isPrivate:M,onChangingToSettingsTab:r,onGenerateDoiButtonClicked:s,onUpdateLicenseId:g}),Wt(e.model)&&o.createElement($e,{autoGeneratedSources:k,collectionMethods:S||void 0,isEditMode:E,userSpecifiedSources:R||void 0,onUpdateCollectionMethods:c,onUpdateUserSpecifiedSources:y}),Ht(e.model)&&o.createElement(Ce,{collaborators:_.collaborators,isEditMode:E,owner:_.owner,onChangingToSettingsGeneralTab:i,onChangingToSettingsSharingTab:r}),qt(e.model)&&o.createElement(Y,{authors:I,hasDoi:!!N,isEditMode:E,onAuthorAdd:d,onAuthorRemove:p,onUpdateAuthorBio:u,onUpdateAuthorName:m}),o.createElement(Ke,{currentVersionNumber:O||void 0,dateCreated:j,expectedUpdateFrequency:D,updateFrequencyOptions:C,isEditMode:E,lastUpdateDate:U||void 0,onChangeToSettingsTab:i,onUpdateExpectedUpdateFrequency:h}),Kt(e.model)&&o.createElement(se,{isEditMode:E,spatialCoverage:T.spatialCoverage||void 0,temporalCoverageFrom:T.temporalCoverageFrom||void 0,temporalCoverageTo:T.temporalCoverageTo||void 0,onUpdateSpatialCoverage:f,onUpdateTemporalCoverageFrom:b,onUpdateTemporalCoverageTo:v})),("GeneralSettingsRedirect"===w||"SharingSettingsRedirect"===w)&&o.createElement(Pe,{onCancel:a,onRedirect:n}),"DoiPersistenceWarning"===w&&o.createElement(Je,{onCancel:a,onConfirm:l}),"DoiGenerationSpinner"===w&&o.createElement(We,null),"DoiGenerationSuccess"===w&&N&&o.createElement(Xe,{onClose:a,doi:N}));case"loading":return o.createElement(he,{message:"Loading data..."});case"error":default:return o.createElement(ue,{message:t.message})}},Kt=e=>{if("success"===e.type){const{spatialCoverage:t,temporalCoverageFrom:n,temporalCoverageTo:a}=e.payload.dataCoverageAttribute;return e.permission.canEdit&&e.permission.editStatus.isEditing||!!t||!!n||!!a}return!1},Ht=e=>{if("success"===e.type){const{collaboratorList:t}=Object.assign({},e.payload),{owner:n,collaborators:a}=t;return e.permission.canEdit&&e.permission.editStatus.isEditing||!!n||a.length>0}return!1},qt=e=>{if("success"===e.type){const{datasetVersionAuthors:t}=Object.assign({},e.payload);return e.permission.canEdit&&e.permission.editStatus.isEditing||t.length>0}return!1},Wt=e=>{if("success"===e.type){const{autoGeneratedSources:t,collectionMethods:n,userSpecifiedSources:a}=Object.assign({},e.payload);return e.permission.canEdit&&e.permission.editStatus.isEditing||t.length>0||!!a||!!n}return!1};n.d(t,"a",(function(){return Qt}));const Gt=["not specified","never","annually","quarterly","monthly","weekly","daily","hourly"];class Qt extends o.Component{constructor(){super(...arguments),this.state={isEditing:!1,getRequest:{type:"loading"},updateRequest:{type:"success"}},this.loadDatasetMetadata=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{datasetHashLink:e}=this.props,{datasetsClient:t}=this.props.bothClients.clients;try{const n=yield t.getDatasetMetadata({datasetVersionId:this.props.datasetVersionId,hashLink:void 0===e?null:e});this.setState({getRequest:{type:"success",payload:n,lastSavedPayload:n}})}catch(e){if(e instanceof i.CanonicalError){const t=e;this.updateStateWithGetRequestError(t.message)}else this.updateStateWithGetRequestError("Failed to load dataset metadata.")}})),this.mapGetRequestToViewModel=()=>{switch(this.state.getRequest.type){case"success":const{payload:e,lastSavedPayload:t}=this.state.getRequest;return{type:"success",hasAuthorSaved:t.datasetVersionAuthors.length>0,payload:e,permission:this.generateEditPermission(),updateFrequencyOptions:this.generateExpectedUpdateFrequencyOptions()};case"loading":return{type:"loading"};case"error":default:return{type:"error",message:this.state.getRequest.message}}},this.generateEditPermission=()=>{const{canEditDataset:e}=this.props,{isEditing:t,getRequest:n}=this.state;return"success"===n.type&&n.payload.isEditable?e&&t?{canEdit:!0,editStatus:{isEditing:!0,dirtyMetadataCount:this.dirtyMetadataCount()}}:e?{canEdit:!0,editStatus:{isEditing:!1}}:{canEdit:!1}:{canEdit:!1}},this.generateExpectedUpdateFrequencyOptions=()=>{let e=[...Gt];const{getRequest:t}=this.state;if("success"===t.type){const n=t.lastSavedPayload.expectedUpdateFrequency.updateFrequency,a=t.payload.expectedUpdateFrequency.updateFrequency;e.some(e=>e===n)||(e=[n,...e]),e.some(e=>e===a)||(e=[a,...e])}return e},this.onRemoveOverlayClick=()=>{const{analyticsClient:e}=this.props.bothClients.legacyClients,{overlayModal:t}=this.state;"GeneralSettingsRedirect"===t||"SharingSettingsRedirect"===t?u(e):"DoiPersistenceWarning"===t&&h(e),this.setState({overlayModal:void 0})},this.onConfirmSettingsRedirect=()=>{const{analyticsClient:e}=this.props.bothClients.legacyClients,{overlayModal:t}=this.state;if("GeneralSettingsRedirect"===t||"SharingSettingsRedirect"===t)switch(t){case"SharingSettingsRedirect":return c(e,"Sharing"),void this.props.onChangeToSettingsSharingTab();case"GeneralSettingsRedirect":return c(e,"General"),void this.props.onChangeToSettingsGeneralTab()}},this.onChangeToSettings=e=>{const{analyticsClient:t}=this.props.bothClients.legacyClients;if(0===this.dirtyMetadataCount())switch(c(t,e),e){case"Sharing":return void this.props.onChangeToSettingsSharingTab();case"General":default:return void this.props.onChangeToSettingsGeneralTab()}else d(t,e),this.setState({overlayModal:"Sharing"===e?"SharingSettingsRedirect":"GeneralSettingsRedirect"})},this.onSaveButtonClick=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){if("success"!==this.state.getRequest.type)return;const{analyticsClient:e}=this.props.bothClients.legacyClients,{datasetsClient:t}=this.props.bothClients.clients,{collectionMethods:n,dataCoverageAttribute:a,datasetVersionAuthors:o,doi:r,expectedUpdateFrequency:s,licenseId:c,userSpecifiedSources:d}=this.state.getRequest.payload,u=s.isAutoUpdatedTypedDataset?null:s.updateFrequency;try{l(e,this.dirtyMetadataCount());const i={datasetVersionId:this.props.datasetVersionId,collectionMethods:n,dataCoverageAttribute:a,datasetVersionAuthors:o,doi:r,expectedUpdateFrequency:u,licenseId:c,userSpecifiedSources:d},s=yield t.updateDatasetMetadata(i);this.setState((e,t)=>{if("success"===e.getRequest.type&&s&&null!==s){const{payload:n}=e.getRequest;return t.onSave(n.licenseId,s),t.onShowPageMessage("Successfully saved dataset metadata.",!0),Object.assign(Object.assign({},e),{isEditing:!1,getRequest:Object.assign(Object.assign({},e.getRequest),{lastSavedPayload:n}),updateRequest:{type:"success"}})}return this.updateStateWithUpdateRequestError(e,t,"Failed to save dataset metadata.")})}catch(e){if(e instanceof i.CanonicalError){const t=e;this.setState((e,n)=>this.updateStateWithUpdateRequestError(e,n,t.message))}}})),this.onEditButtonClick=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{analyticsClient:e}=this.props.bothClients.legacyClients;r(e),this.setState({isEditing:!0})})),this.onCancelButtonClick=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){const{analyticsClient:e}=this.props.bothClients.legacyClients;s(e,this.dirtyMetadataCount()),this.setState(e=>"success"===e.getRequest.type?Object.assign(Object.assign({},e),{getRequest:Object.assign(Object.assign({},e.getRequest),{payload:e.getRequest.lastSavedPayload}),isEditing:!1}):e)})),this.onFeedbackButtonClick=()=>{const{analyticsClient:e}=this.props.bothClients.legacyClients;m(e)},this.dirtyMetadataCount=()=>{let e=0;if("success"===this.state.getRequest.type){const{payload:t,lastSavedPayload:n}=this.state.getRequest,{datasetVersionAuthors:a,dataCoverageAttribute:i}=t,{datasetVersionAuthors:o,dataCoverageAttribute:r}=n,{spatialCoverage:s,temporalCoverageFrom:l,temporalCoverageTo:c}=r,{spatialCoverage:d,temporalCoverageFrom:u,temporalCoverageTo:m}=i,p=function(e,t){const n=e.filter(e=>e.authorBio||e.authorName),a=t.filter(e=>e.authorBio||e.authorName),i={authorName:"",authorBio:null,datasetVersionAuthorId:null};n[n.length]=i,a[a.length]=i;const o=n.length,r=a.length,s=[];for(let e=0;e<=r;e++){s[e]=[];for(let t=0;t<=o;t++)s[e][t]=0}let l=0;for(let e=1;e<=r;e++){const t=a[e-1];l+=(t.authorBio?1:0)+(t.authorName?1:0),s[e][0]=l}let c=0;for(let e=1;e<=o;e++){const t=n[e-1];c+=(t.authorBio?1:0)+(t.authorName?1:0),s[0][e]=c}for(let e=1;e<=r;e++)for(let t=1;t<=o;t++){const i=n[t-1],o=a[e-1],r=o.authorBio&&i.authorBio&&o.authorBio===i.authorBio||!o.authorBio&&!i.authorBio,l=o.authorName&&i.authorName&&o.authorName===i.authorName||!o.authorName&&!i.authorName;s[e][t]=Math.min(s[e-1][t-1],s[e][t-1],s[e-1][t])+(r?0:1)+(l?0:1)}return s[r][o]}(a,o),h=t.collectionMethods!==n.collectionMethods,g=t.doi!==n.doi,f=t.expectedUpdateFrequency!==n.expectedUpdateFrequency,b=t.licenseId!==n.licenseId,v=d!==s,y=!(u===l||u&&l&&B(u)===B(l)),w=!(m===c||m&&c&&B(m)===B(c));e+=p,e+=h?1:0,e+=g?1:0,e+=f?1:0,e+=b?1:0,e+=v?1:0,e+=y||w?1:0,e+=t.userSpecifiedSources!==n.userSpecifiedSources?1:0}return e},this.onGenerateDoiButtonClicked=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){if("success"!==this.state.getRequest.type)return;const{analyticsClient:e}=this.props.bothClients.legacyClients;p(e),this.setState({overlayModal:"DoiPersistenceWarning"})})),this.onGenerateDoi=()=>Object(a.__awaiter)(this,void 0,void 0,(function*(){if("success"!==this.state.getRequest.type)return;const{analyticsClient:e}=this.props.bothClients.legacyClients,{datasetsClient:t}=this.props.bothClients.clients;g(e);try{const e={datasetVersionId:this.props.datasetVersionId,replaceExistingDoi:!1,addDatasetPersistenceApproval:!0};this.setState({overlayModal:"DoiGenerationSpinner"});const n=yield t.createDoi(e);this.setState((e,t)=>"success"===e.getRequest.type&&n&&!n.errorMessage&&null!==n.doi?(t.onShowPageMessage("Successfully created and saved doi.",!0),Object.assign(Object.assign({},e),{getRequest:Object.assign(Object.assign({},e.getRequest),{payload:Object.assign(Object.assign({},e.getRequest.payload),{doi:n.doi}),lastSavedPayload:Object.assign(Object.assign({},e.getRequest.lastSavedPayload),{doi:n.doi})}),overlayModal:"DoiGenerationSuccess"})):(this.setState({overlayModal:void 0}),this.updateStateWithUpdateRequestError(e,t,"Failed to generate doi.")))}catch(e){this.setState({overlayModal:void 0}),this.setState((e,t)=>this.updateStateWithUpdateRequestError(e,t,"Failed to generate doi."))}})),this.onUpdateUserSpecifiedSources=e=>{this.checkAndUpdate(t=>Object.assign(Object.assign({},t),{userSpecifiedSources:e||null}),[])},this.onUpdateCollectionMethods=e=>{this.checkAndUpdate(t=>Object.assign(Object.assign({},t),{collectionMethods:e||null}),[])},this.onUpdateAuthorAdd=()=>{this.checkAndUpdate(e=>Object.assign(Object.assign({},e),{datasetVersionAuthors:[...e.datasetVersionAuthors,{datasetVersionAuthorId:null,authorName:"",authorBio:null}]}),[])},this.onUpdateAuthorBio=(e,t,n)=>{this.checkAndUpdate(n=>{const a=Object.assign(Object.assign({},n),{datasetVersionAuthors:n.datasetVersionAuthors.map((e,t)=>Object.assign({},e))});return a.datasetVersionAuthors[t].authorBio=e||null,a},[e=>this.checkSpecifiedDisplayIndexMatchAuthorId(e.datasetVersionAuthors,n,t)?void 0:"Trying to update author value that's out of sync, please refresh."])},this.onUpdateAuthorName=(e,t,n)=>{this.checkAndUpdate(n=>{const a=Object.assign(Object.assign({},n),{datasetVersionAuthors:n.datasetVersionAuthors.map((e,t)=>Object.assign({},e))});return a.datasetVersionAuthors[t].authorName=e,a},[e=>this.checkSpecifiedDisplayIndexMatchAuthorId(e.datasetVersionAuthors,n,t)?void 0:"Trying to update author value that's out of sync, please refresh."])},this.onUpdateAuthorRemove=(e,t)=>{this.checkAndUpdate(t=>{const n=Object.assign(Object.assign({},t),{datasetVersionAuthors:[...t.datasetVersionAuthors]});return n.datasetVersionAuthors.splice(e,1),n},[n=>this.checkSpecifiedDisplayIndexMatchAuthorId(n.datasetVersionAuthors,t,e)?void 0:"Trying to update author value that's out of sync, please refresh."])},this.checkSpecifiedDisplayIndexMatchAuthorId=(e,t,n)=>n<e.length&&e[n].datasetVersionAuthorId===t,this.onUpdateExpectedUpdateFrequency=e=>{this.checkAndUpdate(t=>{return Object.assign(Object.assign({},t),{expectedUpdateFrequency:Object.assign(Object.assign({},t.expectedUpdateFrequency),{updateFrequency:e.toLowerCase()})})},[t=>e?void 0:"You must choose from an existing update frequency options or specify a non-empty option"])},this.onUpdateLicenseId=e=>{this.checkAndUpdate(t=>Object.assign(Object.assign({},t),{licenseId:e}),[t=>{return t.licenseGroups.map(e=>e.licenses).reduce((e,t)=>[...e,...t],[]).map(e=>e.id).includes(e)?void 0:"Trying to update to an invalid license option."}])},this.onUpdateSpatialCoverage=e=>{this.checkAndUpdate(t=>Object.assign(Object.assign({},t),{dataCoverageAttribute:Object.assign(Object.assign({},t.dataCoverageAttribute),{spatialCoverage:e||null})}),[])},this.onUpdateTemporalCoverageFrom=e=>{this.checkAndUpdate(t=>Object.assign(Object.assign({},t),{dataCoverageAttribute:Object.assign(Object.assign({},t.dataCoverageAttribute),{temporalCoverageFrom:e||null})}),[])},this.onUpdateTemporalCoverageTo=e=>{this.checkAndUpdate(t=>Object.assign(Object.assign({},t),{dataCoverageAttribute:Object.assign(Object.assign({},t.dataCoverageAttribute),{temporalCoverageTo:e||null})}),[])},this.checkAndUpdate=(e,t)=>{this.setState((n,a)=>{if("success"!==n.getRequest.type)return this.updateStateWithUpdateRequestError(n,a,"Trying to update metadata while data is not yet loaded.");for(const e of t){const t=e(n.getRequest.payload);if(t)return this.updateStateWithUpdateRequestError(n,a,t)}const i=e(n.getRequest.payload);return Object.assign(Object.assign({},n),{getRequest:Object.assign(Object.assign({},n.getRequest),{payload:i})})})},this.updateStateWithUpdateRequestError=(e,t,n)=>(t.onShowPageMessage(n,!1),Object.assign(Object.assign({},e),{updateRequest:{type:"error",message:n},overlayModal:void 0}))}componentDidMount(){this.loadDatasetMetadata()}render(){return o.createElement(Vt,{model:this.mapGetRequestToViewModel(),onCancelButtonClick:this.onCancelButtonClick,onCancelOverlayModal:this.onRemoveOverlayClick,onConfirmSettingsRedirect:this.onConfirmSettingsRedirect,onEditButtonClick:this.onEditButtonClick,onFeedbackButtonClick:this.onFeedbackButtonClick,onSaveButtonClick:this.onSaveButtonClick,onChangeToSettingsGeneralTab:()=>this.onChangeToSettings("General"),onChangeToSettingsSharingTab:()=>this.onChangeToSettings("Sharing"),onDoiPersistenceAccept:this.onGenerateDoi,onGenerateDoiButtonClicked:this.onGenerateDoiButtonClicked,onUpdateCollectionMethods:this.onUpdateCollectionMethods,onUpdateAuthorAdd:this.onUpdateAuthorAdd,onUpdateAuthorBio:this.onUpdateAuthorBio,onUpdateAuthorName:this.onUpdateAuthorName,onUpdateAuthorRemove:this.onUpdateAuthorRemove,onUpdateExpectedUpdateFrequency:this.onUpdateExpectedUpdateFrequency,onUpdateLicenseId:this.onUpdateLicenseId,onUpdateSpatialCoverage:this.onUpdateSpatialCoverage,onUpdateTemporalCoverageFrom:this.onUpdateTemporalCoverageFrom,onUpdateTemporalCoverageTo:this.onUpdateTemporalCoverageTo,onUpdateUserSpecifiedSources:this.onUpdateUserSpecifiedSources,overlayModal:this.state.overlayModal})}updateStateWithGetRequestError(e){this.props.onShowPageMessage(e,!1),this.setState({getRequest:{type:"error",message:e}})}}},2383:function(e,t,n){"use strict";var a=n(3),i=n(8),o=n(0),r=n(383),s=n(1416),l=n(1608),c=n(384),d=n(1),u=n.n(d),m=n(159);n(1487);const p=u()(r.f)`
  flex-grow: 1;
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  border: 1px solid ${e=>e.theme.material.color.brand.grey[400]};
  overflow: hidden;
`;function h(e){const{defaultText:t,readOnly:n}=e,a=o.useRef(null),i=g(e,a);return f(i,t),b(i,n),o.createElement(p,{ref:a,className:"CodeMirror-wrapper"})}const g=(e,t)=>{const{defaultText:n,readOnly:a,onChange:i}=e,[r,s]=o.useState(void 0);return o.useLayoutEffect(()=>{const e=m(t.current,{mode:"javascript",value:n,readOnly:a,lineNumbers:!0,tabSize:4,indentUnit:4,cursorHeight:.8});e.on("change",e=>{i({text:e.getValue()})}),s(e)},[]),r},f=(e,t)=>{o.useLayoutEffect(()=>{e&&e.setValue(t)},[e,t])},b=(e,t)=>{o.useLayoutEffect(()=>{e&&e.setOption("readOnly",t)},[e,t])},v=u.a.div`
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  align-items: stretch;

  /* Stop editor from overflowing when it contains long lines of text */
  overflow: hidden;
`,y=u.a.div`
  display: flex;
  align-items: center;
  justify-content: ${e=>e.hasDocsLink?"space-between":"flex-end"};
  margin-top: ${e=>e.theme.material.spacing(2)};
`,w=u()(r.u)`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  color: ${e=>e.theme.material.color.anchor.base};
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(4)};

  &:hover {
    cursor: pointer;
    color: ${e=>e.theme.material.color.anchor.hover};
    border-color: ${e=>e.theme.material.color.anchor.hover};
  }
`,E=u()(s.a)`
  margin-right: ${e=>e.theme.material.spacing(2)};
`,x=u.a.div`
  display: flex;
  align-items: center;
`,C=u()(c.Button)`
  flex-shrink: 0;

  /* Align button styles with the reset of the datasets settings page */
  display: flex;
  justify-content: center;

  height: 34px;
  min-width: 88px;
  padding: ${e=>e.theme.material.spacing(2)}
    ${e=>e.theme.material.spacing(4)};
  margin-left: ${e=>e.theme.material.spacing(1)};
  cursor: ${e=>e.disabled?"unset":"pointer"};
`,k=u()(C)`
  background-color: ${e=>e.disabled?e.theme.material.color.brand.grey[500]:e.theme.material.color.brand.blue[500]};

  &:hover {
    background-color: ${e=>e.disabled?e.theme.material.color.brand.grey[500]:e.theme.material.color.brand.blue[700]};
  }
`,_=u()(C)`
  border: none;
  color: ${e=>e.theme.material.color.text[40]};

  &:hover {
    color: ${e=>e.theme.material.color.text[40]};
    background-color: ${e=>e.disabled?"none":e.theme.material.color.brand.grey[100]};
  }
`,S=u()(l.a)`
  margin-right: ${e=>e.theme.material.spacing(1)};
`,O=u()(r.b)`
  margin-right: ${e=>e.theme.material.spacing(1)};
  font-style: italic;
`,T=u()(O)`
  color: ${e=>e.theme.material.color.status.success[900]};
`,j=u()(O)`
  color: ${e=>e.theme.material.color.status.error[500]};
`;function I(e){const{response:t,defaultText:n="",className:a,onUpdate:s}=e,{analyticsClient:l}=o.useContext(i.ClientsContext).legacyClients,[c,d]=o.useState("reset-x"),[u,m]=N(n),p="loading-get"===t.type||"loading-update"===t.type,g="loading-get"===t.type||"success-get"===t.type,f="error"===t.type&&t.message.includes("license");return o.createElement(v,{className:a},o.createElement(h,{key:c,defaultText:n,readOnly:!!p&&"nocursor",onChange:e=>{m(e.text)}}),o.createElement(y,{hasDocsLink:g},g&&o.createElement(w,{href:"/docs/datasets#Updating%20Dataset%20using%20JSON%20Config",target:"_blank",rel:"noopener"},o.createElement(E,{icon:"insert_drive_file",size:"inline"}),"Documentation"),o.createElement(x,null,"success-update"===t.type&&o.createElement(T,null,"Succesfully updated dataset settings. Refreshing dataset..."),"error"===t.type&&!f&&o.createElement(j,null,t.message),"error"===t.type&&f&&o.createElement(j,null,t.message," Check"," ",o.createElement(r.u,{href:"/docs/datasets#Updating%20Dataset%20using%20JSON%20Config",target:"_blank",rel:"noopener"},"documentation")," ","for valid license names"),o.createElement(_,{variant:"transparent",tight:!0,disabled:p,onClick:()=>{d("reset-x"===c?"reset-y":"reset-x"),l.logger.report("datasets","code-config-reset-click")}},"Reset"),o.createElement(k,{tight:!0,disabled:p,onClick:()=>{l.logger.report("datasets","code-config-update-click"),s(u)}},p&&o.createElement(S,{size:"small","data-testid":"loading-spinner"}),"Update settings"))))}const N=e=>{const[t,n]=o.useState(e);return o.useEffect(()=>{n(e)},[e]),[t,n]};function D({datasetId:e,className:t}){const[n,a]=o.useState(""),i=M(e,a),[r,s]=U(e,a);return o.createElement(I,{response:$(i,r),defaultText:n,onUpdate:e=>s({type:"loading-update",text:e}),className:t})}n.d(t,"a",(function(){return D}));const $=(e,t)=>void 0===t?e:t,M=(e,t)=>{const n=o.useContext(i.ClientsContext),[r,s]=o.useState({type:"loading-get"});return o.useEffect(()=>{(()=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const{datasetsClient:a}=n.clients,{analyticsClient:o}=n.legacyClients;try{const n=yield a.getDatasetSettings({datasetId:e});if(o.logger.report("datasets","code-config-get-success",{settings:n}),null!==n)return s({type:"success-get"}),void t(P(n))}catch(t){if(t instanceof i.CanonicalError){const n=t;o.logger.report("datasets","code-config-get-fail",{datasetId:e,message:n.message}),s({type:"error",message:n.message})}}})))()},[e]),r},U=(e,t)=>{const n=o.useContext(i.ClientsContext),[r,s]=o.useState(void 0);return o.useEffect(()=>{r&&"loading-update"===r.type&&(o=>Object(a.__awaiter)(void 0,void 0,void 0,(function*(){const{datasetsClient:a}=n.clients,{analyticsClient:r}=n.legacyClients;let l;try{l=JSON.parse(o)}catch(e){return void s({type:"error",message:"Invalid JSON object supplied"})}try{return yield a.setDatasetSettings({datasetId:e,settings:l}),r.logger.report("datasets","code-config-update-success"),t(P(l)),s({type:"success-update"}),void setTimeout(()=>window.location.reload(),1e3)}catch(t){if(t instanceof i.CanonicalError){const n=t;r.logger.report("datasets","code-config-update-fail",{datasetId:e,message:n.message}),s({type:"error",message:n.message})}else{const n=t&&t.message?t.message:t;r.logger.report("datasets","code-config-update-fail",{datasetId:e,message:n}),s({type:"error",message:"Failed to update dataset settings"})}}})))(r.text)},[r]),[r,s]},P=e=>{return`${JSON.stringify(e,void 0,4)}\n`}}}]);