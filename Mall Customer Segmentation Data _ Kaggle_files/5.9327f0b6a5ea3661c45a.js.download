(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{1668:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return m})),a.d(t,"o",(function(){return d})),a.d(t,"n",(function(){return u})),a.d(t,"c",(function(){return h})),a.d(t,"f",(function(){return p})),a.d(t,"g",(function(){return g})),a.d(t,"i",(function(){return b})),a.d(t,"l",(function(){return f})),a.d(t,"k",(function(){return v})),a.d(t,"h",(function(){return y})),a.d(t,"j",(function(){return x})),a.d(t,"m",(function(){return E}));var n=a(383),i=a(2010),o=a(1),s=a.n(o);const r=e=>e.theme.material.color.brand.grey[500],l=e=>e.theme.material.color.brand.grey[100],c=e=>e.theme.material.color.brand.grey[50],m=e=>e.theme.material.spacing(4),d=e=>e.theme.material.spacing(6),u=e=>e.theme.material.spacing(1),h=s.a.div`
  border: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
  background-color: ${e=>e.theme.material.color.white};
`,p=s.a.li`
  box-sizing: border-box;
  list-style-type: none;
  background-color: ${e=>!0===e.selected?e.theme.material.color.brand.blue[50]:e.theme.material.color.white};
  border-top: 1px solid ${l};
  padding: ${m} ${d};
  display: flex;
  position: relative;
  justify-content: space-between;
  cursor: pointer;

  &:hover {
    background-color: ${c};
  }
`,g=s.a.div`
  flex: 1 1 0;
  min-width: 0;
`,b=(s.a.div`
  flex: 0 0 auto;
  min-width: 0;
  margin-left: ${d};
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    display: none;
  }
`,s.a.div`
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  margin-left: ${e=>e.theme.material.spacing(20)};
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    display: none;
  }
`),f=s.a.div`
  display: flex;
`,v=s()(n.t)`
  flex: 1 1 auto;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,y=s()(n.e)`
  color: ${r};
`,x=s()(n.u)`
  color: ${r};
  /* link needs to appear above link to list item */
  z-index: ${e=>e.theme.zindex.foreground};

  :visited {
    color: ${r};
  }
  :hover {
    color: ${e=>e.theme.material.color.anchor.hover};
  }
`,E=s()(i.a)`
  /* needs to appear above link to list item */
  z-index: ${e=>e.theme.zindex.foreground};
`},1670:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0);const i=n.createContext(e=>n.createElement("div",null,e))},1734:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(1416),i=a(1),o=a.n(i),s=a(0);const r=o.a.button`
  padding: ${e=>e.theme.size.pad.xs} ${e=>e.theme.size.pad.s};
  border: none;
  border-radius: ${e=>e.theme.size.border.radius.button};
  background-color: ${e=>e.theme.colors.content.borderLight};
  color: ${e=>e.theme.colors.kaggle.gray};
  cursor: ${e=>e.disabled?"default":"pointer"};

  &:hover {
    color: ${e=>e.disabled?e.theme.colors.kaggle.gray:e.theme.colors.kaggle.black};
  }
  &:focus {
    outline: none;
  }
`;function l({isDisabled:e,onClose:t,className:a}){return s.createElement(r,{disabled:e,onClick:t,className:a,"data-testid":"close-modal-button",title:"Close"},s.createElement(n.a,{icon:"close",size:"xsmall"}))}},1751:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(1),i=a.n(n);const o=n.keyframes`
  {
    0% {
      background-position: -200px 0;
    }
    100% {
      background-position: calc(200px + 100%) 0;
    }
  }
`,s=i.a.div`
  background-color: ${e=>e.theme.colors.misc.grayLighter};
  background-image: linear-gradient(
    90deg,
    ${e=>e.theme.colors.misc.grayLighter},
    ${e=>e.theme.colors.misc.grayLightest},
    ${e=>e.theme.colors.misc.grayLighter}
  );
  background-size: 200px 100%;
  background-repeat: no-repeat;
  border-radius: ${e=>e.theme.size.border.radius.loadingBar};
  margin: ${e=>e.theme.size.margin.xs};
  animation: ${o} 1.2s ease-in-out 0s infinite normal none running;
`},1765:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return s}));var n=a(541);const i="\nid,name,title,orderId\n1,featured,Featured,2\n2,research,Research,5\n3,recruitment,Recruitment,4\n4,prospect,Prospect,10\n5,getting started,Getting Started,7\n6,masters,Masters,3\n7,ge,GE Quests,1\n8,playground,Playground,6\n9,featured datasets,Featured Datasets,9\n10,in class,InClass,11\n11,analytics,Analytics,12\n",o=n.u.toJSON(i),s=e=>o.find(t=>t.id===e)},1841:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(383),i=a(1416),o=a(1),s=a.n(o),r=a(287),l=a(0),c=a(1413),m=a(1668);const d=s.a.div`
  margin: ${m.n} 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,u=s()(n.e)`
  color: ${m.d};
`,h=e=>{const{item:t,onSelect:a,onVote:n}=e,{title:s,subtitle:h,author:p,submissionCount:g,deadline:b,voteButton:f,hasAcceptedSubmission:v}=t,{displayName:y,slug:x}=p,{totalVotes:E,hasVotedUp:C,isDisabled:$}=f;return l.createElement(m.f,{onClick:a},l.createElement(m.g,null,l.createElement(m.k,null,s),l.createElement(d,null,l.createElement(u,null,h)),l.createElement(m.h,null,l.createElement(m.j,{href:`/${x}`,target:"_blank",rel:"noopener",onClick:e=>{e.stopPropagation()}},y)," · ",r("Submission",g,!0),v&&l.createElement(l.Fragment,null," · ",l.createElement(i.a,{color:o.defaultTheme.material.color.status.success[1e3],icon:l.createElement("svg",{viewBox:"0 0 24 24",width:"12px",height:"12px"},l.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),l.createElement("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),size:"xxsmall"})," Accepted Submission"),b&&l.createElement(l.Fragment,null," · ",l.createElement(c.a,{time:b})))),l.createElement(m.i,null,l.createElement(m.m,{totalVotes:E,state:C?"voted-up":"no-vote",onVote:$?void 0:e=>{n(),e.stopPropagation()}})))}},1842:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return r}));var n=a(541);const i="\nid,name,description\n1,USD,US Dollar\n2,Kudos,Kudos and any other non-monetary reward\n3,AUD,Australian Dollar\n4,EUR,Euro\n5,Jobs,Jobs\n6,Swag,Swag\n7,GBP,British Pound\n8,Knowledge,Knowledge\n9,Prizes,Miscellaneous material prizes category",o=n.u.toJSON(i),s={AUD:"AUD",USD:"$",EUR:"€",GBP:"£"},r=(e,t)=>{const a=o.find(t=>t.id===e);if(!a)return"Kudos";if(!t||t<1)return a.name;const n=t.toLocaleString("en-US",{maximumFractionDigits:0});return a.name in s?s[a.name]+n:n+" "+a.name}},1843:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(45),i=a(1765),o=a(447);const s=(e,t={ongoing:"Ongoing",togo:"to go"})=>{const a=Object(i.a)(e.competitionHostSegmentId),s=Object(o.b)(e.deadline),r=5===a.id&&s.getTime()>Date.now()+31536e6,{ongoing:l,togo:c}=t;return r?l:s.getTime()>Date.now()?n(s).toNow(!0)+" "+c:n(s).fromNow()}},1911:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(383),i=a(384),o=a(1),s=a.n(o),r=a(0);const l=s()(n.e.withComponent("a"))`
  display: inline-flex;
  align-items: center;

  padding: ${e=>e.theme.size.pad.xs};
  margin-right: ${e=>e.theme.size.pad.xs};
  border-radius: ${e=>e.theme.size.border.radius.button};
  text-decoration: none;
  cursor: pointer;
  line-height: 1.2;
  white-space: nowrap;

  ${e=>{const{appearance:t}=e;return"light"===t?`\n      color: ${e.theme.colors.pure.white};\n      border: 1px solid ${e.theme.colors.pure.white};\n    `:`\n    color: ${e.theme.colors.kaggle.blueDark};\n    border: 1px solid ${e.theme.colors.kaggle.blueDark};\n  `}}
  &:hover {
    color: ${e=>e.theme.colors.kaggle.blue};
    border: 1px solid ${e=>e.theme.colors.kaggle.blue};
  }
`,c=s.a.div`
  text-align: left;
  max-width: 240px;
  ${e=>e.theme.font.main.size.m};
  ${e=>e.theme.font.main.height.normal};
`,m=s.a.div`
  ${e=>e.theme.font.main.weight.normal};
  color: ${e=>e.theme.colors.pure.white};
  margin-bottom: ${e=>e.theme.size.pad.xs};
`,d=s.a.div`
  ${e=>e.theme.font.main.weight.normal};
  color: ${e=>e.theme.colors.misc.grayLight};
  white-space: normal;
`,u=e=>{const{action:t,appearance:a,name:n,className:o}=e,s="string"==typeof t?t:void 0,u="function"==typeof t?t:void 0,h=r.createElement(c,null,r.createElement(m,null,"Maintained"),r.createElement(d,null,"This dataset is maintained by ",n," to ensure the latest data is current and accurate."));return r.createElement(i.Tooltip,{tip:h},r.createElement(l,{href:s,appearance:a,onClick:u,className:o},"Maintained by ",n))}},1924:function(e,t,a){"use strict";var n=a(3),i=a(8),o=a(0),s=a(174),r=a(96),l=a(129),c=a(211),m=a(289);class d{constructor(e){this.index=e,this.searchStartTime=Date.now()}startSearchTimer(){this.searchStartTime=Date.now()}logSearchExited(e){return Object(n.__awaiter)(this,void 0,void 0,(function*(){if(!e)return;const t={index:this.index,isQuick:"global"===this.index,q:e,secondsSpentSearching:Math.floor((Date.now()-this.searchStartTime)/1e3),isSuccess:!1};return this.logSearchLog(t)}))}logSearchResultClicked(e){return Object(n.__awaiter)(this,void 0,void 0,(function*(){const{query:t,rank:a,id:n,url:i,isPrivate:o}=e;if(!t)return;const s={index:this.index,isQuick:"global"===this.index,q:t,secondsSpentSearching:Math.floor((Date.now()-this.searchStartTime)/1e3),isSuccess:!0,rank:a,isPrivate:o,url:i,id:n,token:Object(c.v4)()};return Object(m.b)(s.token),this.logSearchLog(s)}))}logSearchLog(e){return new Promise(t=>{l.ajax({url:"/search/log",type:"POST",data:e}).always(()=>t())})}}var u=a(1670);const h={size:{},fileType:"all",license:"all",tags:[],hasTasks:!1},p=Object.assign(Object.assign({},h),{search:""}),g=e=>"my"===e?"updated":"hottest",b=e=>{const{size:t,fileType:a,license:n,tags:i}=e;return!(void 0===t.start&&void 0===t.end&&a===h.fileType&&n===h.license&&0===i.length)},f=e=>{if(!e||void 0===e.value)return null;const{value:t,unit:a}=e;return t*("KB"===a?Math.pow(2,10):"MB"===a?Math.pow(2,20):Math.pow(2,30))},v=e=>{return e.map(e=>{const{voteButton:t,categories:a}=e,{totalVotes:n,voteUpUrl:i,hasAlreadyVotedUp:o,canUpvote:s}=t,r=o?"voted-up":"no-vote";return Object.assign(Object.assign({},e),{voteButton:{state:r,totalVotes:n,isDisabled:!s,voteUpUrl:i||""},tags:a.map(e=>e.name)})})},y=(e,t=1,a)=>{const{search:n,tab:o,sort:s,size:r,fileType:l,license:c,tags:m,maintainer:d,userId:u,competitionId:h}=e,p=i.featureFlags.datasetsPrependTopicalDatasetsInPublicList&&0===n.length&&"public"===o&&"hottest"===s&&!r.start&&!r.end&&"all"===l&&"all"===c&&0===m.length&&!d&&!u&&!e.hasTasks;return{page:t,group:o,size:"all",fileType:l,license:c,viewed:"all",categoryIds:m.map(e=>e.id),search:n,sortBy:s,userId:u||null,competitionId:h||null,organizationId:null,maintainerOrganizationId:d?d.id:null,minSize:f(r.start),maxSize:f(r.end),isUserQuery:!1,hasTasks:e.hasTasks,topicalDataset:a,includeTopicalDatasets:p}};var x=a(370);const E=e=>{const t=new URLSearchParams(location.search).get("tab");return(e=>"public"===e||"my"===e||"upvoted"===e)(t)?t:e},C=e=>{const t=new URLSearchParams(location.search).get("sort");return(e=>"votes"===e||"published"===e||"updated"===e||"hottest"===e||"usability"===e)(t)?t:g(e)},$=e=>{const t=E(e);return C(t)!==g(t)},k=e=>{const t=e=>{const t=a.get(e);if(!t)return;const[n,i]=t.split(","),o=Number.parseInt(n,10);return!isNaN(o)&&(e=>"KB"===e||"MB"===e||"GB"===e)(i)?{value:o,unit:i}:void 0},a=new URLSearchParams(location.search),n=E(e);return{search:a.get("search")||"",tab:n,sort:C(n),size:{start:t("sizeStart"),end:t("sizeEnd")},fileType:(()=>{const e=a.get("fileType");return(e=>"all"===e||"bigQuery"===e||"csv"===e||"json"===e||"sqlite"===e)(e)?e:p.fileType})(),license:(()=>{const e=a.get("license");return(e=>"cc"===e||"gpl"===e||"odb"===e||"other"===e||"all"===e)(e)?e:p.license})(),tags:(()=>{const e=a.get("tags");return e?e.split(",").map(e=>e.split("-")).map(([e,t])=>({id:Number.parseInt(e,10),label:t})):[]})(),maintainer:(()=>{const e=a.get("maintainer");if(!e)return;const[t,n]=e.split(","),i=Number.parseInt(t,10);return!isNaN(i)&&n?{id:i,name:n}:void 0})(),hasTasks:(()=>{const e=a.get("tasks");return!!e&&"true"===e})(),competitionId:(()=>{const e=a.get("competitionId");if(!e)return;const t=Number.parseInt(e,10);return isNaN(t)?void 0:t})()}},w=(e,t)=>{const a=S(e,t);Object(x.f)(`${location.pathname}${a?`?${a}`:""}`)},S=(e,t)=>{const a=e=>{const{key:t,value:a,defaultValue:n}=e;a!==n?i.set(t,a):i.delete(t)},n=e=>{const{key:t,size:a}=e;if(void 0===a)return void i.delete(t);const{value:n,unit:o}=a;void 0!==n?i.set(t,`${n},${o}`):i.delete(t)},i=new URLSearchParams,{search:o,sort:s,tab:r,fileType:l,license:c,size:m,tags:d,hasTasks:u}=e;return a({key:"search",value:o,defaultValue:p.search}),a({key:"sort",value:s,defaultValue:g(r)}),a({key:"tab",value:r,defaultValue:t}),a({key:"fileType",value:l,defaultValue:p.fileType}),a({key:"license",value:c,defaultValue:p.license}),a({key:"tasks",value:String(u),defaultValue:String(p.hasTasks)}),n({key:"sizeStart",size:m.start}),n({key:"sizeEnd",size:m.end}),(e=>{e.length>0?i.set("tags",e.map(e=>`${e.id}-${e.label}`).join(",")):i.delete("tags")})(d),(e=>{if(e){const{id:t,name:a}=e;i.set("maintainer",`${t},${a}`)}else i.delete("maintainer")})(e.maintainer),(e=>{void 0!==e?i.set("competitionId",`${e}`):i.delete("competitionId")})(e.competitionId),i.toString()};var z=a(384),T=a(1),I=a.n(T),O=a(1893),F=a(1434),D=a(1468);function j(e){const{children:t,className:a,href:n,reportAnalyticsEvent:i}=e;return o.createElement(D.a,{className:a,useKM:!0,emphasis:"low",leadingIcon:"forum",href:n,target:"_blank",onClick:i},t)}function M({className:e,type:t}){return o.createElement(i.ClientsContext.Consumer,null,({legacyClients:a})=>o.createElement(j,{className:e,href:"/product-feedback/92832",reportAnalyticsEvent:()=>a.analyticsClient.logger.report("datasets",`list-feedback-${t}-click`)},"Feedback"))}var N=a(383);const R=I.a.li`
  box-sizing: border-box;
  list-style-type: none;
  border-bottom: 1px solid ${e=>e.theme.colors.content.borderLight};
  background-color: ${e=>e.theme.colors.pure.white};
`,L=I.a.div`
  width: ${e=>e.theme.size.img.thumbnail.datasets.width};
  height: ${e=>e.theme.size.img.thumbnail.datasets.height};
  border-radius: ${e=>e.theme.size.border.radius.thumbnail};
  margin-right: ${e=>e.theme.size.pad.m};
`,_=I.a.div`
  flex: 1 1 0;
  min-width: 0;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
`,V=I()(R)`
  display: flex;
  justify-content: center;
  align-items: center;

  padding: ${e=>e.theme.size.pad.m};
  margin-bottom: ${e=>e.theme.size.pad.xl};
`,U=I()(N.b)`
  white-space: nowrap;
  margin: ${e=>e.theme.material.spacing(4)};
`;function q({text:e,button:t,className:a}){return o.createElement(V,{className:a},o.createElement(U,null,e),t)}var B=a(385),P=a(45),H=a(287),A=a(1416);const Q=I.a.span`
  color: ${e=>e.theme.colors.text.light};
`,K=I()(A.a)`
  margin-right: ${e=>e.theme.size.pad.s};
`;function G(e){const{icon:t,element:a,className:n,size:i}=e;return o.createElement(Q,{className:n},o.createElement(K,{icon:t,size:i||"inline"}),a)}const Y={name:"overview",completionComment:"overview is provided"},W={name:"license",completionComment:"license is specified"},J={name:"tags",completionComment:"tags are added"},X={name:"column descriptions",completionComment:"column descriptions are provided"},Z={name:"file descriptions",completionComment:"file descriptions are provided"},ee={name:"machine-readable files",completionComment:"files are in machine-readable formats"},te={name:"data collection source",completionComment:"data collection source is specified"},ae={name:"Kernels code examples",completionComment:"code examples are available in Kernels"},ne={name:"subtitle",completionComment:"subtitle is provided"},ie={name:"update frequency",completionComment:"update frequency is specified"},oe=I()(G)`
  :hover {
    cursor: pointer;
  }

  ${e=>e.score>=.9?`color: ${e.theme.material.color.brand.blue[500]};`:""};
`,se=I()(N.b)`
  text-align: left;
  max-width: ${e=>e.theme.material.spacing(65)};
  color: ${e=>e.theme.material.color.white};
`;const re=e=>{const{score:t}=e;return t>=.9?le(e):t>=.8?ce(e):t>=.5?me(e):de(e)},le=e=>{const{columnDescriptionScore:t,fileDescriptionScore:a,fileFormatScore:n,licenseScore:i,overviewScore:o,provenanceScore:s,publicKernelScore:r,subtitleScore:l,tagScore:c,updateFrequencyScore:m}=e,d=[];return 1===o&&d.push(Y.completionComment),1===n&&d.push(ee.completionComment),1===r&&d.push(ae.completionComment),1===i&&d.push(W.completionComment),1===c&&d.push(J.completionComment),1===l&&d.push(ne.completionComment),1===s&&d.push(te.completionComment),1===a&&d.push(Z.completionComment),1===t&&d.push(X.completionComment),1===m&&d.push(ie.completionComment),"This dataset is well documented, "+d.slice(0,2).join(", ")+" and "+d[2]},ce=e=>{const t=ue(e,1);return`The documentation for this dataset is almost complete${t?` but is missing ${t}`:""}`},me=e=>{const t=ue(e,3);return`This dataset is partially documented${t?` but is missing ${t}`:""}`},de=e=>{const t=ue(e,3);return`This dataset is missing many elements${t?` including ${t}`:""}`},ue=(e,t)=>{const{columnDescriptionScore:a,fileDescriptionScore:n,fileFormatScore:i,licenseScore:o,overviewScore:s,provenanceScore:r,publicKernelScore:l,subtitleScore:c,tagScore:m,updateFrequencyScore:d}=e,u=[];s<1&&u.push(Y.name),o<1&&u.push(W.name),m<1&&u.push(J.name),c<1&&u.push(ne.name),r<1&&u.push(te.name),i<1&&u.push(ee.name),n<1&&u.push(Z.name),null!==a&&a<1&&u.push(X.name),l<1&&u.push(ae.name),d<1&&u.push(ie.name);const h=u.length<t?u.length:t;return 0===h?"":1===h?u[0]:2===h?`${u[0]} and ${u[1]}`:`${u.slice(0,h-1).join(", ")} and ${u[h-1]}`},he=I()(N.e)`
  display: flex;
  align-items: center;
`,pe=I()(N.e)`
  display: grid;
  align-items: center;
  grid-template-columns:
    minmax(85px, max-content) minmax(75px, max-content) ${e=>e.hasUsabilityRating?"minmax(60px, max-content)":""} minmax(
      85px,
      max-content
    )
    1fr;

  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    grid-template-columns: minmax(85px, max-content) minmax(75px, max-content) 1fr;
  }
`,ge=I.a.a`
  text-decoration: none;
  /* link needs to appear above link to list item */
  position: relative;
  z-index: ${e=>e.theme.zindex.foreground};
`,be=I()(G)`
  margin-right: ${e=>e.theme.material.spacing(2)};
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`,fe=I()(be)`
  &:hover {
    color: ${e=>e.theme.colors.hover.link};
  }
`,ve=I.a.span`
  color: ${e=>e.theme.colors.text.light};
  margin-right: ${e=>e.theme.size.margin.l};

  @media screen and (min-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: none;
  }
`,ye=I()(be)`
  margin-right: ${e=>e.theme.size.margin.l};

  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: none;
  }
`,xe=I()((function(e){const{type:t,commonFileTypes:a,className:n}=e;if("bigQuery"===t)return o.createElement(G,{icon:"zoom_in",element:"BigQuery",className:n});const i=a.reduce((e,t)=>t.count+e,0),s=a.map(({fileType:e})=>"other"===e?e:e.toUpperCase()).join(", ");return o.createElement(G,{icon:"insert_drive_file",element:`${i} ${H("Files",i)} (${s})`,className:n})}))`
  margin-right: ${e=>e.theme.size.margin.l};

  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: none;
  }
`,Ee=I()((function(e){const{scores:t,className:a}=e,n=o.createElement(se,null,re(t));return o.createElement(z.Tooltip,{tip:n,className:a},o.createElement(oe,{element:(10*t.score).toFixed(1),icon:"business_center",score:t.score}))}))`
  margin-right: ${e=>e.theme.size.margin.l};
  z-index: ${e=>e.theme.zindex.foreground};
  position: relative;

  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: none;
  }
`,Ce=I()(ve)`
  text-decoration: none;
  color: ${e=>e.theme.colors.text.link};

  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  /* link needs to appear above link to list item */
  position: relative;
  z-index: ${e=>e.theme.zindex.foreground};

  &:hover {
    color: ${e=>e.theme.colors.hover.link};
  }

  @media screen and (min-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: none;
  }
`.withComponent("a"),$e=o.memo((function(e){const{type:t,ownerName:a,ownerUrl:n,hasHashLink:i,isPrivate:s,isCollaborator:r,dateUpdated:l,commonFileTypes:c,upVoteCount:m,maintainerOrganization:d,datasetSize:u,usabilityRating:h,taskCount:p}=e;return o.createElement(o.Fragment,null,o.createElement(he,null,o.createElement(ge,{href:n},o.createElement(fe,{icon:"person",element:a})),r&&o.createElement(be,{icon:"people",element:"Collaborator"}),s&&!i&&o.createElement(be,{icon:"visibility_off",element:"Private"})||i&&o.createElement(be,{icon:"link",element:"Link"})),o.createElement(pe,{hasUsabilityRating:!!h},o.createElement(be,{icon:"calendar_today",element:P(l).fromNow(!0)}),u&&o.createElement(ye,{icon:"database",element:B(u,{round:0})}),h&&o.createElement(Ee,{scores:h}),("fileset"===t||"bigQuery"===t)&&o.createElement(xe,{type:t,commonFileTypes:c}),p>0&&o.createElement(ye,{icon:"content_paste",element:H("Task",p,!0)}),o.createElement(ve,null,m," upvotes"),d&&o.createElement(Ce,{href:d.profileUrl},"Maintained by ",d.name)))}));var ke=a(2010),we=a(1911);const Se=o.createContext({isHovered:!1});var ze=a(1615);const Te=I()(e=>o.createElement(ze.a,Object.assign({classes:{label:"label"}},e)))`
  && {
    padding: 0;
    background-color: white;
    margin-right: ${e=>e.theme.size.pad.s};
  }

  & .label {
    text-transform: none;
    ${e=>e.theme.font.main.size.l};
    color: ${e=>e.theme.colors.text.medium};
    padding: 0 ${e=>e.theme.size.pad.m};

    /* HACK: base styles in @kaggle/web-old do NOT match @kaggle/web */
    font-size: 12px;
  }
`,Ie=I()(A.a)`
  margin-right: ${e=>e.theme.size.pad.s};
`;const Oe=I.a.div`
  display: flex;
  height: 24px;
`,Fe=I()((function(e){const{onClick:t,className:a}=e;return o.createElement(Te,{className:a,variant:"contained",onClick:t,"data-testid":"quick-look-button"},o.createElement(Ie,{icon:"visibility",size:"inline"}),"Quick Look")}))`
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    /* override @material-ui default styles */
    && {
      display: none;
    }
  }
`,De=I()(ke.a)`
  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: none;
  }
`,je=I()(we.a)`
  /* link needs to appear above link to list item */
  position: relative;
  z-index: ${e=>e.theme.zindex.foreground};

  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: none;
  }
`,Me=o.memo((function(e){const{voteButton:t,maintainerOrganization:a,onVote:n,onQuickLook:i,onMaintainer:s}=e,r=o.createElement(De,{state:t.state,totalVotes:t.totalVotes,onVote:n}),l=o.createElement(Fe,{onClick:i});return o.createElement(Se.Consumer,null,({isHovered:e})=>o.createElement(Oe,null,e&&l,a&&o.createElement(je,{appearance:"default",name:a.name,action:s,"data-test":"datasets-maintainer-badge"}),r))})),Ne=I()(R)`
  position: relative;
  display: flex;
  justify-content: space-between;
  padding: ${e=>e.theme.size.pad.m};

  &:hover {
    background-color: ${e=>e.theme.colors.hover.light};
  }
`,Re=I.a.a`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`,Le=I.a.div`
  display: flex;
  flex: 1 1 0;
  min-width: 0;
`,_e=I.a.div``,Ve=L.withComponent("img"),Ue=I()(N.t)`
  color: ${e=>e.theme.colors.pure.black};
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`;class qe extends o.Component{constructor(){super(...arguments),this.state={isHovered:!1},this.onMouseOver=()=>{this.setState({isHovered:!0})},this.onMouseLeave=()=>{this.setState({isHovered:!1})}}render(){const{anchor:e,title:t,img:a,body:n,right:i,className:s,onClick:r}=this.props,{isHovered:l}=this.state;return o.createElement(Se.Provider,{value:{isHovered:l}},o.createElement(Ne,{className:s,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,"data-testid":"list-item-li"},o.createElement(Re,{href:e.href,title:e.title,onClick:r}),o.createElement(Le,null,o.createElement(Ve,{src:a.src,alt:a.alt}),o.createElement(_,null,o.createElement(Ue,{"data-testid":"list-item-li-title"},t),n)),o.createElement(_e,null,i)))}}const Be=I.a.img`
  /* fix medal image alignment with title text  */
  position: relative;
  top: 1px;

  width: 14px;
  height: 14px;
  margin-right: ${e=>e.theme.material.spacing(1)};
`,Pe=o.memo((function(e){const{item:t,className:a,onNavigate:n,onVote:i,onQuickLook:s,onMaintainerFilter:r}=e,{datasetId:l,datasetUrl:c,title:m,thumbnailImageUrl:d,type:u,ownerName:h,ownerUrl:p,hasHashLink:g,isPrivate:b,isCollaborator:f,dateUpdated:v,commonFileTypes:y,datasetSize:x,voteButton:E,maintainerOrganization:C,usabilityRating:$,medalUrl:k,taskCount:w}=t,S=C||void 0;return o.createElement(qe,{anchor:{href:c,title:m},title:o.createElement(o.Fragment,null,k&&o.createElement(Be,{src:k,alt:"medal"}),m),img:{src:d,alt:"#"},className:a,body:o.createElement($e,{type:u,ownerName:h,ownerUrl:p,hasHashLink:g,isPrivate:b,isCollaborator:f,dateUpdated:v,commonFileTypes:y,datasetSize:x||void 0,upVoteCount:E.totalVotes,maintainerOrganization:S,usabilityRating:$||void 0,taskCount:w}),right:o.createElement(Me,{voteButton:E,maintainerOrganization:S,onVote:E.isDisabled?void 0:e=>{e.preventDefault(),i(l)},onQuickLook:s,onMaintainer:r}),onClick:()=>n(t)})})),He=I()(R)`
  display: flex;
  justify-content: center;
  padding: ${e=>e.theme.size.pad.m};
  margin-bottom: ${e=>e.theme.size.pad.xl};
`,Ae=I()(N.b.withComponent("p"))`
  display: flex;
  justify-content: center;
  text-align: center;
  margin: ${e=>e.theme.material.spacing(4)};
`,Qe=I()(N.u)`
  /* ensure whitespace character placed between link and preceeding text */
  display: contents;
`;function Ke(e){const{googleDatasetsSearch:t,className:a}=e,n=t?o.createElement(o.Fragment,null,t.prefix," Search additional datasets on"," ",o.createElement(Qe,{href:t.href,target:"_blank",rel:"noopener","data-test":"google-dataset-search-link"},"Google Dataset Search.")):"End of results";return o.createElement(He,{"data-test":"list-end-item",className:a},o.createElement(Ae,null,n))}var Ge=a(1751);const Ye=I()(R)`
  display: flex;
  padding: ${e=>e.theme.size.pad.m};
`,We=L.withComponent(Ge.a),Je=I()(Ge.a)`
  flex: 1 1 0;
  width: ${e=>e.width};
`;var Xe=a(1452),Ze=a(1438),et=a(1625),tt=a(1453),at=a(1734),nt=a(1608);const it=I.a.div`
  display: flex;
  justify-content: center;
`,ot=I()(N.b)`
  color: ${e=>e.theme.material.color.status.error[500]};
  font-style: italic;
`,st=I()(N.b)`
  color: ${e=>e.theme.material.color.text[40]};
  font-style: italic;
`,rt=I.a.div`
  position: relative;
  max-height: 225px;
  overflow: hidden;

  ::after {
    content: "";
    position: absolute;
    top: 160px;
    bottom: 0;
    left: 0;
    right: 0;
    background: ${e=>`linear-gradient(rgba(255, 255, 255, 0), ${e.theme.material.color.brand.grey[50]})`};
  }
`;function lt({query:e}){const t=o.useContext(u.a);return"loading"===e.type?o.createElement(it,{"data-testid":"description-loading"},o.createElement(nt.a,{size:"xlarge"})):"error"===e.type?o.createElement(ot,null,e.message):"success"!==e.type||e.text?o.createElement(rt,null,t(e.text)):o.createElement(st,null,"No description specified")}const ct=I.a.div`
  position: relative;
`,mt=I()(at.a)`
  position: absolute;
  top: ${e=>e.theme.material.spacing(2)};
  right: ${e=>e.theme.material.spacing(2)};
`,dt=I.a.div`
  padding: ${e=>e.theme.material.spacing(6)}
    ${e=>e.theme.material.spacing(8)};
  overflow-y: auto;
`,ut=I.a.div`
  display: flex;
  margin-bottom: ${e=>e.theme.material.spacing(6)};
`,ht=I.a.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  overflow: hidden;
`,pt=I()(N.n)`
  color: ${e=>e.theme.material.color.black};
  margin-bottom: ${e=>e.theme.material.spacing(1)};

  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,gt=I()(N.b)`
  color: ${e=>e.theme.material.color.text[50]};
  font-style: ${e=>e.isMissing?"italic":"unset"};

  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
`,bt=I.a.img`
  width: 64px;
  height: 64px;
  margin-right: ${e=>e.theme.material.spacing(4)};
  border-radius: ${e=>e.theme.material.borderRadius.normal};
`,ft=I()(N.t)`
  display: block;
  margin-bottom: ${e=>e.theme.material.spacing(4)};
`,vt=I.a.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  column-gap: ${e=>e.theme.material.spacing(20)};
  margin-bottom: ${e=>e.theme.material.spacing(6)};
`,yt=I.a.div`
  overflow: hidden;
`,xt=I()(N.e)`
  display: flex;
  justify-content: space-between;
  color: ${e=>e.theme.material.color.text[50]};

  &:not(:last-child) {
    margin-bottom: ${e=>e.theme.material.spacing(2)};
  }
`,Et=I()(G)`
  min-width: 100px;
  color: ${e=>e.theme.material.color.text[50]};
  margin-right: ${e=>e.theme.material.spacing(2)};
`,Ct=I()(N.e)`
  color: ${e=>e.theme.material.color.text[50]};
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,$t=I()(N.e)`
  font-style: italic;
  color: ${e=>e.theme.material.color.text[40]};
`,kt=I.a.div`
  overflow: hidden;
`,wt=I.a.div`
  text-align: right;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,St=I.a.div`
  display: flex;
  /* HACK: force RMWC Dialog to focus the correct CTA button in the dialog */
  flex-direction: row-reverse;
  align-items: center;
  border-top: 1px solid ${e=>e.theme.material.color.brand.grey[100]};
  padding: ${e=>e.theme.material.spacing(4)}
    ${e=>e.theme.material.spacing(6)};
`,zt=I()(Xe.a)`
  && {
    /* required so dropdown menu appears on top of dialog */
    z-index: ${e=>e.theme.zindex[1e3]};
  }
`,Tt=I()(Ze.a)`
  color: ${e=>e.theme.material.color.text[70]};
  white-space: nowrap;
`,It=I()(N.b.withComponent("a"))`
  text-decoration: none;
`,Ot=I()(N.d.withComponent("a"))`
  color: ${e=>e.theme.material.color.anchor.base};
  text-decoration: none;

  &:hover {
    color: ${e=>e.theme.material.color.anchor.hover};
  }
`,Ft=I()(et.a)`
  &&& {
    display: inline-flex;
    justify-content: center;
    color: ${e=>e.theme.material.color.text[70]};
    margin-right: ${e=>e.theme.material.spacing(2)};
  }
`;function Dt({item:e,onClose:t}){const{datasetId:a,title:n,overview:s,thumbnailImageUrl:r,dateCreated:l,dateUpdated:c,licenseName:m,tags:d,datasetSize:u,commonFileTypes:h,datasetUrl:p,downloadUrl:g,newKernelNotebookUrl:b,newKernelScriptUrl:f,scriptCount:v,topicCount:y,rank:x}=e,[E,C]=o.useState(!1),{analyticsClient:$}=o.useContext(i.ClientsContext).legacyClients,k=jt(a,x);return o.createElement(ct,null,o.createElement(dt,null,o.createElement(ut,null,o.createElement(bt,{src:r}),o.createElement(ht,null,o.createElement(pt,null,n),o.createElement(gt,{isMissing:!s},s||"Subtitle not specified"))),o.createElement(vt,null,o.createElement(yt,null,o.createElement(ft,null,"Metadata"),o.createElement(xt,null,o.createElement(Et,{icon:"calendar_today",element:"Created"}),P(l).format("YYYY-MM-DD")),o.createElement(xt,null,o.createElement(Et,{icon:"calendar_today",element:"Last updated"}),P(c).format("YYYY-MM-DD")),o.createElement(xt,null,o.createElement(Et,{icon:"license",element:"License"}),m?o.createElement(Ct,null,m):o.createElement($t,null,"No license specified")),o.createElement(xt,null,o.createElement(Et,{icon:"sell",element:"Tags"}),d.length>0?o.createElement(kt,null,d.map(e=>o.createElement(wt,{key:e},e))):o.createElement($t,null,"No tags")),o.createElement(xt,null,o.createElement(Et,{icon:"code",element:"Kernels"}),v),o.createElement(xt,null,o.createElement(Et,{icon:"comment",element:"Discussions"}),y)),o.createElement(yt,null,o.createElement(ft,null,"Files"),u&&o.createElement(xt,null,o.createElement(Et,{icon:"list",element:"Total size"}),B(u)),h.map(e=>{const{fileType:t,count:a}=e;return o.createElement(xt,{key:t},o.createElement(Et,{icon:"insert_drive_file",element:"other"===t?t:t.toUpperCase()}),a)}))),o.createElement("div",{"dataset-testid":"quick-look-description"},o.createElement(ft,null,"Description"),o.createElement(lt,{query:k}))),o.createElement(St,null,o.createElement(Ot,{href:p,title:n,"data-testid":"go-to-dataset",onClick:()=>$.logger.report("datasets","list-quick-look-goto",{datasetId:a})},"Go to Dataset"),o.createElement(tt.a,null,o.createElement(zt,{"data-testid":"quick-look-menu",open:E,hoistToBody:!0,onClose:()=>C(!1)},g&&o.createElement(It,{href:g,download:!0,onClick:()=>$.logger.report("datasets","list-quick-look-menu-download",{datasetId:a})},o.createElement(Tt,{icon:"cloud_download"},"Download all files")),o.createElement(It,{href:b,onClick:()=>$.logger.report("datasets","list-quick-look-menu-notebook",{datasetId:a})},o.createElement(Tt,{icon:"book"},"New kernel notebook")),o.createElement(It,{href:f,onClick:()=>$.logger.report("datasets","list-quick-look-menu-script",{datasetId:a})},o.createElement(Tt,{icon:"code"},"New kernel script"))),o.createElement(Ft,{style:{"--mdc-ripple-fg-size":"28px","--mdc-ripple-fg-scale":1.71429,"--mdc-ripple-left":"10px","--mdc-ripple-top":"10px"},icon:"more_vert","data-testid":"quick-look-vertical-menu",onClick:()=>C(!0)}))),o.createElement(mt,{onClose:t}))}const jt=(e,t)=>{const{datasetsClient:a}=o.useContext(i.ClientsContext).clients,[n,s]=o.useState({type:"loading"});return o.useEffect(()=>{let n=!0;s({type:"loading"});const i=performance.now();return a.getDatasetsById({ids:[e],includeDescription:!0,initialRank:t}).then(e=>{const t=performance.now()-i;setTimeout(()=>{n&&s({type:"success",text:e.items[0].description})},500-t)}).catch(()=>{n&&s({type:"error",message:"Failed to retrieve dataset description"})}),()=>{n=!1}},[e]),n},Mt=I()(O.a)`
  && {
    /* required so dialog appears in the foreground in @kaggle/web-old page */
    z-index: ${e=>e.theme.zindex[1e3]};
  }
`,Nt=I()(Pe)`
  border-bottom: none;

  &:first-child {
    border-top: none;
  }

  &:last-child {
    border-bottom: 1px solid ${e=>e.theme.colors.content.borderLight};
  }
`,Rt=I()((function({className:e}){return o.createElement(Ye,{className:e,"data-testid":"list-item-li-loading"},o.createElement(We,null),o.createElement(_,null,o.createElement(Je,{width:"40%"}),o.createElement(Je,{width:"15%"}),o.createElement(Je,{width:"25%"})))}))`
  border-bottom: none;

  &:first-of-type {
    border-top: none;
  }

  &:last-child {
    margin-bottom: ${e=>e.theme.size.pad.xl};
    border-bottom: 1px solid ${e=>e.theme.colors.content.borderLight};
  }
`,Lt=I()(z.Button)`
  padding: ${e=>e.theme.size.pad.m} ${e=>e.theme.size.pad.xl};
`,_t=I()(Rt)`
  margin-bottom: ${e=>e.theme.size.pad.xl};
`,Vt=I()(q)`
  border-top: none;
`,Ut=I()(Ke)`
  border-top: none;
`,qt=o.memo(e=>{const{query:t,list:a,googleDatasetsHref:n,onNavigateToItem:s,onLoadMoreDatasets:r,onVote:l,onRetry:c,onMaintainerFilter:m}=e,{analyticsClient:d}=o.useContext(i.ClientsContext).legacyClients,[u,h]=o.useState(void 0),p=o.useCallback((e,t)=>{d.logger.report("datasets",`list-quick-look-${e}`,{datasetId:t.datasetId,rank:t.rank}),h("show"===e?t.datasetId:void 0)},[a]);if("loading"===t.type)return o.createElement(o.Fragment,null,Array(20).fill(-1).map((e,t)=>o.createElement(Rt,{key:t})));if("error"===t.type)return o.createElement(Vt,{text:t.message,button:o.createElement(Lt,{"data-test":"retry-button",tight:!0,onClick:()=>c("filter")},"Try Again"),"data-test":"initial-load-error"});if(!((null==a?void 0:a.data.datasetItems)&&0!==a.data.datasetItems.length||(null==a?void 0:a.data.hasMoreSearchDatasets)))return n?o.createElement(Ut,{googleDatasetsSearch:{prefix:"No results found.",href:n}}):o.createElement(Vt,{text:"No results found",button:o.createElement(M,{"data-test":"standalone-feedback-link",type:"no-results"})});const{datasetItems:g,hasMoreSearchDatasets:b}=a.data,f=g.map(e=>o.createElement(Nt,{key:e.datasetId,item:e,onNavigate:s,onVote:l,onQuickLook:()=>p("show",e),onMaintainerFilter:()=>m(e.maintainerOrganization||void 0)})),v=g.find(e=>e.datasetId===u),y="error-load-more"===t.type,x=!b&&!y;return o.createElement(o.Fragment,null,o.createElement(F,{element:"ul",useWindow:!1,getScrollParent:()=>{const e=document.getElementsByClassName("datasets-list");return 1!==e.length?null:e[0].parentElement},pageStart:1,hasMore:b&&"success"===t.type,loadMore:r},f,y&&o.createElement(q,{key:"load-more-failed",text:"Loading items failed",button:o.createElement(Lt,{"data-test":"retry-button",tight:!0,onClick:()=>c("load-more")},"Try Again")}),"loading-more"===t.type&&o.createElement(_t,{key:"loading-more"}),x&&o.createElement(Ke,{googleDatasetsSearch:n?{prefix:"End of results.",href:n}:void 0})),o.createElement(Mt,{open:!!v,onClose:()=>{v&&p("hide",v)}},v&&o.createElement(Dt,{item:v,onClose:()=>p("hide",v)})))});var Bt=a(2004),Pt=a(1765),Ht=a(1842),At=a(1843);const Qt=I.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`,Kt=I()(N.e)`
  color: ${e=>e.theme.material.color.text[70]};
  /* get content box heading to line up with start of list items */
  margin-left: -${e=>e.theme.material.spacing(3)};
`,Gt=I()(N.e)`
  display: block;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  color: ${e=>e.theme.material.color.text[50]};
`,Yt=I()(qe)`
  &:first-child {
    border-top: none;
  }

  border-left: none;
  border-right: none;
  border-bottom: none;
`;function Wt({items:e}){const{analyticsClient:t}=o.useContext(i.ClientsContext).legacyClients;return o.createElement(Qt,null,o.createElement(Bt.a,{header:o.createElement(Kt,null,"Related Competitions")},o.createElement("ol",null,e.map(e=>{const{id:a,competitionName:n,title:i,briefDescription:s,thumbnailImageUrl:r,totalTeams:l,competitionHostSegmentId:c,rewardTypeId:m,rewardQuantity:d}=e,u=Object(Pt.a)(c),h=[`${l} teams`,u&&u.title,Object(Ht.a)(m,d),Object(At.a)(e)].filter(e=>e).join(" · ");return o.createElement(Yt,{key:a,anchor:{href:`/c/${n}/data`,title:i},title:i,img:{src:r,alt:i},body:o.createElement(o.Fragment,null,o.createElement(Gt,null,s),o.createElement(Gt,null,h)),onClick:()=>t.logger.report("datasets","competition-teaser-item-select",{competitionId:a})})}))))}var Jt=a(1607),Xt=a(14),Zt=a(1467),ea=a(446),ta=a(1620);const aa=I()(e=>{const{isFloating:t}=e,a=Object(n.__rest)(e,["isFloating"]);return o.createElement(ta.a,Object.assign({classes:{input:"input",focused:"focused",notchedOutline:"outline"}},a))})`
  background-color: ${e=>e.theme.colors.pure.white};

  && {
    /* HACK: base styles in @kaggle/web-old do NOT match @kaggle/web */
    flex-grow: 1;
    font-size: 12px;
    box-shadow: ${e=>e.isFloating?e.theme.material.elevation[2]:"0"};
  }

  & .input {
    color: ${e=>e.theme.colors.text.medium};
    padding: ${e=>e.theme.size.pad.m};
    ${e=>e.theme.font.main.size.l};
  }

  && .outline {
    border: 1px solid ${e=>e.theme.colors.border};
    border-radius: ${e=>e.isFloating?"0px":e.theme.size.border.radius.input};
  }

  &&&&&:hover {
    .outline {
      border: 1px solid ${e=>e.theme.colors.kaggle.blue};
    }
  }

  &&&&&.focused {
    .outline {
      border: 1px solid ${e=>e.theme.colors.kaggle.blueDark};
    }
  }
`,na=I.a.div`
  height: 0px;
`,ia=I.a.div`
  position: sticky;
  top: 0px;
  z-index: ${e=>e.theme.zindex[100]};
  display: flex;
  margin-bottom: ${e=>e.theme.material.spacing(5)};
`,oa=I()(A.a)`
  margin-right: ${e=>e.theme.size.margin.s};
  color: ${e=>e.theme.colors.text.light};
`;function sa(e){const{search:t,placeholder:a,isLoading:n,filters:i,searchHistory:s,onChange:r}=e,[l,c]=o.useState(!1),[m,d]=o.useState(!1),u=o.useRef(null);o.useEffect(()=>{const e=Object(ea.b)(([e])=>{const t=e.intersectionRatio;d(t<1)},{threshold:1});return u.current&&e.observe(u.current),()=>{e.disconnect()}});const h=n?o.createElement(nt.a,{size:"small"}):o.createElement(oa,{icon:"search",size:"inline"}),p=l&&0===t.length;return o.createElement(o.Fragment,null,o.createElement(na,{ref:u}),o.createElement(ia,null,o.createElement(aa,{isFloating:m,labelWidth:0,notched:!1,value:t,onChange:e=>{(e=>{r(e)})(e.target.value)},placeholder:a,startAdornment:h,endAdornment:i,onFocus:()=>c(!0),onBlur:()=>c(!1)}),p&&s))}const ra=new Map([["csv",{value:"csv",label:"CSV"}],["json",{value:"json",label:"JSON"}],["sqlite",{value:"sqlite",label:"SQLite"}],["bigQuery",{value:"bigQuery",label:"BigQuery"}]]),la=new Map([["cc",{value:"cc",label:"Creative Commons"}],["gpl",{value:"gpl",label:"GPL"}],["odb",{value:"odb",label:"Open Database"}],["other",{value:"other",label:"Other"}]]);var ca=a(1604),ma=a(1626);const da=I.a.div`
  display: flex;
  justify-content: flex-end;
`,ua=I()(D.a)`
  margin-right: ${e=>e.theme.size.margin.m};
`,ha=I()(D.a)``;function pa(e){const{onClearFilters:t,onSetFilters:a}=e;return o.createElement(da,null,o.createElement(ua,{useKM:!0,onClick:t,emphasis:"medium"},"Clear"),o.createElement(ha,{useKM:!0,disabled:!a,onClick:a,"data-test":"submit-input"},"Done"))}var ga=a(1425);const ba=I()(e=>o.createElement(ga.a,Object.assign({},e,{classNamePrefix:"select"})))`
  & .select__indicator-separator {
    display: none;
  }

  & .select__single-value {
    ${e=>e.theme.font.main.weight.normal};
  }

  & .select__control {
    cursor: pointer;
  }

  && .select__control--is-focused {
    border-color: ${e=>e.theme.material.color.brand.blue[800]};
  }

  & .select__option {
    cursor: pointer;
    ${e=>e.theme.font.main.weight.normal};
  }

  & .select__option--is-focused {
    background-color: ${e=>e.theme.material.color.brand.blue[100]};
  }

  & .select__option--is-selected {
    background-color: ${e=>e.theme.material.color.brand.blue[800]};
  }
`,fa=I.a.div`
  margin-bottom: ${e=>e.theme.size.margin.m};
`,va=I.a.label`
  ${e=>e.theme.font.main.weight.normal};

  display: block;
  margin-bottom: ${e=>e.theme.size.margin.m};
`,ya=I.a.p`
  color: ${({theme:e})=>e.colors.text.medium};
  margin-bottom: ${({theme:e})=>e.size.pad.m};
`,xa=I.a.a`
  text-decoration: none;
  color: ${({theme:e})=>e.colors.text.link};

  &:hover {
    color: ${({theme:e})=>e.colors.kaggle.blueInteract};
  }
`,Ea=I.a.span`
  ${e=>e.theme.font.main.weight.light};
  ${e=>e.theme.font.main.size.m};
`,Ca=I.a.div`
  display: grid;
  grid-row-gap: ${e=>e.theme.size.pad.s};
  ${e=>(e=>e?'\n      grid-template-columns: repeat(5, 1fr);\n      grid-template-areas:\n        "start-value start-value start-unit start-unit to"\n        "end-value end-value end-unit end-unit .";\n  ':'\n    grid-template-columns: repeat(5, auto);\n    grid-template-areas:\n      "start-value start-unit to end-value end-unit";\n  ')(e.isCompact)};

  margin-bottom: ${e=>e.theme.size.margin.m};
`,$a=I()(z.Input)`
  height: auto;
  margin-right: ${e=>e.theme.size.margin.m};
  padding-left: ${e=>e.theme.size.pad.m};
  border-color: ${e=>e.hasError&&e.theme.material.color.status.error[500]};
`,ka=I()($a)`
  grid-area: start-value;
  width: 136px;
`,wa=I()($a)`
  grid-area: end-value;
  width: 136px;
`,Sa=I()(ba)`
  & .select__control {
    min-width: 70px;
    border-color: ${e=>e.hasError&&e.theme.material.color.status.error[500]};
  }
`,za=I()(Sa)`
  grid-area: start-unit;
  width: fit-content;
`,Ta=I()(Sa)`
  grid-area: end-unit;
`,Ia=I.a.span`
  grid-area: to;
  display: flex;
  align-items: center;
  margin: 0 ${e=>e.theme.size.margin.m};
  color: ${e=>e.theme.colors.text.medium};
`,Oa=I()(N.e.withComponent("p"))`
  font-style: italic;
  color: ${e=>e.theme.material.color.status.error[500]};
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`;function Fa(e){const{isCompact:t,size:a,sizeOptions:n,errorMessage:i,onSizeValueChange:s,onSizeUnitChange:r,onMenuOpen:l,onMenuClose:c}=e,m=a.start||{unit:"MB"},d=a.end||{unit:"MB"},u=n.find(e=>e.label===m.unit),h=n.find(e=>e.label===d.unit);return o.createElement(o.Fragment,null,o.createElement(va,null,"Size"),o.createElement(Ca,{isCompact:t},o.createElement(ka,{type:"text",value:"number"==typeof m.value?m.value.toString():"",onChange:s("start"),disabled:!1,scale:1,tight:!0,variant:"primary",hideBorder:!1,hasError:!!i,"data-test":"size-start-value"}),o.createElement(za,{value:u,options:n,onChange:r("start"),getOptionValue:e=>e.label,getOptionLabel:e=>e.label,isSearchable:!1,onMenuOpen:l,onMenuClose:c,hasError:!!i,"data-test":"size-start-unit"}),o.createElement(Ia,null,"to"),o.createElement(wa,{type:"text",value:"number"==typeof d.value?d.value.toString():"",onChange:s("end"),disabled:!1,scale:1,tight:!0,variant:"primary",hideBorder:!1,hasError:!!i,"data-test":"size-end-value"}),o.createElement(Ta,{value:h,options:n,onChange:r("end"),getOptionValue:e=>e.label,getOptionLabel:e=>e.label,isSearchable:!1,onMenuOpen:l,onMenuClose:c,hasError:!!i,"data-test":"size-end-unit"})),i&&o.createElement(Oa,{"data-test":"size-error-message"},i))}var Da=a(1464);const ja=I()(A.a)`
  margin-right: ${e=>e.theme.size.pad.m};
  color: ${e=>e.theme.colors.text.light};
`;function Ma(){return o.createElement(ja,{icon:"search",size:"inline"})}const Na=I.a.div`
  display: flex;

  user-select: none;
  margin-right: ${e=>e.theme.size.margin.s};
  padding: ${e=>e.theme.size.pad.s} ${e=>e.theme.size.pad.m};

  border: 1px solid ${e=>e.theme.colors.kaggle.blueSuperLight};
  border-radius: ${e=>e.theme.size.border.radius.radioBubble};
  background-color: ${e=>e.theme.colors.kaggle.blueSuperLight};
`,Ra=I.a.div`
  ${e=>e.theme.font.main.weight.normal};
  white-space: nowrap;
  color: ${e=>e.theme.colors.kaggle.blueDark};
`,La=I()(z.Button)`
  padding: 0;
  color: ${e=>e.theme.colors.kaggle.blueDark};

  &:hover {
    color: ${e=>e.theme.colors.kaggle.red};
    cursor: pointer;
  }
`;function _a(e){const{label:t,onRemove:a,className:n}=e;return o.createElement(Na,{className:n},o.createElement(Ra,null,t),o.createElement(La,{tight:!0,variant:"invisible",onClick:a,onMouseDown:e=>e.stopPropagation()},o.createElement(A.a,{icon:"close",size:"inline"})))}const Va=I()(_a)`
  margin-top: ${e=>e.theme.size.pad.xs};
  margin-bottom: ${e=>e.theme.size.pad.xs};
`;function Ua(e){const{data:t,getValue:a,setValue:n}=e,{label:i,id:s}=t,r=a();return o.createElement(Va,{label:i,onRemove:()=>n(r.filter(e=>e.id!==s),"deselect-option")})}const qa=I.a.div`
  margin-bottom: ${e=>e.theme.size.margin.m};
`,Ba=I.a.label`
  ${e=>e.theme.font.main.weight.normal};

  display: block;
  margin-bottom: ${e=>e.theme.size.margin.m};
`,Pa=I()(e=>o.createElement(Da.a,Object.assign({},e,{classNamePrefix:"select"})))`
  & .select__indicator-separator {
    display: none;
  }

  & .select__control {
    cursor: pointer;
    height: 42px;
  }

  && .select__control--is-focused {
    border-color: ${e=>e.theme.material.color.brand.blue[800]};
  }

  & .select__option {
    cursor: pointer;
    /* ${e=>e.theme.font.main.weight.normal}; */
  }

  & .select__option--is-focused {
    background-color: ${e=>e.theme.material.color.brand.blue[100]};
  }

  & .select__option--is-selected {
    background-color: ${e=>e.theme.material.color.brand.blue[800]};
  }
`;function Ha(e){const{tags:t,onChange:a,loadTagOptions:n,onMenuOpen:i,onMenuClose:s}=e;return o.createElement(qa,null,o.createElement(Ba,null,"Tags"),o.createElement(Pa,{isMulti:!0,isClearable:!1,defaultOptions:!0,value:t,getOptionValue:e=>e.id.toString(),loadOptions:n,onChange:a,components:{MultiValue:Ua,DropdownIndicator:Ma},"data-test":"tags-input",onMenuOpen:i,onMenuClose:s}))}const Aa=I.a.span``,Qa=I()(ca.a)`
  && {
    font-size: 12px;
    z-index: ${e=>e.theme.zindex[1e3]};
    padding: ${e=>e.theme.material.spacing(5)};
  }
`,Ka=o.forwardRef((e,t)=>{const{isOpen:a,filters:n,options:i,sizeFilterError:s,onSizeValueChange:r,onSizeUnitChange:l,onFileTypeChange:c,onLicenseChange:m,onTagsChange:d,onHasTasksChange:u,loadTagOptions:h,onSetFilters:p,onClearFilters:g,onDropdownMenuClose:b,onDropdownMenuOpen:f}=e,{size:v,license:y,fileType:x}=i,{size:E,tags:C,license:$,fileType:k,hasTasks:w}=n;return o.createElement(Aa,{ref:t},o.createElement(Qa,{open:a},o.createElement(Fa,{isCompact:!0,size:E,sizeOptions:v,errorMessage:s,onSizeUnitChange:l,onSizeValueChange:r,onMenuOpen:f,onMenuClose:b}),o.createElement(fa,null,o.createElement(va,null,"File types"),o.createElement(z.RadioBubble,{group:"file-sizes-group",value:"all"!==k?k:void 0,options:x,onChange:c,"data-test":"file-type-input"})),o.createElement(fa,null,o.createElement(va,null,"Licenses"),o.createElement(ya,null,"This is not legal advice - do your homework before use."," ",o.createElement(xa,{href:"/page/license-disclaimer",title:"Licenses documentation"},"Learn more")),o.createElement(z.RadioBubble,{group:"licenses-group",value:"all"!==$?$:void 0,options:y,onChange:m,"data-test":"license-input"})),o.createElement(fa,null,o.createElement(va,null,"Tasks"),o.createElement(ma.a,{checked:w,title:"",onChange:e=>u(e.currentTarget.checked)},o.createElement(Ea,null,"Only Datasets with Tasks"))),o.createElement(Ha,{tags:C,onChange:d,loadTagOptions:h,onMenuOpen:f,onMenuClose:b}),o.createElement(pa,{onSetFilters:p?()=>p(n):void 0,onClearFilters:g})))}),Ga=I.a.div`
  width: 532px;
  padding: ${e=>e.theme.size.pad.l};
  border: 1px solid ${e=>e.theme.colors.border};
  border-radius: ${e=>e.theme.size.border.radius.modal};
  box-shadow: ${e=>e.theme.shadow.modal};
  background-color: ${e=>e.theme.colors.pure.white};

  .mdc-menu-surface--open & {
    overflow: visible;
  }
`,Ya=o.forwardRef((e,t)=>{const{filters:a,options:n,sizeFilterError:i,onSizeValueChange:s,onSizeUnitChange:r,onFileTypeChange:l,onLicenseChange:c,onTagsChange:m,onHasTasksChange:d,loadTagOptions:u,onSetFilters:h,onClearFilters:p}=e,{size:g,license:b,fileType:f}=n,{size:v,tags:y,license:x,fileType:E,hasTasks:C}=a;return o.createElement(Ga,{ref:t},o.createElement(Fa,{isCompact:!1,size:v,sizeOptions:g,errorMessage:i,onSizeUnitChange:r,onSizeValueChange:s}),o.createElement(fa,null,o.createElement(va,null,"File types"),o.createElement(z.RadioBubble,{group:"file-sizes-group",value:"all"!==E?E:void 0,options:f,onChange:l,"data-test":"file-type-input"})),o.createElement(fa,null,o.createElement(va,null,"Licenses"),o.createElement(ya,null,"This is not legal advice - do your homework before use."," ",o.createElement(xa,{href:"/page/license-disclaimer",title:"Licenses documentation"},"Learn more")),o.createElement(z.RadioBubble,{group:"licenses-group",value:"all"!==x?x:void 0,options:b,onChange:c,"data-test":"license-input"})),o.createElement(fa,null,o.createElement(va,null,"Tasks"),o.createElement(ma.a,{checked:C,title:"",onChange:e=>d(e.currentTarget.checked)},o.createElement(Ea,null,"Only Datasets with Tasks"))),o.createElement(Ha,{tags:y,onChange:m,loadTagOptions:u}),o.createElement(pa,{onSetFilters:h?()=>h(a):void 0,onClearFilters:p}))}),Wa=Number.parseInt(T.defaultTheme.size.breakpoint.screen.tablet.max.replace("px",""),10),Ja=I()(Jt.a)`
  overflow: visible !important;
`;class Xa extends o.Component{constructor(){super(...arguments),this.modalRef=o.createRef(),this.drawerRef=o.createRef(),this.state=this.props.defaultFilters,this.renderContents=(e,t)=>{const{isOpen:a,setIsOpen:n,onSetFilters:i,onClearFilters:s}=this.props,r={filters:this.state,options:{size:Za,fileType:en,license:tn},sizeFilterError:this.isValidSizeRange()?void 0:"Invalid file size range entered",onSetFilters:this.isValidSizeRange()?i:void 0,onClearFilters:s,onSizeValueChange:this.onSizeValueChange,onSizeUnitChange:this.onSizeUnitChange,onFileTypeChange:this.onFileTypeChange,onLicenseChange:this.onLicenseChange,loadTagOptions:this.loadTags(e),onTagsChange:this.onTagsChange,onHasTasksChange:this.onHasTasksChange};return"drawer"===t?Xt.createPortal(o.createElement(Ka,Object.assign({isOpen:a,ref:this.drawerRef},r)),document.body):o.createElement(tt.a,null,o.createElement(Ja,{open:a,onClose:()=>n(!1)},o.createElement(Ya,Object.assign({ref:this.modalRef},r))))},this.isValidSizeRange=()=>{const{size:e}=this.state,t=f(e.start),a=f(e.end),n=null===t||t>=0&&t<=Number.MAX_SAFE_INTEGER,i=null===a||a>=0&&a<=Number.MAX_SAFE_INTEGER;return"number"==typeof t&&"number"==typeof a?n&&i&&t<a:n&&i},this.onSizeValueChange=e=>t=>{const a=t.currentTarget.value;if(!/^\d*$/.exec(a))return;const n=a.length>0?Number.parseInt(a,10):void 0;void 0!==n&&n>Number.MAX_SAFE_INTEGER||this.setState(t=>{const{size:a}=t,i=a[e];return{size:Object.assign(Object.assign({},a),{[e]:{value:n,unit:i?i.unit:"MB"}})}})},this.onSizeUnitChange=e=>t=>{this.setState(a=>{const{size:n}=a,i=n[e],o=i?i.value:void 0;return{size:Object.assign(Object.assign({},n),{[e]:{value:o,unit:t.label}})}})},this.onFileTypeChange=e=>{this.setState(t=>({fileType:e===t.fileType?"all":e}))},this.onLicenseChange=e=>{this.setState(t=>({license:e===t.license?"all":e}))},this.onHasTasksChange=e=>{this.setState(t=>({hasTasks:e}))},this.loadTags=e=>t=>Object(n.__awaiter)(this,void 0,void 0,(function*(){const a=null==t?{searchType:"dataset",searchQuery:t,showSystemTags:!1,skip:0,take:100}:{searchType:"dataset",searchQuery:null,showSystemTags:!1,skip:0,take:10},n=yield e.clients.tagsClient.searchTags(a);return n.tags?n.tags.map(e=>({id:e.id,label:e.displayName})):[]})),this.onTagsChange=e=>{this.setState({tags:e})}}componentDidUpdate(e){const{defaultFilters:t}=this.props;e.defaultFilters!==t&&this.setState(t)}render(){return o.createElement(Zt.a,Object.assign({handleWidth:!0},{querySelector:"body"}),({width:e})=>o.createElement(i.ClientsContext.Consumer,null,t=>this.renderContents(t,e>Wa?"modal":"drawer")))}}const Za=[{label:"KB"},{label:"MB"},{label:"GB"}],en=Array.from(ra.values()),tn=Array.from(la.values()),an=e=>{const{defaultFilters:t,className:a,onClearFilters:n,onSetFilters:i}=e,[s,r]=o.useState(!1);return o.createElement(o.Fragment,null,o.createElement(Xa,{isOpen:s,setIsOpen:r,defaultFilters:t,onSetFilters:e=>{i(e)},onClearFilters:()=>{n()},onCloseRequest:()=>r(!1)}),o.createElement(D.a,{useKM:!0,emphasis:"medium",leadingIcon:"filter",onClick:()=>r(!s),"data-test":"open-filters-modal-button",className:a},"Filter"))};var nn=a(75),on=a(1568);const sn=e=>{const{graphic:t,onClick:a,secondaryText:n,text:i}=e;return o.createElement(on.a,{graphic:t,primaryText:i,secondaryText:n,onClick:a})},rn=I()(N.t)`
  padding: ${e=>`${e.theme.material.spacing(2)} ${e.theme.material.spacing(4)}`};
`,ln=I.a.div`
  background-color: ${e=>e.theme.colors.pure.white};
  border: 1px solid ${e=>e.theme.colors.border};
  border-radius: ${e=>e.theme.size.border.radius.dropdownMenu};
  box-shadow: ${e=>e.theme.material.elevation[2]};
  margin-top: ${e=>e.theme.material.spacing(11)};
  position: absolute;
  width: fill-available;
  z-index: ${e=>e.theme.zindex[100]};

  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: none;
  }
`,cn=I()(nn.a)`
  margin-bottom: ${e=>e.theme.material.spacing(3)};
`;function mn(e){const{recentQueries:t,recentlyViewedItems:a,onQuerySelected:n,onTrackClicked:i}=e;return o.createElement(ln,null,t.length>0&&o.createElement(cn,null,o.createElement(rn,null,"Recent queries"),t.map((e,t)=>o.createElement(sn,{graphic:"history",key:e,text:e,onClick:()=>{i(e,t),n(e)}}))),a.length>0&&o.createElement(cn,{variant:"two-line"},o.createElement(rn,null,"Recently viewed datasets"),a.map((e,t)=>o.createElement(sn,{key:e.datasetId,graphic:e.thumbnailImageUrl,text:e.title,secondaryText:e.overview,onClick:()=>{i(e,t),window.location.href=e.datasetUrl}}))))}const dn=I.a.div`
  display: flex;

  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: none;
  }
`;function un(e){const{filters:t,onSetFilters:a}=e,{size:n,fileType:i,license:s,tags:r,maintainer:l}=t,{start:c,end:m}=n,d=c&&"number"==typeof c.value,u=m&&"number"==typeof m.value,h=d&&u?`${hn(c)} - ${hn(m)}`:d?`> ${hn(c)}`:u?`< ${hn(m)}`:void 0;return o.createElement(dn,null,h&&o.createElement(_a,{label:h,onRemove:()=>a(Object.assign(Object.assign({},t),{size:{}}))}),"all"!==i&&o.createElement(_a,{label:ra.has(i)?ra.get(i).label:i,onRemove:()=>a(Object.assign(Object.assign({},t),{fileType:"all"}))}),"all"!==s&&o.createElement(_a,{label:la.has(s)?la.get(s).label:s,onRemove:()=>a(Object.assign(Object.assign({},t),{license:"all"}))}),r.length>0&&o.createElement(_a,{label:1===r.length?r[0].label:`${r.length} ${H("Tag",r.length)}`,onRemove:()=>a(Object.assign(Object.assign({},t),{tags:[]}))}),l&&o.createElement(_a,{label:l.name,onRemove:()=>a(Object.assign(Object.assign({},t),{maintainer:void 0}))}))}const hn=e=>{if(e&&"number"==typeof e.value)return`${e.value} ${e.unit}`};var pn=a(1675);const gn=I.a.div`
  display: flex;
  justify-content: ${e=>e.hasTabs?"space-between":"flex-end"};
  align-items: center;
  height: 50px;

  border-bottom: 1px solid ${e=>e.theme.colors.content.borderLight};
  background-color: ${e=>e.theme.colors.pure.white};
`,bn=I.a.div`
  display: flex;
  align-items: center;
  white-space: nowrap;
`,fn=I.a.label`
  color: ${e=>e.theme.colors.text.medium};
  margin-right: ${e=>e.theme.size.pad.s};

  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.tablet.max}) {
    display: none;
  }
`,vn=I()(ba)`
  & .select__control {
    cursor: pointer;
    min-width: 100px;
    border: none;
  }
`,yn=o.memo(e=>{const{tabs:t,onTabChange:a,selectedSort:n,onSortChange:i}=e;return o.createElement(gn,{hasTabs:!!t.length},o.createElement(pn.a,{tabs:t.map(e=>xn.get(e)),onSelectItem:e=>a([...xn.keys()][e])}),o.createElement(bn,null,o.createElement(fn,null,"Sort by:"),o.createElement(vn,{isSearchable:!1,value:En.find(e=>e.value===n),options:En,onChange:e=>e&&i(e.value)})))}),xn=new Map([["public","Public"],["my","Your Datasets"],["upvoted","Favorites"],["userSharedWithMe","Shared With You"]]),En=[{label:"Hottest",value:"hottest"},{label:"Most Votes",value:"votes"},{label:"New",value:"published"},{label:"Updated",value:"updated"},{label:"Usability",value:"usability"}];var Cn=a(1841);const $n=I.a.div`
  margin-bottom: ${e=>e.theme.material.spacing(2)};
`,kn=I()(N.e)`
  color: ${e=>e.theme.material.color.text[70]};
`,wn=I()(Cn.a)`
  &:first-child {
    border-top: none;
  }
`;function Sn({items:e}){const{analyticsClient:t}=o.useContext(i.ClientsContext).legacyClients,a=()=>{};return o.createElement($n,null,o.createElement(Bt.a,{header:o.createElement(kn,null,"Related Tasks")},o.createElement("ol",null,e.map(e=>o.createElement(wn,{key:e.id,item:Object.assign(Object.assign({},e),{voteButton:Object.assign(Object.assign({},e.voteButton),{isDisabled:!0})}),onSelect:()=>{t.logger.report("datasets","task-teaser-item-select",{taskId:e.id}),window.location.href=`${e.datasetInfo.datasetSlug}/tasks?taskId=${e.id}`},onVote:a})))))}const zn=I.a.div`
  display: flex;
  flex-direction: column;

  /* HACK: base styles in @kaggle/web-old do NOT match @kaggle/web */
  font-size: 12px;
`,Tn=I()(M)`
  margin-right: 8px;

  @media screen and (max-width: ${e=>e.theme.size.breakpoint.screen.mobile.max}) {
    display: none;
  }
`;function In(e){const{query:t,list:a,filters:i,tabs:s,recentQueries:r,recentlyViewedItems:l,className:c,onNavigateToItem:m,onTrackSearchHistoryClicked:d,onLoadMoreDatasets:u,onVote:h,onSearch:p,onTabChange:g,onSortChange:f,onSetFilters:v,onClearFilters:y,onRetry:x,onMaintainerFilter:E,onStickyHeaderChange:C}=e,{search:$,tab:k,sort:w}=i,S=Object(n.__rest)(i,["search","tab","sort"]),T=a?a.data.competitionItems:[],I=a?a.data.taskItems:[],O=a&&null!==a.data.totalResults&&a.data.totalResults||0,F=$&&"public"===k?On($):void 0;return o.createElement(zn,{className:c},o.createElement(sa,{placeholder:`Search ${"loading"!==t.type&&O>20?`${Object(z.numberWithCommas)(O)} datasets`:"datasets"}`,isLoading:"loading"===t.type,search:$,onChange:p,onStickyChange:C,filters:o.createElement(o.Fragment,null,o.createElement(un,{filters:S,onSetFilters:v}),b(S)||o.createElement(Tn,{type:"header"}),o.createElement(an,{defaultFilters:S,onSetFilters:v,onClearFilters:y})),searchHistory:(r.length>0||l.length>0)&&o.createElement(mn,{recentQueries:r,recentlyViewedItems:l,onQuerySelected:p,onTrackClicked:d})}),I.length>0&&"loading"!==t.type&&"error"!==t.type&&o.createElement(Sn,{items:I}),T.length>0&&0===I.length&&"loading"!==t.type&&"error"!==t.type&&o.createElement(Wt,{items:T}),o.createElement(yn,{tabs:s,selectedTab:k,selectedSort:w,onSortChange:f,onTabChange:g}),o.createElement(qt,{query:t,list:a,googleDatasetsHref:F,onNavigateToItem:m,onLoadMoreDatasets:u,onVote:h,onRetry:x,onMaintainerFilter:E}))}const On=e=>{const t=e.replace(/tag:('?)(\w+)('?)/,"$2").trim();return`https://toolbox.google.com/datasetsearch/search?query=${encodeURIComponent(t)}%20-site%3Akaggle.com`};a.d(t,"a",(function(){return Fn}));class Fn extends o.Component{constructor(){super(...arguments),this.searchLogger=new d("datasets"),this.navigatingToItem=!1,this.state={query:{type:"loading"},filters:Object.assign(Object.assign({},k(this.props.tabs[0])),{userId:this.props.scopeToUserId,competitionId:this.props.competitionId}),isHeaderSticky:!1,hasTouchedSort:$(this.props.tabs[0]),recentQueries:[],recentlyViewedItems:[],topicalDataset:null},this.onTrackSearchHistoryClicked=(e,t)=>{const{analyticsClient:a}=this.props.bothClients.legacyClients;if("string"==typeof e)a.logger.report("datasets","search-history-query-click",{val:e,rank:t});else{const{datasetId:n}=e;a.logger.report("datasets","search-history-item-navigate",{datasetId:n,rank:t})}},this.onNavigateToItem=e=>{const{datasetId:t,isPrivate:a,rank:n,datasetUrl:o}=e,{analyticsClient:s}=this.props.bothClients.legacyClients,{filters:r,topicalDataset:l}=this.state;if(s.logger.report("datasets","list-item-navigate",{datasetId:t,filters:r,rank:n,topicalDataset:l,topicalDatasetEnabled:i.featureFlags.datasetsPrependTopicalDatasetsInPublicList}),void 0!==r){const e=r.search;this.searchLogger.logSearchResultClicked({id:"dataset-"+t,isPrivate:a,query:e,rank:n,url:o}),this.navigatingToItem=!0}},this.onLoadMoreDatasets=e=>{const{analyticsClient:t}=this.props.bothClients.legacyClients,{query:a,filters:n}=this.state;"loading"===a.type||"loading-more"===a.type||"error"===a.type||(this.setState({query:{type:"loading-more"}}),this.search({onThen:a=>{t.logger.report("datasets","list-load-more-success",{filters:n,pageNumber:e}),this.setState(e=>{var t,n;return{query:{type:"success"},list:{data:{datasetItems:[...e.list?e.list.data.datasetItems:[],...v((null===(t=a.datasetList)||void 0===t?void 0:t.items)||[])],totalResults:(null===(n=a.datasetList)||void 0===n?void 0:n.totalResults)||null,hasMoreSearchDatasets:a.hasMore,competitionItems:e.list?e.list.data.competitionItems:[],taskItems:e.list?e.list.data.taskItems:[]},topicalDataset:a.topicalDataset}}})},onCatch:a=>{t.logger.report("datasets","list-load-more-fail",{filters:n,pageNumber:e,err:a&&a.message?a.message:a}),this.setState({query:{type:"error-load-more",message:"Failed to load additional results",page:e}})}},e))},this.onSearch=e=>{this.setState(t=>({filters:Object.assign(Object.assign({},t.filters),{search:e}),query:"loading"===t.query.type?t.query:{type:"loading"}}),this.searchApi)},this.onTabChange=e=>{const{analyticsClient:t}=this.props.bothClients.legacyClients;t.logger.report("datasets","list-tab-change",{tab:e}),this.setState(t=>{const a=t.hasTouchedSort?t.filters.sort:g(e);return{filters:Object.assign(Object.assign({},t.filters),{tab:e,sort:a}),query:{type:"loading"}}},this.searchApi)},this.onSortChange=e=>{const{analyticsClient:t}=this.props.bothClients.legacyClients;t.logger.report("datasets","list-sort-change",{sort:e}),this.setState(t=>({filters:Object.assign(Object.assign({},t.filters),{sort:e}),query:{type:"loading"},hasTouchedSort:!0}),this.searchApi)},this.onMaintainerFilter=e=>{const{filters:t}=this.state;this.onSetFilters(Object.assign(Object.assign({},t),{maintainer:e}))},this.onSetFilters=e=>{this.resetScroll();const{analyticsClient:t}=this.props.bothClients.legacyClients;t.logger.report("datasets","list-set-filters",{modalFilters:e}),this.setState(t=>({filters:Object.assign(Object.assign({},t.filters),e),query:{type:"loading"}}),this.searchApi)},this.onClearFilters=()=>{this.resetScroll();const{analyticsClient:e}=this.props.bothClients.legacyClients;e.logger.report("datasets","list-clear-filters"),this.setState(e=>({filters:Object.assign(Object.assign({},e.filters),h),query:{type:"loading"}}),this.searchApi)},this.onRetry=e=>{const{query:t}=this.state;"filter"===e?this.setState({query:{type:"loading"}},this.searchApi):"error-load-more"===t.type&&this.onLoadMoreDatasets(t.page)},this.searchApi=Object(s.a)(1e3,()=>Object(n.__awaiter)(this,void 0,void 0,(function*(){const{bothClients:e,tabs:t}=this.props,{analyticsClient:a}=e.legacyClients,{filters:n}=this.state;w(n,t[0]),this.search({onThen:(e,t,i)=>{var o,s;this.resetScroll();const r=v((null===(o=e.datasetList)||void 0===o?void 0:o.items)||[]);a.logger.report("datasets","list-search-api-success",{filters:n}),this.searchLogger.startSearchTimer(),this.setState({query:{type:"success"},list:{data:{datasetItems:r,hasMoreSearchDatasets:e.hasMore,totalResults:(null===(s=e.datasetList)||void 0===s?void 0:s.totalResults)||null,competitionItems:t,taskItems:i}}})},onCatch:e=>{a.logger.report("datasets","list-search-api-fail",{filters:n,err:e&&e.message?e.message:e}),this.setState({query:{type:"error",message:"Loading items failed"}})}})}))),this.onVote=e=>Object(n.__awaiter)(this,void 0,void 0,(function*(){const{list:t}=this.state;if(t){const a=t.data.datasetItems.find(t=>t.datasetId===e);a&&this.attemptToUpdateVoteForItem(t,a)}})),this.attemptToUpdateVoteForItem=(e,t)=>Object(n.__awaiter)(this,void 0,void 0,(function*(){const{analyticsClient:a}=this.props.bothClients.legacyClients;this.toggleVoteButtonForItem({list:e,itemToUpdate:t,isDisabled:!0});const{voteUpUrl:n,state:i,totalVotes:o}=t.voteButton;try{const{datasetsClient:s}=this.props.bothClients.legacyClients;if(!1===(yield s.vote({url:n,prevState:i})).ok)return a.logger.report("datasets","list-vote-fail",{datasetId:t.datasetId,error:"response ok status was false"}),void this.toggleVoteButtonForItem({list:e,itemToUpdate:t,isDisabled:!1});const r="voted-up"===i?"no-vote":"voted-up",l="voted-up"===r?o+1:o-1;a.logger.report("datasets","list-vote-success",{newState:r,newVoteCount:l,datasetId:t.datasetId}),this.setState({list:{data:{hasMoreSearchDatasets:e.data.hasMoreSearchDatasets,totalResults:e.data.totalResults,competitionItems:e.data.competitionItems,taskItems:e.data.taskItems,datasetItems:e.data.datasetItems.map(e=>e===t?Object.assign(Object.assign({},e),{voteButton:{state:r,totalVotes:l,isDisabled:!1,voteUpUrl:n}}):e)}}})}catch(n){a.logger.report("datasets","list-vote-fail",{datasetId:t.datasetId,error:n.message?n.message:n}),this.toggleVoteButtonForItem({list:e,itemToUpdate:t,isDisabled:!1})}})),this.toggleVoteButtonForItem=e=>{const{list:t,itemToUpdate:a,isDisabled:n}=e;this.setState({list:{data:{hasMoreSearchDatasets:t.data.hasMoreSearchDatasets,totalResults:t.data.totalResults,competitionItems:t.data.competitionItems,taskItems:t.data.taskItems,datasetItems:t.data.datasetItems.map(e=>e===a?Object.assign(Object.assign({},e),{voteButton:Object.assign(Object.assign({},e.voteButton),{isDisabled:n})}):e)}}})},this.search=({onThen:e,onCatch:t},a=1)=>Object(n.__awaiter)(this,void 0,void 0,(function*(){const{datasetsClient:n,competitionsClient:i}=this.props.bothClients.clients,{filters:o,topicalDataset:s}=this.state,r=1!==a,l=r||""===o.search||"public"!==o.tab?Promise.resolve({competitions:[],userTeams:[],nextPageToken:""}):i.competitionService.listCompetitions({selector:{searchQuery:o.search,competitionIds:[],listOption:0,sortOption:0,hostSegmentIdFilter:0},pageSize:3,pageToken:""}),c=r||""===o.search||"public"!==o.tab?Promise.resolve({tasks:[]}):n.searchTasks({query:o.search,includeWithAcceptedSubmission:!1,includeClosed:!1,includeOwnTasks:!0,maxResults:1}),m=n.searchDatasets(y(o,a,s)),d=this.lastSearchRequest=Promise.all([m,l,c]);try{const t=yield this.lastSearchRequest,[a,n,i]=t;this.lastSearchRequest===d&&e(a,n.competitions,i.tasks)}catch(e){this.lastSearchRequest===d&&t(e)}})),this.getRecentQueries=()=>Object(n.__awaiter)(this,void 0,void 0,(function*(){const{analyticsClient:e}=this.props.bothClients.legacyClients,{searchClient:t}=this.props.bothClients.clients,a=t.getRecentSearches({userId:null,specificSearchIndices:["global","datasets"]});try{const t=yield a,n=t?t.map(e=>{const t=new r.a(e);return t.convertFiltersToUiFilters(),t.toInputString()}).filter(e=>e.length>0):[],i=n.filter((e,t)=>n.indexOf(e)===t);this.setState({recentQueries:i}),e.logger.report("datasets","list-load-recent-queries-success")}catch(t){e.logger.report("datasets","list-load-recent-queries-fail",{err:t&&t.message?t.message:t})}})),this.getRecentlyViewedDatasets=()=>Object(n.__awaiter)(this,void 0,void 0,(function*(){const{datasetsClient:e}=this.props.bothClients.clients,{analyticsClient:t}=this.props.bothClients.legacyClients,a=e.getRecentlyViewedDatasets({userId:null});try{const e=yield a;this.setState({recentlyViewedItems:v(e?e.items:[])}),t.logger.report("datasets","list-load-recently-viewed-datasets-success")}catch(e){t.logger.report("datasets","list-load-recently-viewed-datasets-fail",{err:e&&e.message?e.message:e})}})),this.onStickyHeaderChange=e=>{this.setState({isHeaderSticky:e})},this.resetScroll=()=>{const{isHeaderSticky:e}=this.state;e&&window.scrollTo(0,0)}}componentDidMount(){const{analyticsClient:e}=this.props.bothClients.legacyClients,{filters:t}=this.state;this.search({onThen:(a,n,o)=>{var s,r;e.logger.report("datasets","list-load-mount-success",{filters:t,topicalDataset:a.topicalDataset,topicalDatasetEnabled:i.featureFlags.datasetsPrependTopicalDatasetsInPublicList}),this.searchLogger.startSearchTimer(),this.setState({query:{type:"success"},list:{data:{datasetItems:v((null===(s=a.datasetList)||void 0===s?void 0:s.items)||[]),hasMoreSearchDatasets:a.hasMore,totalResults:(null===(r=a.datasetList)||void 0===r?void 0:r.totalResults)||null,competitionItems:n,taskItems:o}},topicalDataset:a.topicalDataset})},onCatch:a=>{e.logger.report("datasets","list-load-mount-fail",{filters:t,err:a&&a.message?a.message:a}),this.setState({query:{type:"error",message:"Loading items failed"}})}}),this.getRecentQueries(),this.getRecentlyViewedDatasets()}componentWillUnmount(){if(!this.navigatingToItem){const{filters:e,topicalDataset:t}=this.state,{analyticsClient:a}=this.props.bothClients.legacyClients;if(void 0!==e){const t=e.search;this.searchLogger.logSearchExited(t)}a.logger.report("datasets","list-exit-no-item-click",{filters:e,topicalDataset:t,topicalDatasetEnabled:i.featureFlags.datasetsPrependTopicalDatasetsInPublicList})}}render(){const{tabs:e,markdownRenderer:t,className:a}=this.props,{query:n,list:i,filters:s,recentlyViewedItems:r,recentQueries:l}=this.state;return o.createElement(u.a.Provider,{value:t},o.createElement(In,{tabs:e,query:n,list:i,filters:s,recentlyViewedItems:r,recentQueries:l,className:a,onNavigateToItem:this.onNavigateToItem,onTrackSearchHistoryClicked:this.onTrackSearchHistoryClicked,onLoadMoreDatasets:this.onLoadMoreDatasets,onVote:this.onVote,onSearch:this.onSearch,onTabChange:this.onTabChange,onSortChange:this.onSortChange,onSetFilters:this.onSetFilters,onClearFilters:this.onClearFilters,onRetry:this.onRetry,onMaintainerFilter:this.onMaintainerFilter,onStickyHeaderChange:this.onStickyHeaderChange}))}}},2004:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(1),i=a.n(n),o=a(579),s=a(0);const r=i.a.div`
  background-color: ${e=>e.theme.colors.pure.white};
  border: 1px solid ${e=>e.theme.colors.border};
  border-radius: ${e=>e.theme.size.border.radius.modal};
  box-sizing: border-box;
  display: flex;
  flex-flow: column nowrap;
  height: auto;
  justify-content: flex-start;
  margin-bottom: ${e=>e.theme.size.pad.l};
  margin-top: ${e=>e.theme.size.pad.l};
  position: relative;
  user-select: none;
  width: 100%;
`,l=i.a.div`
  background-color: #fbfbfb;
  border-bottom: 1px solid
    ${e=>Object(o.rgba)(e.theme.colors.content.border,.5)};
  border-top-left-radius: ${e=>e.theme.size.border.radius.modal};
  border-top-right-radius: ${e=>e.theme.size.border.radius.modal};
  box-sizing: border-box;
  color: ${e=>e.theme.colors.kaggle.gray};
  display: flex;
  flex-flow: row nowrap;
  justify-content: space-between;
  padding: ${e=>e.theme.size.pad.m}
    ${e=>e.theme.size.pad.xl};
`,c=i.a.div`
  background-color: ${e=>e.theme.colors.pure.white};
  border-top: 1px solid ${e=>Object(o.rgba)(e.theme.colors.content.border,.5)};
  border-bottom-left-radius: ${e=>e.theme.size.border.radius.modal};
  border-bottom-right-radius: ${e=>e.theme.size.border.radius.modal};
  box-sizing: border-box;
  color: ${e=>e.theme.colors.kaggle.gray};
  display: flex;
  flex-flow: row nowrap;
  justify-content: center;
  padding: ${e=>e.theme.size.pad.m};
  width: auto;
`,m=e=>{const{children:t,header:a,footer:n,className:i}=e;return s.createElement(r,{className:i},a&&s.createElement(l,null,a),t,n&&s.createElement(c,null,n))}},2010:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(1416),i=a(1),o=a.n(i),s=a(1615),r=a(0);const l=o.a.div`
  display: flex;
  height: 24px;
  width: 88px;
`,c=o()(e=>r.createElement(s.a,Object.assign({classes:{label:"label"}},e)))`
  && {
    padding: 0;
    height: 100%;
    min-width: 50%;
  }

  & .label {
    line-height: 17px;
    text-transform: none;
    color: ${e=>"no-vote"===e.state?e.theme.material.color.text[50]:e.theme.material.color.brand.blue[800]};
    ${e=>e.theme.font.main.size.m};
  }
`,m=o()(c)`
  &&& {
    border-right: none;
    border-top-right-radius: 0px;
    border-bottom-right-radius: 0px;
  }
`,d=o()(c)`
  && {
    border-top-left-radius: 0px;
    border-bottom-left-radius: 0px;
  }

  & .label {
    ${e=>"no-vote"===e.state?e.theme.font.main.weight.light:e.theme.font.main.weight.bold};
  }
`;function u(e){const{state:t,totalVotes:a,onVote:i,className:o}=e;return r.createElement(l,{className:o},r.createElement(m,{variant:"outlined",disabled:!i,onClick:i,state:t,"data-testid":"vote-button-icon"},r.createElement(n.a,{icon:"keyboard_arrow_up"})),r.createElement(d,{variant:"outlined",disabled:!0,state:t},a))}}}]);